<html>
<head>
<title>ActiveMerchantSquare for Square’s e-commerce API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Square电子商务API的ActiveMerchantSquare</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/activemerchantsquare-for-squares-e-commerce-api-111ea63e530a?source=collection_archive---------7-----------------------#2017-06-26">https://medium.com/square-corner-blog/activemerchantsquare-for-squares-e-commerce-api-111ea63e530a?source=collection_archive---------7-----------------------#2017-06-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie"><p id="eb97" class="if ig hh bd ih ii ij ik il im in io dx translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们的新家<a class="ae ip" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">https://developer.squareup.com/blog</a></p></blockquote><p id="9d51" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm io ha bi translated">我们为那些想将Square的<a class="ae ip" href="https://docs.connect.squareup.com/articles/paymentform-overview" rel="noopener ugc nofollow" target="_blank">电子商务API </a>与ActiveMerchant rubygem一起使用的开发者发布了<a class="ae ip" href="https://rubygems.org/gems/active_merchant_square" rel="noopener ugc nofollow" target="_blank">activemerchantssquare</a>。如果你是一个ruby开发者，你可以使用流行的ActiveMerchant gem作为一个公共抽象层(从2006年开始在生产中使用),与许多支付网关协同工作。</p><p id="1ca4" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">ActiveMerchantSquare依赖并增强了ActiveMerchant gem，因此您可以将它与ActiveMerchant的现有用法结合使用。使用支付<a class="ae ip" href="https://docs.connect.squareup.com/articles/adding-payment-form" rel="noopener ugc nofollow" target="_blank">表单</a>中的card_nonce而不是原始卡号来调用标准的ActiveMerchant API方法。Square的电子商务API将您从PCI范围中移除，因为您的服务器永远不会看到原始支付卡号。</p><p id="7e78" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">其他特性(在我们的V1和V2 API中)比如新发布的<a class="ae ip" rel="noopener" href="/square-corner-blog/introducing-the-new-square-catalog-api-3e2ebf254967">目录API </a>只在我们的<a class="ae ip" href="https://github.com/square/connect-ruby-sdk" rel="noopener ugc nofollow" target="_blank"> connect-ruby-sdk </a>中可用。如果你愿意，你可以同时使用这两种宝石。正如我们所有的<a class="ae ip" href="https://docs.connect.squareup.com/articles/client-libraries" rel="noopener ugc nofollow" target="_blank">客户端库</a>一样，我们希望帮助您减少与Square集成所需的开发时间。</p><h1 id="eebb" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">尝试一下</h1><p id="fbe6" class="pw-post-body-paragraph iq ir hh is b it kq iv iw ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm io ha bi translated">您可以通过将ActiveMerchantSquare添加到您的Gemfile来使用它:</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="fdb5" class="le jt hh la b fi lf lg l lh li">gem ‘active_merchant_square’, ‘~&gt; 1.0’</span></pre><p id="c94b" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">这个简单的例子演示了如何在获得一个<a class="ae ip" href="https://docs.connect.squareup.com/articles/processing-payment-rest#chargingcardnonce" rel="noopener ugc nofollow" target="_blank">卡随机数</a>后进行购买。</p><figure class="kv kw kx ky fd lj"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="8c95" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">除了调用purchase，还可以调用这些方法，和在ActiveMerchant中完全一样。(详情见<a class="ae ip" href="http://www.rubydoc.info/gems/active_merchant_square/1.0.0/ActiveMerchant/Billing/SquareGateway" rel="noopener ugc nofollow" target="_blank"> rubydoc </a>)。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="1714" class="le jt hh la b fi lf lg l lh li">      def purchase(money, card_nonce, options={})<br/>      def authorize(money, card_nonce, options={})<br/>      def capture(ignored_money, txn_id, ignored_options={})<br/>      def refund(money, txn_id, options={})<br/>      def void(txn_id, options={})<br/>      def verify(card_nonce, options={})<br/>      def store(card_nonce, options = {})<br/>      def update(customer_id, card_id, options = {})<br/>      def update_customer(customer_id, options = {})<br/>      def unstore(card_id, options = {}, deprecated_options = {})</span></pre><p id="6fe6" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">你可以在这里看看我们的工作示例应用<a class="ae ip" href="https://github.com/square/active_merchant_square/tree/master/examples/sinatra" rel="noopener ugc nofollow" target="_blank">。请告诉我们在将您的应用程序与Square集成时，您使用ActiveMerchantSquare节省开发时间的其他方式。</a></p></div></div>    
</body>
</html>