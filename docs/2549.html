<html>
<head>
<title>Beginner’s Guide about Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Docker的初学者指南</h1>
<blockquote>原文：<a href="https://medium.easyread.co/beginners-guide-about-docker-b18db6951eaa?source=collection_archive---------4-----------------------#2021-01-01">https://medium.easyread.co/beginners-guide-about-docker-b18db6951eaa?source=collection_archive---------4-----------------------#2021-01-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4c68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker没有你想的那么混乱。现在就开始学习Docker吧，否则就太晚了，这里有一个指南给你。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5dca0f9822f7ecaa761e47f694aab933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MKcXpb3haSmNceBA"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@exdigy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dominik Lückmann</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3ec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker是目前非常流行的许多技术之一，可能几乎所有的软件工程师都想了解它。你可以从他们的网站上看到Docker越来越多的使用。</p><div class="lc ld gp gr le lf"><a href="https://www.docker.com/blog/docker-index-dramatic-growth-in-docker-usage-affirms-the-continued-rising-power-of-developers/" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">Docker指数:Docker使用量的大幅增长肯定了开发人员不断上升的实力…</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">开发人员一直是业务创新和转型不可或缺的一部分。随着…的大量增加</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">www.docker.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt kv lf"/></div></div></a></div><p id="4980" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker本身就是一项了不起的技术，解决了我们作为软件工程师的一些问题。在这篇文章中，我将尝试解释关于Docker的最简单的解释和指南。</p><h1 id="323e" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">为什么是Docker？</h1><blockquote class="ms"><p id="5c3c" class="mt mu iq bd mv mw mx my mz na nb kk dk translated">“它在我的机器上工作！”</p></blockquote><p id="801f" class="pw-post-body-paragraph jn jo iq jp b jq nc js jt ju nd jw jx jy ne ka kb kc nf ke kf kg ng ki kj kk ij bi translated">每当您在不同的机器上运行应用程序时，您一定听过这句话很多次。导致该问题出现的可能性有很多，但其中一些是:</p><ul class=""><li id="dfc8" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated">在另一台计算机上安装了不同版本的依赖项。</li><li id="e4ce" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated">忘记了应用程序的“工作”配置。</li><li id="ed4f" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated">忘记在另一台机器上安装某些依赖项。</li></ul><p id="ae4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那就是Docker成为<strong class="jp ir">解</strong>的时候了。</p><blockquote class="ms"><p id="ab57" class="mt mu iq bd mv mw mx my mz na nb kk dk translated">"我们需要时间来为应用程序准备环境."</p></blockquote><p id="babf" class="pw-post-body-paragraph jn jo iq jp b jq nc js jt ju nd jw jx jy ne ka kb kc nf ke kf kg ng ki kj kk ij bi translated">如果您的应用程序需要在多台机器上运行，作为工程师的您将向我们的老板要求时间来准备您的机器以便能够运行该应用程序。当你使用<strong class="jp ir"> Docker </strong>时，这个“时间”可以<strong class="jp ir">减少</strong>或者可以<strong class="jp ir">减少</strong>。</p><blockquote class="ms"><p id="dbf8" class="mt mu iq bd mv mw mx my mz na nb kk dk translated">"我的机器规格不足以模拟虚拟机."</p></blockquote><p id="f46c" class="pw-post-body-paragraph jn jo iq jp b jq nc js jt ju nd jw jx jy ne ka kb kc nf ke kf kg ng ki kj kk ij bi translated">在很多情况下，您会想要在您的机器中模拟另一个操作系统来开发您的应用程序。我们知道，模拟另一个操作系统是一项繁重的任务，并不是所有的机器都能够做到这一点。Docker可以<em class="nv">以某种方式</em> <strong class="jp ir">取代</strong>虚拟机的使用。</p><h1 id="a437" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">Docker是什么？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nw"><img src="../Images/219769bf878073db8121b785b3f1d86b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUOITpaBdlrMP9D__-K5Fw.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Docker logo.</figcaption></figure><p id="5c85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae lb" href="https://github.com/docker/docker" rel="noopener ugc nofollow" target="_blank"> Docker </a>是一个工具，旨在通过使用<strong class="jp ir">容器</strong>来简化应用程序的创建、部署和运行。容器允许我们在一个包中部署任何已经包含所需库和依赖项的应用程序。</p><p id="127c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker在其主机内核机器上运行，但仍然在容器之间隔离，因此最好确保每个应用程序配置、库和依赖项不会影响其他应用程序。</p><h2 id="401f" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">Docker VS虚拟机</h2><p id="29f9" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">你可以说Docker是一个轻量级版本的虚拟机。一个主要原因是Docker没有为每个已经创建的容器创建一个单独的操作系统。Docker仍然在所有运行的容器中使用和共享主机操作系统内核。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oo"><img src="../Images/aae0074ad3f8dd51e6f17fa5eb76bb6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vB1CNf8TnxIklFaJiHeSmw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Difference between Docker and Virtual Machine</figcaption></figure><p id="1b74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从上图中，你可以知道Docker去掉了第一层(客户操作系统内核),它使得Docker容器及其应用程序的内存使用量和启动时间减少。</p><p id="ef24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">即使Docker在内存和性能方面更好，但与虚拟机相比，Docker仍然有自己的缺陷，那就是安全性。当Docker容器中运行的某个应用程序被黑客攻击或有漏洞时，它会影响主机，因为它们仍然共享同一个操作系统内核，即主机。</p><h1 id="98a7" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">什么时候使用Docker？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi op"><img src="../Images/cacdd21799ea79910b625a53ad1198db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fNIZjLZjjYXvNNJl"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4525" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker确实是一个强大的工具，但是你需要知道我们到底什么时候需要使用Docker，这样它不会让我们的开发和部署变得更加高效。</p><h2 id="5c63" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">当您有一个应用程序用于多台机器时</h2><p id="f5ea" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">在多台机器上运行一个应用程序是你可能需要使用Docker的标志之一。如果我们需要在所有需要运行应用程序的机器上重复安装应用程序、安装其依赖项和配置它，将会花费大量时间。</p><p id="690c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用Docker，你只需要在每台机器上安装Docker，编写一个简单的Docker的相关文件，然后你就可以基于你已经编写好的文件运行我们的应用程序。该文件包含您的应用程序及其所需的依赖项。</p><h2 id="472f" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">当您想要测试分布式架构时</h2><p id="b64e" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">当你的公司变大了，你的应用也会变大。一个更大的应用程序最终会让你尝试实现分布式架构，或者俗称为<strong class="jp ir">微服务</strong>架构。</p><p id="2d9a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">配置所有独立的机器在一个微服务架构内工作需要一些时间，Docker可以帮助你减少时间。通过在您的主机上安装Docker，您可以将我们的应用程序部署到多个容器中，作为一台单独的机器。</p><p id="b392" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用Docker，在单台机器内测试微服务架构非常简单有效。Docker的每个容器都将成为一台独立的机器，可以通过Docker自己的网络机制相互交互以及与我们自己的主机OS交互。</p><h1 id="02e7" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">Docker怎么用？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi oq"><img src="../Images/1364ddb07636e3e93d85a8eb9285c768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JxIwuru8JG6_a62v"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@mattwridley?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Matt Ridley</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="7b62" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">写一个文档</h2><p id="4e8e" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">如果你想使用Docker，Dockerfile是主要的配置文件。它包含多种内容，如您的应用程序、应用程序的依赖项，甚至应用程序的操作系统要求。</p><p id="e550" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要创建docker文件，您需要学习一些语法。下面是一个简单的Dockerfile文件，它包含了最常用的语法。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="or os l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Dockerfile example.</figcaption></figure><ul class=""><li id="0583" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated"><strong class="jp ir"> FROM — </strong>这个语法用在我们Dockerfile的开头。它将定义您的应用程序运行所需的基础环境。所提供的Dockerfile需要一个Go环境，所以它使用带有Linux Alpine内核的1.14版本的Golang。</li><li id="5662" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir">运行— </strong>运行命令将根据之前的FROM语法执行您已经使用过的操作系统内核中的某些命令。</li><li id="b95f" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> WORKDIR — </strong> WORKDIR语法将改变Docker容器中的当前工作目录。这就像Linux中的<code class="fe ot ou ov ow b">cd</code>导航到目标目录。</li><li id="ee51" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir">复制&lt;主机目标位置&gt; &lt;容器目标位置&gt; — </strong>复制语法将数据从主机复制到创建的Docker容器中。目标位置可以写成相对路径或绝对路径。提供的示例是复制主机中与Dockerfile位于同一目录的所有文件，并将其放入之前声明的工作目录中。</li><li id="df04" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> ENV — </strong>该语法用于在创建的容器中设置环境变量。</li><li id="31ba" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> EXPOSE &lt;端口号&gt; — </strong> Expose，就像名字一样会把某个端口号暴露给外界，不管是主机还是另一个容器。</li><li id="137e" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> CMD [command 1，arg 1，arg 2，...] — </strong>如果您的容器有一个默认命令，该命令需要在容器第一次运行时运行，则编写此语法。提供的示例是想要运行一个Go应用程序，因此它将执行一个用二进制文件自己的参数创建的二进制文件。</li></ul><p id="a0a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些只是Docker文件中经常使用的语法，关于它的更多信息，你可以在Docker <a class="ae lb" href="https://docs.docker.com/engine/reference/builder/" rel="noopener ugc nofollow" target="_blank">网站</a>上看到。</p><h2 id="2347" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">安装Docker</h2><p id="2b9f" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">安装Docker是一项非常简单的任务，按照<a class="ae lb" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">网站</a>上的指南，选择将安装Docker的主机操作系统。</p><h2 id="82f1" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">建立码头工人形象</h2><p id="a0bb" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">需要将一个完成的Docker文件构建到Docker映像中，这样它就可以在Docker容器中执行。构建Docker映像非常简单，下面是您需要在命令行中运行的最简单的Docker CLI命令。</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="9bb2" class="nx lv iq ow b gy pb pc l pd pe">docker build -t &lt;application_name&gt;:&lt;application_version&gt; .</span></pre><p id="de14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点<code class="fe ot ou ov ow b">.</code>字符定义了docker容器的上下文。它将把我们当前的目录作为上下文。<code class="fe ot ou ov ow b">-t</code>标志是可选的，因为它将定义Docker图像的标签和版本。</p><h2 id="6ae4" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">查看现有图像</h2><p id="aa55" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">您可以在CLI上使用Docker命令查看主机中所有现有Docker映像的列表:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="ea9a" class="nx lv iq ow b gy pb pc l pd pe">docker images</span></pre><p id="3050" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它将返回主机中的所有现有映像:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="79a4" class="nx lv iq ow b gy pb pc l pd pe">elasticsearch                             7.10.1                                           558380375f1a   3 weeks ago     774MB<br/>openapitools/openapi-generator-cli        latest                                           097683db8380   6 weeks ago     136MB<br/>qrunner-queue-connector_rabbitmq-worker   latest                                           8a3e43b8ddf8   7 weeks ago     93.6MB<br/>&lt;none&gt;                                    &lt;none&gt;                                           8f2564949537   7 weeks ago     1.05GB<br/>qrunner-api_dispatcher                    latest                                           22ea784fbef1   7 weeks ago     138MB<br/>mariadb                                   10.3.25                                          5a5644205c65   2 months ago    388MB<br/>rabbitmq                                  3.8.9-management-alpine                          727f04dff442   2 months ago    150MB<br/>gcr.io/datadoghq/agent                    7                                                242ba6349d09   2 months ago    695MB<br/>datadog/agent                             7                                                242ba6349d09   2 months ago    695MB<br/>docker/desktop-kubernetes                 kubernetes-v1.19.3-cni-v0.8.5-critools-v1.17.0   7f85afe431d8   2 months ago    285MB<br/>golang                                    1.15.3                                           4a581cd6feb1   2 months ago    839MB<br/>debian                                    stretch-slim                                     fd6779905c35   2 months ago    55.3MB<br/>ravioli                                   latest                                           b292a28a06f5   2 months ago    261MB<br/>mongo                                     4.4.1                                            ba0c2ff8d362   3 months ago    492MB</span></pre><h2 id="ec25" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">码头集装箱</h2><p id="7b6f" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">正如我们多次说过的，通过Docker运行的应用程序部署在Docker容器中。该容器可以使用我们机器内部构建的docker映像或存在于另一个服务器/存储库中的映像来运行。</p><p id="67de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要运行Docker容器，我们需要在CLI中键入最简单的命令:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="8747" class="nx lv iq ow b gy pb pc l pd pe">docker run --name &lt;container_name&gt; -e "&lt;ENV value that want to be set&gt;" -p &lt;HOST port:Container port&gt; &lt;image_name:image_tag&gt;</span></pre><ul class=""><li id="45ff" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated"><strong class="jp ir"> —名称</strong>，这将是我们创建的容器的名称。如果不指定，Docker会生成一个有趣的自定义名称。</li><li id="6abd" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> -e </strong>，这是一个设置ENV值的参数，运行容器时需要在启动时配置该值。</li><li id="b648" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir"> -p </strong>，为了让你的应用程序可以在它自己的容器之外被访问，这是一个必须的参数。在用这个参数公开端口之前，确保已经公开了容器内部的端口。</li></ul><h2 id="6615" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">Docker撰写</h2><p id="a1e7" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">这是Docker的高级用法。您现在可以跳过这一步，但是如果您:</p><ul class=""><li id="7561" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated">拥有多个相互依赖的应用程序。</li><li id="c13e" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated">运行容器时需要使用多个参数。</li></ul><p id="1560" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，您可能需要编写一个Docker合成文件，并使用它。Docker合成文件以<code class="fe ot ou ov ow b">yaml</code>或<code class="fe ot ou ov ow b">yml</code>格式编写。由于<a class="ae lb" href="https://yaml.org/" rel="noopener ugc nofollow" target="_blank"> YAML </a>的使用，确保文件的缩进格式正确，以防止任何错误。下面是一个Docker合成文件的例子。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="or os l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Docker compose file example</figcaption></figure><ul class=""><li id="a878" class="nh ni iq jp b jq jr ju jv jy nj kc nk kg nl kk nm nn no np bi translated"><strong class="jp ir">版本</strong> —这将定义Docker编写的版本。</li><li id="7bf5" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir">网络</strong> —这将定义容器之间使用的网络类型。</li><li id="bb37" class="nh ni iq jp b jq nq ju nr jy ns kc nt kg nu kk nm nn no np bi translated"><strong class="jp ir">服务</strong> —这些都是我们的容器，当您执行docker-compose时，它们将会运行。</li></ul><p id="199b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了详细说明YAML文件中的关键和价值，下面是对它们的描述:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="or os l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Docker compose file example explanation</figcaption></figure><p id="ebd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">编写完文件后，您可以使用docker-compose自带的简单CLI命令运行它，</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="be65" class="nx lv iq ow b gy pb pc l pd pe"># Running single container<br/>docker-compose up &lt;service_name&gt;</span><span id="08b7" class="nx lv iq ow b gy pf pc l pd pe"># Running single container on background<br/>docker-compose up -d &lt;service_name&gt;</span><span id="6d3e" class="nx lv iq ow b gy pf pc l pd pe"># Running all the configured container<br/>docker-compose up</span></pre><h2 id="8127" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">查看现有容器</h2><p id="cd3f" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">Docker容器可以作为后台进程运行。您可以使用以下Docker CLI命令查看所有正在运行的容器:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="89f9" class="nx lv iq ow b gy pb pc l pd pe">docker ps</span></pre><p id="d817" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面的命令只会返回当前运行的容器，如果你想看到主机内部的所有容器，你可以使用:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="f878" class="nx lv iq ow b gy pb pc l pd pe">docker ps -a</span></pre><p id="4732" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">他们都会给你一个类似这样的结果:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="8295" class="nx lv iq ow b gy pb pc l pd pe">CONTAINER ID   IMAGE                          COMMAND                  CREATED         STATUS                            PORTS                                        NAMES<br/>5e9cffe129e8   elasticsearch:7.10.1           "/tini -- /usr/local…"   10 days ago     Exited (255) About a minute ago   0.0.0.0:9200-&gt;9200/tcp, 9300/tcp             elastic7<br/>94291be25f1a   elasticsearch:6.7.2            "/usr/local/bin/dock…"   10 days ago     Exited (143) 10 days ago                                                       elastic6<br/>d08fb781be76   datadog/agent                  "/init"                  5 weeks ago     Exited (255) 4 weeks ago          8125/udp, 0.0.0.0:8125-8126-&gt;8125-8126/tcp   dd-agent<br/>239b22fde708   mvertes/alpine-mongo:4.0.6-1   "/root/run.sh mongod…"   7 weeks ago     Exited (255) 6 weeks ago          28017/tcp, 0.0.0.0:27021-&gt;27017/tcp          qrunner_mongo<br/>9c36d70b20fb   mariadb:10.3.25                "docker-entrypoint.s…"   2 months ago    Exited (255) 7 weeks ago          0.0.0.0:3307-&gt;3306/tcp                       mariadb<br/>b75dee403e93   mongo:4.4.1                    "docker-entrypoint.s…"   2 months ago    Exited (255) 3 weeks ago          0.0.0.0:27018-&gt;27017/tcp                     mongo441<br/>60f2aef5df79   aongko/pubsub-emulator         "gcloud beta emulato…"   2 months ago    Exited (137) 2 months ago                                                      ravioli_pubsub<br/>8fff7f0531b9   93e193026f44                   "/bin/sh -c 'go buil…"   7 months ago    Exited (2) 7 months ago                                                        festive_chaum<br/>3c04da386e4a   8b4515c22a70                   "/bin/sh -c 'go buil…"   7 months ago    Exited (2) 7 months ago                                                        condescending_hertz<br/>0ae7dbc21f53   php:7.4                        "docker-php-entrypoi…"   10 months ago   Up About a minute                 9000/tcp                                     app<br/>d69968af3b25   mysql:5.7                      "docker-entrypoint.s…"   10 months ago   Up About a minute                 0.0.0.0:3306-&gt;3306/tcp, 33060/tcp            db<br/>bd32f5a031fc   nginx:alpine                   "nginx -g 'daemon of…"   10 months ago   Up About a minute                 0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp     webserver</span></pre><h2 id="e07d" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">停止运行容器</h2><p id="abc8" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">停止运行容器的最简单方法是在主机上退出Docker应用程序。但是，如果您想停止单个正在运行的容器，可以使用下面的命令:</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="2918" class="nx lv iq ow b gy pb pc l pd pe">docker container stop &lt;container_id&gt;</span></pre><h2 id="0f09" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">删除现有容器</h2><p id="b2fc" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">使用Docker最终会让你的主机存储变满。删除未使用的容器对你来说是一个很好的行为。</p><pre class="km kn ko kp gt ox ow oy oz aw pa bi"><span id="028b" class="nx lv iq ow b gy pb pc l pd pe">docker container rm &lt;container_id&gt;</span></pre><h2 id="7d15" class="nx lv iq bd lw ny nz dn ma oa ob dp me jy oc od mi kc oe of mm kg og oh mq oi bi translated">码头枢纽</h2><p id="ad61" class="pw-post-body-paragraph jn jo iq jp b jq oj js jt ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk ij bi translated">重复性的工作很枯燥，没有效果。Docker的团队也知道这一点，他们为我们提供了一个“地方”来使用和共享另一位工程师经常使用的docker图像。</p><p id="a480" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker Hub 是一个在线存储库，存放着由许多人和组织构建的Docker映像。当我们需要一个图像时，这个库是非常有用的，这个图像也被世界上其他工程师使用，这些工程师已经编写了other文件并从它构建了一个图像。这个存储库对公众和私人开放，所以如果我们认为我们的图像对其他人有用，将它上传到Docker Hub将是对社区的巨大贡献。</p></div><div class="ab cl pg ph hu pi" role="separator"><span class="pj bw bk pk pl pm"/><span class="pj bw bk pk pl pm"/><span class="pj bw bk pk pl"/></div><div class="ij ik il im in"><h1 id="2cbd" class="lu lv iq bd lw lx pn lz ma mb po md me mf pp mh mi mj pq ml mm mn pr mp mq mr bi translated">终审判决，该不该用Docker？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ps"><img src="../Images/8ff02da3346bb3cf1f1735a5d820e9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AfY2riGYpvgukuTP"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@chne_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tachina Lee</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a6ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最终判决，该不该用Docker？</p><p id="5be1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker是一个很棒的工具，但是如果你实际上并不需要它，它只会让你的开发和部署过程变得更加<strong class="jp ir">复杂</strong>，并且还会花费<strong class="jp ir">更多的时间</strong>。重新阅读这篇文章，和你的队友一起研究更多关于Docker的东西来决定它。</p><p id="ac46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢，祝编码愉快！😁</p></div><div class="ab cl pg ph hu pi" role="separator"><span class="pj bw bk pk pl pm"/><span class="pj bw bk pk pl pm"/><span class="pj bw bk pk pl"/></div><div class="ij ik il im in"><p id="ab61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多Docker参考:</p><div class="lc ld gp gr le lf"><a href="https://docs.docker.com" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">码头文件</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">Docker文档的主页</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">docs.docker.com</p></div></div><div class="lo l"><div class="pt l lq lr ls lo lt kv lf"/></div></div></a></div></div></div>    
</body>
</html>