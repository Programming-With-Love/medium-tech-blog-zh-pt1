<html>
<head>
<title>Filter Gambar dengan Mean, Median dan Batas Menggunakan Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Filter Gambar dengan Mean, Median dan Batas Menggunakan Java</h1>
<blockquote>原文：<a href="https://medium.easyread.co/filter-gambar-dengan-mean-median-dan-batas-menggunakan-java-54d87835c6be?source=collection_archive---------7-----------------------#2018-10-06">https://medium.easyread.co/filter-gambar-dengan-mean-median-dan-batas-menggunakan-java-54d87835c6be?source=collection_archive---------7-----------------------#2018-10-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c9d954f0fa42f572ee9c90976543b106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dcC5cHRBQQVoHQps"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@perotto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alexandre Perotto</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c9f5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Salah satu materi yang dibahas dalam matakuliah <em class="ky"> computer vision </em> adalah operasi ketetanggaan dan <em class="ky"> filtering </em> pada suatu citra atau gambar. Saya tertarik membuat tulisan ini karena salah satu tugas kuliah yang pernah saya kerjakan sebelumnya, sekaligus untuk referensi teman-teman yang mungkin sedang membutuhkan. Pengalaman saya saat mencari referensi (implementasi) untuk mengerjakan tugas ini lebih banyak tutorial menggunakan Matlab dibandingkan Java. Siapa tahu dengan tulisan ini dapat membantu menyelesaikan tugas teman-teman.</p><p id="0a36" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Oiya, beberapa bagian yang memuat tentang teori banyak saya kutip dari situs lain dan akan saya sertakan tautannya di bagian akhir tulisan ini. Sebelum lanjut lebih jauh, saya sarankan teman-teman tetap menggunakan referesi lain terkait teori, karena pada tulisan ini saya cenderung membahas secara implementasinya menggunakan Java. Sangat diperbolehkan bila teman-teman melihat ada bagian yang ingin dikoreksi atau ditambahkan.</p><h1 id="fcb2" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">Ketetanggaan</h1><p id="b2e2" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Seperti yang diketahui bahwa suatu citra atau gambar tediri dari piksel-piksel yang terbentuk seperti matriks dengan ukuran tertentu. Jadi secara sederhana operasi ketetanggaan merupakan operasi pengolahan citra untuk mendapatkan nilai suatu piksel yang melibatkan nilai piksel-piksel tetangganya.</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/2878be13a58631b666397d052025b8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*_hTjuPiCkGXAK26cjHTGEQ.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sumber: <a class="ae jz" href="http://www.charisfauzan.net/2016/02/operasi-ketetanggaan-piksel-pada-filter.html" rel="noopener ugc nofollow" target="_blank">http://www.charisfauzan.net/2016/02/operasi-ketetanggaan-piksel-pada-filter.html</a></figcaption></figure><p id="b32d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Dari ilustrasi gambar di atas terdapat dua macam, yaitu: empat ketetanggaan (kiri) dan delapan ketetangaan (kanan). Ketetangaan pada ilustrasi di atas maksudnya piksel lain yang berdekatan dengan piksel yang berada di tengah (P).</p><p id="02f0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Hmm.. mungkin teman-teman berpikir bagaimana dengan piksel yang berada di pinggir yang tidak memiliki tetangga sebanyak piksel yang berada di tengah? Sewaktu dikelas saya dijelaskan bahwa ada beberapa cara untuk mengatasinya:</p><ol class=""><li id="ce86" class="mh mi in kc b kd ke kh ki kl mj kp mk kt ml kx mm mn mo mp bi translated">Memberikan nilai dengan nilai piksel didekatnya, atau</li><li id="312a" class="mh mi in kc b kd mq kh mr kl ms kp mt kt mu kx mm mn mo mp bi translated">Memberikan nilai nol untuk nilai ketetangaan yang tidak ada.</li></ol><p id="9aec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Tentu saja pada program yang akan dibuat, saya menggunakan nilai nol dan empat ketetangaan karena alasan yang sederhana: lebih mudah. Hehe.</p><h1 id="b55c" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">Konsep Filter Mean, Median dan Batas</h1><p id="481c" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Mean, Median dan Batas adalah algoritma yang akan digunakan dalam pemfilteran. Saya coba bahas dengan singkat.</p><ol class=""><li id="169e" class="mh mi in kc b kd ke kh ki kl mj kp mk kt ml kx mm mn mo mp bi translated">Mean <br/> Menjumlahkan nilai piksel dengan ketetanggaannya lalu dibagi untuk mendapatkan nilai rata-ratanya.</li><li id="ba2e" class="mh mi in kc b kd mq kh mr kl ms kp mt kt mu kx mm mn mo mp bi translated">Median <br/> Mengurutkan nilai piksel dan ketetangaannya dari yang terkecil kemudian didaptkan nilai tengahnya.</li><li id="e5cb" class="mh mi in kc b kd mq kh mr kl ms kp mt kt mu kx mm mn mo mp bi translated">Batas <br/> Mendapatkan nilai piksel dan ketetanggannya kemudian menentukan nilai terendah sebagai batas bawah dan nilai tertinggi sebagai batas atas. Bila nilai piksel yang sedang dihitung (iterasi) lebih kecil dari batas bawah, maka diberi nilai sesuai dengan nilai batas bawah, begitu pula sebaliknya dengan batas atas.</li></ol><h1 id="f17c" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">Implementasi Kode</h1><figure class="md me mf mg gt jo"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="b0c1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Wah, panjang juga ya kodenya. Sebenarnya tidak juga kok, kode di atas terlihat panjang karena strukturnya saya pisah menjadi banyak <em class="ky"> class. </em> Preferensi pribadi sebenarnya, saya lebih suka dipisah karena lebih mudah dibaca dan dipelajari.</p><p id="5322" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Terus, bagaimana hasilnya bila program dijalankan?</p><figure class="md me mf mg gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/7d84e70bb5a28b315ed5cfe5fca6981e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CaFCtZhNyb3bOq1uQhWMSg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Hasil dan perbandingan gambar original dan masing-masing filter</figcaption></figure><p id="306b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Saya menggunakan <em class="ky"> inputan </em> gambar dengan <em class="ky"> noise </em> yang sangat banyak yang kemudian berusaha difilter menggunakan algoritma di atas. Terlihat bahwa <em class="ky"> filter median </em> menunjukkan hasil yang paling bagus.</p><h1 id="90b5" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">Bedah Kode</h1><h2 id="c020" class="my la in bd lb mz na dn lf nb nc dp lj kl nd ne ln kp nf ng lr kt nh ni lv nj bi translated">FilterContract.java</h2><p id="67e0" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Bagian ini sebenarnya opsional, saya hanya membuat <em class="ky"> interface </em> sebagai kontrak <em class="ky"> method </em> yang harus diimplementasikan pada setiap <em class="ky"> class </em> .</p><h2 id="1ab3" class="my la in bd lb mz na dn lf nb nc dp lj kl nd ne ln kp nf ng lr kt nh ni lv nj bi translated">Neighbor.java</h2><p id="8883" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Bagian ini adalah letak dari semua proses yang akan dikerjakan, termasuk proses mendapatkan nilai ketetanggaan sekaligus perhitungan untuk filter yang dilakukan.</p><pre class="md me mf mg gt nk nl nm nn aw no bi"><span id="8f4a" class="my la in nl b gy np nq l nr ns">private int top, right, bottom, left;<br/>private int current, mid;<br/>private Color c;</span></pre><p id="53ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Variabel <code class="fe nt nu nv nl b">top</code> <em class="ky"> , </em> <code class="fe nt nu nv nl b">right</code> <em class="ky"> , </em> <code class="fe nt nu nv nl b">bottom</code> <em class="ky"> </em> dan <code class="fe nt nu nv nl b">left</code> saya gunakan untuk menyimpan nilai piksel dalam bentuk integer. <code class="fe nt nu nv nl b">current</code> <em class="ky"> </em> digunakan untuk menyimpan nilai piksel yang sedang diproses (iterasi) dan <code class="fe nt nu nv nl b">mid</code> untuk menyimpan nilai tengah untuk <em class="ky"> filter median </em> . Sedangkan variabel <code class="fe nt nu nv nl b"><em class="ky">c</em></code> dengan tipe data <em class="ky"> library class </em> <em class="ky"> Color (java.awt.Color </em> ) untuk mendapatkan nilai RGB.</p><p id="a9d8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Pada <em class="ky"> class </em> ini terdapat tiga <em class="ky"> method: </em> <code class="fe nt nu nv nl b">redProcess(..)</code> <em class="ky"> , </em> <code class="fe nt nu nv nl b">greenProcess(..)</code> <em class="ky"> </em> dan <em class="ky"> </em> <code class="fe nt nu nv nl b">blueProcess(..)</code> <em class="ky"> . </em> Ketiga <em class="ky"> method </em> ini memiliki fungsi yang sama, yaitu untuk mendapatkan masing nilai RGBnya. Di dalam setiap <em class="ky"> method </em> tersebut terdapat kode:</p><pre class="md me mf mg gt nk nl nm nn aw no bi"><span id="3965" class="my la in nl b gy np nq l nr ns">// tetangga atas<br/>if (row - 1 &lt; 0) {<br/>    top = 0;<br/>} else {<br/>    c = new Color(image.getRGB(row - 1, col));<br/>    top = c.getRed();<br/>}</span><span id="55b9" class="my la in nl b gy nw nq l nr ns">// tetangga kanan<br/>if (col + 1 &gt;= height) {<br/>    right = 0;<br/>} else {<br/>    c = new Color(image.getRGB(row, col + 1));<br/>    right = c.getRed();<br/>}</span><span id="94e4" class="my la in nl b gy nw nq l nr ns">// tetangga bawah<br/>if (row + 1 &gt;= width) {<br/>    bottom = 0;<br/>} else {<br/>    c = new Color(image.getRGB(row + 1, col));<br/>    bottom = c.getRed();<br/>}</span><span id="b5a7" class="my la in nl b gy nw nq l nr ns">// tetangga kiri<br/>if (col - 1 &lt; 0) {<br/>    left = 0;<br/>} else {<br/>    c = new Color(image.getRGB(row, col - 1));<br/>    left = c.getRed();<br/>}</span></pre><p id="6aab" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Kode di atas digunakan untuk mendapatkan nilai setiap ketetanggaannya, dan memberi nilai nol bila tetangga pada bagian tertentu tidak ada.</p><pre class="md me mf mg gt nk nl nm nn aw no bi"><span id="a816" class="my la in nl b gy np nq l nr ns">int value = 0;<br/>int[] values = {current, top, right, bottom, left};</span></pre><p id="4c3f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Array <code class="fe nt nu nv nl b">values</code> <em class="ky"> </em> digunakan untuk menyimpan semua nilai dari <em class="ky"> current </em> piksel sekaligus ketetanggaannya.</p><pre class="md me mf mg gt nk nl nm nn aw no bi"><span id="3c5a" class="my la in nl b gy np nq l nr ns">switch (context) {<br/>    case "median":<br/>        Arrays.sort(values);<br/>        value = values[values.length / 2];<br/>        break;<br/>    case "mean":<br/>        value = Arrays.stream(values).sum() / values.length;<br/>        break;<br/>    case "batas":<br/>        Arrays.sort(values);<br/>        if (current &lt; values[0]) {<br/>            current = values[0];<br/>            break;<br/>        }</span><span id="533b" class="my la in nl b gy nw nq l nr ns">        if (current &gt; values[values.length-1]) {<br/>            current = values[values.length-1];<br/>            break;<br/>        }</span><span id="e266" class="my la in nl b gy nw nq l nr ns">        value = current;<br/>        break;<br/>}</span><span id="d1b8" class="my la in nl b gy nw nq l nr ns">return value;</span></pre><p id="3121" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Potongan kode di atas melakukan perhitungan sesuai dengan variabel <code class="fe nt nu nv nl b">context</code> dengan algoritma yang telah dibahas poin sebelumnya (konsep mean, median dan batas) dan setelah proses selesai, <em class="ky"> method </em> akan <em class="ky"> </em> mengembalikan nilai <code class="fe nt nu nv nl b">value</code> <em class="ky"> . </em></p><h2 id="6dd3" class="my la in bd lb mz na dn lf nb nc dp lj kl nd ne ln kp nf ng lr kt nh ni lv nj bi translated">Mean.java, Median.java dan Batas.java</h2><p id="79ab" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Yap, ketiga <em class="ky"> class </em> ini memiliki struktur dan kode yang sama. Hanya berbeda pada nilai variabel <code class="fe nt nu nv nl b">context</code> dan file untuk <em class="ky"> output </em> gambar setelah dilakukan pemfilteran. Jadi ketiga <em class="ky"> class </em> ini saya gabung menjadi satu pembahasan. <em class="ky"> Median.java </em> yang saya dijadikan perwakilan.</p><p id="23f6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Berdasarkan kode pada poin implementasi, <em class="ky"> class </em> median mewarisi <em class="ky"> class </em> neighbor dan mengimplementasikan <em class="ky"> method </em> dari <em class="ky"> interface FilterContract </em> yang telah dibahas sebelumnya.</p><pre class="md me mf mg gt nk nl nm nn aw no bi"><span id="8565" class="my la in nl b gy np nq l nr ns">private String context = "median";<br/>private BufferedImage image, newImage;<br/>private int width, height;</span></pre><p id="f851" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Variabel <code class="fe nt nu nv nl b">context</code> sebagai identitas untuk melakukan proses pemfilteran median. Kemudian <code class="fe nt nu nv nl b">image</code> <em class="ky"> </em> dan <em class="ky"> </em> <code class="fe nt nu nv nl b">newImage</code> berfungsi sebagai menyimpan citra yang sedang diolah. Perbedaan <code class="fe nt nu nv nl b">image</code> <em class="ky"> </em> dan <code class="fe nt nu nv nl b">newImage</code> <em class="ky"> </em> adalah <em class="ky"> </em> <code class="fe nt nu nv nl b">image</code> <em class="ky"> </em> digunakan untuk mengambil nilai ketetangaan dari nilai piksel yang masih original, sedangkan <code class="fe nt nu nv nl b">newImage</code> <em class="ky"> </em> untuk menyimpan nilai baru setelah didapatkan dari proses filter. Sedangkan width dan height adalah ukuran piksel dari citra atau gambar tersebut.</p><p id="c827" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Di dalam method <code class="fe nt nu nv nl b">filter()</code> terdapat perulangan untuk mengolah setiap piksel dari awal hingga akhir. Dan setelah didapatkan nilainya, akan langsung diletakkan pada objek <code class="fe nt nu nv nl b">newImage</code> <em class="ky"> </em> untuk nilai yang baru. Begitu seterusnya sampai semua piksel selesai diproses.</p><p id="df7e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Setelah semua selesai maka <em class="ky"> method </em> <code class="fe nt nu nv nl b">output()</code> dipanggil untuk mengeluarkan hasil filter menjadi file gambar baru.</p><h2 id="cd9b" class="my la in bd lb mz na dn lf nb nc dp lj kl nd ne ln kp nf ng lr kt nh ni lv nj bi translated">App.java</h2><p id="1494" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Terakhir pada <em class="ky"> class App </em> hanya tinggal memanggil setiap <em class="ky"> class filter </em> dan mengoper parameter file gambar yang akan diolah. Selesai.</p></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><p id="b352" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Mudah-mudahan teman-teman belajar banyak dari tulisan ini. Sejujurnya saya sedikit kesulitan menyusun kalimat supaya terkesan ringan dan mudah dipahami pembaca. Mohon maaf bila ada kalimat yang strukturnya kurang bagus dan malah membuat bingung, karena sekali lagi saya sedikit kesulitan memilih kalimat yang pas untuk menjelaskan hehe. Semoga bermanfaat.</p><p id="04df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Github Repository:</p><div class="oe of gp gr og oh"><a href="https://github.com/biobii/computer-vision/tree/master/src/Filtering" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">biobii/computer-vision</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">Source code for computer vision lecture. Contribute to biobii/computer-vision development by creating an account on…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">github.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov jt oh"/></div></div></a></div><p id="5c5d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Referensi:</p><div class="oe of gp gr og oh"><a href="http://www.charisfauzan.net/2016/02/operasi-ketetanggaan-piksel-pada-filter.html" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">Operasi Ketetanggaan Piksel pada Filter Batas, Filter Pemerataan dan Filter Median</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">By Abd Fauzan Operasi ketetanggaan piksel adalah operasi pengolahan citra untuk mendapatkan nilai suatu piksel yang…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">www.charisfauzan.net</p></div></div><div class="oq l"><div class="ow l os ot ou oq ov jt oh"/></div></div></a></div></div><div class="ab cl nx ny hr nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ig ih ii ij ik"><figure class="md me mf mg gt jo"><div class="bz fp l di"><div class="ox mw l"/></div></figure></div></div>    
</body>
</html>