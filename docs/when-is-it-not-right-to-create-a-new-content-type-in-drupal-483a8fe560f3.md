# 什么时候在 Drupal 中创建新的内容类型是不对的？

> 原文：<https://medium.com/globant/when-is-it-not-right-to-create-a-new-content-type-in-drupal-483a8fe560f3?source=collection_archive---------1----------------------->

您在 Drupal 项目中经常注意到的一个违反最佳实践的情况是创建一个内容类型来存储任何类型的数据。

比方说，您想要生成并分发一组唯一的代码，这些代码一次性有效，并且是在您的网站上注册所必需的。这里实现的一个简单方法是创建一个只有两个字段(代码(文本)和状态(选择—有效/已用)的内容类型，并将代码存储为节点，并在注册过程中使用节点数据进行验证。但是这是一种非常不合适的内容建模方式。

内容类型使构建变得容易。开箱即用，你有很多现成的内容类型的功能——***表单来添加、编辑、删除、修改，每当添加一行条目时，站点范围内的钩子就会左右居中，元标签、url 别名、修改等等*。**创建新的内容类型只需一分钟。因此，每当有新类型的数据要存储时，总是倾向于添加内容类型。

**它们增加了多少便利，也增加了等量的性能开销。**

此外，**Drupal 存储内容类型数据的方式**，一段内容分布在大量的表中，高度规范化。这意味着您要检查给定的唯一代码是否有效，您将(直接或通过节点 API)查询多达 ***5 个表——node、node_field_code、node_field_code_status、node_revision__field_code、node _ revision _ _ field _ code _ status****并执行连接以合并数据。*

*因此，当您需要处理的内容本身没有重要的显示意义，并且对修改没有意义时，将数据存储在非规范化的定制表中很有意义。此外，您可以使用实体 API 来定义一个绑定到该表的自定义实体，这将允许您通过 Drupal APIs 将数据 CRUD 到该表中。*

*[**这段来自 Drupal GovCon**](https://www.youtube.com/watch?v=XugULbrMYm4) 的精彩视频更详细地探讨了这一点。*

*Drupal [实体构建工具包](https://www.drupal.org/project/eck)提供了一套很好的工具来在 Drupal 中构建定制实体。*

*因此，下一次当您对内容进行建模时，一定要根据您存储的数据类型来考虑是否值得拥有内容类型带来的所有开销，并做出明智的决定。*