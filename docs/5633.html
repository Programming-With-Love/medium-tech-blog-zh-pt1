<html>
<head>
<title>Building Multi-Cloud Apps on Microsoft Azure and Oracle Cloud Infrastructure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Microsoft Azure和Oracle云基础架构上构建多云应用</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/from-azure-to-autonomous-an-enterprise-multi-cloud-journey-an-enterprise-multi-cloud-journey-cc070a28cb10?source=collection_archive---------5-----------------------#2019-07-26">https://medium.com/oracledevs/from-azure-to-autonomous-an-enterprise-multi-cloud-journey-an-enterprise-multi-cloud-journey-cc070a28cb10?source=collection_archive---------5-----------------------#2019-07-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="af52" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">特别鸣谢合著者<a class="jc jd ge" href="https://medium.com/u/63e06eaf11a4?source=post_page-----cc070a28cb10--------------------------------" rel="noopener" target="_blank">萨姆·沙阿</a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/cb05e561b558431c1a2b68823aaef4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*7WN17R-R3bfkHEprS1bMQg.jpeg"/></div><figcaption class="jm jn et er es jo jp bd b be z dx">(Image credit: Image Credit: Everything Possible / Shutterstock)</figcaption></figure><p id="b91f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">随着多重云故事的展开，企业正在寻求构建跨越基础设施和云提供商的应用。<a class="ae jq" href="https://blogs.oracle.com/cloud-infrastructure/oracle-microsoft-azure-alliance?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">甲骨文和微软最近宣布云合作</a>。这种合作关系支持跨云网络、统一身份&amp;访问管理，以及跨微软Azure和甲骨文云基础设施(OCI)的协作和集成支持模式。跨云网络是一个安全的专用链路，在两个云提供商之间提供高带宽和低延迟。客户无需与第三方网络提供商合作来设置跨云连接。</p><p id="1667" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">跨云连接的力量支持许多用例。下面是一些使用案例:<br/> 1。Azure上的Web/App、Oracle Autonomous、OCI上的ExaCS数据库<br/> 2。Oracle上的Java和Oracle应用程序。Azure上的. NET/SQL Server应用程序<br/> 3。Azure <br/> 4自治数据库中的数据挖掘。跨云的应用到应用的互操作性<br/> 5。跨多个云供应商的高可用性</p><p id="6461" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最近<a class="jc jd ge" href="https://medium.com/u/de35270dbab5?source=post_page-----cc070a28cb10--------------------------------" rel="noopener" target="_blank"> Jamal Arif </a>发表了一篇<a class="ae jq" rel="noopener" href="/@j.jamalarif/how-to-setup-the-interconnect-between-oracle-cloud-infrastructure-and-microsoft-azure-da359233e5e9"> <strong class="ig hi">博客</strong> </a>，带领用户简单地在微软Azure和甲骨文云基础设施(OCI)之间创建一个端到端的云互联。</p><p id="a767" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为该系列的延续，通过这篇博客，我们(<a class="jc jd ge" href="https://medium.com/u/63e06eaf11a4?source=post_page-----cc070a28cb10--------------------------------" rel="noopener" target="_blank">Sam Shah</a>&amp;<a class="jc jd ge" href="https://medium.com/u/67948792d94b?source=post_page-----cc070a28cb10--------------------------------" rel="noopener" target="_blank">Vinay Rao</a>)将带您了解构建一个简单的2层多云应用程序的过程，该应用程序可以帮助企业设想利用这两家云提供商的最佳服务的应用程序</p><p id="b877" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在开始构建应用程序之前，让我们快速浏览一下架构</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jr"><img src="../Images/1eab674003b0f0b767ff9c95d1e5e8bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*ZchVXaGd0zyJ8NmOBZwL1Q.png"/></div></figure><p id="e0f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在上面的设置中，应用程序层驻留在Azure计算上，数据库层是Oracle自治数据库产品。应用程序层将使用<a class="ae jq" href="https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/transitroutingoracleservices.htm" rel="noopener ugc nofollow" target="_blank">传输路由:对Oracle服务的私有访问</a>，通过安全的私有连接向/从自治数据库层写入/查询数据。</p><blockquote class="js jt ju"><p id="8918" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated"><strong class="ig hi">先决条件:</strong></p><p id="31e0" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">在开始部署应用程序之前，请阅读<a class="ae jq" rel="noopener" href="/@j.jamalarif/how-to-setup-the-interconnect-between-oracle-cloud-infrastructure-and-microsoft-azure-da359233e5e9">如何设置Oracle云基础设施和Microsoft Azure之间的互连</a>博客，以设置Oracle云基础设施和Microsoft Azure之间的端到端连接。</p></blockquote><p id="23b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">第一步:在Oracle上设置自治数据库</strong></p><p id="767c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">登录到OCI控制台，选择us-ashburn-1区域，并在快速设置菜单上单击“创建自治数据仓库”选项以启动自治数据仓库服务。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/e1387acf3d96e5aa2c72bbe2028c3062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_EuqxRKIeVAox7H6laz8sQ.png"/></div></div></figure><p id="7933" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，按照设置向导设置ADW服务实例所需的所有参数，并选择页面左下角的“创建自治数据库”按钮</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/03a9597aadaf12766ffd94892b6c8890.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwaWxyQ9I5yP0x-FG3-mXQ.png"/></div></div></figure><p id="846d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦创建了自治数据库，数据库将需要3-5分钟的时间进行资源调配。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/df69ec9e59ef542cc73d646405457422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kspVO80Al6VhmOC5wFPJJQ.png"/></div></div></figure><p id="0c35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在下载钱包文件(客户端凭证),因为我们将在后面的步骤4中用到它</p><p id="2368" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从自治数据库控制台，您可以右键单击自治数据库并进入服务控制台</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ke"><img src="../Images/a2acd23afd9bbe21cce4b8770ef76d15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZDJsEvJBFCsdlK88JKtNHA.png"/></div></div></figure><p id="e864" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在导航到管理部分并下载钱包文件</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kf"><img src="../Images/bdaa2b3005478c2d129a5c8af17c83e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0GUv0JDMYFSYTlAswBDZw.png"/></div></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kf"><img src="../Images/745a74bfda5fb35a05100f83a4df5de7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_BefjH2lHKst7miq0NqsQ.png"/></div></div></figure><p id="ed40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">稍后将使用钱包文件</p><p id="5f1d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">第二步:在Azure上设置应用层</strong></p><p id="fdd5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在登录到Azure门户网站，并在您按照先决条件步骤创建的网络中创建一个Ubuntu虚拟机</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kg"><img src="../Images/105443e53390313e8c922c949e53ce90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y6rj6JrBKzrGM9W0RLXp9A.png"/></div></div></figure><p id="6312" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请确保将网络安全组配置为允许所需的数据库端口和其他连接</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kh"><img src="../Images/f67d2602554b89be377165e793a37bb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FobO1l_8kCTO2fZKmu2YpQ.png"/></div></div></figure><p id="d33d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虚拟机启动并运行后，SSH进入虚拟机并确保连接正常</p><p id="905e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤3:设置到Oracle服务的私有对等路由</strong></p><p id="6c22" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">假设您已经完成了先决条件步骤，并且在Oracle云基础架构和Microsoft Azure之间建立了私有对等链接，那么这两个基础架构中的虚拟机现在可以通过私有连接安全地相互访问。</p><p id="28e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，为了通过安全的专用连接访问自治数据库，我们将利用最近发布的<a class="ae jq" href="https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/transitroutingoracleservices.htm" rel="noopener ugc nofollow" target="_blank">Transit Routing:Private Access to Oracle Services</a>特性。</p><p id="871f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了启用这个特性，让我们使用下面的文档创建一个服务网关:<a class="ae jq" href="https://blogs.oracle.com/cloud-infrastructure/access-oracle-services-privately-with-a-service-gateway" rel="noopener ugc nofollow" target="_blank"> OCI服务网关</a></p><p id="88b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航到虚拟云网络&gt;虚拟网络详细信息，选择左下方的服务网关资源，然后单击创建服务网关按钮</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kf"><img src="../Images/398faf028a3d56f3310ea68593a289bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kAVNvIXtoI-qz4MvT9d5bA.png"/></div></div></figure><p id="11d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，按照向导创建一个服务网关，以访问“Oracle服务网络中的所有IAD服务”</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es kf"><img src="../Images/d73e029d7cfad0537ba55335b3fbf45b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyMlegkntHdVhNzAkJMZVw.png"/></div></div></figure><p id="8dd7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，一旦创建了服务网关，我们将创建2个路由表:<a class="ae jq" href="https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/managingDRGs.htm" rel="noopener ugc nofollow" target="_blank"> DRG </a>路由表和<a class="ae jq" href="https://docs.cloud.oracle.com/iaas/Content/Network/Tasks/servicegateway.htm" rel="noopener ugc nofollow" target="_blank"> SGW </a>路由表</p><p id="b83d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">路由表1: DRG路由表</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/c4a81ba6402af4cdaf05aeddc7f0ccb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8GEGMdaJ0PC8eWVMh1gewQ.png"/></div></div></figure><p id="e97e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们将该路由表与DRG相关联，以确保所有Oracle服务路由都由DRG通告</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/86438bbc77ef3910bb47e1084536c28b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wHXXeypiZOuumaxnncf6Gg.png"/></div></div></figure><p id="1d1a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在路由表与DRG相关联，DRG将通过Azure Express路由通告OSN网络路由，并且这些路由在虚拟机的路由表上可见</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ki"><img src="../Images/024c87247f68e2952bfb499d7b2d9817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*trDapMyHBSiSpjU__q_4hQ.png"/></div></div></figure><p id="11f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，为了确保来自Oracle服务网络的流量能够到达远程Azure应用程序，让我们创建SGW路由表</p><p id="67ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">路由表2: SGW路由表</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/15fc82b92b46c87ac2e5147664c3f16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7AUGKLslBwmq-9tl2lPSmQ.png"/></div></div></figure><p id="60f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并将SGW路由表关联到SGW</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es jz"><img src="../Images/7526e5962fda325f25e785ce39d86f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cqBknni82ovkjug6y7x5tA.png"/></div></div></figure><p id="d5ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">第四步:安装应用程序</strong></p><p id="7954" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">既然已经建立了连接。让我们安装将从自治数据库挖掘数据的应用程序</p><p id="1a10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要安装该应用程序，请遵循以下步骤</p><p id="2cf1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">步骤1:在Azure VM中使用下面的<a class="ae jq" href="https://gist.github.com/tcnksm/7316877" rel="noopener ugc nofollow" target="_blank">链接</a>安装Oracle实例客户端</p><p id="2f0f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">步骤2:上传步骤1中提到的Wallet文件，解压缩文件夹，并使用这些文件访问自治数据仓库数据库中的数据。</p><p id="7353" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">步骤3:从这个<a class="ae jq" href="https://github.com/sssshah" rel="noopener ugc nofollow" target="_blank"> repo </a>中克隆应用程序代码。</p><p id="3291" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">步骤4:运行应用程序</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kj"><img src="../Images/f973b8f0f1e65129b75c0f458dddafde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*kV3mPGIP91sQKWPJGpFP3w.png"/></div></figure><p id="e1a4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">瞧啊。驻留在Azure VNET的简单python应用程序可以秘密地、安全地从Oracle自治数据库读取数据。</p><p id="b5c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结论:</p><p id="2f54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们希望你喜欢阅读这个博客，示例2层应用程序只是一个概念证明，以帮助你建立你的想法和跨Azure和OCI的应用程序。</p><p id="713a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们期待保持联系，并让企业从这种多云合作伙伴关系中受益。</p><blockquote class="js jt ju"><p id="8cfa" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">视频博客即将推出</p></blockquote></div></div>    
</body>
</html>