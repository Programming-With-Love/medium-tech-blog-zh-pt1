<html>
<head>
<title>Deploying and Integrating Hashicorp Vault on and with OCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在OCI部署和集成Hashicorp Vault</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploying-and-integrating-hashicorp-vault-on-and-with-oci-cf9152b3d1a2?source=collection_archive---------0-----------------------#2020-05-01">https://medium.com/oracledevs/deploying-and-integrating-hashicorp-vault-on-and-with-oci-cf9152b3d1a2?source=collection_archive---------0-----------------------#2020-05-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="fcf4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">HashiCorp <a class="ae jc" href="https://www.vaultproject.io/" rel="noopener ugc nofollow" target="_blank"> Vault </a>是一款神奇的软件。你可以用它来<a class="ae jc" href="https://www.vaultproject.io/use-cases/secrets-management" rel="noopener ugc nofollow" target="_blank">管理你的秘密</a>，<a class="ae jc" href="https://www.vaultproject.io/use-cases/data-encryption" rel="noopener ugc nofollow" target="_blank">保护你的应用数据安全</a>或者<a class="ae jc" href="https://www.vaultproject.io/use-cases/identity-based-access" rel="noopener ugc nofollow" target="_blank">管理使用身份</a>访问不同的系统。</p><p id="efcf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将:</p><ul class=""><li id="61b8" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">在OCI上部署一个Vault实例</li><li id="e1af" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">把它和OCI·KMS结合起来</li><li id="bcb0" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">使用OCI对象存储作为Vault的存储后端</li><li id="b85f" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">使用OCI身份验证方法通过用户和实例主体进行身份验证</li></ul><p id="79c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">准备好了吗？我们走吧。</p><h2 id="3424" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">创建基础设施和网络</h2><p id="dd82" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">让我们使用<a class="ae jc" href="https://github.com/oracle-terraform-modules/terraform-oci-base" rel="noopener ugc nofollow" target="_blank"> terraform-oci-base </a>模块创建基础设施。你现在也可以从<a class="ae jc" href="https://registry.terraform.io/modules/oracle-terraform-modules/base/oci/1.1.3" rel="noopener ugc nofollow" target="_blank"> Terraform注册表</a>中获得基本模块。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="4aaf" class="jr js hh kw b fi la lb l lc ld">#base module<br/>module "base" {<br/>  source  = "oracle-terraform-modules/base/oci"<br/>  version = "1.1.3"</span><span id="75ac" class="jr js hh kw b fi le lb l lc ld">  # identity<br/>  oci_base_identity = local.oci_base_identity</span><span id="ca31" class="jr js hh kw b fi le lb l lc ld">  # general oci parameters<br/>  oci_base_general = local.oci_base_general</span><span id="c535" class="jr js hh kw b fi le lb l lc ld">  # vcn parameters<br/>  oci_base_vcn = local.oci_base_vcn</span><span id="f282" class="jr js hh kw b fi le lb l lc ld">  # bastion parameters<br/>  oci_base_bastion = local.oci_base_bastion</span><span id="2ceb" class="jr js hh kw b fi le lb l lc ld">  # admin server parameters<br/>  oci_base_admin = local.oci_base_admin</span><span id="c732" class="jr js hh kw b fi le lb l lc ld">  # tagging<br/>  tagging = var.tagging</span><span id="6210" class="jr js hh kw b fi le lb l lc ld">}</span></pre><p id="8048" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以保留所有默认值，只需确保bastion主机已启用。</p><p id="6e02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行地形来创建VCN和堡垒。</p><p id="5473" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，创建2个没有任何安全列表的区域子网<em class="lf">。我们将使用网络安全组(NSG)来代替。1个专用子网用于vault实例，另一个用于公共负载平衡器。</em></p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lg"><img src="../Images/8a7d00a77b8dc4b2615672507dd01009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doYrWd4VgdLrcsNzwzI11A.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">1 public and 1 private subnet</figcaption></figure><p id="4604" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">同样，在VCN创建两个NSG:vault和lb。</p><p id="d04b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于跳马NSG，您将需要以下规则:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es ls"><img src="../Images/df95a9218f427bffcaa3f1df9ab7e411.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lyKS-peUjbatp59bkwmAeg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">NSG rules for vault</figcaption></figure><p id="a4e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于负载平衡器NSG，您将需要以下规则:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lt"><img src="../Images/14d59ddf85dd5ecc08aa0bcded48fbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o4DpkV-7ofb0HoXZJei4Rw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">NSG rules for the load balancer</figcaption></figure><h2 id="fab5" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">用于拱顶密封包装的KMS</h2><p id="ec7c" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">导航至安全&gt;保险库，并<a class="ae jc" href="https://docs.cloud.oracle.com/en-us/iaas/Content/KeyManagement/Tasks/managingvaults.htm#createnewvault" rel="noopener ugc nofollow" target="_blank">创建一个保险库</a>，如果您还没有保险库的话。创建保险库后，<a class="ae jc" href="https://docs.cloud.oracle.com/en-us/iaas/Content/KeyManagement/Tasks/managingkeys.htm" rel="noopener ugc nofollow" target="_blank">创建一个密钥</a>。</p><h2 id="ef8d" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">作为保管库后端的OCI对象存储</h2><p id="5acc" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">导航到对象存储并创建两个存储桶:vault和vault_lock。选择客户管理的密钥</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div class="er es lu"><img src="../Images/ddf196930ef6668dd40b52ddb8541368.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*DCJz2ovFC-zsbDXQt1uyfQ.png"/></div></figure><p id="9dc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后选择您在上一步中创建的保险库和密钥来加密这两个存储桶。</p><h2 id="755d" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">安装和配置vault</h2><p id="5c30" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">使用默认的Oracle Linux映像创建一个计算实例，选择您的VCN，然后确保在保险存储子网中创建保险存储实例，并使用保险存储NSG。</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lv"><img src="../Images/3f31a54798b110a8af95e528b93a1d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kvEbrgDC3GsbaYeHFHAW5w.png"/></div></div></figure><p id="cfd3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">确保您还添加了您的SSH公钥，以便您可以访问它。</p><p id="de71" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建后，记下它的私有ip地址和实例ocid:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div class="er es lw"><img src="../Images/c757d2b1053d1e70747747a4a2603577.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*rX57xrKpl9VmVXlzHSPn4Q.png"/></div></figure><p id="6627" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并且可以通过堡垒访问它:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="6923" class="jr js hh kw b fi la lb l lc ld">ssh -i /path/to/private_key -J opc@&lt;bastion_ip&gt;  opc@10.0.2.2</span></pre><p id="15c9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在将安装和配置vault。</p><p id="4eae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，安装以下软件包:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="0079" class="jr js hh kw b fi la lb l lc ld">sudo yum install -y python3 chrony httpd socat</span></pre><p id="6ddb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，以root用户身份安装oci-cli:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b8e5" class="jr js hh kw b fi la lb l lc ld">sudo pip3 install oci-cli</span></pre><p id="4cac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">配置防火墙d:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="7625" class="jr js hh kw b fi la lb l lc ld">firewall-offline — add-port=8200/tcp --permanent<br/>firewall-offline — add-service=http --permanent<br/>systemctl restart firewalld</span></pre><p id="74fd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在下载并安装vault:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9521" class="jr js hh kw b fi la lb l lc ld">wget <a class="ae jc" href="https://releases.hashicorp.com/vault/${vault_version}/vault_${vault_version}_linux_amd64.zip" rel="noopener ugc nofollow" target="_blank">https://releases.hashicorp.com/vault/1.4.1/vault_1.4.1_linux_amd64.zip</a></span><span id="2dff" class="jr js hh kw b fi le lb l lc ld">unzip vault_1.4.1_linux_amd64.zip</span><span id="bc71" class="jr js hh kw b fi le lb l lc ld">chown root:root vault</span><span id="6b8f" class="jr js hh kw b fi le lb l lc ld">mv vault /usr/local/bin</span><span id="63e3" class="jr js hh kw b fi le lb l lc ld">setcap cap_ipc_lock=+ep /usr/local/bin/vault</span><span id="a030" class="jr js hh kw b fi le lb l lc ld">mkdir -p /etc/vault.d</span><span id="f877" class="jr js hh kw b fi le lb l lc ld">useradd --system --home /etc/vault.d --shell /bin/false vault</span></pre><p id="95de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在/etc/vault.d中创建一个文件vault.hcl，并输入以下内容:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="4e79" class="jr js hh kw b fi la lb l lc ld">api_addr = "<a class="ae jc" href="http://0.0.0.0:8200" rel="noopener ugc nofollow" target="_blank">${api_addr}</a>"</span><span id="88f7" class="jr js hh kw b fi le lb l lc ld">cluster_name = "vault"</span><span id="2ca3" class="jr js hh kw b fi le lb l lc ld">default_lease_ttl = "5m"</span><span id="b550" class="jr js hh kw b fi le lb l lc ld">listener "tcp" {</span><span id="348d" class="jr js hh kw b fi le lb l lc ld">  address       = "0.0.0.0:8200"</span><span id="edeb" class="jr js hh kw b fi le lb l lc ld">  tls_cert_file = "/path/to/fullchain.pem"</span><span id="3075" class="jr js hh kw b fi le lb l lc ld">  tls_disable   = "true"</span><span id="331a" class="jr js hh kw b fi le lb l lc ld">  tls_key_file  = "/path/to/privkey.pem"</span><span id="da90" class="jr js hh kw b fi le lb l lc ld">}</span><span id="513b" class="jr js hh kw b fi le lb l lc ld">log_level = "INFO"</span><span id="7f35" class="jr js hh kw b fi le lb l lc ld">max_lease_ttl = "30m"</span><span id="22b5" class="jr js hh kw b fi le lb l lc ld">seal "ocikms" {</span><span id="75a3" class="jr js hh kw b fi le lb l lc ld">  auth_type_api_key   = "false"</span><span id="83da" class="jr js hh kw b fi le lb l lc ld">  crypto_endpoint     = "" </span><span id="73cb" class="jr js hh kw b fi le lb l lc ld">  key_id              = ""</span><span id="af4e" class="jr js hh kw b fi le lb l lc ld">  management_endpoint = ""</span><span id="429c" class="jr js hh kw b fi le lb l lc ld">}</span><span id="c6b4" class="jr js hh kw b fi le lb l lc ld">storage "oci" {</span><span id="ff1d" class="jr js hh kw b fi le lb l lc ld">  auth_type_api_key = "false"</span><span id="bd18" class="jr js hh kw b fi le lb l lc ld">  bucket_name       = "vault"</span><span id="8fe3" class="jr js hh kw b fi le lb l lc ld">  ha_enabled        = "true"</span><span id="0956" class="jr js hh kw b fi le lb l lc ld">  lock_bucket_name  = "vault_lock"</span><span id="fc49" class="jr js hh kw b fi le lb l lc ld">  namespace_name    = ""</span><span id="bf5f" class="jr js hh kw b fi le lb l lc ld">}</span><span id="8094" class="jr js hh kw b fi le lb l lc ld">ui = "true"</span></pre><p id="fea5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">crypto_endpoint和management_endpoint值可以在vault页面上获得。将鼠标悬停在它们上面，单击复制并粘贴到上面的值中。可以通过单击键并复制其OCID来获得key_id。最后，对于namespace_name，输入您的租赁名称。</p><p id="9097" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">设置正确的权限和所有权:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c409" class="jr js hh kw b fi la lb l lc ld">chmod 640 /etc/vault.d/vault.hcl</span><span id="5703" class="jr js hh kw b fi le lb l lc ld">chown — recursive vault:vault /etc/vault.d</span></pre><p id="36d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在/etc/systemd/system/vault . service中为vault创建一个服务文件</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b98b" class="jr js hh kw b fi la lb l lc ld">[Unit]<br/>Description="HashiCorp Vault - A tool for managing secrets"<br/>Documentation=https://www.vaultproject.io/docs/<br/>Requires=network-online.target<br/>After=network-online.target<br/>ConditionFileNotEmpty=/etc/vault.d/vault.hcl</span><span id="a183" class="jr js hh kw b fi le lb l lc ld">[Service]<br/>User=vault<br/>Group=vault<br/>ProtectSystem=full<br/>ProtectHome=read-only<br/>PrivateTmp=yes<br/>PrivateDevices=yes<br/>SecureBits=keep-caps<br/>AmbientCapabilities=CAP_IPC_LOCK<br/>Capabilities=CAP_IPC_LOCK+ep<br/>CapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK<br/>NoNewPrivileges=yes<br/>ExecStart=/usr/local/bin/vault server -config=/etc/vault.d/vault.hcl<br/>ExecReload=/bin/kill --signal HUP $MAINPID<br/>KillMode=process<br/>KillSignal=SIGINT<br/>Restart=on-failure<br/>RestartSec=5<br/>TimeoutStopSec=30<br/>LimitNOFILE=65536<br/>LimitMEMLOCK=infinity</span><span id="a011" class="jr js hh kw b fi le lb l lc ld">[Install]<br/>WantedBy=multi-user.target</span></pre><p id="cdf8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为Apache运行状况检查创建一个空白页面，并隐藏欢迎页面:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="cd66" class="jr js hh kw b fi la lb l lc ld">touch /var/www/html/status.html<br/>touch /var/www/html/index.html</span></pre><p id="eec5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在启动服务之前，创建一个动态组用作instance_principal，并添加以下规则:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="1632" class="jr js hh kw b fi la lb l lc ld">instance.id = 'ocid1.instance.oc1.phx.anyhqljtpwxjxiqco6ludyauqasgtjoa4fkoxuy4rvvrdhn4yjgesgaujlkq'</span></pre><p id="d11f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您还可以使用规则构建器创建规则，并在属性下选择“匹配具有ID的实例”:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lx"><img src="../Images/0bcc7f624a36fb9f78494786115c8b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yyb530WTC9ZavY4g4qfMZQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Creating a dynamic group</figcaption></figure><p id="0143" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，创建一个名为vault-policies的策略，并添加以下策略语句(用适当的值替换粗体的语句):</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9fa4" class="jr js hh kw b fi la lb l lc ld">Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to use keys in compartment id <strong class="kw hi">compartment_id</strong> where target.key.id = '<strong class="kw hi">key_id</strong>'<br/>Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to manage buckets in compartment id <strong class="kw hi">compartment_id</strong><br/>Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to manage objects in compartment id <strong class="kw hi">compartment_id</strong><br/>Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to use secrets in compartment id <strong class="kw hi">compartment_id</strong></span></pre><p id="9789" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在根隔离专区中创建第二个policy vault-identity-policies，并添加以下策略语句(将粗体字替换为相应的值):</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d684" class="jr js hh kw b fi la lb l lc ld">Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to {AUTHENTICATION_INSPECT} in tenancy<br/>Allow dynamic-group <strong class="kw hi">dynamic-group-name</strong> to {GROUP_MEMBERSHIP_INSPECT} in tenancy</span></pre><h2 id="1abd" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">配置负载平衡器</h2><p id="2e8e" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">导航到Networking &gt; Load Balancer，创建一个没有后端，只有一个http侦听器的负载平衡器。我们将分别创建后端</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es ly"><img src="../Images/21db37ba437050fefafbeee59d6bbf60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-lPO9PWLsq7pvWWLg_Ms0g.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Creating a load balancer</figcaption></figure><p id="998a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建2个后端集:http和https。</p><p id="356e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于http后端，添加vault后端并将端口设置为80。您不需要添加安全列表，因为您已经在使用NSG。配置运行状况检查:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lx"><img src="../Images/34347266fad2a680d38a1c800a4e0f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvQpK-oWYMpHwxAYWdSGkg.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">http backend health check</figcaption></figure><p id="7989" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">重复https后端设置，并将端口设置为8200和以下端口，以进行运行状况检查:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lz"><img src="../Images/08eeb40741ae2cbc97171a4df293d4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MGC710a7rbqwr9avc283oQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">https health check</figcaption></figure><p id="0447" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建http和https侦听器。</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es ma"><img src="../Images/48c491c7b44cb12b515c0b6e0d98975b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gtjZ3iOVoISd3ZHk-zi7jA.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Creating an http listener</figcaption></figure><p id="c8f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对https侦听器重复相同的操作:</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mb"><img src="../Images/c15b14d4db5ad10c6eb3d7a0445d4c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wphz4nQotih8_vFwalUa_Q.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Creating an https listener</figcaption></figure><p id="07b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">找到负载平衡器的公共IP地址并复制它。导航到DNS区域管理，并为您的域输入“A”记录。您可能想查看本文中<a class="ae jc" rel="noopener" href="/oracledevs/loadbalancer-service-oracle-container-engine-oke-and-oci-dns-d7b1f7b4f9bd">的“在OCI配置DNS”一节。</a></p><h2 id="3144" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">完整的保险库配置</h2><p id="4c9d" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">回到vault服务器，启用并启动服务:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="559c" class="jr js hh kw b fi la lb l lc ld">systemctl enable vault<br/>systemctl start vault</span><span id="87ff" class="jr js hh kw b fi le lb l lc ld">systemctl enable httpd<br/>systemctl start httpd</span></pre><p id="c709" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">设置保管库地址:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="08f5" class="jr js hh kw b fi la lb l lc ld">export VAULT_ADDR=’http://127.0.0.1:8200'</span></pre><p id="1ea1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">初始化保管库:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="5e06" class="jr js hh kw b fi la lb l lc ld">vault operator init &gt; key.txt</span></pre><p id="aced" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">解封保管库:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="5c76" class="jr js hh kw b fi la lb l lc ld">for i in {1..3}<br/>do<br/> vault operator unseal $(grep “Key $i” key.txt | awk ‘{ print $4; }’)<br/>done</span></pre><p id="1351" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用初始根令牌登录vault:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c8e9" class="jr js hh kw b fi la lb l lc ld">export ROOT_TOKEN=$(grep ‘Initial Root Token:’ key.txt | awk ‘{print $NF}’)</span><span id="4e42" class="jr js hh kw b fi le lb l lc ld">vault login $ROOT_TOKEN</span></pre><p id="86e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">启用OCI作为身份验证方法:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d68b" class="jr js hh kw b fi la lb l lc ld">vault auth enable -path=oci oci</span></pre><p id="90fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建一个名为hometenancyid.json的文件(用实际值替换粗体显示的tenancy_id):</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="7ca1" class="jr js hh kw b fi la lb l lc ld">{ "home_tenancy_id": "<strong class="kw hi">tenancy_id</strong>" }</span></pre><p id="5fea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">设置房屋租赁:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="413a" class="jr js hh kw b fi la lb l lc ld">curl --header "X-Vault-Token: $ROOT_TOKEN" --request PUT \</span><span id="65a3" class="jr js hh kw b fi le lb l lc ld">--data @hometenancyid.json \</span><span id="adb4" class="jr js hh kw b fi le lb l lc ld"><a class="ae jc" href="http://127.0.0.1:8200/v1/auth/oci/config" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8200/v1/auth/oci/config</a></span></pre><p id="c053" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建管理员角色:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="00e2" class="jr js hh kw b fi la lb l lc ld">curl --header "X-Vault-Token: $ROOT_TOKEN" --request PUT \</span><span id="5cf3" class="jr js hh kw b fi le lb l lc ld">--data @vaultadminrole.json \</span><span id="f073" class="jr js hh kw b fi le lb l lc ld"><a class="ae jc" href="http://127.0.0.1:8200/v1/auth/oci/role/vaultadminrole" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8200/v1/auth/oci/role/vaultadminrole</a></span></pre><h2 id="4fc8" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">使用“让我们加密”配置证书</h2><p id="6acf" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">安装acme.sh:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c665" class="jr js hh kw b fi la lb l lc ld">curl <a class="ae jc" href="https://get.acme.sh" rel="noopener ugc nofollow" target="_blank">https://get.acme.sh</a> | sh</span></pre><p id="2ca2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更改存储配置，以便重新启动可以正常工作</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="06e6" class="jr js hh kw b fi la lb l lc ld">sudo sed -i 's/"\/path\/to\/fullchain.pem"/"\/etc\/vault.d\/fullchain.pem"/' /etc/vault.d/vault.hcl</span><span id="4dc8" class="jr js hh kw b fi le lb l lc ld">sudo sed -i 's/"\/path\/to\/privkey.pem"/"\/etc\/vault.d\/key.pem"/' /etc/vault.d/vault.hcl</span><span id="a211" class="jr js hh kw b fi le lb l lc ld">sudo sed -i 's/tls_disable = "true"/tls_disable = "false"/' /etc/vault.d/vault.hcl</span></pre><p id="37b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">颁发证书，更改所有权并重新启动vault(用您在DNS中创建的A记录替换fqdn:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="2465" class="jr js hh kw b fi la lb l lc ld">sudo su</span><span id="340a" class="jr js hh kw b fi le lb l lc ld">/root/.acme.sh/acme.sh --issue -d <strong class="kw hi">fqdn</strong> -w /var/www/html/ \<br/>--cert-file /etc/vault.d/cert.pem \<br/>--key-file /etc/vault.d/key.pem \<br/>--fullchain-file /etc/vault.d/fullchain.pem \<br/>--ca-file /etc/vault.d/ca.pem \<br/>--reloadcmd "chown vault:vault /etc/vault.d/*.pem &amp;&amp; systemctl restart vault" --force</span></pre><h2 id="79bc" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">将负载平衡器配置为使用证书</h2><p id="13c8" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">在您之前创建的负载平衡器下，单击证书。然后点击“添加证书”</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mc"><img src="../Images/53790873f90771cd39f3b71d888dd6f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q7OT5PfrCV8MfyY3TG4TMQ.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Creating a certificate</figcaption></figure><p id="4b4c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在SSL证书下，粘贴/etc/vault.d/fullchain.pem的内容。</p><p id="4204" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在CA证书下，粘贴/etc/vault.d/ca.pem的内容。</p><p id="e6cb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在私钥下，粘贴/etc/vault.d/key.pem的内容。</p><p id="9f33" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“添加证书”。</p><p id="e0b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航到“侦听器”并编辑https侦听器。选中“使用SSL ”,选择证书并保存更改。</p><p id="054b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航到“后端集”并编辑https后端集。选中“使用SSL ”,选择证书并保存更改。</p><p id="069f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用您的浏览器，导航到<a class="ae jc" href="https://fqdn/ui" rel="noopener ugc nofollow" target="_blank"> https:// <strong class="ig hi"> fqdn </strong> /ui </a>(用您的fqdn替换)。</p><figure class="kr ks kt ku fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es md"><img src="../Images/bd38a09d84d6995694b1d5112eece39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H5deG1WjKB1NtrnXj7s6Bg.png"/></div></div></figure><p id="4ad1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用根令牌登录。</p><h2 id="5b36" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated"><strong class="ak">使用实例主体和用户身份进行认证</strong></h2><p id="68b2" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">在vault服务器上，创建名为vaultadminrole.json的文件，并输入以下内容(用vault实例主体动态组的ocid替换ocid.dynamic.group.id):</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="73a3" class="jr js hh kw b fi la lb l lc ld">{                                                                                                                                                                     <br/>  "token_policies": "vaultadminpolicy",                                                                                                                               <br/>  "token_ttl": "1800",                                                                                                                                                <br/>  "ocid_list": "<strong class="kw hi">ocid.dynamic.group.id</strong>"                                                                 <br/>}</span></pre><p id="2f34" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">编辑/etc/hosts文件并添加(用您的文件替换fqdn):</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9a0e" class="jr js hh kw b fi la lb l lc ld">10.0.2.2 <strong class="kw hi">fqdn</strong></span></pre><p id="13da" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将保管库地址设置为您的fqdn:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="be2c" class="jr js hh kw b fi la lb l lc ld">export VAULT_ADDR='https://fqdn:8200'</span></pre><p id="0df0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">再次登录:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="3b75" class="jr js hh kw b fi la lb l lc ld">vault login $ROOT_TOKEN</span></pre><p id="84b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建管理员角色:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="f316" class="jr js hh kw b fi la lb l lc ld">curl --header "X-Vault-Token: $ROOT_TOKEN" --request PUT \<br/>--data @vaultadminrole.json "${VAULT_ADDR}<a class="ae jc" href="http://127.0.0.1:8200/v1/auth/oci/role/vaultadminrole" rel="noopener ugc nofollow" target="_blank">/v1/auth/oci/role/vaultadminrole</a>"</span></pre><p id="0c8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用instance_principal测试登录:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d318" class="jr js hh kw b fi la lb l lc ld">vault login -method=oci auth_type=instance role=vaultadminrole</span></pre><p id="4b59" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您还可以使用您的API密匙测试<a class="ae jc" href="https://www.vaultproject.io/docs/auth/oci#manage-roles-in-the-oci-auth-method" rel="noopener ugc nofollow" target="_blank">登录。您需要创建一个组，并将您的用户添加到该组中。然后将您的组id添加到ocid_list(替换group.id ),并将其保存到devrole.json:</a></p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="3f71" class="jr js hh kw b fi la lb l lc ld">{ <br/>"token_policies": "devpolicy", <br/>"token_ttl": "1500", <br/>"ocid_list": "<strong class="kw hi">group.id</strong>"<br/>}</span></pre><p id="3242" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加新角色:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="04d6" class="jr js hh kw b fi la lb l lc ld">curl --header "X-Vault-Token: $ROOT_TOKEN" --request PUT \<br/>--data @devrole.json "${VAULT_ADDR}<a class="ae jc" href="http://127.0.0.1:8200/v1/auth/oci/role/vaultadminrole" rel="noopener ugc nofollow" target="_blank">/v1/auth/oci/role/devrole</a>"</span></pre><p id="f862" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.cloud.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm" rel="noopener ugc nofollow" target="_blank">安装oci-cli </a>和<a class="ae jc" href="https://docs.cloud.oracle.com/en-us/iaas/Content/API/Concepts/sdkconfig.htm" rel="noopener ugc nofollow" target="_blank">配置</a>。</p><p id="4587" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，您可以使用您的API密钥登录:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="853c" class="jr js hh kw b fi la lb l lc ld">vault login -method=oci auth_type=apikey role=devrole</span></pre><h2 id="609f" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">摘要</h2><p id="5236" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">请注意，本文不处理<a class="ae jc" href="https://www.vaultproject.io/docs/concepts/ha" rel="noopener ugc nofollow" target="_blank">高可用性</a>或<a class="ae jc" href="https://learn.hashicorp.com/vault/operations/production-hardening" rel="noopener ugc nofollow" target="_blank">生产强化</a>。有关这些信息，请参考Vault文档。</p><p id="37e2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在未来的帖子中，我们还将看看在OCI上使用Vault的一些用例。</p><h2 id="2b6c" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated"><strong class="ak"> Gratus Aeternum </strong></h2><ul class=""><li id="46ca" class="jd je hh ig b ih km il kn ip me it mf ix mg jb ji jj jk jl bi translated"><a class="ae jc" href="https://github.com/heungheung" rel="noopener ugc nofollow" target="_blank"> Kenneth Heung </a></li><li id="0e5a" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">阿维·米勒</li></ul><h2 id="a2ad" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated">文件和相关文章</h2><p id="2feb" class="pw-post-body-paragraph ie if hh ig b ih km ij ik il kn in io ip ko ir is it kp iv iw ix kq iz ja jb ha bi translated">开始使用:</p><div class="mh mi ez fb mj mk"><a href="https://learn.hashicorp.com/vault#getting-started" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hi fi z dy mp ea eb mq ed ef hg bi translated">跳马课程-哈希公司学习</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">了解如何为任何应用配置、保护、连接和运行任何基础架构。</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">learn.hashicorp.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my lm mk"/></div></div></a></div><p id="cab2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://dev.to/v6/get-a-root-token-for-hashicorp-vault-2o9j" rel="noopener ugc nofollow" target="_blank">获取哈希公司保险库的根令牌</a></p><p id="e649" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://www.vaultproject.io/docs/auth/oci" rel="noopener ugc nofollow" target="_blank">整合OCI认证方法</a></p><p id="93bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://www.vaultproject.io/docs/configuration/seal/ocikms" rel="noopener ugc nofollow" target="_blank">整合金库和OCI KMS </a></p><p id="8740" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://www.vaultproject.io/docs/configuration/storage/oci-object-storage" rel="noopener ugc nofollow" target="_blank">集成金库和OCI对象存储</a></p><p id="0c2d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@dwdraju/securing-hashicorp-vault-with-lets-encrypt-ssl-19cad1eb294">使用加密SSL保护Hashicorp保险库</a></p><p id="c6d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://github.com/acmesh-official/acme.sh" rel="noopener ugc nofollow" target="_blank"> Acme.sh </a></p></div></div>    
</body>
</html>