<html>
<head>
<title>Mapping the World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">绘制世界地图</h1>
<blockquote>原文：<a href="https://medium.com/airbnb-engineering/mapping-the-world-a631a96a3b3a?source=collection_archive---------0-----------------------#2015-01-07">https://medium.com/airbnb-engineering/mapping-the-world-a631a96a3b3a?source=collection_archive---------0-----------------------#2015-01-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2fa1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由<a class="jc jd ge" href="https://medium.com/u/e0b86d3f3f13?source=post_page-----a631a96a3b3a--------------------------------" rel="noopener" target="_blank">哈里森·肖夫</a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/a96a8cb41a975aa6a6572aa193aae575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaafCOA1RIYN0bHuiSFlQA.png"/></div></div></figure></div><div class="ab cl jq jr go js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="ha hb hc hd he"><p id="bc2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我告诉人们扎克·沃克的事情时，他们总是很惊讶，<a class="ae jx" href="http://www.theverge.com/2013/10/2/4790674/airbnbs-chief-cartographer-helps-sell-renters-on-lesser-know" rel="noopener ugc nofollow" target="_blank"> Airbnb的内部制图员</a>，他致力于绘制世界地图。</p><p id="df40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">他们说，“世界已经被绘制出来了！有谷歌地图、Foursquare、Yelp、Garmin、国家地理、郑和、伊莎贝拉·伯德、路易斯&amp;克拉克&amp;萨卡加维亚、莱夫·埃里克森、大卫·爱登堡讲述的行星地球系列……”</p><p id="4abc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是真的，那么这是怎么回事？</p><p id="162f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这都是关于“AT-AT”的，这是我们构建的一个新的内部工具，用于了解位置及其与其他位置的关系。看起来是这样的:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jy"><img src="../Images/810fd128716cdae90bea6f98cd4858de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MvMLgLlk_J40lkW2lMLjDw.gif"/></div></div></figure><h1 id="7585" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">大问题和难题</h1><p id="04f6" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">在Airbnb，我们想要回答的问题是，你如何在没有去过的情况下理解一个地方？</p><p id="7e66" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如何捕捉为什么你朋友说你不会喜欢渔人码头，但你还是要去那里从In N Out弄个double double？</p><p id="2f9b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你怎么知道世界上哪里会是你完美旅行的地方？</p><h1 id="048e" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">当前解决方案</h1><p id="1d62" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">我们目前通过多种方式解决这个问题:</p><ul class=""><li id="7951" class="lc ld hh ig b ih ii il im ip le it lf ix lg jb lh li lj lk bi translated">当你在寻找一个住宿的地方时，我们的<a class="ae jx" href="http://nerds.airbnb.com/location-relevance/" rel="noopener ugc nofollow" target="_blank">位置相关性模型</a>让Airbnb社区向未来的客人通知好的住宿地点。</li><li id="5ae8" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">当你在探索新的体验地方时，<a class="ae jx" href="https://www.airbnb.com/locations" rel="noopener ugc nofollow" target="_blank"> Airbnb Neighborhoods </a>将当地的编辑内容与方便、需要知道的信息以及专业照片结合起来，无需离开椅子就能探索一个地方。</li><li id="26a7" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">我们的<a class="ae jx" href="http://www.wired.com/2014/07/airbnb_recommendations/" rel="noopener ugc nofollow" target="_blank">探索团队</a>正在用自然语言处理和机器学习算法构建大东西，以理解评论、列表描述和搜索模式，从我们的主页上推荐完美的住宿地点。</li><li id="95f6" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">主机指南可以让你找到主机的推荐。</li></ul><p id="0a5b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些产品结合在一起，帮助Airbnb旅行者发现构成一个城市的所有精彩之处，而不仅仅是传统住宿通常存在的市中心地区。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lq"><img src="../Images/90393684aaa443d7d06571a0a8319ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nzrmGa8PC6hiJTgd.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx"><em class="lv">Airbnb accommodations (red) and traditional accommodations (blue) in San Francisco</em></figcaption></figure><p id="4b23" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">位置是我们许多工程工作的重要组成部分。我们的团队需要帮助Airbnb旅行者减轻他们在寻找住宿地点时的头号担忧:位置。另一方面，我们希望强调Airbnb主机在世界各地开放的100多万个独特的房源。</p><h1 id="772a" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">下一步是什么</h1><p id="8a72" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">当邻居试图给你找一个完美的住处时，他们只能带你走这么远。</p><p id="e3f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有一些具有文化意义的地区没有在地图上画出来。他们大多生活在当地社区的思想中，把这些地方叫做家。这些区域可能是沿着一条道路穿过3个街区的城镇的独特部分。或者它们可能是一种描述多个社区之间共同点的方式。</p><p id="1e7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">扎克·沃克为寻找和绘制这些地方付出了巨大的努力。他研究历史和当前的数据，与社区的人们交谈，并回复主人的电子邮件，以建立当地人如何理解他们在世界上的位置的清晰图像。</p><p id="2b2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，当你在北加州的“葡萄酒之乡”寻找住处时，我们应该向你展示纳帕和索诺马，并帮助你了解这两个县之间的差异和相似之处。</p><p id="cbaf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然我们对此感到非常兴奋，但在我们当前的架构和现有的内部工具下，这是不可能的。我们需要更大的东西。</p><h1 id="057c" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">在-处输入项目</h1><p id="5043" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">一个由Christopher Lin、Alex Blackstock、Daniel Loreto和我组成的小团队开始开发工具来帮助Zack Walker绘制世界地图。</p><p id="7d56" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">关于项目代号的说明:Zack不让我们称它为“步行机系统”，所以Christopher Lin做了一件退而求其次的事情，使用了一个星球大战参考(帝国步行机或全地形装甲运输，通常称为“AT-AT”)。</p><p id="810d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">AT-AT的技术体系如下:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lw"><img src="../Images/499d5420f25f6916eefe6cd86827d7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_rErdKDDry7qLv_5.png"/></div></div></figure><p id="9c85" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的第一步是推广现有系统，使其能够处理各种地理多边形(大陆、国家、市场区域、特殊区域、城镇)，而不仅仅是城市和社区。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jy"><img src="../Images/98a7e8dc7669d3a06093d5e307c0e6ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nt1OhDZoJWt7HuXAcuih-A.gif"/></div></div></figure><h1 id="b369" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">关系</h1><p id="e0c8" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">创建多边形时，后端会计算以下内容:</p><ul class=""><li id="3163" class="lc ld hh ig b ih ii il im ip le it lf ix lg jb lh li lj lk bi translated">更高类型的祖先多边形，包含此多边形的多边形(San Francisco =&gt; SoMa)</li><li id="9925" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">相同类型的相邻多边形、重叠/有边界的多边形(SoMa = &gt;市中心)</li><li id="3cb3" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">较低类型的后代多边形，此多边形包含的多边形(SoMa =&gt; Folsom Street Fair)</li><li id="76a2" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">多边形质心的纬度/经度</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lx"><img src="../Images/a982b86fdfef45568e2c9b6e0c19814a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3dtd1hYo0lUn8CGd.png"/></div></div></figure><h1 id="ecb6" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">航行</h1><p id="54f4" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">在多边形的工作空间中导航可能会很棘手。我们花了几次迭代才找到让UI消失在背景中的交互模式。</p><p id="092c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">系统用户界面的基本原则:</p><ol class=""><li id="feab" class="lc ld hh ig b ih ii il im ip le it lf ix lg jb ly li lj lk bi translated">不要弄坏后退按钮</li><li id="4fa0" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb ly li lj lk bi translated">只渲染必要的内容</li><li id="87fd" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb ly li lj lk bi translated">根据需要透露信息</li><li id="dea2" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb ly li lj lk bi translated">除去</li></ol><p id="cca1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们决定采用以下交互方式:单击选择一个多边形并只呈现其相邻的多边形，</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lz"><img src="../Images/34791a5fc7da52188e80e9377623006e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iuzmwWto2W7eaLf_IIuVPQ.gif"/></div></div></figure><p id="c3e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">双击会捕捉到选定的多边形。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lz"><img src="../Images/0d5f38ec6c99d68727a05bf0c7e15f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dnhYjOetOgmsLlxDSnZHxg.gif"/></div></div></figure><h1 id="4037" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">工具文化</h1><p id="38fc" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">构建旅行的未来需要许多特殊的工具在后台协同工作。</p><p id="dea3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">AT-AT只是这些工具中的一个，它是为其他服务和工具获取位置数据的基础，是回答“我下一次最完美的旅行在哪里？”的第一步</p><p id="0621" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当构建工具时，记住你永远无法预测未来的用例。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ma"><img src="../Images/9f34019872d1570ae40437d2b711f674.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/0*INMi7K2GwAsS2Yuk.jpg"/></div></figure><p id="8330" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你将从航运中学到最多。</p><h1 id="9656" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">特别感谢</h1><p id="decf" class="pw-post-body-paragraph ie if hh ig b ih kx ij ik il ky in io ip kz ir is it la iv iw ix lb iz ja jb ha bi translated">扎克·沃克，本·休斯，安迪·克拉莫利施，安·蒙哥马利。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mb"><img src="../Images/3913f6470a7657e02386189e67b4eb30.png" data-original-src="https://miro.medium.com/v2/resize:fit:108/format:webp/1*YsUOrWx3mRxZZljtc9xZyw.png"/></div></figure><h2 id="8e81" class="mc ka hh bd kb md me mf kf mg mh mi kj ip mj mk kn it ml mm kr ix mn mo kv mp bi translated">在<a class="ae jx" href="http://airbnb.io" rel="noopener ugc nofollow" target="_blank"> airbnb.io </a>查看我们所有的开源项目，并在Twitter上关注我们:<a class="ae jx" href="https://twitter.com/AirbnbEng" rel="noopener ugc nofollow" target="_blank">@ Airbnb eng</a>+<a class="ae jx" href="https://twitter.com/AirbnbData" rel="noopener ugc nofollow" target="_blank">@ Airbnb data</a></h2></div><div class="ab cl jq jr go js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="ha hb hc hd he"><p id="22ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="mq">原载于2015年1月7日nerds.airbnb.com</em><em class="mq"/><a class="ae jx" href="http://nerds.airbnb.com/mapping-world/" rel="noopener ugc nofollow" target="_blank"><em class="mq">。</em></a></p></div></div>    
</body>
</html>