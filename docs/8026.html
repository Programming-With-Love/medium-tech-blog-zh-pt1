<html>
<head>
<title>MLOps — Is it a Buzzword??? Part -1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLOps——它是一个流行词吗？？？第一部分</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/mlops-is-it-a-buzzword-part-1-8573fe95290e?source=collection_archive---------0-----------------------#2021-06-16">https://medium.com/walmartglobaltech/mlops-is-it-a-buzzword-part-1-8573fe95290e?source=collection_archive---------0-----------------------#2021-06-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/b078a560d98e0b9545c2cbc9eb406029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k_APls4qmxNPXSWqH23r5Q.png"/></div></div></figure><p id="0253" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最近，围绕“MLOps”这个时髦词出现了许多文章。但它到底是什么？它是一个基于神经网络架构的艺术 的<strong class="ir hi"> <em class="jn">开始，还是一个将神奇地解决许多不同问题的新<strong class="ir hi"> <em class="jn"> sklearn </em> </strong>包？让我们以这篇文章为契机，深入探讨一下。</em></strong></p><p id="60c7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将是一个由三部分组成的系列:</p><ul class=""><li id="745c" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">第1部分:MLOps、编排工具和理解Kubeflow管道的基础知识</li><li id="52c5" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">第2部分:用示例介绍Kubeflow管道</li><li id="4e75" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">第3部分:使用Vertex AI (Managed Kubeflow)的端到端ML实现</li></ul><p id="8426" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> MLOps: </strong></p><p id="4753" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">MLOps描述了一套结合机器学习、DevOps和数据工程的实践，旨在可靠有效地在生产中部署和维护ML系统，使您的模型开发成为产品生态系统的一部分。</p><figure class="kd ke kf kg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kc"><img src="../Images/3af1f30deb8a8a92fc72d70d45c94a90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l10ZazTm6QOnmgKKPIdeIA.jpeg"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx">Image Source : <a class="ae kl" href="https://blogs.nvidia.com/blog/2020/09/03/what-is-mlops/" rel="noopener ugc nofollow" target="_blank">Nvidia Blog</a></figcaption></figure><p id="cab4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">机器学习开发通常由一系列步骤(或<em class="jn"> DAG </em>)组成，这些步骤需要顺序或并行执行，以产生最终模型，该模型可通过端点提供服务或可用于批量预测。<em class="jn">所涉及的各个步骤在数据工程师、数据科学家和软件工程师之间存在依赖性，使得整个流程的再现性和可重复性成为一项繁琐的活动。此外，每个步骤中涉及的资源(计算/内存)有不同的要求，如果设置不当，可能会极大地影响您的数据科学预算。</em></p><p id="79cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果这看起来和你的组织所面临的问题相似，那么这篇文章就是为你准备的。</p><p id="ff62" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn"> MLOps不是工具，</em> </strong>而是实践。它可以通过市场上可用的各种编排工具作为管道来实现，以使ML工作流过程成为更简化的活动。</p><ul class=""><li id="f24c" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">阿帕奇气流</li><li id="9031" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">Kubeflow管道(它使用Argo编排)</li><li id="1bcf" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">路易吉等。</li></ul><p id="1482" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我将更详细地解释Kubeflow管道，但我想提醒您，就其支持而言，Airflow相对成熟，并且与其他工具有很好的集成。此外，如果您的数据组织已经在使用Airflow，那么扩展其功能会更容易。</p><p id="3ff3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">为什么选择Kubeflow管道:</strong></p><ul class=""><li id="b598" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">Kubeflow管道允许人们建立可移植的、可扩展的机器学习工作流程。</li><li id="401c" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">ML工作流中的每个步骤都有不同的系统要求(<em class="jn">数据提取/处理可能需要Hadoop集群，模型训练需要CPU/GPU，模型服务需要高可用的GPU/CPU机器</em>)。理想的场景是在Kubernetes的基础上构建这个系统(由于不同的系统需求),并将各个步骤容器化。但这需要在Kubernetes上构建一个可扩展的系统的大量专业知识，这就是Kubeflow pipelines来拯救的地方(仅供参考，使用Airflow Docker Operator也可以做到这一点)。</li><li id="369f" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">此外，了解Kubeflow管道变得越来越重要，因为云提供商的托管管道(<strong class="ir hi"> Vertex AI </strong> (GCP)和<strong class="ir hi"> Sagemaker </strong> (AWS))是建立在Kubeflow管道之上的</li></ul><blockquote class="km kn ko"><p id="57ad" class="ip iq jn ir b is it iu iv iw ix iy iz kp jb jc jd kq jf jg jh kr jj jk jl jm ha bi translated">(这里暂停一下。我将在第2部分提供Kubeflow管道的工作示例。从这里开始，更多的是了解Kubeflow管道所需的基础知识)</p></blockquote><p id="e1e3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们解决一些关键概念，以便用基础知识打下更坚实的基础</p><figure class="kd ke kf kg fd ii er es paragraph-image"><div class="er es ks"><img src="../Images/f880d768cbdc6339fbbee880469219c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*KWeXamv1oqIvzKLlPhn-rA.png"/></div><figcaption class="kh ki et er es kj kk bd b be z dx">Image Source : <a class="ae kl" href="https://pbs.twimg.com/profile_images/1273307847103635465/lfVWBmiW_400x400.png" rel="noopener ugc nofollow" target="_blank">Docker</a></figcaption></figure><p id="aa95" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Docker: </strong></p><p id="5f48" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Docker是一个容器化平台，它以Docker容器的形式将您的应用程序及其所有依赖项打包在一起，以确保您的应用程序在任何环境下都能无缝工作。更简单地说，它将应用程序和基础设施的依赖关系封装在一起。(仅供参考，在Kubeflow管道中，每个组件代表一个容器)</p><p id="6fce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">不带Docker: </strong></p><p id="eb37" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设您有一个基于web的应用程序，您想将其托管在一个服务器上。视其是否为<strong class="ir hi"> <em class="jn">。基于. net </em> </strong>或者基于Java<em class="jn"/>你可能需要在你的服务器上安装IIS/tomcat  中的一个。它的版本需要在开发/测试和生产阶段是相似的，否则你将面临传统的问题，</p><blockquote class="km kn ko"><p id="8d1e" class="ip iq jn ir b is it iu iv iw ix iy iz kp jb jc jd kq jf jg jh kr jj jk jl jm ha bi translated">"T23它在我的机器上有效，但在产品上无效"</p></blockquote><p id="fb09" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">同Docker: </strong></p><p id="afc0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">开发者将创建一个tomcat/Windows IIS docker映像(一个映像只不过是一个部署相同配置的多个容器的蓝图)，使用一个像Ubuntu这样的基础映像，它已经存在于Docker Hub中。现在，开发人员、测试人员和系统管理员可以使用这个映像来部署tomcat环境。容器就是这样解决问题的。</p><p id="3e74" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">够描述！！！</strong></p><p id="5824" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们用例子来理解它</p><figure class="kd ke kf kg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/3767e4565b237dc6ee9465f7946f81ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAiUaeuqr4fG9-LnZeHRHg.jpeg"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx">Image Source : <a class="ae kl" href="https://lh3.googleusercontent.com/guEcIQ8rmHR0S29wqoqv9Vs_Qz5T8JWckynh5Z4_EVfZOLSpUyZ-w_fexPhZlgGC1T6mT0oJZScTky7co6yrDVyvY0gp_gxtOj1omsEyicTkdp9m1DmhGnVLFr1yVsev7AvHG2s" rel="noopener ugc nofollow" target="_blank">Docker Basics</a></figcaption></figure><p id="0706" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是一个使用Python的简单的Flask应用程序，一旦运行，它会给你一个返回“Hello World”的端点</p><figure class="kd ke kf kg fd ii"><div class="bz dy l di"><div class="ku kv l"/></div></figure><p id="5315" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是<strong class="ir hi"> Dockerfile </strong>，它只是一组指令，告诉我们如何创建图像</p><figure class="kd ke kf kg fd ii"><div class="bz dy l di"><div class="ku kv l"/></div></figure><ul class=""><li id="af57" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated"><code class="du kw kx ky kz b">FROM</code>告诉Docker你的图像基于哪个图像(在例子中，Python 3.6)。</li><li id="bbbc" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">从当前目录到/app文件夹的所有内容</li><li id="9abd" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated"><code class="du kw kx ky kz b">RUN</code>告诉Docker要执行哪些附加命令。</li><li id="0839" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated"><code class="du kw kx ky kz b">CMD</code>告诉Docker在镜像加载时执行命令。</li></ul><p id="d0f6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Docker Image </strong>:创建容器的蓝图。图像是不可变的，从同一个图像创建的所有容器都是完全一样的</p><p id="9793" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Docker容器</strong>:Docker映像的运行实例。在我们的示例中，一旦Docker映像运行，就会产生一个带有端点的Python映像的运行实例(取决于您想要映射哪个端口)</p><p id="de52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以使用下面的命令<code class="du kw kx ky kz b">$ docker build -t firstapp .</code>构建docker映像</p><p id="dd44" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它为你建立了一个Docker图像，你可以用它来列出</p><p id="0c94" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du kw kx ky kz b">$ docker images</code></p><p id="eb62" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您可以运行docker映像来获得一个正在运行的实例。这里，我们将系统中的端口5000映射到Docker容器中的端口</p><p id="3274" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du kw kx ky kz b">$ docker run -d -p 5000:5000 &lt;docker_image_id&gt;</code></p><p id="ba88" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要列出系统中运行的容器，可以使用命令<code class="du kw kx ky kz b">docker ps -a</code></p><p id="c27d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">实验完成后，首先停止容器，然后删除容器，最后删除映像，确保清理系统中的资源</p><pre class="kd ke kf kg fd la kz lb lc aw ld bi"><span id="8646" class="le lf hh kz b fi lg lh l li lj">docker stop &lt;continaer_id&gt; # stops the running container<br/>docker rm &lt;container_id&gt; # removes the container<br/>docker rmi &lt;image_id&gt; # removes the docker image</span></pre><blockquote class="km kn ko"><p id="19ad" class="ip iq jn ir b is it iu iv iw ix iy iz kp jb jc jd kq jf jg jh kr jj jk jl jm ha bi translated"><em class="hh">好了足够多的容器，让我们对Kubernetes有一个简单的了解，然后结束这篇文章</em></p></blockquote><p id="2e6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn">来自官方文档:</em> </strong></p><p id="2acc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Kubernetes是一个可移植的、可扩展的开源平台，用于管理容器化的工作负载和服务，方便了声明式配置和自动化。它有一个庞大的、快速增长的生态系统。Kubernetes的服务、支持和工具随处可见。</p><p id="2314" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn">部署结束时间</em> </strong>:</p><figure class="kd ke kf kg fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/a9ceef7de174250b8f614d4d4b7d9089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4tOB-sTFnb3YhVH6l9DMCg.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx">Image Source : <a class="ae kl" href="https://d33wubrfki0l68.cloudfront.net/26a177ede4d7b032362289c6fccd448fc4a91174/eb693/images/docs/container_evolution.svg" rel="noopener ugc nofollow" target="_blank">Kubernetes Going back in Time</a></figcaption></figure><p id="8ce6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们为什么需要Kubernetes</p><p id="6c45" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">容器是捆绑和运行应用程序的好方法。在生产环境中，您需要管理运行应用程序的容器，并确保没有停机。例如，如果一个容器关闭，另一个容器需要启动。如果这种行为由一个系统来处理不是更容易吗？</p><p id="e02d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就是Kubernetes来救援的地方！Kubernetes为您提供了一个灵活运行分布式系统的框架。它负责应用程序的伸缩和故障转移，提供部署模式等等。例如，Kubernetes可以轻松地为您的系统管理canary部署。</p><blockquote class="km kn ko"><p id="900e" class="ip iq jn ir b is it iu iv iw ix iy iz kp jb jc jd kq jf jg jh kr jj jk jl jm ha bi translated">在这里结束。我保证我的下一篇文章将减少描述，增加编码示例。感谢您花时间阅读本文！</p></blockquote><h1 id="ac30" class="ll lf hh bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">如果你喜欢这篇文章，请给👏！</h1><p id="fd02" class="pw-post-body-paragraph ip iq hh ir b is mi iu iv iw mj iy iz ja mk jc jd je ml jg jh ji mm jk jl jm ha bi translated">参考资料:</p><div class="mn mo ez fb mp mq"><a href="https://www.docker.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hi fi z dy mv ea eb mw ed ef hg bi translated">增强开发者的应用开发能力| Docker</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">了解Docker如何通过克服应用程序开发的复杂性来帮助开发人员实现他们的想法。</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">www.docker.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne in mq"/></div></div></a></div><div class="mn mo ez fb mp mq"><a href="https://kubernetes.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hi fi z dy mv ea eb mw ed ef hg bi translated">生产级容器编排</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">Kubernetes，也称为K8s，是一个开源系统，用于自动部署、扩展和管理…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">kubernetes.io</p></div></div><div class="mz l"><div class="nf l nb nc nd mz ne in mq"/></div></div></a></div><div class="mn mo ez fb mp mq"><a href="https://jfrog.com/knowledge-base/a-beginners-guide-to-understanding-and-building-docker-images/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hi fi z dy mv ea eb mw ed ef hg bi translated">理解和构建Docker图像的初学者指南</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">码头工人图像实用指南。它们如何工作，如何创造，如何优化，在哪里可以找到现成的…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">jfrog.com</p></div></div><div class="mz l"><div class="ng l nb nc nd mz ne in mq"/></div></div></a></div></div></div>    
</body>
</html>