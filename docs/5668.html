<html>
<head>
<title>DevOps Series: Running Oracle Database 19C in a Docker Container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DevOps系列:在Docker容器中运行Oracle数据库19C</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/devops-series-running-oracle-database-19c-in-a-docker-container-b41f142c19f6?source=collection_archive---------0-----------------------#2019-10-21">https://medium.com/oracledevs/devops-series-running-oracle-database-19c-in-a-docker-container-b41f142c19f6?source=collection_archive---------0-----------------------#2019-10-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="af35" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">作者:<a class="iw ix ge" href="https://medium.com/u/ba3f0a72ff81?source=post_page-----b41f142c19f6--------------------------------" rel="noopener" target="_blank">纳西姆·巴沙</a>(甲骨文王牌总监，OCM)<a class="iw ix ge" href="https://medium.com/u/3757393c69bd?source=post_page-----b41f142c19f6--------------------------------" rel="noopener" target="_blank">莫诺瓦·穆库尔</a> (OCM)</h2></div><h1 id="22de" class="iy iz hh bd ja jb jc jd je jf jg jh ji in jj io jk iq jl ir jm it jn iu jo jp bi translated">介绍</h1><p id="d83c" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">在本文中，我们将学习安装Docker的先决条件，然后使用Docker容器，我们将了解如何在其上运行数据库和监听器。</p><p id="341f" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在我们的环境中，我们使用了Linux 7.5和Docker版本1.23.1。我们只需要一个非常轻量级的Linux机器来使用Docker。</p><p id="07cd" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">首先，我们要安装Docker引擎和Docker compose。</strong></p><p id="bbce" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> i)安装Docker引擎:</strong> <br/> <em class="kr"> sudo yum安装docker-engine -y </em></p><p id="c6c3" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在安装docker引擎之前，请确保对public-yum-ol7.repo文件进行更改，如Oracle Linux 7.5上Docker安装的简单指南所述，<a class="ae ks" href="https://blogs.oracle.com/author/puneeth-prakash" rel="noopener ugc nofollow" target="_blank">Puneeth Prakash</a>(<a class="ae ks" href="https://blogs.oracle.com/blogbypuneeth/a-simple-guide-to-docker-installation-on-oracle-linux-75" rel="noopener ugc nofollow" target="_blank">https://blogs . Oracle . com/blogbypuneeth/A-Simple-Guide-to-Docker-installation-on-Oracle-Linux-75</a>)</p><p id="81f7" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> ii)开始对接:</strong> <br/> sudo服务对接开始</p><p id="fac3" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><em class="kr"> # </em> <strong class="js hi"> <em class="kr"> docker —版本</em> </strong> <br/> Docker版本18.09.1-ol，build c3ab8a8</p><p id="f7f7" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">iii)安装Docker-compose: </p><p id="475f" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">Docker Compose是一个允许你定义和运行多容器Docker应用程序的工具。首先使用将Docker Compose二进制文件下载到/usr/local/bin目录</p><blockquote class="kt ku kv"><p id="b37b" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">#<em class="hh">sudo curl-L "</em><a class="ae ks" href="https://github.com/docker/compose/releases/download/1.23.1/docker-compose-$(uname" rel="noopener ugc nofollow" target="_blank"><em class="hh">https://github . com/docker/compose/releases/download/1 . 23 . 1/docker-compose-$(uname</em></a><em class="hh">-s)-$(uname-m)"-o/usr/local/bin/docker-compose</em></p><p id="5a46" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">% Total % Received % Xferd平均速度时间时间时间当前时间<br/> Dload上传总花费左速度<br/>100 617 0 617 0 791 0--::-:-:-::-792<br/>100 11.1m 100 11.1m 0 0 842k 0:00:13 0:00:13--::-930k</p><p id="f30d" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">下载完成后，通过键入以下命令生成二进制可执行文件:<br/>#<em class="hh">sudo chmod+x/usr/local/bin/docker-compose<br/>您在/var/spool/mail/root中有新邮件</em></p></blockquote><p id="1b42" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">要验证安装，请键入以下命令来打印合成版本:<br/><em class="kr">#</em><strong class="js hi"><em class="kr"/></strong><em class="kr">docker-Compose—version</em><br/>docker-Compose version 1 . 23 . 1，build b02f1306</p><blockquote class="kt ku kv"><p id="f6b5" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated"><em class="hh"> #服务docker状态</em> <br/>重定向到/bin/systemctl状态Docker . service<br/>●Docker . service—Docker应用容器引擎<br/>Loaded:Loaded(/usr/lib/systemd/system/Docker . service；已启用；厂商预置:已禁用)<br/>插件:/etc/systemd/system/docker . service . d<br/>└─docker-sysconfig.conf<br/>活跃:活跃(正在运行)自周二2019–09–10 18:49:30 aest；11分钟前<br/>文档:<a class="ae ks" href="https://docs.docker.com" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com</a>t21】主PID: 3706 (dockerd) <br/>内存:101.5m<br/>cgroup:/system . slice/docker . service<br/>└─3706/usr/bin/dockerd—selinux—enabled—不安全—注册表172.30.0.0/16 —存储—驱动程序设备映射器—…</p><p id="c0c5" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">9月10日18:49:01 ops dev . local domain Docker[3706]:time = " 2019–09——<br/>9月10日18:49:30 ops dev . local domain systemd[1]:已启动Docker应用程序容器引擎。<br/>提示:一些行被省略，使用-l来完整显示。</p></blockquote><p id="3c26" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在安装过程中创建了一个新的Unix组<strong class="js hi"> docker </strong>。将oracle用户添加到Docker组。</p><blockquote class="kt ku kv"><p id="633a" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">#<strong class="js hi"><em class="hh"/></strong><em class="hh">usermod-a-G docker Oracle</em><br/>#<em class="hh">id Oracle</em><br/>uid = 600(Oracle)GID = 54321(oinstall)groups = 54321(oinstall)、54322(dba)、54323(oper)、54324(backupdba)、54325(dgdba)、54326(kmdba)</p></blockquote><p id="2f37" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在本文中，我将使用Oracle 19.3.0版提取docker映像，我已经基于Oracle 19 . 3 . 0企业版构建了该映像。我用它来做测试。请按照您的许可要求使用。</p><p id="a31b" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> V)连接到docker hub </strong></p><p id="1305" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">#<strong class="js hi"><em class="kr"/></strong><em class="kr">docker登录-u banglamon </em> <br/>密码:xxxxx <br/>登录成功</p><p id="d71a" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">如果你没有任何账户，那么你可以在<a class="ae ks" href="https://hub.docker.com/." rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/.</a>上注册一个<strong class="js hi">账户</strong></p><p id="d2ca" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> Vi)从docker hub中提取图像</strong></p><blockquote class="kt ku kv"><p id="df24" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">#<em class="hh">docker Pull banglamon/Oracle 193 db:19 . 3 . 0-ee</em><br/>尝试拉资源库docker.io/banglamon/oracle193db…<br/>19 . 3 . 0-ee:从docker.io/banglamon/oracle193db拉<br/> ad18637d63f5:拉完成<br/> 4aebb26cf7d5:拉完成<br/> 30325de6313a:拉完成<br/> 17163f94892b:拉完成</p></blockquote><p id="21ed" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> VII)验证Oracle数据库的docker映像</strong></p><p id="30c1" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><em class="kr"># docker image ls | grep Oracle</em></p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es kz"><img src="../Images/34ca7f13534ca1594f578bf01c05b2ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NfVLJtDko3D9ODNKswzDVg.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Figure: docker image</figcaption></figure><p id="cb38" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> VIII)将Oracle数据库设置为容器</strong></p><p id="37e9" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在这个阶段，我们已经准备好了一个docker映像，但是还没有设置任何容器。让我们设置第一个名为"<strong class="js hi"> oracle19db </strong>"的Oracle 19c数据库容器</p><p id="c06e" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">#<em class="kr">docker run-d—name 19 . 3 . 0-ee-p 1521:1521-p 8081:8081-e ORACLE _ SID = MORAL-e ORACLE _ PDB = MORAL pdb-e ORACLE _ PWD = ORACLE 123-v/u01/app/ORACLE/oradata:/opt/ORACLE/oradata banglamon/ORACLE 193 db:19 . 3 . 0-ee</em></p><p id="32c2" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">在哪里，</p><p id="65c4" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> -d </strong>要在分离模式下启动容器，您可以使用-d=true或just -d选项<br/> <strong class="js hi"> -p </strong>将我的笔记本电脑上的端口1521和8081映射到容器内的相应端口<br/> <strong class="js hi"> -e </strong> env list Set环境变量<br/> <strong class="js hi"> -v </strong>将我的本地目录(/u01/app/oracle/oradata)映射到数据文件将存储的默认位置(:/opt</p><blockquote class="kt ku kv"><p id="eb98" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">#<em class="hh">docker PS-a | grep Oracle</em><br/>4541 cab 89244 banglamon/Oracle 193 db:19 . 3 . 0-ee "/bin/sh-c ' exec $ O…" 2分钟前涨2分钟(健康:首发)0.0.0.0:1521- &gt; 1521/tcp，0.0.0.0:8081- &gt; 8081/tcp，5500</p></blockquote><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es lp"><img src="../Images/895c0af9067ab7d2959f98a217a898a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMbOJW7Ke6R2raALAoi8AQ.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Figure: Container process id</figcaption></figure><p id="f32a" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">虽然它显示容器正常运行，但它还没有准备好。</p><p id="e934" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> IV)检查日志信息</strong></p><p id="e44d" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">当我在后台运行容器时——使用下面的命令检查进度日志。</p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es lq"><img src="../Images/0fd4db85898d76eb36e2fe14d21cf090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AotB45qSG-bkvqNG1Nho-w.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Figure: container creation log</figcaption></figure><p id="40d2" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> X)数据库连接:</strong></p><p id="6e3c" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">连接到数据库容器"<strong class="js hi"> oracle19db </strong> "—</p><blockquote class="kt ku kv"><p id="7a56" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">#<em class="hh">docker exec-it Oracle 19 db bash-c " source/home/Oracle/。bashrcsqlplus /nolog" </em></p><p id="a3cb" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">SQL*Plus:版本19 . 0 . 0 . 0 . 0—2019年9月10日星期二11:05:42生产<br/>版本19.3.0.0.0</p><p id="f652" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">版权所有1982，2019，甲骨文。保留所有权利。</p></blockquote><p id="1253" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">对数据库级的一些测试</strong></p><blockquote class="kt ku kv"><p id="9649" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">SQL&gt; conn / as sysdba <br/>已连接。<br/> SQL &gt;从v $数据库中选择名称；<br/>名字<br/>——<br/>寓意<br/> SQL &gt;显示CON _ NAME<br/>CON _ NAME<br/>———————<br/>CDB $ ROOT<br/>SQL&gt;显示pdbs <br/> CON_ID CON_NAME打开方式受限<br/>———————————<br/>2 PDB $ 2<br/>会话已更改。<br/> SQL &gt;创建表DockerTst (id int，name varchar 2(20))；<br/>表格已创建。<br/> SQL &gt;从dba_tablespaces中选择tablespace _ name<br/>TABLESPACE _ NAME<br/>—————<br/>SYSTEM<br/>SYSAUX<br/>UNDOTBS1<br/>TEMP<br/>USERS<br/>SQL&gt;从v＄datafile中选择名称；<br/>名称<br/>———————<br/>/u01/app/Oracle/oradata/MORAL/system 01 . DBF<br/>/u01/app/Oracle/oradata/MORAL/sysaux 01 . DBF<br/>/u01/app/Oracle/oradata/MORAL/undotbs01 . DBF<br/>/u01/app/Oracle/oradata/MORAL<br/> SQL &gt;创建表空间test docker datafile '/u01/app/Oracle/oradata/MORAL/test docker 01 . DBF '大小100M<br/>表空间已创建。</p></blockquote><blockquote class="lr"><p id="8672" class="ls lt hh bd lu lv lw lx ly lz ma kl dx translated">注意:使用同一个映像，我们可以通过快速供应部署多个容器。</p></blockquote><p id="5dc0" class="pw-post-body-paragraph jq jr hh js b jt mb ii jv jw mc il jy jz md kb kc kd me kf kg kh mf kj kk kl ha bi translated"><strong class="js hi"> XI) </strong>要停止集装箱我们可以执行下面的命令—</p><p id="c471" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">#<em class="kr">docker PS-a | grep Oracle</em><br/>54c 750349 CBD Oracle/database:19 . 3 . 0-ee "/bin/sh-c ' exec $ O…"大约一小时前向上大约一小时(健康)0.0.0.0:1521- &gt; 1521/tcp，0.0.0:8081- &gt; 8081/tcp，5500/tcp oracle</p><p id="d9db" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">默认情况下，Docker进程等待10秒钟来停止一个容器，然后杀死它。我们可以执行Docker wait，以秒为单位传递时间值，如下所示</p><p id="b9f3" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">#<em class="kr">docker stop</em><strong class="js hi"><em class="kr">-t</em></strong><em class="kr">50 Oracle 19 db</em><br/>Oracle 19 db</p><p id="44b5" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">#<em class="kr">docker PS-a | grep Oracle</em><br/>54c 750349 CBD Oracle/database:19 . 3 . 0-ee "/bin/sh-c ' exec $ O…"大约一小时前<strong class="js hi">退出</strong> (143) 6秒前oracle19db</p><p id="e135" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi"> XII) </strong>玩Docker命令</p><p id="116e" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">再次启动容器— </strong></p><p id="381b" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"># <em class="kr"> docker启动Oracle 19 db</em><br/><em class="kr">Oracle 19 db</em></p><p id="714a" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">获取容器大小和消耗的操作系统资源— </strong></p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mg"><img src="../Images/b6d5719efebb7e55f93cce72790d7924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wg5Ol2AC8LIO0HJJZVBdlA.png"/></div></div></figure><p id="06ca" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">重命名容器— </strong></p><p id="04ce" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"># <em class="kr"> docker重命名oracle19db oracle19test </em></p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mh"><img src="../Images/ae72a72a020bced6f0a6f392e0f2c222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAqOR0NLJyqhzI2ZxCZnTg.png"/></div></div></figure><p id="ff19" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"><strong class="js hi">要移除一个容器，我们需要使用下面的命令</strong> —</p><p id="7d03" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated"># <em class="kr">码头编号rm -f 54c750349cbd </em></p><figure class="la lb lc ld fd le er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/95aec4d361c0b1cd17998a9b6367bd11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOpATxrXMrMqJFRaeMzz4A.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Figure: docker remove</figcaption></figure><h1 id="9162" class="iy iz hh bd ja jb jc jd je jf jg jh ji in jj io jk iq jl ir jm it jn iu jo jp bi translated">摘要</h1><p id="dc00" class="pw-post-body-paragraph jq jr hh js b jt ju ii jv jw jx il jy jz ka kb kc kd ke kf kg kh ki kj kk kl ha bi translated">在本文中，我们已经了解了如何安装docker以及如何使用它，然后我们使用docker容器来创建Oracle 19c数据库，并探索了使用Docker的各种命令。</p><h1 id="cdaf" class="iy iz hh bd ja jb jc jd je jf jg jh ji in jj io jk iq jl ir jm it jn iu jo jp bi translated"><strong class="ak">附录</strong></h1><blockquote class="kt ku kv"><p id="f490" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">目前有一个正式的码头工人图像(Oracle数据库服务器<strong class="js hi">12.2.0.1</strong>码头工人图像)可以链接到<a class="ae ks" href="https://container-registry.oracle.com/pls/apex/f?p=113:4:107749378000793::NO:4:P4_REPOSITORY,AI_REPOSITORY,AI_REPOSITORY_NAME,P4_REPOSITORY_NAME,P4_EULA_ID,P4_BUSINESS_AREA_ID:9,9,Oracle%20Database%20Enterprise%20Edition,Oracle%20Database%20Enterprise%20Edition,1,0&amp;cs=3fDYBq-TJxRFvidmqqYzu5E6HaYcHtUSnLUnu1gEHK8OpVnJA9Xn28g0EqP7MJxuscKhWGN4GKlxXaWcwRe8z5w" rel="noopener ugc nofollow" target="_blank"> Oracle码头工人集装箱</a></p></blockquote><p id="195f" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">要下载该软件，您需要创建一个帐户并接受许可证[ORACLE]<br/>= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =<br/>docker log in-u asiandevs@gmail.com-p XXXXXX container-registry.oracle.com<br/>[ORACLE @ oel 75 ~]$ docker log in-u monowar.mukul@gmail.com-p XXXX container-registry.oracle.com</p><blockquote class="kt ku kv"><p id="3a48" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated">对于本文，构建图像之前的docker文件的树结构如下-</p></blockquote><figure class="la lb lc ld fd le er es paragraph-image"><div class="er es mj"><img src="../Images/f996f8e3a3a3f32f5c50702d9de618f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*vWLXXKaesS7INl3683sNBA.png"/></div></figure><p id="b08f" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">我按照下面的路径下载并安装了Oracle数据库软件，不需要解压——</p><p id="b0eb" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">[root @ ops dev 19 . 3 . 0]#<br/>CD/u01/app/odbd ocker/docker-images-master/OracleDatabase/single instance/dockerfiles/19 . 3 . 0<br/>[root @ ops dev 19 . 3 . 0]#<em class="kr">CP/media/SF _ Software/Software/LINUX。X64_193000_db_home.zip。</em></p><p id="8252" class="pw-post-body-paragraph jq jr hh js b jt km ii jv jw kn il jy jz ko kb kc kd kp kf kg kh kq kj kk kl ha bi translated">【root @ opsdev dockerfiles】#<strong class="js hi"><em class="kr">。/builddockrimage . sh-v 19 . 3 . 0-e</em></strong></p><blockquote class="kt ku kv"><p id="174d" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated"><strong class="js hi">docker container . sh</strong><br/><em class="hh">for d in ` docker PS | awk“{ print $ 1 }”| tail-n+2 `；do<br/>d _ name = ` docker inspect-f { }。name } } $ d`<br/>echo " = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = "<br/>echo " $ d _ name $( d)容器大小:“<br/># sudo du-d 2-h/var/lib/docker/device mapper | grep ` docker inspect-f " { }。Id}}" $d` <br/> echo "$d_name ($d)卷:"<br/>用于安装在` docker inspect -f "{{range。挂载}} {{。源}}:{{。目的地} }<br/>{ { end } }“$ d ”;do<br/>size = ' echo $ mount | cut-d ':'-f1 | sudo xargs du-d 0-h`<br/>mnt = ' echo $ mount | cut-d ':'-F2`<br/>echo " $ size挂载在$ mnt "<br/># echo " = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = "<br/># echo " $ d _ name $( d)容器OS统计:"<br/> #docker名称}}) —无流<br/>完成<br/>完成</em></p><p id="ae33" class="jq jr kr js b jt km ii jv jw kn il jy kw ko kb kc kx kp kf kg ky kq kj kk kl ha bi translated"><em class="hh">echo " = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = " T38 " echo " $ d _ name($ d)container OS stats $(docker PS-format = {)。名称}}) —无流</em></p></blockquote></div></div>    
</body>
</html>