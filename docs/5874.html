<html>
<head>
<title>Allowlist Your IP Address to Security Connect to an OCI Compute Instance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">允许列出您的IP地址以安全连接到OCI计算实例</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/white-list-your-ip-address-to-security-connect-to-an-oci-compute-instance-4fb99958f0d9?source=collection_archive---------3-----------------------#2022-02-04">https://medium.com/oracledevs/white-list-your-ip-address-to-security-connect-to-an-oci-compute-instance-4fb99958f0d9?source=collection_archive---------3-----------------------#2022-02-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="8124" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">克里斯·本森</p><p id="2a54" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果你愿意，你可以在GitHub <a class="ae jd" href="https://github.com/chrisbensen/chris-blogs/blob/main/HowTo/IPAddress/IPAddress.md" rel="noopener ugc nofollow" target="_blank">这里</a>阅读这篇博文。</p><p id="8ac1" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">首先，一些定义:</p><p id="8f89" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">堡垒主机是唯一一台作为安全网络代理的计算机。</p><p id="cb63" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi"> VPN </strong>是一种让用户安全连接网络的安全技术。</p><p id="2808" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">每次我用一个公共IP地址在云中设置一个虚拟机时，所有的安全警报都会在我脑海中响起，这是理所应当的。建立一个堡垒或虚拟专用网可能是如此痛苦，似乎矫枉过正。说真的，当你在建一个周末小屋的时候，谁有时间做这些？因此，这里有一个非常简单的方法来允许列出您的公共IP地址，这样您的计算机是唯一可以与虚拟机交互的计算机。</p><p id="7918" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">步骤1 —获得Oracle免费层</strong></p><p id="bffd" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">这需要一个Oracle云帐户。您可以免费获得一个名为<a class="ae jd" rel="noopener" href="/oracledevs/create-an-oracle-always-free-cloud-account-bc6aa82c1397">免费等级账户</a>的账户。我将演示如何使用Oracle免费层做到这一点，因为它是免费的！永远免费给你。说真的，在云中获得几百g的存储空间和一些免费的处理器是一笔不错的交易。</p><p id="62ef" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">步骤2 —创建一个计算实例</strong></p><p id="7a32" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">Oracle cloud将虚拟机称为“计算”，因此，使用这些步骤创建其中一个虚拟机，这将为您提供一个“实例”:<strong class="ih hi">创建计算实例</strong></p><p id="28aa" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">步骤3 —获取路由器的IP地址</strong></p><p id="135f" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">从我的博客文章<a class="ae jd" href="http://chrisbensen.blogspot.com/2021/11/how-do-i-find-my-routers-public-ip.html" rel="noopener ugc nofollow" target="_blank">我如何从命令行</a>找到我的路由器的公共IP地址？，打开本地终端，运行以下命令获取路由器的IP地址并复制它:</p><p id="106e" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><code class="du je jf jg jh b">dig -4 TXT +short o-o.myaddr.l.google.com <a class="ae jd" href="http://twitter.com/ns1" rel="noopener ugc nofollow" target="_blank">@ns1</a>.google.com</code></p><p id="2be3" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">它将被称为<strong class="ih hi"> &lt;个性化地址&gt; </strong></p><p id="99fc" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">步骤4 —设置安全列表，允许列出您的IP地址</strong></p><p id="d4df" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">现在您已经有了一个实例和您的公共IP地址，按照以下步骤只允许您的计算机通过SSH(端口22)访问该实例。</p><p id="93c5" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">1.单击“子网”字段旁边的链接，这将带您进入虚拟云网络列表:</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ji"><img src="../Images/7ec22b1afd0d836e604779d3851e1bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45fh4HFS135jwTwbwM20AA.png"/></div></div></figure><p id="1baa" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">2.单击VCN:</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ji"><img src="../Images/ae8764acde80197a8d4257a9982d28df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iXvsEyY6HHvu_7GnV65LXQ.png"/></div></div></figure><p id="f928" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">3.点击“默认安全列表”:</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ju"><img src="../Images/0f2b2f11168ab2636ebc4a838ccd948a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*piOm7wtQnsRsgxD8NTwnuQ.png"/></div></div></figure><p id="565c" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">4.在“入口规则”下，您可以看到SSH(端口22)已经有了一个规则。点按右侧的三个点，然后选取“编辑”:</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jv"><img src="../Images/79ae36a62f2e1d2c46f0b5e8700c416f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_XLAOTj0sfwzH-aF81IyQ.png"/></div></div></figure><p id="bcd5" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">注意:</strong>您可以通过点击“添加入口规则”按钮来添加您自己的规则，但是您不需要这样做，因为它已经创建好了。</p><p id="a27b" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">5.在“源CIDR”中填入您在上述步骤3中获得的个人IP地址，并在末尾加上“/32”以将其限制为一台机器:</p><p id="f8df" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><code class="du je jf jg jh b">&lt;PersonalIPAddress&gt;/32</code></p><p id="c2f9" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">例如:1.2.3.4/32</p><p id="58d4" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">6.单击“保存更改”你完了。</p><p id="1a09" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">步骤5 —测试</strong></p><p id="d577" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">从本地终端运行以下命令:</p><p id="ac23" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">注意:</strong> INSTANCE_IP来自创建计算机时的第2步:</p><p id="7203" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><code class="du je jf jg jh b">ssh -i ~/.ssh/oci_id_rsa opc@${INSTANCE_IP}</code></p><p id="9fed" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><em class="jw">注意——免费层用户可能会体验到其帐户所含服务的变化。</em></p></div></div>    
</body>
</html>