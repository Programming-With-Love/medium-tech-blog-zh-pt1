<html>
<head>
<title>Using Machine Learning to Build More Resilient Mobile Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用机器学习构建更具弹性的移动应用</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/using-machine-learning-to-build-more-resilient-mobile-apps-93840363b387?source=collection_archive---------0-----------------------#2021-02-23">https://medium.com/capital-one-tech/using-machine-learning-to-build-more-resilient-mobile-apps-93840363b387?source=collection_archive---------0-----------------------#2021-02-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="2f02" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">机器学习模型如何帮助提供自动故障转移功能以增强客户体验</h2></div><h2 id="2fa6" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">软件工程总监Mihir Shah</h2><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/f799d5141e46a5fc28eb5ceb0317ef71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*etEQsPg4VKf7b1sl.jpg"/></div></div></figure><p id="7a4c" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">通常，当云技术和机器学习在同一个句子中被提及时，主题是云如何通过扩展、可用性和方便的按使用付费模型来实现机器学习。虽然这是真的——云支持收集和使用支持大多数机器学习算法的数据——但云和机器学习之间的关系也可以反过来，机器学习有助于提高基于云的应用程序的弹性和优化。</p><p id="9607" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">在Capital One，我们部署了机器学习模型来提高我们的<a class="ae kz" href="https://www.capitalone.com/applications/mobile/" rel="noopener ugc nofollow" target="_blank"> Capital One移动应用</a>的弹性，这是我们数百万客户金融生活中至关重要的一部分，尤其是在疫情期间，因为我们许多人的生活越来越多地转向在线。</p><p id="ca8b" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">在营业时间之外运营的数字银行和实体分行需要维护其消费者金融产品的信任、声誉和可信度。这就是为什么Capital One努力在Capital One移动应用程序上实现随处可用。这也是我们率先部署机器学习以增加云中弹性的原因。</p><h1 id="080a" class="la ix hh bd iy lb lc ld jc le lf lg jg in lh io jk iq li ir jo it lj iu js lk bi translated">云是Capital One基础设施的核心</h1><p id="5646" class="pw-post-body-paragraph kg kh hh ki b kj ll ii kl km lm il ko jh ln kq kr jl lo kt ku jp lp kw kx ky ha bi translated">今年，Capital One成为第一家报告我们已经退出传统数据中心并通过AWS全部转移到公共云的美国银行。大约八年前，我们意识到技术领域正在发生转变。我们知道，随着新兴技术的成熟，客户对银行应该提供的实时、按需、个性化体验的期望会越来越高。如果我们只对我们的技术体系进行渐进式的改变，我们将很难跟上我们行业的需求，更不用说设定曲线了。</p><p id="9656" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">我们也知道这种转变并不容易。Capital One是美国最大的直销银行，拥有7000万客户账户。我们是美国第二大金融机构汽车贷款发起人和第三大信用卡发行人。</p><p id="9e83" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">此外，这对于我们所做的任何事情来说都是一个不小的因素，但是我们在一个受到严格监管的行业中运营，对于我们所生产的产品的安全性和安全性有着额外的要求。</p><p id="32cc" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">考虑到公司的规模、我们受监管的行业以及云基础设施领域的普遍成熟，我们用了八年时间从一家使用技术的传统银行完全转型为一家经营银行业务的技术公司。</p><p id="03b3" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">作为一家技术公司，我们需要在构建云原生软件方面变得出色，以便充分利用后数据中心世界。为了实现这一目标，我们扩展了我们的工程组织，直到我们拥有近11，000名技术人员，其中85%是工程师。我们从瀑布模型转移到交付软件的百分之百敏捷模型。我们重新构建了我们的数据环境，为整个公司的机器学习奠定了基础——从呼叫中心运营到后台流程、欺诈、安全和数字体验。</p><p id="9b0e" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">但是将旗舰级的Capital One移动应用程序迁移到云上<a class="ae kz" rel="noopener" href="/capital-one-tech/moving-one-of-capital-ones-largest-customer-facing-apps-to-aws-668d797af6fc">并不是一个小任务</a>。这绝对不是一个“搬来搬去”的项目。将运营转移到云需要对我们的编排系统进行全面的重新架构，包括围绕它们的许多支持工具。</p><p id="b100" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">当我们寻求利用我们的现代技术堆栈来继续满足不断增长的客户期望时，我们进展的一个关键部分是使用机器学习来提高Capital One移动应用程序的弹性和优化。</p><h1 id="a969" class="la ix hh bd iy lb lc ld jc le lf lg jg in lh io jk iq li ir jo it lj iu js lk bi translated">在Capital One移动应用程序中构建弹性</h1><p id="a9d5" class="pw-post-body-paragraph kg kh hh ki b kj ll ii kl km lm il ko jh ln kq kr jl lo kt ku jp lp kw kx ky ha bi translated">首先——<em class="lq">什么是弹性？</em>弹性是一项成果，是一个应用程序或软件的一个属性，它已经过良好的架构设计和测试，并具有适当的自动化水平来提供无缝的用户体验。理想情况下，我们希望弹性应用程序能够无缝地适应变化，在没有人工干预的情况下识别故障并从故障中恢复，并且始终如一地这样做，并且不以牺牲用户体验为代价。由于云提供商提供的区域自治、冗余和数据洞察，在云中构建有利于构建弹性应用。但是这些都不是自动的，必须有目的地设计。</p><p id="0745" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">有许多方法来提供和构建这种弹性——因为我们是一个开源优先的组织，我们选择了那些前瞻性组织的工具，如<a class="ae kz" href="https://github.com/Netflix/eureka" rel="noopener ugc nofollow" target="_blank">网飞尤里卡</a>和<a class="ae kz" href="https://www.consul.io/" rel="noopener ugc nofollow" target="_blank">哈希公司咨询</a>、<a class="ae kz" href="https://www.hashicorp.com/products/nomad" rel="noopener ugc nofollow" target="_blank">哈希公司游牧者</a>和<a class="ae kz" href="https://fabiolb.net/quickstart/" rel="noopener ugc nofollow" target="_blank">法比奥</a>帮助我们实现Capital One移动应用的弹性目标。</p><p id="4d1d" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">在这些开源工具、我们自己专有的内部工具和持续监控我们服务的编排团队之间，我们为应用的弹性奠定了坚实的基础。但是，正如我们前面所说的，自动化是这个难题的关键部分，而监督对人类来说并不容易。这就是为什么我们还在我们的应用程序中部署了机器学习算法——其中一个是自动故障转移机器学习模型，有助于防止我们的云服务出现失误。</p><h1 id="babf" class="la ix hh bd iy lb lc ld jc le lf lg jg in lh io jk iq li ir jo it lj iu js lk bi translated">用机器学习平衡天平</h1><p id="0457" class="pw-post-body-paragraph kg kh hh ki b kj ll ii kl km lm il ko jh ln kq kr jl lo kt ku jp lp kw kx ky ha bi translated">这种机器学习模型了解我们的云架构和运营区域背后的行为模式，并利用这种了解来优化我们的云使用，以实现最大的弹性。下面简单解释一下自动故障转移机器学习模型是如何工作的。</p><p id="fd84" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">毫不奇怪，我们的应用程序可以在多个云区域运行。这是一种相当常见的策略，用于防止停机和帮助灾难恢复。它还允许我们进行全局负载平衡，这意味着通过在多个云区域中运行，我们的用户将找到地理上离他们最近的应用程序实例。所有这些都导致应用程序比在数据中心运行的应用程序更具弹性，同时使用更少的资源和成本更低。但是，就云弹性而言，多区域并不是事情的终点。我们的机器学习模型理解我们的架构的行为模式及其运作的区域。当存在与典型使用模式的偏差时，机器学习模型会限制爆炸半径，并在给客户带来不便之前纠正这些偏差。在这种情况下，通过预测云区域何时达到最大容量，并在这些区域开始出现故障之前自动转移流量。如果没有这种机器学习算法，我们就无法充分利用云或者在多个云区域中运行。运营团队仍然需要等待系统中的凌晨两点故障，然后匆忙手动修复。相反，我们选择优雅的自动故障转移:我们的机器学习算法会通知我们潜在的故障，并自动切换我们的流量——没有人工监督，也不会中断客户服务。这意味着所有的转账和支付都要通过，而客户对我们的系统在后端所做的工作一无所知。</p><p id="0782" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">这种效果类似于模拟体重计，带有平衡臂的那种。如果你想象两个相同的杯子在天平的两边装着等量的水，你就有了停滞，一种平衡。但是互联网流量永远不会停滞不前；它不断地运动、退潮和流动。所以，现在想象一下用互联网数据代替水——需要不断优化和重新平衡这些杯子，以应对移动、退潮和流动。如果你做得对，天平会保持平衡，尽管那些杯子里有激烈的活动。这是我们的自动故障转移机器学习模型的最终目标。</p><p id="c9eb" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">机器学习对于平衡是必要的，因为算法比人类更快，更能预测故障转移。然而，在某些情况下，人类需要验证机器学习模型想要做出的某些选择。</p><p id="0ef7" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">正如我们的Edge工程团队成员<a class="ae kz" rel="noopener" href="/capital-one-tech/resiliency-patterns-at-the-edge-capital-one-a5b4d41d477e">所写的</a>，我们实现了各种弹性服务，比如断路器、回退和隔离模式。当与客户端负载平衡模式相结合时，这些服务有助于保持我们的移动应用程序稳定可靠。客户端负载平衡可轻松扩展并高效处理更新。该功能被推送到每个客户端，分配负载平衡的责任—规模是平衡的。</p><p id="cb1e" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">如果服务实例响应太慢或抛出错误，负载平衡器会检测并提供纠正措施，不健康的实例将被删除。如果发现服务出现故障，会在客户机上保留一份本地拷贝，以便可以使用最新的客户信息继续连接。这是一种奇特的说法，即应用程序的一切都是为了实现弹性的目标而设计的。</p><h1 id="69fd" class="la ix hh bd iy lb lc ld jc le lf lg jg in lh io jk iq li ir jo it lj iu js lk bi translated">科技，因为它是人类</h1><p id="9d4f" class="pw-post-body-paragraph kg kh hh ki b kj ll ii kl km lm il ko jh ln kq kr jl lo kt ku jp lp kw kx ky ha bi translated">我们大多数人都能理解为什么移动服务为王。我们的生活不在营业时间内，也不在银行分行附近。作为消费者，当我们中的任何人在销售点考虑购买一件重要的东西时，我们都不想等到回家后才知道我们最新的银行余额。</p><p id="a69a" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">这就是为什么我们选择优雅地失败，以限制对你财务生活的干扰。如果我们的工作做得非常出色，你永远不会知道系统内部有问题。</p><p id="6a1e" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">没有开发者希望自己的应用失败；但对我们来说，赌注很高，因为我们期望我们生产的产品达到最好。这就是我们使用机器学习支持的自动故障转移等技术的原因。这不是为了技术而技术。这是技术，因为人类在另一端，他们依赖我们提供对他们最重要的服务。</p></div><div class="ab cl lr ls go lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ha hb hc hd he"><p id="0459" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated"><em class="lq">披露声明:2021资本一。观点是作者个人的观点。除非本帖中另有说明，否则Capital One不隶属于所提及的任何公司，也不被这些公司认可。使用或展示的所有商标和其他知识产权是其各自所有者的财产。</em></p><p id="b9bf" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated"><em class="lq">最初发表于</em><a class="ae kz" href="https://www.capitalone.com/tech/cloud/capital-one-mobile-auto-failover-machine-learning-model-for-resiliency/" rel="noopener ugc nofollow" target="_blank">T5【https://www.capitalone.com】</a><em class="lq">。</em></p></div></div>    
</body>
</html>