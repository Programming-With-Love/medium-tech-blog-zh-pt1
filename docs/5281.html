<html>
<head>
<title>Deploying a Spring Boot Microservice to Application Container — Oracle Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Spring Boot微服务部署到应用容器— Oracle云</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploying-a-spring-boot-micro-services-application-to-oracle-application-container-cloud-95238f1b7ab7?source=collection_archive---------0-----------------------#2017-08-21">https://medium.com/oracledevs/deploying-a-spring-boot-micro-services-application-to-oracle-application-container-cloud-95238f1b7ab7?source=collection_archive---------0-----------------------#2017-08-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2d6c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在大型系统的开发中，开发实现各种功能的各种组件和库是很常见的，从业务需求的实现到技术任务，例如XML解析器。微服务架构允许避免大型系统的整体应用。它提供了在不同环境中独立运行的协作流程之间的松散耦合，具有紧密的内聚性。所以让我们用一个例子来讨论它。</p><p id="ca19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，想象一下一家网店，拥有针对用户账户、产品目录订单处理和购物车的独立微服务。所以这些组件对于这样一个大型的在线购物门户来说不可避免的重要。对于在线购物系统，我们可以使用以下架构。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/e57d27ff1c36ea7e1c57097184ac7564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*cxpPY6QslBwzdPOBJN5Ang.png"/></div></figure><h2 id="e6ba" class="jk jl hh bd jm jn jo jp jq jr js jt ju ip jv jw jx it jy jz ka ix kb kc kd ke bi translated"><strong class="ak">带微服务的购物系统</strong></h2><p id="5f4a" class="pw-post-body-paragraph ie if hh ig b ih kf ij ik il kg in io ip kh ir is it ki iv iw ix kj iz ja jb ha bi translated">在这种架构风格中，主应用程序被分成一组称为微服务的子应用程序。一个大型应用程序被分成多个协作流程，如下所示。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kk"><img src="../Images/100d6142b74e6bb04570b9bf3b5167bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*cAVacE-_rZwHBLs4jv5Ohw.png"/></div></figure><p id="7ed9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里就不详细说微服务了。那是另一个要讨论的话题。我创建了一个web应用程序，它使用Spring boot、Spring JPA、内存数据库中的H2和百里香模板来构建UI。在开始实施之前，请观看下面的视频，看看最终结果将如何显示。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kl km l"/></div></figure><h1 id="c43f" class="kn jl hh bd jm ko kp kq jq kr ks kt ju ku kv kw jx kx ky kz ka la lb lc kd ld bi translated"><strong class="ak">为什么Spring Boot要发展微服务</strong></h1><p id="7740" class="pw-post-body-paragraph ie if hh ig b ih kf ij ik il kg in io ip kh ir is it ki iv iw ix kj iz ja jb ha bi translated">它带来了开发REST服务控制器、业务服务和数据存储库的便利。</p><ul class=""><li id="1215" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">使用Spring Boot设置新服务</li><li id="b86f" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">通过RestController公开资源</li><li id="e0ed" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">使用RestTemplate消费远程服务。</li></ul><p id="b166" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Oracle建立了一个平台来支持微服务开发。Oracle应用容器云就是其中之一。到目前为止，它是一个运行时容器，可以运行Java、Node.js、PHP、Python和Ruby中的应用程序构建。有关甲骨文ACCS的更多详细信息，请阅读这篇<a class="ae ls" rel="noopener" href="/@vinaykuma201/starting-with-oracle-application-container-cloud-ba258c572de1">文章</a>和<a class="ae ls" rel="noopener" href="/@vinaykuma201/archive-packaging-for-oracle-application-container-cloud-d35aaaf062f8">另一篇</a>。Oracle ACCS创建运行时docker容器。需要注意的重要一点是应用程序的主机和端口。如果在本地工作，主机是本地主机，在8080端口上。在ACCS的环境中肯定会有所不同。这可以通过在Spring boot的主类中设置属性来管理，如下所示</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lt"><img src="../Images/0f98fbcf6b8850b3447b9af33607291b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*mh4XNyaGnIIi5Ap9j8jaFQ.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx">Setting optional Configuration for ACC</figcaption></figure><p id="52f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在看看SpringBoot应用程序的实现</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ly"><img src="../Images/1ce60261d6f35fb17eaddf4dce04c391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k6G8p_TnTflZCD8fPPjYDw.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Developer entity</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es md"><img src="../Images/d6cf43db23ad2eaf5601e14f7902f4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*F9sm1A8Y2AjweprkXyysMw.png"/></div></div></figure><p id="fd02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个应用程序中，我正在将<a class="ae ls" href="https://www.javainterviewpoint.com/spring-data-jpa-one-to-one-foreign/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Spring数据JPA </strong> </a>集成到我们的<a class="ae ls" href="https://www.javainterviewpoint.com/spring-boot-commandlinerunner-applicationrunner/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Spring Boot应用程序</strong> </a>中。我们将扩展<strong class="ig hi"> CrudRepository </strong>，这又扩展了<strong class="ig hi"> Repositoryinterface </strong>，因此不需要实现我们自己的方法。</p><h1 id="450b" class="kn jl hh bd jm ko kp kq jq kr ks kt ju ku kv kw jx kx ky kz ka la lb lc kd ld bi translated">原油储存库</h1><p id="5bbc" class="pw-post-body-paragraph ie if hh ig b ih kf ij ik il kg in io ip kh ir is it ki iv iw ix kj iz ja jb ha bi translated">CrudRepository为CRUD操作提供了方法。这个接口扩展了存储库接口。当定义CrudRepository时，必须传递两个参数:<strong class="ig hi">实体的类型和实体id字段的类型</strong>。该接口有以下方法:</p><ul class=""><li id="e119" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">保存(实体)</li><li id="d9d9" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">T findOne(ID主键)</li><li id="f9f3" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">Iterable findAll()</li><li id="f012" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">长计数()</li><li id="54a9" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">无效删除(测试实体)</li><li id="c5fe" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">布尔值存在(ID primaryKey)</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es me"><img src="../Images/269facae5f9e6ec045a8d500bb6de4a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIg78AEsC6RpV_iZVk4xYw.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mf"><img src="../Images/7518bed47c578f380518f6682b3aaae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*rNKJxGKM1EzUzIYi_WLFrA.png"/></div></figure><p id="76eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后Spring Boot控制器类为</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mg"><img src="../Images/856cf8b3b91ab1ee06b600d3bf235656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pYc88yD4ltkoguKFs4WSpw.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx">Spring Boot Controller.</figcaption></figure><p id="5d4c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">应用项目结构如下-</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mh"><img src="../Images/2093e0ec9907a4639beb100cbbb8f538.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*7NL0ii1ZeEBCBtfQg-Ritw.png"/></div></figure><p id="5d6f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以在我的<a class="ae ls" href="https://github.com/vinaykumar2/Developer-Microservices-App" rel="noopener ugc nofollow" target="_blank"> GitHub账号</a>里找到完整的源代码。现在，我们将应用程序部署到Oracle应用程序容器云中。</p><h1 id="2385" class="kn jl hh bd jm ko kp kq jq kr ks kt ju ku kv kw jx kx ky kz ka la lb lc kd ld bi translated"><strong class="ak">部署到应用容器云</strong></h1><ol class=""><li id="b99b" class="le lf hh ig b ih kf il kg ip mi it mj ix mk jb ml lk ll lm bi translated">导航至Oracle云仪表板。单击创建实例。</li></ol><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mm"><img src="../Images/5b8f39247a887b379b84869a554dc13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1AWySjqRujvBBXFae9brQ.jpeg"/></div></div></figure><p id="42bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.在仪表板上，用户将看到他有权访问的所有oracle云服务。点击应用容器云。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mn"><img src="../Images/92011a5539cdabd7690a865c58857095.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lsI1FV8vDpihllG52smeg.jpeg"/></div></div></figure><p id="aa85" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.点击应用容器云控制台上的创建应用。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mo"><img src="../Images/f760c65e1bc531b588f68583b8ec1a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sg47SGAyom3KDoyf2Q01Wg.jpeg"/></div></div></figure><p id="d69a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.点击Java SE作为应用平台。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mp"><img src="../Images/5f7c60ea7bef0a5a2cb058ba425dc4ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSFRHF7BEcxKsy45f6dqGw.jpeg"/></div></div></figure><p id="ea10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">5.上传存档zip文件。提供应用程序名称、通知电子邮件、Java SE版本、实例数量和内存信息，然后单击create。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mq"><img src="../Images/faf621764349fa91523d74e9b5191e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fl_RXW_OLwimvihmA66NUA.jpeg"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mr"><img src="../Images/000619837baaaec5ea26d64c2f8513f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*taeLif_zK-uT5y1FXoANEA.jpeg"/></div></div></figure><p id="8391" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">6.过一会儿，应用程序就部署好了，用户可以查看关于部署的应用程序的信息。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ms"><img src="../Images/cbd3ed35ea0e4f353e2312224cd17284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXtM9eD6tOXm2dCx-RysDw.jpeg"/></div></div></figure><p id="c3c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，应用程序已成功部署。部署后，您还会收到如下邮件通知。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mt"><img src="../Images/0bbb809048fa8bd05a6c5b621b19b7f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VFsIU_d0THb3zeJnVfpnnQ.jpeg"/></div></div></figure><p id="80f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你点击浏览器与网址/开发商，然后应用程序演示将如视频所示。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mu"><img src="../Images/e45ef181958038dc3dc11c00e08ba353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jy1l_9-WKH24Ya3Z9pzDjQ.png"/></div></div></figure><p id="b220" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就是这样。我们成功部署了Spring微服务应用程序。如果您遇到任何问题或想要检查日志，然后导航到左侧的管理部分，并单击日志选项卡。日志通过Oracle Storage cloud service存储。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mv"><img src="../Images/aaabd743d6a2de198f359078e6096102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AYoxuS7YQiovdbAhWO3lSQ.jpeg"/></div></div></figure><p id="1105" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您想将应用程序与云上的数据库连接，那么在部署部分，您可以通过<strong class="ig hi">服务绑定</strong>部分与Oracle数据库云服务或MySql云服务连接。您也可以在运行时在<strong class="ig hi">部署</strong>部分设置环境变量。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mw"><img src="../Images/227935f56a7ce342c2e609ff982d5a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VO6MDN3PrmS9KfYypxLclg.jpeg"/></div></div></figure><p id="3fb8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目前就这些。在<a class="ae ls" href="http://cloud.oracle.com/tryit" rel="noopener ugc nofollow" target="_blank">甲骨文云</a>上快乐学习。</p></div></div>    
</body>
</html>