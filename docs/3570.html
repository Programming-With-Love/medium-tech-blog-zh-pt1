<html>
<head>
<title>iOS In-house app distribution on own server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在自己的服务器上分发iOS内部应用程序</h1>
<blockquote>原文：<a href="https://medium.com/globant/ios-in-house-app-distribution-on-own-server-ca23e793670a?source=collection_archive---------0-----------------------#2020-12-08">https://medium.com/globant/ios-in-house-app-distribution-on-own-server-ca23e793670a?source=collection_archive---------0-----------------------#2020-12-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e98b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">内部应用分发是一种技术，通过使用这种技术，我们可以将我们的应用分发给我们的最终用户，而无需将应用上传到应用商店。在此下，应用程序被签名并从Xcode导出。</p><p id="dd2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，当我们的iOS应用程序开发完成后，下一步就是将应用程序分发给最终用户。</p><p id="8e61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们的目标是让每个人都可以公开使用这款应用，那么我们可以通过<a class="ae jc" href="https://developer.apple.com/programs/enroll/" rel="noopener ugc nofollow" target="_blank">苹果开发者计划</a>(每年99美元)来部署这款应用。<br/>苹果开发者计划允许我们:</p><ul class=""><li id="a6db" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">通过<a class="ae jc" href="https://itunesconnect.apple.com/login" rel="noopener ugc nofollow" target="_blank"> iTunesConnect </a>在苹果应用商店分发iOS应用。</li><li id="4375" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">在发布任何应用程序之前，允许用户通过TestFlight测试应用程序的Beta版本。</li><li id="f23f" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">通过临时分发为特定企业(包括您的组织)定制应用程序。</li></ul><p id="3db2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，如果我们不希望我们的应用程序对所有人公开，那么在应用程序商店之外分发它可能是一个不错的选择。<br/>分发应用程序最有效的方法是使用<a class="ae jc" href="https://developer.apple.com/programs/enterprise/" rel="noopener ugc nofollow" target="_blank">苹果开发者企业计划</a>(每年299美元)进行内部分发。<br/> In house distribution提供了以下优势:</p><ul class=""><li id="1ff8" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">IOS应用不需要苹果审核。</li><li id="1082" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">最终用户可以快速获得任何关键更改或任何应用程序更新。</li></ul><p id="fbb9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个过程中，应用程序的。ipa文件将被托管在一个安全的服务器上，我们将能够给首选客户端的网址。它不允许使用TestFlight访问iTunes Connect来部署应用程序或测试应用程序。<br/>要分发应用程序，我们必须遵循以下步骤</p><h2 id="6c52" class="jr js hh bd jt ju jv jw jx jy jz ka kb ip kc kd ke it kf kg kh ix ki kj kk kl bi translated"><strong class="ak"> 1。创建分发证书:</strong></h2><blockquote class="km"><p id="7017" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">1.1打开<a class="ae jc" href="https://developer.apple.com/" rel="noopener ugc nofollow" target="_blank">苹果开发者会员</a>，凭证登录。<br/> 1.2登录后，浏览至<strong class="ak">证书、标识符&amp;配置文件部分。<br/>1.3从下拉菜单中选择<strong class="ak"> iOS、tvOS、watchOS </strong>。<br/> 1.4现在，单击屏幕右上角“证书”下的“+”按钮，创建一个新证书。<br/> 1.5点击继续按钮，按照给出的说明创建证书。</strong></p></blockquote><h2 id="f5b2" class="jr js hh bd jt ju kw jw jx jy kx ka kb ip ky kd ke it kz kg kh ix la kj kk kl bi translated">2.<strong class="ak">为应用创建应用ID:</strong></h2><blockquote class="km"><p id="225b" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">2.1在<strong class="ak">标识符</strong>下选择一个应用Id。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lb"><img src="../Images/92167689058f0be140a55bfee1264148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*92bwqYPYUUF415vQ"/></div></div></figure><blockquote class="km"><p id="8601" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">2.2现在，单击“+”按钮(位于屏幕右上角)创建一个新的应用ID。2.3命名应用程序Id。确保应用Id遵循标准命名约定:com . your company name . your App name<br/>2.4点击继续按钮，按照给出的说明生成应用ID。</p></blockquote><h2 id="b392" class="jr js hh bd jt ju kw jw jx jy kx ka kb ip ky kd ke it kz kg kh ix la kj kk kl bi translated"><strong class="ak"> 3。创建配置文件:</strong></h2><blockquote class="km"><p id="7eeb" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">3.1创建应用ID后，转到个人资料。<br/> 3.2选择内部/临时选项<br/> 3.3点击继续，然后选择我们创建的应用ID。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div class="er es lt"><img src="../Images/ce209fdaa6413985e3f1049e7a5d1d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/0*ZakEZ9CHe69u3Iwm"/></div></figure><blockquote class="km"><p id="6f54" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">3.4完成此过程后，我们将能够下载配置文件并双击该文件。</p></blockquote><h2 id="742a" class="jr js hh bd jt ju kw jw jx jy kx ka kb ip ky kd ke it kz kg kh ix la kj kk kl bi translated"><strong class="ak"> 4。在Xcode: </strong>中选择适当的预置描述文件</h2><blockquote class="km"><p id="6d88" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">4.1打开Xcode，转到App Target，选择构建设置。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lu"><img src="../Images/34e770349b47f6971726df4ddb254106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zGpaPWCQoRT6X7Cn"/></div></div></figure><blockquote class="km"><p id="5826" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">4.2在签名部分下，选择预配配置文件，然后选择下载的预配配置文件。</p></blockquote><h2 id="5cdc" class="jr js hh bd jt ju kw jw jx jy kx ka kb ip ky kd ke it kz kg kh ix la kj kk kl bi translated"><strong class="ak"> 5。归档app并从Xcode: </strong>创建一个. ipa文件</h2><blockquote class="km"><p id="12a4" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">5.1从顶部菜单中，选择构建目标作为通用iOS设备。<br/> 5.2之后，从菜单栏选择产品菜单- &gt;存档。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lv"><img src="../Images/56112ef90c6c99404fc41042d2e484de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*85o7JrPOWyLnN_vU"/></div></div></figure><blockquote class="km"><p id="a8bc" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated"><strong class="ak"> 5.3。首先验证</strong>存档应用程序。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lv"><img src="../Images/fe4936f4e8e10d6e4066045a6744d7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hoFQiO0scdBk5vCB"/></div></div></figure><blockquote class="km"><p id="5010" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">5.4成功验证后，单击“分发应用程序”并选择创建的档案，然后单击“导出”。<br/> 5.5当提示输入导出方法时，选择保存用于企业部署<strong class="ak">。</strong></p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lw"><img src="../Images/a66cbbdc2f2cb662cf93a1d5d61e8bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fuTWvkzlI2xaQf5-"/></div></div></figure><blockquote class="km"><p id="2b04" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">5.6单击“下一步”按钮，并按照说明完成该过程。完成这个过程后会看到总结。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es lx"><img src="../Images/5416bb16326765a09cc7b68e44c91fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IS-7GCa2IBs9hpUS"/></div></div></figure><blockquote class="km"><p id="5301" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">5.7确保选中“包括无线安装清单”复选框，然后单击“下一步”保存ipa文件。它将生成一个清单(。plist)文件。</p></blockquote><figure class="lc ld le lf lg lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es ly"><img src="../Images/46fabec97a3d70ee9477852f0b510f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sMj6Dkgye3oZfjWO"/></div></div></figure><blockquote class="km"><p id="9545" class="kn ko hh bd kp kq lo lp lq lr ls jb dx translated">5.8给出适当的名称，然后点击导出按钮将其保存到计算机中。</p></blockquote><h2 id="a3ef" class="jr js hh bd jt ju kw jw jx jy kx ka kb ip ky kd ke it kz kg kh ix la kj kk kl bi translated"><strong class="ak"> 6。托管应用程序的二进制文件(。ipa)文件在服务器上:</strong></h2><blockquote class="km"><p id="eaab" class="kn ko hh bd kp kq kr ks kt ku kv jb dx translated">6.1在托管服务器上创建一个文件夹，并将其命名为与应用程序名称相同的名称。<br/> 6.2上传下载。此文件夹中的ipa文件。<br/> 6.3上传后，复制其可共享网址。<br/> 6.4现在修改清单文件的数据。</p></blockquote><p id="dca2" class="pw-post-body-paragraph ie if hh ig b ih lz ij ik il ma in io ip mb ir is it mc iv iw ix md iz ja jb ha bi translated"><strong class="ig hi">注意:- </strong>我们需要将这个清单文件保存在我们的服务器上，保存在我们上传ipa文件的同一个文件夹中。</p><p id="dde5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">什么是清单文件？<br/>‘‘一个清单(。plist)是一个包含元数据的文件，该元数据由它描述的其他文件标识。例如，在我们的例子中。plist文件将指示您的应用程序的URL。ipa文件、包ID和应用程序的名称。''它有以下内容-</p><figure class="me mf mg mh fd lh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="77b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在上面的文件中，我们需要替换大括号中的粗体元素。<br/><strong class="ig hi">【https链接IPA文件】:</strong>这是我们的。将托管在安全服务器<br/> <strong class="ig hi">【捆绑包ID】</strong>上的ipa文件的URL:将在此页面上提供的我们的应用的ID:<em class="mk">发布&gt;证书&gt; iOS <br/> </em> <strong class="ig hi">【应用名称】</strong>:这是我们的应用的名称。</p><p id="5c42" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 7。创建一个网页链接到清单:<br/> </strong>后，我们已经上传了。plist文件在一个安全的服务器上，然后我们可以创建一个网页，在那里我们将放一个链接来下载我们的应用程序。<br/>下面是同样的例子:</p><p id="9b3a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a href="”itms-services://?action=download-manifest&amp;url=&lt;strong" class="ig hi">【URL _ OF _ THE _ PLIST _ FILE】" id = " text "&gt;下载我们的申请<br/> &lt; /a &gt;</a></p><p id="f3f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要将粗体元素替换为实际的清单plist文件URL，并将“下载我们的应用程序”替换为适当的消息。</p><p id="b360" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">对于最终用户来说是怎样的？<br/> </strong>答:我们已经制作了一个下载页面，并通过内部网站或电子邮件发送给您的决赛用户。然后他们可以点击里面的链接下载您的应用程序。<br/>第一次启动时，会出现新的弹出窗口。</p><figure class="me mf mg mh fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es ml"><img src="../Images/5c3e4fc7a21d774278a43fe7aa6467a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OeFwvtMg_7jcDB4j"/></div></div></figure><p id="64dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">B.然后成功安装应用程序后，当它第一次启动时，会出现一个新的弹出窗口，要求信任该应用程序。</p><figure class="me mf mg mh fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mm"><img src="../Images/1edd10c4667c9c870fe301742464cf45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EqV6M__6OpWVyrdO"/></div></div></figure><p id="37dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">C.为了确认这一点并使应用程序可用，用户必须在他们的iOS设备中进入菜单<em class="mk">设置&gt;常规&gt;配置文件和设备管理</em>。</p><figure class="me mf mg mh fd lh er es paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="er es mn"><img src="../Images/22a38aa191ca180b5f1f586359357f3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DaoOsN7_krpsPGKp"/></div></div></figure><p id="8e44" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">注:- </strong>“内部”分配证书3年后到期。一旦过期，您的最终用户将无法下载该应用程序。我们将不得不更新它。</p></div></div>    
</body>
</html>