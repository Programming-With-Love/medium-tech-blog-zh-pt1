<html>
<head>
<title>Sunsetting React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">日落反应自然</h1>
<blockquote>原文：<a href="https://medium.com/airbnb-engineering/sunsetting-react-native-1868ba28e30a?source=collection_archive---------1-----------------------#2018-06-19">https://medium.com/airbnb-engineering/sunsetting-react-native-1868ba28e30a?source=collection_archive---------1-----------------------#2018-06-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="b9a5" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">由于各种各样的技术和组织问题，我们将关闭React Native，并尽全力制作native amazing。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/4a7ba10e4affd494b36930062bc1855a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8c-9hgBkRGcllO9CHcTzbQ.jpeg"/></div></div></figure><p id="f7d2" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><em class="ke">这是</em> <a class="ae kf" rel="noopener" href="/airbnb-engineering/react-native-at-airbnb-f95aa460be1c"> <em class="ke">系列博文</em> </a> <em class="ke">中的第四篇，在这篇博文中，我们概述了React Native的使用体验以及Airbnb的下一步移动应用。我们今天在哪里？</em></p><p id="99ab" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">尽管许多团队依赖React Native，并计划在可预见的未来使用它，但我们最终无法达到我们最初的目标。此外，还有许多我们无法克服的<a class="ae kf" rel="noopener" href="/airbnb-engineering/react-native-at-airbnb-the-technology-dafd0b43838">技术</a>和<a class="ae kf" rel="noopener" href="/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88">组织</a>挑战，这将使继续投资React Native成为一项挑战。</p><p id="af37" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">因此，向前看，我们正在Airbnb<strong class="jk hi">淘汰React Native</strong>并将我们所有的努力重新投入到Native。</p><h1 id="8332" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">未能达到我们的目标</h1><h2 id="f52e" class="ky kh hh bd ki kz la lb km lc ld le kq jr lf lg ks jv lh li ku jz lj lk kw ll bi translated">动作快点</h2><p id="d7a5" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">当React Native按预期工作时，工程师能够以无与伦比的速度前进。然而，我们在本系列中概述的众多技术问题和组织问题给许多项目增加了挫折和意外的延迟。</p><h2 id="8414" class="ky kh hh bd ki kz la lb km lc ld le kq jr lf lg ks jv lh li ku jz lj lk kw ll bi translated">维护质量栏</h2><p id="3496" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">最近，随着React Native的成熟和我们积累了更多的专业知识，我们能够完成许多我们不确定是否可能的事情。我们构建了共享元素过渡、视差，并能够显著提高一些经常丢帧的屏幕的性能。然而，一些<a class="ae kf" rel="noopener" href="/airbnb-engineering/react-native-at-airbnb-the-technology-dafd0b43838">技术挑战</a>比如初始化和异步优先渲染使得满足某些目标变得很有挑战性。内部和外部资源的缺乏使这变得更加困难。</p><h2 id="da33" class="ky kh hh bd ki kz la lb km lc ld le kq jr lf lg ks jv lh li ku jz lj lk kw ll bi translated">写一次代码而不是两次</h2><p id="86cd" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">尽管React原生特性中的代码几乎完全跨平台共享，但我们的应用程序中只有一小部分是React原生的。此外，需要大量的桥接基础设施来使产品工程师有效地工作。结果，我们最终在三个平台上支持代码，而不是两个。我们看到了移动和网络之间代码共享的潜力，并能够共享一些npm包，但除此之外，它从未以有意义的方式实现。</p><h2 id="f652" class="ky kh hh bd ki kz la lb km lc ld le kq jr lf lg ks jv lh li ku jz lj lk kw ll bi translated">改善开发人员体验</h2><p id="ed3b" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">React Native的开发者体验是一个大杂烩。在某些方面，比如构建时间，情况明显好了很多。然而，在其他方面，比如调试，情况要糟糕得多。详细内容在本系列的第2部分中列举。</p><h1 id="ea1f" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">日落计划</h1><p id="adce" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">因为我们无法实现我们的具体目标，我们已经决定React Native不再适合我们。我们目前正在与团队合作制定一个健康的过渡计划。我们已经停止了所有新的React原生功能，并计划在年底前将大多数流量最高的屏幕转移到原生功能。这得益于一些无论如何都要发生的预定的重新设计。我们的原生基础架构团队将在2018年全年支持React Native。2019年，我们将开始减少支持，并减少一些React本机开销，如启动时初始化运行时。</p><p id="f9b2" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">在Airbnb，我们是开源的坚定信仰者。我们积极使用和贡献于世界各地的许多开源项目，并且也开源了我们的一些React原生工作。由于我们已经远离React Native，我们无法像社区应得的那样维护我们的React Native repos。为了做对社区最有利的事情，我们将把我们的一些React原生开源工作迁移到<a class="ae kf" href="https://github.com/react-native-community" rel="noopener ugc nofollow" target="_blank"> react-native-community </a>，我们已经开始用<a class="ae kf" href="https://github.com/react-community/react-native-maps" rel="noopener ugc nofollow" target="_blank"> react-native-maps </a>和<a class="ae kf" href="https://github.com/airbnb/native-navigation" rel="noopener ugc nofollow" target="_blank"> native-navigation </a>和<a class="ae kf" href="https://github.com/airbnb/lottie-react-native/" rel="noopener ugc nofollow" target="_blank"> lottie-react-native </a>做这些工作。</p><h1 id="f682" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">这并不全是坏事</h1><p id="a45f" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">虽然我们无法用React Native实现我们的目标，但使用React Native的工程师通常都有积极的体验。这些工程师中:</p><ul class=""><li id="69c8" class="lr ls hh jk b jl jm jo jp jr lt jv lu jz lv kd lw lx ly lz bi translated">60%的人将他们的经历描述为惊人的。</li><li id="af64" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated">20%略呈阳性。</li><li id="7fc4" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated">15%略呈阴性。</li><li id="9f53" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated">5%的人强烈反对。</li></ul><p id="1ec3" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">如果有机会，63%的工程师会再次选择React Native，74%的工程师会考虑在新项目中使用React Native。值得注意的是，这些结果中存在固有的选择偏差，因为它只调查了选择使用React Native的人。</p><p id="9d44" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">这些工程师在220个屏幕上编写了80，000行产品代码，以及40，000行javascript基础架构。作为参考，在每个本机平台上，我们有大约10倍的代码量和4倍的屏幕数量。</p><h1 id="2b8d" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">反应本土正在走向成熟</h1><p id="98a7" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">这一系列帖子反映了我们迄今为止对React Native的体验。然而，脸书和更广泛的React Native社区致力于让React Native大规模应用于混合应用。React Native的进展比以往任何时候都快。去年有超过2500次提交，脸书<a class="ae kf" href="https://facebook.github.io/react-native/blog/2018/06/14/state-of-react-native-2018" rel="noopener ugc nofollow" target="_blank">刚刚宣布</a>他们正在解决我们正面面对的一些技术挑战<strong class="jk hi">。</strong>即使我们将不再投资React native，我们也很高兴能继续关注这些发展，因为React Native的技术胜利将转化为世界各地使用我们产品的人们的现实胜利。</p><h1 id="25cc" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">外卖食品</h1><p id="052d" class="pw-post-body-paragraph ji jj hh jk b jl lm ii jn jo ln il jq jr lo jt ju jv lp jx jy jz lq kb kc kd ha bi translated">我们将React Native集成到大型现有应用中，这些应用继续以非常快的速度发展。我们遇到的许多困难是由于我们采用了混合模型方法。然而，我们的规模使我们能够承担并解决一些小公司可能没有时间解决的难题。让React Native与Native无缝地工作是可能的，但具有挑战性。每个使用React Native的公司都会有一种体验，这种体验是他们的团队组成、现有应用程序、产品要求和React Native成熟度的独特功能。</p><p id="bf8c" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">当所有的东西都在一起时，许多特性都是这样，迭代速度、质量和开发人员体验都达到或超过了我们所有的目标和期望。有时，真的感觉我们正处于改变移动开发游戏的边缘。尽管这些经历非常鼓舞人心，但当我们权衡利弊以及工程组织的当前需求和资源时，我们决定不再适合我们。</p><p id="0fef" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">决定是否使用一个新的平台是一个重大的决定，完全取决于你的团队特有的因素。我们的经历和离开的原因可能不适用于你的团队。事实上，<a class="ae kf" rel="noopener" href="/@Pinterest_Engineering/supporting-react-native-at-pinterest-f8c2233f90e6">许多</a> <a class="ae kf" href="https://instagram-engineering.com/react-native-at-instagram-dd828a9a90c7" rel="noopener ugc nofollow" target="_blank">公司</a>今天仍在成功地使用它，它可能仍然是许多其他公司的最佳选择。</p><p id="b2d1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">虽然我们从未停止对native的投资，但sunsetting React Native释放了更多资源，使Native比以往任何时候都更好。跟随本系列的下一部分<a class="ae kf" rel="noopener" href="/airbnb-engineering/whats-next-for-mobile-at-airbnb-5e71618576ab">来了解native中的新特性。</a></p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><p id="a114" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">这是一系列博客文章的第四部分，重点介绍了我们在React Native的体验以及Airbnb的下一步移动应用。</p><ul class=""><li id="bf7c" class="lr ls hh jk b jl jm jo jp jr lt jv lu jz lv kd lw lx ly lz bi translated"><a class="ae kf" rel="noopener" href="/airbnb-engineering/react-native-at-airbnb-f95aa460be1c">第1部分:在Airbnb上反应原生</a></li><li id="9d01" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated"><a class="ae kf" rel="noopener" href="/airbnb-engineering/react-native-at-airbnb-the-technology-dafd0b43838">第二部分:技术</a></li><li id="13f5" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated"><a class="ae kf" rel="noopener" href="/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88">第3部分:建立跨平台移动团队</a></li><li id="5fa0" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated"><a class="ae kf" rel="noopener" href="/airbnb-engineering/sunsetting-react-native-1868ba28e30a"> <em class="ke">第四部分:对React Native做出决定</em> </a></li><li id="e178" class="lr ls hh jk b jl ma jo mb jr mc jv md jz me kd lw lx ly lz bi translated"><a class="ae kf" rel="noopener" href="/airbnb-engineering/whats-next-for-mobile-at-airbnb-5e71618576ab">第五部分:手机的下一步是什么</a></li></ul></div></div>    
</body>
</html>