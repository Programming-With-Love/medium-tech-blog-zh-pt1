<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/android-studio-is-borked-my-checklist-for-fixing-build-issues-e41a9dd8cba8?source=collection_archive---------3-----------------------#2018-06-19">https://medium.com/google-developer-experts/android-studio-is-borked-my-checklist-for-fixing-build-issues-e41a9dd8cba8?source=collection_archive---------3-----------------------#2018-06-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><p id="1873" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated"><strong class="hi ie"> Android Studio被“破解”——我修复构建问题的清单</strong></p><figure class="ig ih ii ij fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es if"><img src="../Images/82a3a60def73865ecf9da6b1bdd93227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y6ylaxFE8yqZg6PxnvRDUw.jpeg"/></div></div><figcaption class="ir is et er es it iu bd b be z dx">Photo by <a class="ae iv" href="https://unsplash.com/photos/XFUqd0u5U7w?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Simson Petrol</a> on <a class="ae iv" href="https://unsplash.com/search/photos/broken-computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="83dd" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">我最近遇到了一个问题，尽管我的项目被正确地配置了(并且构建在我同事的机器上)，我还是不能让它在我的本地环境中工作。</p><p id="90a6" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">我尝试了多次全新构建，克隆了一个新的回购协议，重启了我的机器，升级了我所有的依赖版本，以及我能想到的解决我的问题的所有其他方法。</p><p id="83ee" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated"><strong class="hi ie">我的问题是:</strong>编译器不会识别任何来自Android测试支持库的导入。对于ActivityTestRule(和其他基本类)，我会得到错误“<em class="iw">找不到符号</em>”。Android Studio可能会因为各种原因而进入这种“封闭”状态。</p><p id="d5ec" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">我不再需要清空我所有的系统缓存(我使用了塞巴斯蒂安·波吉的一个很棒的脚本)，这最终修复了我的问题。</p></div><div class="ab cl iz ja go jb" role="separator"><span class="jc bw bk jd je jf"/><span class="jc bw bk jd je jf"/><span class="jc bw bk jd je"/></div><div class="ha hb hc hd he"><p id="946d" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">我分享我的故障诊断清单，以防你在Android Studio中遇到类似的情况。请记住，你在列表中的位置越靠下，这个行为的破坏性就越大。</p><ol class=""><li id="60c4" class="jg jh hh hi b hj hk hn ho hr ji hv jj hz jk id jl jm jn jo bi translated">确保您已经更新了Android Studio，并且您的项目中的Gradle版本已经更新到最新的稳定版本。</li><li id="bd5f" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">备份您的项目需要/期望的任何特殊环境变量或梯度属性文件</li><li id="ed07" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">将项目的新实例克隆到新目录中</li><li id="438a" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">重新启动计算机。</li><li id="9d90" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">使用“无效缓存”选项重新启动AS<br/>在AS from: <em class="iw">文件“无效缓存并重新启动…”</em></li><li id="e465" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">清除项目缓存—在项目的主级别中有两个隐藏目录(在第一次编译之后)。提示:在Mac上键入“cmd-shift-”如果您在Finder窗口中看不到这些文件。<br/>删除两个目录:<br/> <em class="iw"> &lt;项目主目录&gt; /。创意<br/> &lt;项目首页&gt; /。格雷德</em></li><li id="adce" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">删除系统分级缓存:<br/>删除该文件夹:<br/> <em class="iw"> / &lt; userhome &gt; /。梯度/缓存</em></li><li id="90e3" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">在构建期间手动刷新你的项目依赖关系<br/>使用类似于<br/> <em class="iw"> $gradlew assemble — —刷新依赖关系</em>的gradle命令</li><li id="da53" class="jg jh hh hi b hj jp hn jq hr jr hv js hz jt id jl jm jn jo bi translated">如果这些步骤都不能解决您的问题，请使用“深度清洁”方法。执行这个脚本:<br/> <em class="iw">警告，这是</em> <strong class="hi ie"> <em class="iw">最后一个</em> </strong> <em class="iw">步骤的一个原因。如果您运行这个脚本，它将重置您所有的Android Studio缓存，并将使您未来的构建更慢(直到缓存恢复)。</em><br/><a class="ae iv" href="https://mobile.twitter.com/seebrock3r/status/1356295923589066761" rel="noopener ugc nofollow" target="_blank">https://github.com/rock3r/deep-clean</a><br/>编辑:自本文发布以来，此脚本已更新至1.5版！</li></ol></div><div class="ab cl iz ja go jb" role="separator"><span class="jc bw bk jd je jf"/><span class="jc bw bk jd je jf"/><span class="jc bw bk jd je"/></div><div class="ha hb hc hd he"><p id="f8d6" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">体验Android Studio构建问题可能会令人沮丧。希望这些步骤能帮助你快速恢复。</p></div></div>    
</body>
</html>