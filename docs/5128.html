<html>
<head>
<title>Blending JavaScript With Mendix to Enhance your App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将JavaScript与Mendix相结合以增强您的应用程序</h1>
<blockquote>原文：<a href="https://medium.com/mendix/a-blend-of-javascript-with-mendix-components-to-enhance-our-mendix-application-54dd97d2c048?source=collection_archive---------2-----------------------#2021-07-05">https://medium.com/mendix/a-blend-of-javascript-with-mendix-components-to-enhance-our-mendix-application-54dd97d2c048?source=collection_archive---------2-----------------------#2021-07-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="dc08" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">一个Mendix开发人员的大脑会根据对象/实体来看待他们应用程序的所有主要组件，但是这总是正确的吗？有时，我们仅仅把应用程序的特性看作属性、关联或实体，难道不会使它们复杂化吗？</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/830012e155e7a6eb687a511d7cc65f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYI8U9K7xJLaZVZ09b4QSg.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Blending JavaScript With Mendix to Enhance your App</figcaption></figure><h2 id="44e0" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">有人可能会说，不把视觉组件也看作对象，我们不是偏离了Mendix的基本原则吗？</h2><h2 id="ba43" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">我最近有一个问题陈述，如果只使用我们的基本原理来解决，就不会像现在这样有效。我们的解决方案缓慢且过于复杂……直到我们从不同的角度看待问题。</h2><h1 id="b65c" class="kx ka hu bd kb ky kz la kf lb lc ld kj ja le jb kn jd lf je kr jg lg jh kv lh dt translated">一个有趣的问题陈述</h1><p id="3157" class="pw-post-body-paragraph li lj hu bd b lk ll iv lm ln lo iy lp kk lq lr ls ko lt lu lv ks lw lx ly lz hn dt translated">首先，我们有一个书单，并要求在打开一本书时，读者应该看到词汇表和关于这本书的一些细节。读者还应该能够通过点击一个词汇表条目来浏览这本书，并能够根据这本书的内容做笔记。</p><p id="9dd5" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">这听起来很简单，但提出了一个复杂的问题。这些书来自一个以HTML格式交付的API。问题很快变成了当用户点击某些元素时，我们如何在HTML字符串之间传递数据？</p><p id="449d" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">当我们试图用我们传统的Mendix方法(使用实体等)实现这个用例时。，在微流中)我们的第一个想法是“也许这是不可能的……”但后来我们做到了。然而，我们的解决方案过于复杂——从我们的页面设计到对性能的显著影响。通过使用传统的Mendix方法创建东西，我们创建了太多的微流程，页面设计变得复杂。</p><p id="9eca" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">通过更多的头脑风暴，我们用一个可重用的插件解决了这个问题，这个插件是由HTML结构和Mendix客户端API驱动的JavaScript、Nanoflows和JavaScript动作<strong class="bd mf">的组合创建的。</strong></p><h1 id="8ef4" class="kx ka hu bd kb ky kz la kf lb lc ld kj ja le jb kn jd lf je kr jg lg jh kv lh dt translated">我们是这样解决的</h1><p id="bdac" class="pw-post-body-paragraph li lj hu bd b lk ll iv lm ln lo iy lp kk lq lr ls ko lt lu lv ks lw lx ly lz hn dt translated">虽然我不能分享完整的代码，但我想从高层次上分析我们解决问题的方法。</p><p id="4b52" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">1.我们从Rest API 中获得了字符串形式的图书内容<strong class="bd mf">，图书列表<strong class="bd mf">作为HTML字符串</strong>返回。</strong></p><p id="e7af" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">2.然后，我们使用了<strong class="bd mf"> HTML片段小部件</strong>(带有上下文)，来显示图书列表。当一本书(或术语表项目)被点击时，必须进一步调用来检索术语表的细节。</p><div class="mg mh fm fo mi mj"><a href="https://docs.mendix.com/appstore/widgets/html-javascript-snippet/" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hv fv z el mo eo ep mp er et ht dt translated">HTML/JavaScript代码片段</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">介绍HTML/JavaScript代码片段小部件的配置和用法，该小部件可在Mendix…</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">docs.mendix.com</p></div></div></div></a></div><p id="b325" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">3.接下来，我们在HTML代码片段上启用了点击事件。该事件获取被点击的术语表项的元素细节，以及要突出显示的书籍章节。然而，一旦单击了术语表项，我们就必须通过API检索其余的数据。</p><p id="e603" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">4.因此，我们必须将元素细节传递给REST API，以获取术语表的细节。在这一点上，事情可能听起来简单明了，但实际上并不那么容易。为了进行REST调用，我们需要调用一个微流——我们如何从字符串中完成呢？</p><p id="d60f" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">5.点击事件再次拯救了我们。使用称为纳米流的点击事件。在nanoflow <strong class="bd mf">中，我们通过定制的JavaScript动作创建了一个Mendix对象。</strong>Javascript动作<strong class="bd mf">使用了Mendix客户端API </strong>函数<a class="ae ms" href="https://apidocs.rnd.mendix.com/8/client/mx.data.html" rel="noopener ugc nofollow" target="_blank"> <strong class="bd mf"> mx.data.create() </strong> </a>来创建我们的上下文实体。<strong class="bd mf">然后</strong> <strong class="bd mf">通过传递之前创建的对象，我们还在函数</strong>中执行了一个微流。</p><pre class="jk jl jm jn fq mt mu mv bn mw mx bi"><span id="0990" class="my ka hu mu b be mz na l nb nc">mx.data.action({params: {<br/>apply to: “selection”,<br/>action name: “Bookmark.MyMicroflow“,<br/>guids: [obj.getGuid()],<br/>}</span></pre><p id="c104" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">6.接下来是书签和从页面内容中做笔记——从这里和那里的几个段落，组合在一起做你自己的笔记。同样，我们编写了<strong class="bd mf">一个点击事件来启用书签</strong>，这个事件突出显示了书的内容。为了将书签数据传递到用户的笔记中，<strong class="bd mf">我们需要一个保存功能</strong>。</p><p id="4a86" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">7.为此，我们再次调用<strong class="bd mf">一个nanoflow，它反过来调用一个JavaScript动作</strong>。在JavaScript动作中，<strong class="bd mf">我们将书签数据转换成JSON </strong> <strong class="bd mf">结构</strong>。</p><p id="9591" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">8.现在，通过导入JSON结构，我们可以轻松地将书签保存到我们的笔记中。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nd"><img src="../Images/a4ca8788f02fcbf04b0a6fef843079c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*dc4CHDCrax4XZfBCIUZvzw.png"/></div></div></figure><h2 id="5095" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">跳出框框思考</h2><p id="41f5" class="pw-post-body-paragraph li lj hu bd b lk ll iv lm ln lo iy lp kk lq lr ls ko lt lu lv ks lw lx ly lz hn dt translated">我想说在Mendix没有什么是不可能创造的。你只是被自己的想象力所限制。</p><p id="309b" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">我们知道您可以将页面的可视组件视为实体本身。我们只需要超越可能的范围，并决定采用另一种方法与静态数据进行交互。我们最初的方法使事情变得复杂，混淆了设计。转向JavaScript使我们能够优化流程并交付相同的结果。</p></div><div class="ab cl ne nf hb ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="hn ho hp hq hr"><p id="0e0a" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">我很乐意听到更好的方法来实现这一点，请留下您对更好实现的建议的评论:)</p><h2 id="24ab" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated"><strong class="ak">阅读更多</strong></h2><div class="mg mh fm fo mi mj"><a href="https://docs.mendix.com/refguide/javascript-actions/" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hv fv z el mo eo ep mp er et ht dt translated">JavaScript操作</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">本参考指南详细介绍了JavaScript操作扩展Mendix应用功能的方式。</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">docs.mendix.com</p></div></div></div></a></div><div class="mg mh fm fo mi mj"><a href="https://docs.mendix.com/howto/extensibility/best-practices-javascript-actions/" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab ej"><div class="ml ab mm cl cj mn"><h2 class="bd hv fv z el mo eo ep mp er et ht dt translated">实现JavaScript操作的最佳实践</h2><div class="mq l"><h3 class="bd b fv z el mo eo ep mp er et ek translated">描述如何创建高质量的JavaScript动作，使用通用的实现模式，设计更好的API，以及…</h3></div><div class="mr l"><p class="bd b gc z el mo eo ep mp er et ek translated">docs.mendix.com</p></div></div></div></a></div></div><div class="ab cl ne nf hb ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="hn ho hp hq hr"><p id="713c" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated"><em class="nl">来自发布者- </em></p><p id="eb63" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">如果你喜欢这篇文章，你可以在我们的 <a class="ae ms" href="https://medium.com/mendix" rel="noopener"> <em class="nl">中页</em> </a> <em class="nl">找到更多喜欢的。对于精彩的视频和直播会话，您可以前往</em><a class="ae ms" href="https://www.mendix.com/live/" rel="noopener ugc nofollow" target="_blank"><em class="nl">MxLive</em></a><em class="nl">或我们的社区</em><a class="ae ms" href="https://www.youtube.com/c/MendixCommunity/community" rel="noopener ugc nofollow" target="_blank"><em class="nl">Youtube PAG</em></a><em class="nl">e .</em></p><p id="5937" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated"><em class="nl">希望入门的创客，可以注册一个</em> <a class="ae ms" href="https://signup.mendix.com/link/signup/?source=direct" rel="noopener ugc nofollow" target="_blank"> <em class="nl">免费账号</em> </a> <em class="nl">，通过我们的</em> <a class="ae ms" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="nl">学苑</em> </a> <em class="nl">即时获取学习。</em></p><p id="3299" class="pw-post-body-paragraph li lj hu bd b lk ma iv lm ln mb iy lp kk mc lr ls ko md lu lv ks me lx ly lz hn dt translated">有兴趣更多地参与我们的社区吗？加入我们的 <a class="ae ms" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="nl"> Slack社区频道</em> </a> <em class="nl">。</em></p></div></div>    
</body>
</html>