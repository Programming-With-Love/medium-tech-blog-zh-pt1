<html>
<head>
<title>Generics exercise from advanced Kotlin workshop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">来自高级科特林研讨会的泛型练习</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/generics-exercise-from-advanced-kotlin-workshop-8c53dc292135?source=collection_archive---------0-----------------------#2018-06-04">https://blog.kotlin-academy.com/generics-exercise-from-advanced-kotlin-workshop-8c53dc292135?source=collection_archive---------0-----------------------#2018-06-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/b62101ac432613b2f47dc73ed0bfa905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JZ_-eO-yOb0nPpXr.jpg"/></div></div></figure><div class=""/><p id="e870" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我的高级<a class="ae kt" href="https://www.kt.academy/" rel="noopener ugc nofollow" target="_blank"> Kotlin工作坊</a>上，我们在每章之后做代码练习。这个练习就是这样诞生的。今天我决定与大家分享它，因为它不仅是一个伟大的练习，也是一个需要分享的重要知识。享受:)</p><figure class="kv kw kx ky gt ip gh gi paragraph-image"><a href="https://leanpub.com/effectivekotlin/c/3YYtCtqCC6a4"><div class="gh gi ku"><img src="../Images/0742a8ad0cfd3851db2d28061bf6f214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xbef0K0JtDZ6F2vBVUDZsg.jpeg"/></div></a></figure><p id="1032" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们需要表示结果时，我们通常决定使用密封类来表示它们:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="6823" class="le lf iy la b gy lg lh l li lj"><strong class="la iz">sealed class </strong>Result&lt;T, R&gt;<br/><strong class="la iz">class </strong>Success&lt;T, R&gt;(<strong class="la iz">val resp</strong>: T): Result&lt;T, R&gt;()<br/><strong class="la iz">class </strong>ErrorResult&lt;T, R&gt;(<strong class="la iz">val error</strong>: R): Result&lt;T, R&gt;()</span></pre><p id="c882" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这种符号很容易传递和处理:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="b6ff" class="le lf iy la b gy lg lh l li lj"><em class="lk">getNews </em><strong class="la iz">{ </strong>result <strong class="la iz">-&gt; <br/>    when</strong>(result) {<br/>        <strong class="la iz">is </strong>Success -&gt; <em class="lk">showNews</em>(result.<strong class="la iz">resp</strong>)<br/>        <strong class="la iz">is </strong>ErrorResult -&gt; <em class="lk">showError</em>(result.<strong class="la iz">error</strong>)<br/>    }<br/><strong class="la iz">}</strong></span></pre><p id="9459" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">尽管它的泛型行为设计得非常糟糕。我相信<code class="fe ll lm ln la b">Success("<strong class="jx iz">Message"</strong>)</code>也应该既是<code class="fe ll lm ln la b">Result&lt;String, Error&gt;</code>又是<code class="fe ll lm ln la b">Result&lt;Any, Error&gt;</code>:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="906d" class="le lf iy la b gy lg lh l li lj"><strong class="la iz">val </strong>s = Success(<strong class="la iz">"Message"</strong>)<br/><strong class="la iz">val </strong>r1: Result&lt;String, Error&gt; = s<br/><strong class="la iz">val </strong>r2: Result&lt;Any, Error&gt; = s</span></pre><p id="76c1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样的应该是<code class="fe ll lm ln la b">Result&lt;String, String&gt;</code>和<code class="fe ll lm ln la b">Result&lt;Any, String&gt;</code>:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="8bc6" class="le lf iy la b gy lg lh l li lj"><strong class="la iz">val </strong>s = Success(<strong class="la iz">"Message"</strong>)<br/><strong class="la iz">val </strong>r1: Result&lt;String, String&gt; = s<br/><strong class="la iz">val </strong>r2: Result&lt;Any, String&gt; = s</span></pre><p id="af55" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">错误也是如此:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="9aec" class="le lf iy la b gy lg lh l li lj"><strong class="la iz">val </strong>e = ErrorResult(Error())<br/><strong class="la iz">val </strong>r1: Result&lt;String, Error&gt; = e<br/><strong class="la iz">val </strong>r2: Result&lt;Any, Error&gt; = e<br/><strong class="la iz">val </strong>r3: Result&lt;String, Any&gt; = e<br/><strong class="la iz">val </strong>r4: Result&lt;Any, Any&gt; = e</span></pre><p id="7139" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，我认为<code class="fe ll lm ln la b">Success&lt;String&gt;</code>也应该是<code class="fe ll lm ln la b">Success&lt;CharSequence&gt;</code>和<code class="fe ll lm ln la b">Success&lt;Any&gt;</code>:</p><pre class="kv kw kx ky gt kz la lb lc aw ld bi"><span id="7185" class="le lf iy la b gy lg lh l li lj"><strong class="la iz">val </strong>s = Success(String())<br/><strong class="la iz">val </strong>r1: Success&lt;CharSequence&gt; = s<br/><strong class="la iz">val </strong>r2: Success&lt;Any&gt; = s</span></pre><p id="e570" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你能做到吗？</p><p id="4e4b" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在网上玩这个问题:</p><div class="im in gp gr io lo"><a href="https://try.kotlinlang.org/#/UserProjects/ui3j0bjgv9p0g29uaic1gmn35v/u68rfd8sf07fs2j1sar1isnujv" rel="noopener  ugc nofollow" target="_blank"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iz gy z fp lt fr fs lu fu fw ix bi translated">试试Kotlin:挑战泛型</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">在浏览器中尝试Kotlin。</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">try.kotlinlang.org</p></div></div><div class="lx l"><div class="ly l lz ma mb lx mc iu lo"/></div></div></a></div><figure class="kv kw kx ky gt ip gh gi paragraph-image"><a href="https://www.kt.academy/#workshops-offer"><div class="gh gi ku"><img src="../Images/018370a2476e1ce49e6d3299428b4f2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K-f1laplrjQQAMlYKfLgHw.png"/></div></a></figure><p id="09e1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在工作坊中，我们以泛型和Kotlin类型系统的知识为基础。很难用网上的资源来代替这个，但是我想给你一些你可以依据的东西。对于泛型，您可以使用以下文章:</p><div class="im in gp gr io lo"><a rel="noopener  ugc nofollow" target="_blank" href="/kotlin-generics-variance-modifiers-36b82c7caa39"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iz gy z fp lt fr fs lu fu fw ix bi translated">科特林通用方差修改器</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">即使对于有经验的开发人员来说，泛型有时也令人困惑。最后还是简单明了吧。</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">blog.kotlin-academy.com</p></div></div><div class="lx l"><div class="md l lz ma mb lx mc iu lo"/></div></div></a></div><div class="im in gp gr io lo"><a rel="noopener  ugc nofollow" target="_blank" href="/understanding-kotlin-limitations-for-type-parameter-positions-15527b916034"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iz gy z fp lt fr fs lu fu fw ix bi translated">了解Kotlin对类型参数位置的限制</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">Kotlin方差修饰符对类型参数的使用施加了限制。协变类型参数(无修饰符)…</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">blog.kotlin-academy.com</p></div></div><div class="lx l"><div class="me l lz ma mb lx mc iu lo"/></div></div></a></div><p id="60c0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于Kotlin型系统，我建议使用以下材料:</p><figure class="kv kw kx ky gt ip"><div class="bz fp l di"><div class="mf mg l"/></div></figure><div class="im in gp gr io lo"><a rel="noopener  ugc nofollow" target="_blank" href="/kotlins-nothing-its-usefulness-in-generics-5076a6a457f7"><div class="lp ab fo"><div class="lq ab lr cl cj ls"><h2 class="bd iz gy z fp lt fr fs lu fu fw ix bi translated">科特林的虚无:它在泛型中的有用性</h2><div class="lv l"><h3 class="bd b gy z fp lt fr fs lu fu fw dk translated">本文探讨了Kotlin的Nothing类型在泛型中的用途。我们来看看它与Java的关系。</h3></div><div class="lw l"><p class="bd b dl z fp lt fr fs lu fu fw dk translated">blog.kotlin-academy.com</p></div></div><div class="lx l"><div class="mh l lz ma mb lx mc iu lo"/></div></div></a></div><p id="e438" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你不知道该做什么，不要盯着代码看，争论并检查不同的改变如何影响编译器对待你的类型。这是最好的学习方法之一。</p><p id="b6ed" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我相信你自己能找到答案。您需要应用于初始代码的更改非常小。如果你放弃了，你想看答案，可以在这里找到<a class="ae kt" href="https://gist.github.com/MarcinMoskala/29d0095bb3b8881d6c0e7c1d58d96a8d" rel="noopener ugc nofollow" target="_blank">。别担心，我总是在工作坊上做一些额外的练习；)</a></p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="1b60" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你需要Kotlin工作室吗？访问我们的网站<a class="ae kt" href="https://www.kt.academy/" rel="noopener ugc nofollow" target="_blank">看看我们能为您做些什么。</a></p><p id="2ae5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">了解卡帕头最新的重大新闻。学院，<a class="ae kt" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅时事通讯</a>，<a class="ae kt" href="https://twitter.com/ktdotacademy" rel="noopener ugc nofollow" target="_blank">观察推特</a>并在媒体上关注我们。</p><figure class="kv kw kx ky gt ip gh gi paragraph-image"><a href="http://eepurl.com/diMmGv"><div class="gh gi ku"><img src="../Images/3146970f03e44cb07afe660b0d43e045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54OqlYA4etu7wfpmMP5TKQ.png"/></div></a></figure><h2 id="f248" class="le lf iy bd mp mq mr dn ms mt mu dp mv kg mw mx my kk mz na nb ko nc nd ne nf bi translated">单击👏说“谢谢！”并帮助他人找到这篇文章。</h2><p id="5260" class="pw-post-body-paragraph jv jw iy jx b jy ng ka kb kc nh ke kf kg ni ki kj kk nj km kn ko nk kq kr ks ig bi translated">请注意，如果您按住鼓掌按钮，您可以留下更多的掌声。</p><figure class="kv kw kx ky gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nl"><img src="../Images/f36a792ac0eb95fc577e6f4125dba956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zo_H5DsF3fI8ucapgZHWWw.gif"/></div></div></figure></div></div>    
</body>
</html>