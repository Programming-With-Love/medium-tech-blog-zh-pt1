<html>
<head>
<title>Jfrog Artifactory integration with CI/CD Jenkins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jfrog Artifactory与CI/CD Jenkins的集成</h1>
<blockquote>原文：<a href="https://medium.com/globant/jfrog-artifactory-integration-with-ci-cd-jenkins-5c5228471642?source=collection_archive---------0-----------------------#2022-04-26">https://medium.com/globant/jfrog-artifactory-integration-with-ci-cd-jenkins-5c5228471642?source=collection_archive---------0-----------------------#2022-04-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="b11b" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">简介</strong></h1><p id="0ee4" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">JFrog Artifactory是一个通用的DevOps解决方案，通过应用交付过程提供二进制文件和工件的端到端自动化和管理，从而提高整个开发生态系统的生产率。它允许自由选择，支持25个以上的软件构建包，跨所有主要的CI/CD平台和您已经使用的DevOps工具。Artifactory可以作为Kubernetes和Docker注册表，并带有完整的CLI和REST APIs，可根据您的生态系统进行定制。工件存储库管理您的端到端工件生命周期，并支持不同的软件包管理系统，同时为您的CI/CD工作流提供一致性。工件存储库既是构建所需工件的来源，也是部署构建过程中生成的工件的目标。</p><h1 id="6241" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">典型的Jfrog用例</strong></h1><p id="12bd" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Jfrog artifactory用于通用DevOps解决方案，通过应用交付流程提供二进制文件和工件的端到端自动化和管理，从而提高整个开发生态系统的生产率。一些例子是:</p><p id="4dd7" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><a class="ae kf" href="https://jfrog.com/usecase/containerized-continuous-deployment-mesosphere-dcos-jfrog-artifactory-jenkins/" rel="noopener ugc nofollow" target="_blank">https://jfrog . com/use case/contained-continuous-deployment-meso sphere-dcos-jfrog-artifactory-Jenkins/</a></p><p id="61c9" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><a class="ae kf" href="https://jfrog.com/usecase/automated-distribution-open-source-private-components-jfrog-bintray/" rel="noopener ugc nofollow" target="_blank">https://jfrog . com/use case/automated-distribution-open-source-private-components-jfrog-bin tray/</a></p><h1 id="f7a3" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">本文涵盖了以下几点</strong></h1><ol class=""><li id="ca24" class="kg kh hh je b jf jg jj jk jn ki jr kj jv kk jz kl km kn ko bi translated">先决条件</li><li id="893f" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko bi translated">EC2实例上的Jfrog安装</li><li id="5f59" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko bi translated">在jfrog中创建Maven资源库</li><li id="ae94" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko bi translated">将Artifactory与Jenkins整合</li><li id="74c8" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko bi translated">摘要</li><li id="ec78" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko bi translated">参考</li></ol><h2 id="0c01" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated">1.先决条件</h2><ul class=""><li id="2054" class="kg kh hh je b jf jg jj jk jn ki jr kj jv kk jz li km kn ko bi translated">Jfrog支持Linux/Docker/Debian/Helm/Windows平台。</li><li id="a453" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz li km kn ko bi translated">在网络安全组中打开端口8081和8082</li><li id="58f2" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz li km kn ko bi translated">公共Ip</li><li id="8eef" class="kg kh hh je b jf kp jj kq jn kr jr ks jv kt jz li km kn ko bi translated">詹金斯</li></ul><h2 id="9949" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated">2.EC2实例上的Jfrog安装</h2><p id="805a" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">按照以下步骤在Ec2实例上安装Jfrog:</p><p id="be1f" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">以root用户身份打开终端/控制台登录，并在Linux上安装Java</p><p id="28e0" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"># yum安装java-1.8* -y</p><p id="2a38" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">在Linux上安装Jfrog并下载zip包</p><p id="be8f" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"># wget<a class="ae kf" href="https://releases.jfrog.io/artifactory/bintray-artifactory/org/artifactory/oss/jfrog-artifactory-oss/6.17.4/jfrog-artifactory-oss-6.17.4.zip%20%0d" rel="noopener ugc nofollow" target="_blank">https://releases . jfrog . io/arti factory/bin tray-arti factory/org/arti factory/OSS/jfrog-arti factory-OSS/6 . 17 . 4/jfrog-arti factory-OSS-6 . 17 . 4 . zip</a></p><p id="79a9" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">解压缩文件</p><p id="dfd1" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">#解压缩jfrog-arti factory-OSS-6 . 17 . 4 . zip</p><p id="b5c8" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">使用下面的命令启动jfrog</p><p id="653b" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"># cd artifactory-oss-6.17.4/bin/</p><p id="da3f" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"># ./artifactory.sh start</p><p id="5e21" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">要从浏览器访问Jfrog artifactory，我们需要Ec2实例的公共ip地址。</p><p id="f66f" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">http:// <public_ip_address> :8081</public_ip_address></p><p id="acb5" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">默认情况下，用户名和密码将分别为“admin”和“password”</p><p id="2fef" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">登录后，您将看到Jfrog Artifactory设置向导，如下图所示。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/f964ddf645d6e8a8f888741a935ea3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AtBLGzUXPO4sZgZQ"/></div></div></figure><p id="575b" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">现在，您可以通过单击next来设置jfrog artifactory。您可以设置新的管理员密码，如下图所示。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/2c4e2c9e6e5b254a4fb35819b7c6d60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zEJn7LsxTmX32nla"/></div></div></figure><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/d82b90d992b181953098ce984751b904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2GfJjDvWtFoyhnY-"/></div></div></figure><h2 id="5638" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated"><strong class="ak"> 3。在Jfrog </strong>中创建Maven仓库</h2><p id="bb80" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Maven中的存储库包含不同类型的构建工件和依赖项。您可以创建存储库(例如)，我正在创建一个maven存储库，如下图所示。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/2b8e2a743ac2622c34f4d74d2fec993b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gCXsSe-fs-p972rA"/></div></div></figure><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/c9e0dd323941716d264da2d05159d8b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o6r-EpoznuhLD-lo"/></div></div></figure><p id="1290" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">每当您创建一个存储库时，jfrog默认会创建另外五个存储库。存储库分为3种类型。</p><p id="f087" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">本地存储库<br/>远程存储库<br/>虚拟存储库</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/d92df1351ed5cbc339a4f9e5b6d7869d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H3-MIOUidCPALn3L"/></div></div></figure><h2 id="a828" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated"><strong class="ak"> 4。将Artifactory与Jenkins整合</strong></h2><p id="2846" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">您现在可以登录到Jenkins实例。在下面路径<strong class="je hi">管理詹金斯- &gt;詹金斯插件- &gt;可用- &gt; artifactory </strong>的帮助下安装Artifactory插件。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/91d5453ce0760a3293f4d495b0e85e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uiENl_EZn_0Dv7vI"/></div></div></figure><p id="3919" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">您需要借助以下路径在<strong class="je hi">系统配置</strong>中添加<strong class="je hi"> Jfrog URL &amp;部署者凭证</strong>:管理Jenkins - &gt;系统配置- &gt; JFrog平台实例。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/48631485a9105f8313bbf3a78840c7be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mYRkwN-fJPsE-dpx"/></div></div></figure><p id="2fcb" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">您可以创建一个带有全新安装目标的简单maven项目。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/b6768ae7890a725c3fa20b7bb7b4abc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HU9D4cqJuI0BMwSB"/></div></div></figure><p id="0102" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">构建后部分选择<strong class="je hi">将工件部署到Artifactory </strong>。在此操作中，所有工件都部署在Jfrog artifactory上。默认情况下，artifactory服务器URL可从系统中获得。您需要添加目标发布库、目标快照库。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/4d3fc169fb4b736cc3bb7acc128f2926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tMqMMQpKZjtF16WQ"/></div></div></figure><p id="6214" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">在jfrog Artifactory端，最初两个本地存储库都是空的，如下图所示。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div class="er es lv"><img src="../Images/5611f8a7b27935764c7b673167428e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/0*x4ypqe8GUKs0_OJQ"/></div></figure><p id="25b6" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">作业完成后，您将获得Artifactory构建信息，如下图所示。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="er es lj"><img src="../Images/19e434f6ed66db40d4bd052d9ccaae50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7n9quCijmSTTf8sD"/></div></div></figure><p id="9202" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">早期库-快照为空。现在，该作业作为工件部署在jfrog Artifactory上。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div class="er es lw"><img src="../Images/44bb307d1e5967ed14ed94fc6a6a9935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/0*k5TRxMcG3or6yQay"/></div></figure><p id="e8c4" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">Jfrog Artifactory维护每个已部署工件的版本。</p><figure class="lk ll lm ln fd lo er es paragraph-image"><div class="er es lx"><img src="../Images/c6fadb3135ab5d0e9c9695c9774be5b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/0*ddLEjgf2l8wAEbGE"/></div></figure><h2 id="6f10" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated">5.摘要</h2><p id="4bf7" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">通过本文，我们能够为JFrog artifactory设置所有必需的先决条件，并将其与Jenkins管道集成。如果您从未使用过JFrog artifactory，并且正在寻找更多的实践经验，那么JFrog站点上的最佳实践是有用的。</p><h2 id="58a4" class="ku if hh bd ig kv kw kx ik ky kz la io jn lb lc is jr ld le iw jv lf lg ja lh bi translated">6.参考</h2><p id="386d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><a class="ae kf" href="https://www.jfrog.com/confluence/display/JFROG/Onboarding+Best+Practices%3A+JFrog+Artifactory" rel="noopener ugc nofollow" target="_blank">https://www . JFROG . com/confluence/display/JFROG/on boarding+最佳+实践%3A+JFrog+Artifactory </a></p><p id="367c" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><a class="ae kf" href="https://www.jfrog.com/confluence/display/JFROG/JFrog+Artifactory" rel="noopener ugc nofollow" target="_blank">https://www . JFROG . com/confluence/display/JFROG/JFROG+Artifactory</a></p><p id="1376" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><a class="ae kf" href="https://jfrog.com/knowledge-base/what-is-an-artifact-repository/" rel="noopener ugc nofollow" target="_blank">https://jfrog . com/knowledge-base/what-is-a-artifact-repository/</a></p><p id="4481" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">对于Artifactory OSS的最新版本[从这里下载](https://jfrog.com/open-source/)</p><p id="def0" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">对于Artifactory OSS的旧版本[从这里下载](https://jfrog.bintray.com/artifactory/)</p><p id="689c" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">对于Artifactory Pro的最新版本[从这里下载](<a class="ae kf" href="https://jfrog.com/artifactory/" rel="noopener ugc nofollow" target="_blank">https://jfrog.com/artifactory/</a>)</p></div></div>    
</body>
</html>