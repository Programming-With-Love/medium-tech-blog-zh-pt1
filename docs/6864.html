<html>
<head>
<title>100vh problem with iOS Safari</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS Safari的100vh问题</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/100vh-problem-with-ios-safari-92ab23c852a8?source=collection_archive---------0-----------------------#2020-06-05">https://medium.com/quick-code/100vh-problem-with-ios-safari-92ab23c852a8?source=collection_archive---------0-----------------------#2020-06-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c1edd82eefb6b61bde48595389638b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KCRikGD8rOAj412s"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">NeONBRAND</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="731a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">尽管我们使用了<em class="js"> 100vh </em>(带有<em class="js"> 100vh </em>文本的红色不透明框)，但是网页内容在视窗之外。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f939" class="kc kd hh jy b fi ke kf l kg kh">.section {<br/> height: 100vh; // bad approach <br/>}</span></pre><p id="8564" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">增加高度后你收到的问题:<em class="js"> 100vh </em>到手机分辨率。这是由于Safari和Chrome使用的计算方法造成的。移动设备calc浏览器视口为(<strong class="iw hi">顶栏+文档+底栏</strong> ) = <em class="js"> 100vh </em>。当页面必须有一个部分充满整个屏幕时，我很难使用100vh。几个小时后，我找到了我给你展示的解决方案。</p><p id="7715" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">它们是两种解决方案，第一种方案需要JavaScript和CSS，第二种方案只需要CSS。</p><p id="53d9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.JS和CSS解决方案</p><p id="fef8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们首先从JS文件开始:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="2a1a" class="kc kd hh jy b fi ke kf l kg kh">const appHeight = () =&gt; {<br/> const doc = document.documentElement<br/> doc.style.setProperty(‘ — app-height’, `${window.innerHeight}px`)<br/>}<br/>window.addEventListener(‘resize’, appHeight)<br/>appHeight()<br/></span></pre><p id="9016" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> appHeigh </strong> t函数已经设置了新的样式属性<em class="js"> var(` — app-height`) </em>包括当前窗口高度，<em class="js"> — app-height </em>这是后续步骤所必需的。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="494d" class="kc kd hh jy b fi ke kf l kg kh">:root {<br/> — app-height: 100%;<br/>}</span><span id="d2cd" class="kc kd hh jy b fi ki kf l kg kh">html,<br/>body {<br/> padding: 0;<br/> margin: 0;<br/> overflow: hidden;<br/> width: 100vw;<br/> height: 100vh;<br/> height: var( — app-height);<br/>}</span></pre><p id="083d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在前面的步骤中，我已经创建了引用<em class="js"> — app-height </em>，包装在<em class="js"> var() </em>中，我已经收到CSS变量<em class="js"> var( — app-height) </em>。这个变量可以读取JS创建的值。</p><p id="759b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.CSS解决方案(不推荐)<br/>最后一个但并非最不重要的解决方案是“webkit-fill-available ”,这个解决方案只在苹果设备上有效，在安卓设备上解决不了问题。这个方案我不推荐，但是值得展示。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="da21" class="kc kd hh jy b fi ke kf l kg kh">height: 100%;<br/>height: -webkit-fill-available;</span></pre><p id="035c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">感谢您的关注！我将感谢您的反馈。</p><p id="8680" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你喜欢这篇文章，请在Twitter上关注我[<a class="ae it" href="http://twitter.com/MaciejDEV" rel="noopener ugc nofollow" target="_blank">@ MaciejDEV</a>](<a class="ae it" href="https://twitter.com/MaciejDEV" rel="noopener ugc nofollow" target="_blank">https://twitter.com/MaciejDEV</a>)</p></div></div>    
</body>
</html>