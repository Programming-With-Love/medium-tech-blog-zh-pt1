<html>
<head>
<title>Mendix UI : Customize file upload validation in five easy steps!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Mendix UI:通过五个简单的步骤定制文件上传验证！</h1>
<blockquote>原文：<a href="https://medium.com/mendix/mendix-ui-hack-fix-file-upload-validation-in-five-easy-steps-18a78af914bb?source=collection_archive---------2-----------------------#2021-01-14">https://medium.com/mendix/mendix-ui-hack-fix-file-upload-validation-in-five-easy-steps-18a78af914bb?source=collection_archive---------2-----------------------#2021-01-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/834c2147a258e8e805972d58a3aaca15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*asiXoXj-vRSnzMWkKwwiow.png"/></div></div></figure><div class=""/><div class=""><h2 id="8a34" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">你知道这是怎么回事；这是一个历史悠久的故事。你设计了最漂亮的Mendix应用程序，有一个惊人的仪表板，可爱的表单页面，用户界面是品牌的。客户称你为UX创世纪</h2></div><p id="4835" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">以这一页为例。页面看起来很干净，甚至验证消息看起来也很清晰:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff kp"><img src="../Images/74427fd3c603796cd8f9b313f57f398a.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*JcBmXhgW25dE2fxKsU46mg.png"/></div></figure><p id="b483" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">直到有一个新的需求进来，客户希望能够上传一个文件。没问题——你想！</p><p id="d1f0" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">您创建了新的实体，将新的文件上传器添加到您的页面，更新了验证，并在上保存了微流，不再想它了。但是等等，如果你让文件为空，它会给你一个弹出验证，而不是像其他页面上的其他字段那样的页面验证。现在你有两种类型的验证，弹出和内嵌！</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff ku"><img src="../Images/8bb87c2befebcae982a35a833f998083.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*GdVX6Jw6YkF0zee4uH2FmQ.png"/></div></figure><p id="dba0" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">但是你的验证微流是有意义的，对吗？如果文件为空，是否在文件上显示验证消息？不幸的是，这不起作用，不管你对你的微流喊得多大声:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff kv"><img src="../Images/67158802e10026511aedb1706420f103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*OhYoaJULcBsbRy_pdacjEQ.png"/></div></figure><p id="9f99" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">然而，有一个简单的方法可以解决这个问题，让你的页面恢复往日的辉煌。</p><p id="23e1" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">第一步</p><p id="2a3a" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">在您的页面上，在文件上传程序下添加“包含内容”属性，确保将“显示标签”设置为false:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff kv"><img src="../Images/033f9ec8c0292535ff0f103886a3ecd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*OOmzjJDkJcnczdKZJBUkmw.png"/></div></figure><p id="2812" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">第二步</p><p id="dc22" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">更新验证微流以显示针对“HasContents”属性的验证反馈。这将为您的微流提供一个属性来设置验证消息。我们得到一个弹出窗口的原因是因为我们不能选择实际的文件上传者实体来显示验证消息，所以添加这个属性解决了这个问题。</p><p id="ba44" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">第三步</p><p id="e4ac" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">接下来，打开您的Sass文件，并将以下内容添加到您的自定义文件夹中(希望放在一个有意义的适当位置，而不仅仅是custom.scss文件，尽管这很有吸引力)…</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff kw"><img src="../Images/e90a725b631002466ca26e2ae75ba4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:314/format:webp/1*dShyqW-S7COMNNGEnTKS2w.png"/></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">(For Mendix v7 and below)</figcaption></figure><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff lb"><img src="../Images/b5ee7febb5346d3df3bba3cecd1e0ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*Y1qpt0iNc_ERM4ZtUyxpRA.png"/></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">(For Mendix v8)</figcaption></figure><p id="9610" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">我们在这里所做的，是说任何在我们的“自定义验证”类中的“radio-inline”或“radio”类都将被隐藏。由于这些类只适用于单选按钮，它将只隐藏我们的“HasContents”属性。</p><p id="2ff8" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">第四步</p><p id="af0c" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">然后在文件上传器和“HasContents”属性周围添加一个新容器，并给它一个类名“custom-validation”(您可以将这个类名改为更合适的名称)。</p><p id="8c14" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">第五步</p><p id="26bf" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">最后，编译sass文件并运行您的Mendix项目。打开您的页面，不要填写任何内容来触发您的验证错误，它应该看起来像这样:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ku"><img src="../Images/ba07fb6a79b0ba174a3bd2c64102fe71.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*K_8-XasfKzxf6DZEFGyaKw.png"/></div></div></figure><p id="4246" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">就是这样！你可以回去设计很棒的网页。这种方法不仅适用于文件上传器，如果您需要自定义单选按钮，也可以使用:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff lc"><img src="../Images/c6580d7f120799e39a576550431d2062.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*Sfr3XaCByN0w5L2aNkC0DA.png"/></div></figure><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff ld"><img src="../Images/b14e86bb5bb9b3bf18dc4f07244ef9e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*p6CCG2dZQcbZeLgacPpG3A.png"/></div></figure><p id="9e61" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">在这个实例中，我们构建了改变单选按钮状态的自定义按钮。实际的单选按钮是隐藏的，但仍然用于显示任何验证错误，您最终可以完全控制样式。</p><p id="60a9" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">这小小的一招就有无限可能！负责任地使用…</p></div></div>    
</body>
</html>