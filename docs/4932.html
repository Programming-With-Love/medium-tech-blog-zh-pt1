<html>
<head>
<title>Kotlin for Interviews — Part 4: Iteration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面试用科特林——第4部分:迭代</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/kotlin-for-interviews-part-4-iteration-b176dee4f1ae?source=collection_archive---------2-----------------------#2020-11-05">https://blog.kotlin-academy.com/kotlin-for-interviews-part-4-iteration-b176dee4f1ae?source=collection_archive---------2-----------------------#2020-11-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6c45753a76ff2e315c5ebc1601518efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RsUKPdGuGwhKpAbu"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@danielcgold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dan Gold</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1ea5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是Kotlin for Interviews的第4部分，在这个系列中，我回顾了在Android面试准备期间经常出现的Kotlin函数和代码片段。我还编辑了一个包含本系列所有5个部分的备忘单，你可以在这里找到<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-cheatsheet-88a9831e9d55"/>。</p><p id="9fbc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里找到第1部分:常用数据类型<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-1-common-data-types-886ea1e40645">，</a>第2部分:集合函数<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-2-collection-functions-a4a488fa0a14">这里</a>和第3部分:数字和数学<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-3-numbers-and-math-786660295cea">这里</a>和第5部分:常用代码片段<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-5-frequently-used-code-snippets-444ad4d137f5">这里</a>。</p><p id="b016" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一部分包括:</p><ul class=""><li id="cd5a" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><a class="ae kc" href="#9ca3" rel="noopener ugc nofollow">范围更新</a></li><li id="b63e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#d553" rel="noopener ugc nofollow"> 1D数组/列表</a></li><li id="60a0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#74be" rel="noopener ugc nofollow"> 2D数组/列表</a></li><li id="a969" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#c4a8" rel="noopener ugc nofollow">地图</a></li><li id="9e50" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#739b" rel="noopener ugc nofollow">优先级队列</a></li></ul><p id="a6e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">许多面试问题需要某种迭代，无论是操作输入数组还是使用映射来存储信息，所以我将介绍一些常见数据结构的不同迭代方法。</p><h1 id="9ca3" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">靶场复习</h1><p id="087e" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">Kotlin中的<code class="fe ms mt mu mv b">Range</code>是由起始值、结束值和步长定义的值序列。两个值之间的步长或距离的默认值为1。你最常遇到的是<code class="fe ms mt mu mv b">IntRange</code>，但是你也可以使用<code class="fe ms mt mu mv b">LongRange</code>和<code class="fe ms mt mu mv b">CharRange</code>。</p><h1 id="d553" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">1D数组/列表和范围</h1><ul class=""><li id="34da" class="lb lc iq kf b kg mn kk mo ko mw ks mx kw my la lg lh li lj bi translated"><code class="fe ms mt mu mv b">forEach()</code>对集合中的每个元素执行给定的操作。这是我在普通项目中最常使用的迭代方法，但在面试中不常使用，因为1) <code class="fe ms mt mu mv b">forEach()</code>会抛出一个<code class="fe ms mt mu mv b">ConcurrentModificationException</code>如果你试图在迭代过程中修改集合，2)很多面试问题也需要考虑索引。</li><li id="bba2" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><code class="fe ms mt mu mv b">forEachIndexed()</code>类似于<code class="fe ms mt mu mv b">forEach()</code>，除了你还可以访问lambda中元素的索引，这是你在面试问题中经常需要的。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="871c" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Print elements at even indices.</em><br/><strong class="mv ir">list.forEachIndexed { index, element -&gt; <br/>    if (index % 2 == 0) println("$element")<br/>}</strong></span></pre><ul class=""><li id="bdcd" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b"><em class="nm">..</em></code>，又名<code class="fe ms mt mu mv b">rangeTo()</code>，可以用<code class="fe ms mt mu mv b">for(i in a..b)</code>的形式来创建然后迭代一个<code class="fe ms mt mu mv b">Range</code>。这个范围将包括开始(<code class="fe ms mt mu mv b">a</code>)和结束(<code class="fe ms mt mu mv b">b</code>)元素，所以如果你想用它来遍历一个列表/数组，你应该把它写成<code class="fe ms mt mu mv b">for (i in 0..list.size-1)</code>或者用<code class="fe ms mt mu mv b">until</code>来代替。尽管它最常用于<code class="fe ms mt mu mv b">Int</code> s，但是你也可以迭代<code class="fe ms mt mu mv b">Char</code> s。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="6a58" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Iterate and print from i = 0 to i = 100</em><br/><strong class="mv ir">for (i in 0..100) { println(i) }</strong></span><span id="dcbf" class="nh lq iq mv b gy nn nj l nk nl"><em class="nm">// Iterate from i = 0 to i = list.size-1</em><br/><strong class="mv ir">for (i in 0..list.size-1) { println(list[i]) }</strong></span><span id="c139" class="nh lq iq mv b gy nn nj l nk nl"><em class="nm">// Iterate and print 'a', 'b', 'c', 'd'</em><br/><strong class="mv ir">for (i in 'a'..'d') { println(i) }</strong></span></pre><ul class=""><li id="8576" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b">downTo()</code>的工作方式类似于<code class="fe ms mt mu mv b">..</code>，除了每次迭代都向下一步而不是向上一步。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="71b8" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Iterate and print from i = 100 to i = 0</em><br/><strong class="mv ir">for (i in 100 downTo 0) { println(i) }</strong></span></pre><ul class=""><li id="85ed" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b">step()</code>允许您指定每次迭代之间数值的变化。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="1f26" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Iterate and print 1, 3, 5, 7</em><br/><strong class="mv ir">for (i in 1..8 step 2) { println(i) }</strong></span><span id="9534" class="nh lq iq mv b gy nn nj l nk nl"><em class="nm">// Iterate and print 8, 5, 2<br/></em><strong class="mv ir">for (i in 8 downTo 1 step 3) { println(i) }</strong></span></pre><ul class=""><li id="db3e" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b">until()</code>包括开始元素，但不包括结束元素。这是我首选的遍历集合索引的方式，因为如果你使用列表的大小作为结束，你就不用担心索引越界。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="83af" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Iterate and print from i = 0 to i = 99</em><br/><strong class="mv ir">for (i in 0 until 100) { println(i) }</strong></span><span id="246d" class="nh lq iq mv b gy nn nj l nk nl"><em class="nm">// Iterate and print elements from i = 0 to i = list.size-1</em><br/><strong class="mv ir">for (i in 0 until list.size) { println(list[i]) }</strong></span></pre><ul class=""><li id="9e00" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b">indices</code>返回一个代表集合有效索引的<code class="fe ms mt mu mv b">IntRange</code>，可以类似于<code class="fe ms mt mu mv b">until()</code>使用。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="6c95" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">val list = listOf('a', 'b', 'c')<br/>println(list.indices)</strong> <em class="nm">// Prints 0..2</em><br/><em class="nm">// Iterate and print elements from i = 0 to i = 2<br/></em><strong class="mv ir">for (i in list.indices) { println(list[i]) }</strong></span></pre><ul class=""><li id="ef55" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><code class="fe ms mt mu mv b">repeat()</code> <em class="nm"> </em>执行指定次数的给定功能动作。</li></ul><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="83f5" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Print "Hello" 100 times</em><br/><strong class="mv ir">repeat(100) {<br/>    println("Hello")<br/>}</strong></span></pre><h1 id="74be" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">2D数组/列表</h1><p id="49a2" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">这种情况在实际项目中并不常见，但在面试问题中却经常出现——网格、迷宫、图表等等都可以用2D数组来表示。</p><p id="c7a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是我使用<code class="fe ms mt mu mv b">until</code>遍历2D数组或列表的首选方法:</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="90c0" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">if (grid.isEmpty()) return<br/>for (i in 0 until grid.size) {<br/>    for (j in 0 until grid[0].size) {<br/>        println(grid[i][j])<br/>    }<br/>}</strong></span></pre><p id="0137" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，您可以使用<code class="fe ms mt mu mv b">indices</code>:</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="f0db" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">if (grid.isEmpty()) return<br/>for (i in grid.indices) {<br/>    for (j in 0 until grid[0].size) {<br/>        println(grid[i][j])<br/>    }<br/>}</strong></span></pre><h1 id="c4a8" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">地图</h1><p id="accc" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">地图在面试问题中也很常见，尤其是当列表不够用时，作为存储信息的好方法。</p><p id="bec6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果需要遍历键值对，可以使用<code class="fe ms mt mu mv b">for</code>循环或<code class="fe ms mt mu mv b">forEach</code>循环。这个就看个人喜好了。</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="75ad" class="nh lq iq mv b gy ni nj l nk nl"><em class="nm">// Iterate through entries using a for-loop</em><br/><strong class="mv ir">for ((key, value) in map) {<br/>    println("$key = $value")<br/>}</strong></span><span id="7b25" class="nh lq iq mv b gy nn nj l nk nl"><em class="nm">// Iterate through entries using forEach()</em><br/><strong class="mv ir">map.forEach { (key, value) -&gt; println("$key = $value") }</strong></span></pre><p id="bb64" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您只需要遍历这些键，您可以使用<code class="fe ms mt mu mv b">keys</code> val来获得映射中所有键的<code class="fe ms mt mu mv b">Set</code>，并遍历这些键。</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="227a" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">map.keys.forEach { println(it) }</strong></span></pre><p id="d489" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">类似地，如果您只需要遍历这些值，<code class="fe ms mt mu mv b">values</code> val将返回地图中所有值的一个<code class="fe ms mt mu mv b">Set</code>。</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="989f" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">map.values.forEach { println(it) }</strong></span></pre><h1 id="739b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">优先级队列</h1><p id="6d5a" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">当您希望根据元素的优先级来处理元素时，s很有帮助。它们经常被用在要求K次最大，K次最小，K次最频繁等等的面试问题中。我在第1部分中更详细地介绍了它们，但是这里提醒一下遍历一个是什么样子的。</p><pre class="mz na nb nc gt nd mv ne nf aw ng bi"><span id="d1cb" class="nh lq iq mv b gy ni nj l nk nl"><strong class="mv ir">val pq = PriorityQueue&lt;Int&gt;(listOf(2, 1, 3))</strong><br/><em class="nm">// pq will be empty after 3 iterations</em><br/><strong class="mv ir">while(pq.isNotEmpty()) {<br/>    println(pq.poll()) </strong><em class="nm">// prints 1, then 2, then 3</em><strong class="mv ir"><br/>}</strong></span></pre><p id="eb71" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第4部分到此为止！第五篇也是最后一篇科特林访谈文章涵盖了常用的代码片段。这里是<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-cheatsheet-88a9831e9d55">链接到备忘单</a>再次涵盖所有5个部分。</p></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><h1 id="a8e4" class="lp lq iq bd lr ls nv lu lv lw nw ly lz ma nx mc md me ny mg mh mi nz mk ml mm bi translated">点击👏说“谢谢！”并帮助他人找到这篇文章。</h1><p id="9541" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">了解卡帕头最新的重大新闻。学院，<a class="ae kc" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅时事通讯</a>，<a class="ae kc" href="https://twitter.com/ktdotacademy" rel="noopener ugc nofollow" target="_blank">观察Twitter </a>并在Medium上关注我们。</p><p id="6889" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您需要Kotlin工作室，请查看我们如何帮助您:<a class="ae kc" href="https://kt.academy/" rel="noopener ugc nofollow" target="_blank"> kt.academy </a>。</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><a href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a"><div class="gh gi oa"><img src="../Images/3146970f03e44cb07afe660b0d43e045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54OqlYA4etu7wfpmMP5TKQ.png"/></div></a></figure></div></div>    
</body>
</html>