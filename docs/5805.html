<html>
<head>
<title>Announcing ODP.NET 21.3 — User-Defined Types for Managed ODP.NET and ODP.NET Core</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">宣布推出ODP.NET 21.3—托管ODP.NET和ODP.NET核心的用户定义类型</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/announcing-odp-net-21-3-user-defined-types-for-managed-odp-net-and-odp-net-core-836fa81da3ba?source=collection_archive---------0-----------------------#2021-08-04">https://medium.com/oracledevs/announcing-odp-net-21-3-user-defined-types-for-managed-odp-net-and-odp-net-core-836fa81da3ba?source=collection_archive---------0-----------------------#2021-08-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/61838045594a83c9060b61bb327b44e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJH7zXvlgsDZo-ZOQaFC7w.png"/></div></div></figure><p id="e91c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我很高兴地宣布，第二个ODP.NET 21c版本21.3，现在可以在NuGet Gallery上为<a class="ae jn" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess/21.3.0" rel="noopener ugc nofollow" target="_blank">管理的ODP.NET</a>和<a class="ae jn" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess.Core/3.21.3" rel="noopener ugc nofollow" target="_blank">ODP.NET核心</a>提供。非托管ODP.NET 21.3。</p><p id="9cf4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是第一个托管的ODP.NET 21c版本，为带来了许多新的Oracle数据库功能。NET框架开发人员。这些新特性包括二进制JSON数据类型、客户端发起的连续查询通知、分片等等。如果你想了解更多，这些新的<a class="ae jn" rel="noopener" href="/oracledevs/introducing-odp-net-21c-ef-core-5-json-and-more-ea0843e89dea">ODP.NET 21c的特性在之前的博客文章</a>中有描述。在这篇博文中，我将重点介绍许多开发人员一直在寻求的主要的新用户定义类型(UDT)特性。udt通常用在对象关系应用程序中。</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jo"><img src="../Images/e7d77ca99a9a4912281b54516d597e64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_NQjwZbi312k8ScYumrlEA.png"/></div></div></figure><h1 id="ba1a" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">ODP。净udt</h1><p id="21a6" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">Oracle数据库udt允许开发人员更轻松地处理复杂的数据集。业务数据可以以更自然的形式存在。数据库和。NET应用程序可以将实体作为一个单元来管理，这提高了生产率和效率。许多不同的Oracle数据库组件固有地使用udt，如Oracle Spatial和XML DB，以及客户为处理其业务数据实体而创建的无数自定义类型。</p><p id="d36a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ODP。NET支持两种Oracle UDT类型:</p><ul class=""><li id="c5bf" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">对象类型，如Oracle对象</li><li id="4450" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">集合类型，比如<code class="du lk ll lm ln b">VARRAY</code>类型和嵌套表类型。</li></ul><p id="485c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，ODP.NET支持对对象类型的引用(<code class="du lk ll lm ln b">REF</code>)。</p><p id="ffcb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">历史上，非托管ODP.NET支持udt。就像非托管的ODP.NET一样，托管的ODP.NET和ODP.NET核心应用将Oracle数据库udt表示为。NET自定义类型。应用必须适用。NET属性应用于自定义类和结构，以及它们的公共字段和属性。托管ODP.NET和ODP.NET核心也存在同样的流程。</p><p id="0f62" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我已经在GitHub上发布了几个<a class="ae jn" href="https://github.com/oracle/dotnet-db-samples/tree/master/samples/udt" rel="noopener ugc nofollow" target="_blank">ODP.NET·UDT代码示例</a>来帮助托管的ODP.NET和ODP.NET核心开发者入门。这些示例涵盖了常见的使用场景:</p><ul class=""><li id="3620" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated"><code class="du lk ll lm ln b">Object-UDT.cs</code>:映射、获取和操作一个UDT的. NET定制对象</li><li id="dd6f" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">Spatial-UDT.cs</code>:映射和提取Oracle Spatial类型作为定制类型</li><li id="a30f" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">VArray.cs</code>:将<code class="du lk ll lm ln b">VARRAY</code>作为自定义对象进行映射、提取和操作</li><li id="6374" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">Nested-Table.cs</code>:映射、获取和操作具有继承层次结构(即父类型和子类型)的udt的嵌套表</li><li id="fb6a" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">Ref.cs</code>:取被REFs引用的udt</li><li id="e169" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">Ref-Inheritance.cs</code>:从OracleRef对象获取自定义类型对象，通过OracleRef对象更新udt，并从OracleRef对象获取具有继承层次结构<br/>的udt的适当<br/>实例类型</li></ul><p id="6c18" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您会注意到，托管ODP.NET和ODP.NET核心只有一套示例代码。那是因为代码完全一样。这两个提供者共享相同的UDT API和配置选项。</p><p id="d8b6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">与非托管的ODP.NET相比，托管的ODP.NET和ODP.NET核心在功能和API方面相当。这种近乎对等的优势使得将现有的无人管理的ODP.NET·UDT应用迁移到托管的ODP.NET或ODP.NET核心变得更加简单。对于许多应用程序来说，迁移只是搜索和替换几行代码。</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/1dea81a2a015dd3ae05800f1e8e7bd88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m2rJloCF2Y267eZVQHOyKQ.png"/></div></div></figure><h1 id="1211" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">ODP.NET供应商之间的UDT差异</strong></h1><p id="4370" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">托管ODP.NET和ODP.NET核心支持与非托管ODP.NET相同的大多数UDT API和功能。存在一些API和配置差异。让我详细介绍一下。</p><h2 id="b0a8" class="lo ju hh bd jv lp lq lr jz ls lt lu kd ja lv lw kh je lx ly kl ji lz ma kp mb bi translated">不支持XML配置文件</h2><p id="3e20" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">受管ODP.NET和ODP.NET核心不支持通过XML配置文件(如app.config或web.config)进行Oracle自定义类型映射。对于这些提供程序，自定义类型映射通过使用<code class="du lk ll lm ln b">OracleCustomTypeMapping</code>属性进行。</p><h2 id="3c2d" class="lo ju hh bd jv lp lq lr jz ls lt lu kd ja lv lw kh je lx ly kl ji lz ma kp mb bi translated"><strong class="ak"> OracleUdt FromCustomObject和ToCustomObject方法变更</strong></h2><p id="a69c" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">非托管ODP.NET的<code class="du lk ll lm ln b">OracleUdt</code> <em class="mc"> </em> <code class="du lk ll lm ln b">FromCustomObject</code>和<code class="du lk ll lm ln b">ToCustomObject</code>方法声明有:</p><ul class=""><li id="899b" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">FromCustomObject(Oracle connection con，<strong class="ir hi">IntPtr po object</strong>)</li><li id="3c34" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">to custom object(Oracle connection con，<strong class="ir hi">IntPtr po object</strong></li></ul><p id="ae69" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于托管ODP.NET和ODP.NET核心，声明分别为:</p><ul class=""><li id="ceaa" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">FromCustomObject(Oracle connection con，<strong class="ir hi">object po object</strong></li><li id="424f" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">to custom object(Oracle connection con，<strong class="ir hi">object po object</strong></li></ul><p id="c6c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第二个参数是对象而不是指针。</p><h2 id="10bb" class="lo ju hh bd jv lp lq lr jz ls lt lu kd ja lv lw kh je lx ly kl ji lz ma kp mb bi translated">OracleUdt静态方法</h2><p id="4828" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated"><code class="du lk ll lm ln b">OracleUdt</code>静态方法、<code class="du lk ll lm ln b">GetValue</code>、<code class="du lk ll lm ln b">IsDBNull</code>、<code class="du lk ll lm ln b">SetValue</code>及其重载在非托管ODP.NET中都有一个指针(InPtr)参数。对于托管ODP.NET和ODP.NET核心，指针被替换为表示UDT的对象。在非托管ODP.NET中，静态方法有:</p><p id="3b78" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> GetValue </strong></p><ul class=""><li id="ccec" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，字符串属性)</li><li id="1192" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，int attrIndex)</li><li id="8e73" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，string attrName，out object statusArray)</li><li id="5117" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，int attrIndex，out object statusArray)</li></ul><p id="d7a7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> IsDBNull </strong></p><ul class=""><li id="abf9" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">IsDBNull(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，字符串属性)</li><li id="6c57" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">IsDBNull(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，int attrIndex)</li></ul><p id="4de8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">设定值</strong></p><ul class=""><li id="c480" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，字符串属性，对象值)</li><li id="2ef7" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，int attrIndex，object value)</li><li id="2851" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，字符串属性，对象值，对象状态数组)</li><li id="26fc" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi"> IntPtr pUdt </strong>，int attrIndex，object value，object statusArray)</li></ul><p id="d5dd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">托管ODP.NET和ODP.NET核心静态方法分别是:</p><p id="c834" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> GetValue </strong></p><ul class=""><li id="9a45" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，字符串属性)</li><li id="991f" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi"> object udt </strong>，int attrIndex)</li><li id="3b04" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，字符串属性，输出对象状态数组)</li><li id="bd61" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，int属性索引，out对象状态数组)</li></ul><p id="a5ff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> IsDBNull </strong></p><ul class=""><li id="67e2" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">IsDBNull(OracleConnection con，<strong class="ir hi">对象udt </strong>，字符串属性)</li><li id="8928" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">IsDBNull(OracleConnection con，<strong class="ir hi"> object udt </strong>，int attrIndex)</li></ul><p id="59d7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">设定值</strong></p><ul class=""><li id="6b86" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，字符串属性，对象值)</li><li id="2adf" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，int属性索引，对象值)</li><li id="059d" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，字符串属性，对象值，对象状态数组)</li><li id="36d8" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">SetValue(OracleConnection con，<strong class="ir hi">对象udt </strong>，int属性索引，对象值，对象状态数组)</li></ul><h2 id="aec9" class="lo ju hh bd jv lp lq lr jz ls lt lu kd ja lv lw kh je lx ly kl ji lz ma kp mb bi translated"><strong class="ak"> OracleConnection类变更</strong></h2><p id="d7c7" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">托管ODP.NET和ODP.NET核心不支持以下<code class="du lk ll lm ln b">OracleConnection</code>方法:</p><ul class=""><li id="98f1" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">FlushCache()</li></ul><h2 id="662c" class="lo ju hh bd jv lp lq lr jz ls lt lu kd ja lv lw kh je lx ly kl ji lz ma kp mb bi translated"><strong class="ak"> OracleRef类变更</strong></h2><p id="1c19" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">托管ODP.NET和ODP.NET核心不支持对象缓存和一些没有托管代码实现的附加功能。因此，托管和核心ODP中不支持以下非托管ODP.NET<code class="du lk ll lm ln b">OracleRef</code>类成员。网络:</p><p id="8b93" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">构造函数</strong></p><ul class=""><li id="c555" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">OracleRef(OracleConnection conn，string udtTypeName，string objTableName)</li><li id="9215" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">OracleRef(OracleConnection conn，string hexStr)</li></ul><p id="3f2a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">方法</strong></p><ul class=""><li id="1360" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">齐平()</li><li id="98c7" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetCustomObject(OracleUdtFetchOption fetchOption，int depthLevel)</li><li id="8ff7" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetCustomObjectForUpdate(bool bWait)</li><li id="0d15" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">GetCustomObjectForUpdate(bool bWait，int depthLevel)</li><li id="8eff" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">锁定(布尔等待)</li></ul><p id="e0fc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">属性</strong></p><ul class=""><li id="9945" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">HasChanges {get}</li><li id="1ed9" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated">ObjectTableName {get}</li></ul><p id="0183" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以修改的方式支持以下<code class="du lk ll lm ln b">OracleRef</code>类成员:</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/aa48c063b76faa4f14693122bdd46e1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OSqgbsMVLIiXfmmmiogW-g.png"/></div></div></figure><figure class="jp jq jr js fd ii er es paragraph-image"><div class="er es me"><img src="../Images/17419cb25ab0d46387393f778f351ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*ALE5MQHLxSyr9nJb_RMTOw.png"/></div></figure><h1 id="a636" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">从不受管理的ODP.NET迁移到受管理的ODP.NET或ODP.NET核心</strong></h1><p id="68fe" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">要将UDT应用从不受管理的ODP.NET迁移到受管理的ODP.NET或ODP.NET核心，需要进行以下更改:</p><p id="8e6c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">装配</strong></p><p id="a22b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在您的中引用托管的ODP.NET或ODP.NET核心部件(即Oracle.ManagedDataAccess.dll)。NET项目。</p><p id="ae0f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">名称空间</strong></p><p id="b92f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在源文件中使用<code class="du lk ll lm ln b">Oracle.ManagedDataAccess</code>名称空间，包括<code class="du lk ll lm ln b">Oracle.ManagedDataAccess.Client</code>和<code class="du lk ll lm ln b">Oracle.ManagedDataAccess.Types</code>。</p><p id="e6c4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">配置</strong></p><p id="ee41" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用<code class="du lk ll lm ln b">OracleCustomTypeMapping</code>属性定义自定义类型映射。</p><p id="20d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">原料药</strong></p><p id="85d1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用托管的ODP.NET和ODP.NET核心等效API，包括:</p><ul class=""><li id="4ffa" class="kw kx hh ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">自定义类中的<code class="du lk ll lm ln b">OracleUdt</code> <em class="mc"> </em> <code class="du lk ll lm ln b">FromCustomObject</code>和<code class="du lk ll lm ln b">ToCustomObject</code>方法</li><li id="247d" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">OracleUdt</code>静态方法</li><li id="012d" class="kw kx hh ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><code class="du lk ll lm ln b">OracleRef</code> <em class="mc"> </em>类调用，包括构造函数、属性和方法</li></ul><h1 id="5a1f" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">面向Visual Studio的Oracle开发人员工具</strong></h1><p id="9e33" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">Oracle Developer Tools(ODT)for Visual Studio是一款流行的设计时工具。它是一个图形用户界面，用于执行常见的开发人员数据库管理任务和开发Oracle。网络应用。目前，使用托管ODP.NET或ODP.NET核心，ODT不支持udt或自定义类型代码生成。</p><p id="bbe8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，开发人员仍然可以迁移生成的非托管ODP.NET自定义代码，以使用托管ODP.NET或ODP.NET核心。</p><h1 id="28b1" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">接下来的步骤和下一步是什么</strong></h1><p id="12b7" class="pw-post-body-paragraph ip iq hh ir b is kr iu iv iw ks iy iz ja kt jc jd je ku jg jh ji kv jk jl jm ha bi translated">你可以在<a class="ae jn" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess/21.3.0" rel="noopener ugc nofollow" target="_blank">托管ODP.NET</a>和<a class="ae jn" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess.Core/3.21.3" rel="noopener ugc nofollow" target="_blank">ODP.NET核心</a>中尝试新的UDT支持来开发对象关系应用。新的托管ODP.NET 21c版本包括新的二进制JSON数据类型、客户端启动的连续查询通知、分片以及更多的数据库功能。网络应用。</p><p id="265c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">展望未来，我们正致力于许多令人兴奋的事情，希望在不久的将来发布。在未来的版本中，ODT将支持使用udt并通过托管ODP.NET生成自定义类型代码。ODP.NET核心将增加更多的Linux发行认证。所有类型的ODP.NET提供程序都将增强对Docker的支持。甲骨文将证明。2021年底NET 6和EF Core 6。</p><p id="788f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">敬请期待！</p></div></div>    
</body>
</html>