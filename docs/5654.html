<html>
<head>
<title>Using Web Worker for Long Tasks in Oracle JET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Oracle JET中使用Web Worker处理长时间任务</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/using-web-worker-for-long-tasks-in-oracle-jet-7f9f96cd66da?source=collection_archive---------0-----------------------#2019-09-10">https://medium.com/oracledevs/using-web-worker-for-long-tasks-in-oracle-jet-7f9f96cd66da?source=collection_archive---------0-----------------------#2019-09-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4118" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">JavaScript应用程序在单线程中运行。这意味着如果有一个长时间运行的资源密集型操作，线程将被阻塞，页面将保持冻结，直到操作完成。显然，这不是用户友好的，应该避免这种行为。我们可以使用Web worker，通过Web worker，我们可以在单独的线程中运行长时间运行的操作，而不会阻塞主线程。在Web Worker中运行的代码不能访问UI DOM，这意味着在Web Worker中编码的逻辑应该与不直接与UI相关的逻辑一起操作。</p><p id="b2b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">示例应用程序包含dashboard.js中的注释代码。此代码阻塞主线程10秒钟，如果取消注释，您将看到应用程序冻结10秒钟:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/7db56ac71d65ae11b60ff5c952de6991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQblP-AYnA08lbIUGXPg0g.png"/></div></div></figure><p id="bee7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Web Worker是在dashboard.js中定义的。Web Worker是一个单独的js文件，用于Worker对象。API允许发送和接收消息，通过这种方式，我们可以与Web Worker进行通信(启动新任务并在任务完成时接收消息):</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jo"><img src="../Images/6934dacd13e014981b563827f57c2aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PFwvbrEdCXKQSV0P11KKWQ.png"/></div></div></figure><p id="d54f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Web Worker代码— <em class="jp"> onmessage </em>当消息从主线程到达时调用。postMessage将消息发送回主线程:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jq"><img src="../Images/4907063c192ff649fe8760b79b4748f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKjavE0A-6-1NyNpVfI80g.png"/></div></div></figure><p id="11c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">示例应用程序可在<a class="ae jr" href="https://github.com/abaranovskis-redsamurai/masterjetredsam" rel="noopener ugc nofollow" target="_blank"> GitHub </a> repo上获得。</p></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><p id="b50c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">【http://andrejusb.blogspot.com】最初发表于<a class="ae jr" href="https://andrejusb.blogspot.com/2019/09/using-web-worker-for-long-tasks-in.html" rel="noopener ugc nofollow" target="_blank"><em class="jp"/></a><em class="jp">。</em></p></div></div>    
</body>
</html>