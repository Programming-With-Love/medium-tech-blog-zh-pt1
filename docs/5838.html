<html>
<head>
<title>Deploying a multi-cluster Verrazzano using OKE — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OKE部署多集群Verrazzano第2部分</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploying-a-multi-cluster-verrazzano-using-oke-part-2-93d2438f7eef?source=collection_archive---------0-----------------------#2021-11-11">https://medium.com/oracledevs/deploying-a-multi-cluster-verrazzano-using-oke-part-2-93d2438f7eef?source=collection_archive---------0-----------------------#2021-11-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="afe5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在第1部分的<a class="ae jc" href="https://lmukadam.medium.com/deploying-a-multi-cluster-verrazzano-using-oke-part-1-d6327d45ba03" rel="noopener">中，我们讨论了为多集群</a><a class="ae jc" href="https://verrazzano.io/" rel="noopener ugc nofollow" target="_blank"> Verrazzano </a>部署设置网络基础设施。在本文中，我们将对集群进行配置，使它们表现为一种全局集群。下面是多聚类过程的图示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/af8b39ff231a1f268f1c8ae2a23d1c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vNjGKLaGatczobm2O5Ycdw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Verrazzano multi-cluster deployment and registration process</figcaption></figure><p id="12e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">回想一下，一个Verrazzano多集群有一个管理集群和一个或多个受管集群，每个Verrazzano集群都是一个Kubernetes集群:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/9bf879573e518f2d8aca06ecd0ddd99c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/0*5i_215fK15AiaYSz.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Verrazzano multi-cluster architecture</figcaption></figure><p id="51b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还记得我们有以下设置:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/19cb53dc822439a15fa2bcc75aa9f1ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*bF77x66gHN42zsW_2_9Dxw.png"/></div></figure><p id="f553" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们选择管理服务器位于新加坡OCI地区。</p><p id="57f7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将在管理集群上安装带有开发/生产配置文件的Verrazzano，在受管集群上安装带有受管集群配置文件的Verrazzano。</p><h2 id="2306" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">使用kubectx的注意事项</h2><p id="f35c" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">在下面的命令中，我使用kubectx来设置Kubernetes上下文，其中上下文相当于一个Kubernetes集群。严格地说，那不是真的，但它符合我们的目的。由于我们在4个不同的区域有1个管理服务器和3个受管服务器，因此我们有4个不同的上下文:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/6d91ca5587b750b61d45aea290adf547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IaaB1P-hc9P6vjffKZaDA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Verifying your Kubernetes context</figcaption></figure><p id="9694" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了确保我们总是使用正确的上下文，我在每个命令之前都执行kubectx <context-name>。</context-name></p><h2 id="0503" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">以管理员身份安装Verrazzano</h2><p id="1782" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">将Verrazzano安装为管理集群非常简单。您可以按照<a class="ae jc" href="https://verrazzano.io/docs/quickstart/" rel="noopener ugc nofollow" target="_blank">快速入门指南</a>进行操作，并且可以在开发/生产配置文件之间进行选择。在操作员主机上，确保您的上下文指向“admin”:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/6d91ca5587b750b61d45aea290adf547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IaaB1P-hc9P6vjffKZaDA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Verifying your Kubernetes context</figcaption></figure><p id="6835" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果它指向其他集群之一，请按如下方式进行更改:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="36ba" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span></pre><p id="31aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在可以开始安装了:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="bd7d" class="jv jw hh kx b fi lb lc l ld le">kubectl apply -f https://github.com/verrazzano/verrazzano/releases/download/v1.0.3/operator.yaml</span></pre><p id="baf3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">等待部署完成:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="b2bc" class="jv jw hh kx b fi lb lc l ld le">kubectl -n verrazzano-install rollout status deployment/verrazzano-platform-operator</span></pre><p id="e721" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并确认操作员舱工作正常:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="6d24" class="jv jw hh kx b fi lb lc l ld le"><br/>[opc@v8o-operator ~]$  kubectl -n verrazzano-install get pods</span><span id="db36" class="jv jw hh kx b fi lf lc l ld le">NAME                                            READY   STATUS    RESTARTS   AGE</span><span id="f494" class="jv jw hh kx b fi lf lc l ld le">verrazzano-platform-operator-54cf56884f-46zzk   1/1     Running   0          91s</span></pre><p id="b237" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，安装Verrazzano:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="78ec" class="jv jw hh kx b fi lb lc l ld le">kubectl apply -f - &lt;&lt;EOF<br/>apiVersion: install.verrazzano.io/v1alpha1<br/>kind: Verrazzano<br/>metadata:<br/>  name: admin<br/>spec:<br/>  profile: dev<br/>EOF</span></pre><p id="7e7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们需要等到安装完成:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="f318" class="jv jw hh kx b fi lb lc l ld le">kubectl wait \<br/>    --timeout<strong class="kx hi">=</strong>20m \<br/>    --for<strong class="kx hi">=</strong>condition<strong class="kx hi">=</strong>InstallComplete \<br/>    verrazzano/admin</span></pre><p id="4ef1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这需要一段时间。同时，让我们在托管集群上安装Verrazzano。</p><h2 id="83d9" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">在受管集群上安装Verrazzano</h2><p id="1262" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">将上下文更改为1个受管集群，并再次安装操作员，例如</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="6a13" class="jv jw hh kx b fi lb lc l ld le">kubectx sydney</span><span id="0694" class="jv jw hh kx b fi lf lc l ld le">kubectl apply -f https://github.com/verrazzano/verrazzano/releases/download/v1.0.3/operator.yaml</span><span id="c527" class="jv jw hh kx b fi lf lc l ld le">kubectl -n verrazzano-install rollout status deployment/verrazzano-platform-operator</span></pre><p id="2d14" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对所有受管集群重复上述操作。在每个托管集群中运行之前，确保您已经用kubectx <contextname>更改了上下文，如上所述。</contextname></p><p id="4556" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用与管理区域相同的过程，验证Verrazzano操作符是否已成功安装。</p><p id="1b38" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，通过相应地更改上下文和名称，使用托管配置文件为每个安装Verrazzano:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="22f1" class="jv jw hh kx b fi lb lc l ld le">apiVersion: install.verrazzano.io/v1alpha1<br/>kind: Verrazzano<br/>metadata:<br/>  name: sydney<br/>spec:<br/>  profile: managed-cluster</span></pre><h2 id="5fc5" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">验证管理集群和受管集群</h2><p id="2cb3" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">在安装受管集群时，让我们看看是否能够<a class="ae jc" href="https://verrazzano.io/docs/operations/" rel="noopener ugc nofollow" target="_blank">访问各种控制台</a>。确保您可以登录到Verrazzano和Rancher控制台。</p><p id="7e8e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">再次更改上下文并验证:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="78a5" class="jv jw hh kx b fi lb lc l ld le">kubectx sydney</span><span id="e53b" class="jv jw hh kx b fi lf lc l ld le">kubectl wait \<br/>    --timeout<strong class="kx hi">=</strong>20m \<br/>    --for<strong class="kx hi">=</strong>condition<strong class="kx hi">=</strong>InstallComplete \<br/>    verrazzano/sydney</span></pre><p id="da0c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对每个受管集群重复验证。</p><h2 id="14fc" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">注册受管理的集群</h2><p id="a69a" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">验证每个受管理群集的CA证书类型:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="b261" class="jv jw hh kx b fi lb lc l ld le">kubectx sydney</span><span id="b510" class="jv jw hh kx b fi lf lc l ld le">kubectl -n verrazzano-system get secret system-tls -o jsonpath<strong class="kx hi">=</strong>'{.data.ca\.crt}'</span></pre><p id="0c94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果该值为空，则您的托管群集正在使用由知名证书颁发机构签名的证书，并且您可以生成包含YAML格式的CA证书的密码。如果不是空的，那么证书是自签名的，需要提取。参考本文开头的工作流。</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="50e2" class="jv jw hh kx b fi lb lc l ld le">kubectx <strong class="kx hi">sydney</strong></span><span id="ce25" class="jv jw hh kx b fi lf lc l ld le">CA_CERT=$(kubectl \<br/>    get secret system-tls \<br/>    -n verrazzano-system \<br/>    -o jsonpath="{.data.ca\.crt}" | base64 --decode)</span><span id="5762" class="jv jw hh kx b fi lf lc l ld le">kubectl create secret generic "ca-secret-<strong class="kx hi">sydney</strong>" \<br/>  -n verrazzano-mc \<br/>  --from-literal=cacrt="$CA_CERT" \<br/>  --dry-run=client -o yaml &gt; managed<strong class="kx hi">sydney</strong>.yaml</span></pre><p id="8e1e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对另外两个区域重复上述操作，相应地替换区域/上下文和文件名。</p><p id="1958" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在包含每个受管集群的CA证书的管理集群上创建3个机密:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="6c0d" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span><span id="87a9" class="jv jw hh kx b fi lf lc l ld le">kubectl apply -f managedsydney.yaml<br/>kubectl apply -f managedmumbai.yaml<br/>kubectl apply -f managedtokyo.yaml</span></pre><p id="1a74" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">获取管理集群的集群名:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="cb94" class="jv jw hh kx b fi lb lc l ld le">kubectl config get contexts</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lg"><img src="../Images/c9958c93d459ea1a9eb7201999e8aee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AHjsVsuj0gcjB0RNKCNVIQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Cluster names</figcaption></figure><p id="6d98" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">获取管理服务器的API服务器地址:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="1505" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span><span id="f05f" class="jv jw hh kx b fi lf lc l ld le">export CLUSTER_NAME="cluster-cillzxw34tq"</span><span id="cd5b" class="jv jw hh kx b fi lf lc l ld le">API_SERVER=$(kubectl config view -o jsonpath="{.clusters[?(@.name==\"$CLUSTER_NAME\")].cluster.server}")</span></pre><p id="afe1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建包含管理集群的API服务器地址的配置映射:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="a4db" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span><span id="5611" class="jv jw hh kx b fi lf lc l ld le">kubectl apply -f &lt;&lt;EOF -<br/>apiVersion: v1<br/>kind: ConfigMap<br/>metadata:<br/>  name: verrazzano-admin-cluster<br/>  namespace: verrazzano-mc<br/>data:<br/>  server: "${API_SERVER}"<br/>EOF</span></pre><p id="cc7a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为每个受管集群创建VerrazzanoManagedCluster对象:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="0a71" class="jv jw hh kx b fi lb lc l ld le">kubectx admin<br/>kubectl apply -f &lt;&lt;EOF -<br/>apiVersion: clusters.verrazzano.io/v1alpha1<br/>kind: VerrazzanoManagedCluster<br/>metadata:<br/>  name: sydney<br/>  namespace: verrazzano-mc<br/>spec:<br/>  description: "Sydney VerrazzanoManagedCluster object"<br/>  caSecret: ca-secret-sydney<br/>EOF</span><span id="6b45" class="jv jw hh kx b fi lf lc l ld le">kubectl apply -f &lt;&lt;EOF -<br/>apiVersion: clusters.verrazzano.io/v1alpha1<br/>kind: VerrazzanoManagedCluster<br/>metadata:<br/>  name: mumbai<br/>  namespace: verrazzano-mc<br/>spec:<br/>  description: "Mumbai VerrazzanoManagedCluster object"<br/>  caSecret: ca-secret-mumbai<br/>EOF</span><span id="180f" class="jv jw hh kx b fi lf lc l ld le">kubectl apply -f &lt;&lt;EOF -<br/>apiVersion: clusters.verrazzano.io/v1alpha1<br/>kind: VerrazzanoManagedCluster<br/>metadata:<br/>  name: tokyo<br/>  namespace: verrazzano-mc<br/>spec:<br/>  description: "Tokyo VerrazzanoManagedCluster object"<br/>  caSecret: ca-secret-tokyo<br/>EOF</span></pre><p id="0b9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">等待VerrazzanoManagedCluster资源进入就绪状态:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="59b1" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span><span id="972e" class="jv jw hh kx b fi lf lc l ld le">kubectl wait --for=condition=Ready \<br/>    vmc sydney -n verrazzano-mc</span><span id="8368" class="jv jw hh kx b fi lf lc l ld le">kubectl wait --for=condition=Ready \<br/>    vmc sydney -n verrazzano-mc</span><span id="d84f" class="jv jw hh kx b fi lf lc l ld le">kubectl wait --for=condition=Ready \<br/>    vmc sydney -n verrazzano-mc</span></pre><p id="1c7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导出为注册受管集群而创建的YAML文件:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="b92a" class="jv jw hh kx b fi lb lc l ld le">kubectx admin</span><span id="a9a3" class="jv jw hh kx b fi lf lc l ld le">kubectl get secret verrazzano-cluster-sydney-manifest \<br/>    -n verrazzano-mc \<br/>    -o jsonpath={.data.yaml} | base64 --decode &gt; registersydney.yaml</span><span id="b1db" class="jv jw hh kx b fi lf lc l ld le">kubectl get secret verrazzano-cluster-mumbai-manifest \<br/>    -n verrazzano-mc \<br/>    -o jsonpath={.data.yaml} | base64 --decode &gt; registermumbai.yaml</span><span id="251d" class="jv jw hh kx b fi lf lc l ld le">kubectl get secret verrazzano-cluster-tokyo-manifest \<br/>    -n verrazzano-mc \<br/>    -o jsonpath={.data.yaml} | base64 --decode &gt; registertokyo.yaml</span></pre><p id="2b1a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在每个受管集群上，应用注册文件:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="ee4d" class="jv jw hh kx b fi lb lc l ld le">kubectx sydney<br/>kubectl apply -f registersydney.yaml</span><span id="e741" class="jv jw hh kx b fi lf lc l ld le">kubectx mumbai<br/>kubectl apply -f registermumbai.yaml</span><span id="5521" class="jv jw hh kx b fi lf lc l ld le">kubectx tokyo<br/>kubectl apply -f registertokyo.yaml</span></pre><p id="4270" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在验证注册是否成功完成:</p><pre class="je jf jg jh fd kw kx ky kz aw la bi"><span id="9f20" class="jv jw hh kx b fi lb lc l ld le">kubectx admin<br/>kubectl get vmc sydney -n verrazzano-mc -o yaml<br/>kubectl get vmc mumbai -n verrazzano-mc -o yaml<br/>kubectl get vmc tokyo -n verrazzano-mc -o yaml</span></pre><h2 id="4084" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">附加验证</h2><p id="6128" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">导航到Verrazzano控制台，登录，您应该能够看到所有3个集群:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lh"><img src="../Images/0373bdcf84764271f6426b5b2fa6c1a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oMn_S0wntkkEmuuPf-3JBw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Managed clusters in Verrazzano</figcaption></figure><p id="6c04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">同样，在Rancher控制台上，您应该能够看到所有4个集群:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es li"><img src="../Images/8bf1538d31a08bb548da674f1c1a2f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3E0CZxe1nF3Ni80qCB7tg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Admin and managed clusters in Rancher</figcaption></figure><p id="d6f3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“本地”是管理集群，而其他集群是被管理的集群。</p><h2 id="6b2f" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">结论</h2><p id="4431" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated">这就完成了将部署在不同区域的OKE集群连接成多集群Verrazzano部署的练习。注意，在这篇文章中，我们没有配置DNS、证书、入口控制器等。目标是让多集群配置运行起来。在以后的文章中，我们也会关注这些事情。</p><p id="7b04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请继续关注第三部分。</p></div></div>    
</body>
</html>