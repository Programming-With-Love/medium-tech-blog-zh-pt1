<html>
<head>
<title>My October Flutter Notes — 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的十月飘动笔记— 2</h1>
<blockquote>原文：<a href="https://medium.easyread.co/my-october-flutter-notes-2-6e0c78cf2e56?source=collection_archive---------1-----------------------#2022-10-31">https://medium.easyread.co/my-october-flutter-notes-2-6e0c78cf2e56?source=collection_archive---------1-----------------------#2022-10-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6e90" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">提高Flutter应用程序性能的flutter解决方案、问题和技巧</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4565875a92602cd0fa122e86ee52dc5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_6uORrsjk144Nzan"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@davies_designs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Davies Designs Studio</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="19d3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">—在学习和开发flutter app的过程中，我面临了几个挑战和问题。我第一次用flutter创建应用程序时，主要的指导方针是构建一个工作应用程序。但是现在，挑战不同了。它不仅能工作，还能构建性能良好的应用程序。在这里，我收集了我为提高性能所做的更改。</p><p id="0fc3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">顺便说一下，这是我上个月笔记的延续。我在博客中总结了六个特性、解决方法或开发技巧。如果你错过了，你可以通过下面的链接阅读:</p><div class="lp lq gp gr lr ls"><a rel="noopener  ugc nofollow" target="_blank" href="/my-september-flutter-notes-700907827c7f"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">我九月飘动的音符。</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">您可能已经错过的一些flutter开发技巧、特性和解决方法。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">medium.easyread.co</p></div></div><div class="mb l"><div class="mc l md me mf mb mg km ls"/></div></div></a></div><blockquote class="mh"><p id="939c" class="mi mj in bd mk ml mm mn mo mp mq lo dk translated">目录</p></blockquote><blockquote class="mr ms mt"><p id="f936" class="kt ku mu kv b kw mv jo ky kz mw jr lb mx my le lf mz na li lj nb nc lm ln lo ig bi translated">— <em class="in">明智地使用SingleChildScrollView停止使用索引堆栈来持久化底部导航栏<br/> —关于TextStyle的问题<br/> —处理长列表<br/> —引用</em></p></blockquote><p id="3af7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">好的，这就是我们将在这个博客中探讨的。让我们从第一个开始:</p><h2 id="8a7c" class="nd ne in bd nf ng nh dn ni nj nk dp nl lc nm nn no lg np nq nr lk ns nt nu nv bi translated">1.明智地使用SingleChildScrollView</h2><p id="f531" class="pw-post-body-paragraph kt ku in kv b kw nw jo ky kz nx jr lb lc ny le lf lg nz li lj lk oa lm ln lo ig bi translated">如果你认为<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/Column-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">列</strong></a><strong class="kv io">+</strong><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a><strong class="kv io">=</strong><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io">(</strong>带纵轴方向<strong class="kv io"> ) 【T25)，那你就选错了。</strong></p><p id="a5d2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">乍一看，行为是一样的。<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io"/>是一个可滚动的小部件。<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/Column-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">列</strong> </a> <strong class="kv io"> </strong>是在垂直方向显示其子级的小工具。而在通常的做法中，当我们需要使<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/Column-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"/></a><strong class="kv io"/>列可滚动时，最简单的方法就是用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a>将其包装起来。虽然这是常见的做法，但并不意味着这是正确的使用方法。</p><p id="5451" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们来看看对比。我这里有50个<a class="ae ks" href="https://api.flutter.dev/flutter/material/Card-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">卡</strong> </a> <strong class="kv io"> </strong>小部件。</p><pre class="kd ke kf kg gt ob oc od oe aw of bi"><span id="92f7" class="nd ne in oc b gy og oh l oi oj">List&lt;Widget&gt;.generate(50,(int index)=&gt; MyCardWidget());</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ok"><img src="../Images/df742a5f90206fd2ae2beb1cc51a4b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1SwvKS77sorOa1je.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">SingleChildScrollView + Column</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ok"><img src="../Images/607b34ced1d87b2df22f15aef828ebec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WXPgw0SSAmvoIft1.gif"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Listview</figcaption></figure><p id="43cc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">正如我们在上面两张图片中看到的，它们是完全不同的。所以… <strong class="kv io">当</strong>你有一个子列表并且不需要跨轴收缩包装行为时，例如，一个总是和屏幕一样宽的滚动列表，考虑<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> ListView </strong> </a>。<strong class="kv io">不使用</strong><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a><strong class="kv io">。</strong>对于这种情况，使用一个<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io"/>要高效得多。</p><blockquote class="mr ms mt"><p id="e830" class="kt ku mu kv b kw kx jo ky kz la jr lb mx ld le lf mz lh li lj nb ll lm ln lo ig bi translated">为什么？</p></blockquote><p id="13e2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">简单的逻辑:当你有一个动态大小的部件时，渲染的成本会比静态大小的部件更高。<em class="mu">示例</em>:索引为11的小工具索引1根据小工具内文本的长度有不同的宽度。颤振首先计算文本的长度，然后将尺寸分配给<a class="ae ks" href="https://api.flutter.dev/flutter/material/Card-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">卡</strong> </a>。</p><p id="dbe7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">而在<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> Listview </strong> </a>中，所有<a class="ae ks" href="https://api.flutter.dev/flutter/material/Card-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">卡片</strong> </a> <strong class="kv io"> </strong>小工具宽度相同。无需对每张卡进行计算。</p><p id="88c0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mu">贵，意为</em> <strong class="kv io"> <em class="mu">他们消耗更多的资源</em> </strong> <em class="mu">。这导致了较差的性能。</em></p><p id="41be" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">singlechildscroll view</strong></a><strong class="kv io"/>当你有一个通常完全可见的单个框时，这个选项很有用。作为一个好的实践，使用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a><strong class="kv io"/>来解决小部件溢出大小的警告。这通常发生在设备屏幕太小的时候。</p><p id="eb77" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当你有一个很长的窗口小部件列表时，考虑使用一个<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">列表视图</strong> </a>。那是因为<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> ListView </strong> </a>按需构建孩子。</p><p id="58d4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mu">按需构建子项意味着只创建屏幕上可见的子项。例如，如果我们有1000个窗口小部件，但屏幕上只能显示8个窗口小部件。那么构建器将只创建8个可见的小部件。每当用户滚动列表时，都会创建一个新的子列表。屏幕上不再可见的老孩子将被销毁。</em></p><p id="5556" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不建议将<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io"/>中的<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/Column-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">列</strong> </a> <strong class="kv io"> </strong>用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a>包装。</p><pre class="kd ke kf kg gt ob oc od oe aw of bi"><span id="0356" class="nd ne in oc b gy og oh l oi oj">// Bad Practice<br/>SingleChildScrollView(<br/> child:Column(<br/>    children: [<br/>       ListView.builder(),<br/>       SizedBox(),<br/>       ListView.builder(),<br/>       ....</span></pre><p id="5ce8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io">。上面代码中的构建器</strong>将不再提供任何性能优势。所有子部件将被一次创建。如果视区通常包含超出屏幕尺寸的内容，那么<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a><strong class="kv io"/>将会非常昂贵。</p><h2 id="e18c" class="nd ne in bd nf ng nh dn ni nj nk dp nl lc nm nn no lg np nq nr lk ns nt nu nv bi translated"><em class="ol"> 2。停止使用IndexedStack制作持久底部导航栏</em></h2><p id="1eaa" class="pw-post-body-paragraph kt ku in kv b kw nw jo ky kz nx jr lb lc ny le lf lg nz li lj lk oa lm ln lo ig bi translated">如果您正在寻找使您的<a class="ae ks" href="https://api.flutter.dev/flutter/material/BottomNavigationBar-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">BottomNavigationBar</strong></a><strong class="kv io"/>在所有屏幕上持久化的代码，您可能会找到一些使用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/IndexedStack-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">indexed stack</strong></a><strong class="kv io"/>小部件的变通方法。这是一个很好很简单的解决方案，我以前用过。然而，当我们第一次打开应用程序时，它<strong class="kv io">有一个相当糟糕的影响</strong>。我们来看看使用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/IndexedStack-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> IndexedStack </strong> </a>时的widget树形结构。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="2eef" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用这种方法，我们将有一个父小部件，它有<a class="ae ks" href="https://api.flutter.dev/flutter/material/BottomNavigationBar-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">BottomNavigationBar</strong></a><strong class="kv io">。</strong>小时候屏幕会一个一个叠起来。将根据所选索引显示子部件。</p><blockquote class="mr ms mt"><p id="08a2" class="kt ku mu kv b kw kx jo ky kz la jr lb mx ld le lf mz lh li lj nb ll lm ln lo ig bi translated">那怎么了？</p></blockquote><p id="df4e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是我解决问题的方法。当我打开应用程序时，它将首先导航到BaseLayout小部件(根据我的类名)。事实是，“所有”子部件都将由flutter执行。不仅是选定的索引。</p><p id="c5eb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如:我有10个子部件。<code class="fe oo op oq oc b">Page1()</code>、<code class="fe oo op oq oc b">Page2()</code>、<code class="fe oo op oq oc b">Page3()</code>等等……<br/>初始选择指数= 0。在这种情况下，<code class="fe oo op oq oc b">Page1()</code>将显示在屏幕上。</p><p id="9841" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我假设只有<code class="fe oo op oq oc b">Page1() </code>类会被执行。然而，flutter执行了<code class="fe oo op oq oc b">Page1()</code>到<code class="fe oo op oq oc b">Page10()</code>。</p><blockquote class="mr ms mt"><p id="014e" class="kt ku mu kv b kw kx jo ky kz la jr lb mx ld le lf mz lh li lj nb ll lm ln lo ig bi translated">让我们证明它</p></blockquote><p id="8406" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我在每个孩子的initState中打印字符串。我将在我的主屏幕上举一个功能的例子。比如下面的代码:</p><pre class="kd ke kf kg gt ob oc od oe aw of bi"><span id="d849" class="nd ne in oc b gy og oh l oi oj"><a class="ae ks" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>void initState() {<br/>  print("init home screen...........");<br/>  super.initState();<br/>  fetchApi();<br/>}</span></pre><p id="5513" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我也为所有的孩子打印相同的字符串。见下图，所有initState函数执行print "<strong class="kv io">init $ { name screen }………"</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="ab gu cl or"><img src="../Images/328e8142fdd8c31c4080d89bf7b419a6.png" data-original-src="https://miro.medium.com/v2/format:webp/1*ZIA-j4hST8BCOJ86AxJBhg.png"/></div></figure><p id="1b72" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">想象一下，如果你小时候在<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/IndexedStack-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> IndexedStack </strong> </a>有一个tens屏幕。您的flutter应用程序将需要一些时间来完成所有执行。</p><p id="99ed" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于这个问题，我目前的解决方案是将<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/IndexedStack-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">indexed stack</strong></a><strong class="kv io"/>换成<strong class="kv io"> switch-case </strong>。使用这种方法，只会执行选定的索引。参见下面的代码:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="om on l"/></div></figure></div><div class="ab cl os ot hr ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ig ih ii ij ik"><h2 id="21f2" class="nd ne in bd nf ng nh dn ni nj nk dp nl lc nm nn no lg np nq nr lk ns nt nu nv bi translated"><em class="ol"> 3。关于文本样式的问题</em></h2><p id="a2c9" class="pw-post-body-paragraph kt ku in kv b kw nw jo ky kz nx jr lb lc ny le lf lg nz li lj lk oa lm ln lo ig bi translated">我是从<a class="ae ks" href="https://stackoverflow.com/q/73923860" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">stack overflow</strong></a>上的一个问题发现这个问题的。<a class="ae ks" href="https://api.flutter.dev/flutter/painting/TextStyle-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">text style</strong></a><strong class="kv io"/>的背景颜色被字符串末尾的空格(asci code = 32)忽略。这就是我如何调查它的。</p><pre class="kd ke kf kg gt ob oc od oe aw of bi"><span id="3848" class="nd ne in oc b gy og oh l oi oj">Container(<br/>  color: Colors.amber,<br/>  child: const Text('   Foo    ',<br/>      style: TextStyle(<br/>      backgroundColor: Colors.blue,<br/>      color: Colors.white,<br/>     ),<br/>  ),<br/>),</span></pre><p id="241c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请参见下图:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/3a7bdd6111289fe3df15f5dcebf17d5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*i9o0E6UhnM3GBD4jHH-kvw.png"/></div></figure><p id="d51e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我用一个<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/Container-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">容器</strong> </a> <strong class="kv io"> </strong>包装了<a class="ae ks" href="https://docs.flutter.dev/development/ui/widgets/text" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">文本</strong> </a> <strong class="kv io"> </strong>小部件，并将背景色设置为黄色。而对于<a class="ae ks" href="https://api.flutter.dev/flutter/painting/TextStyle-class.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> Textstyle </strong> </a>，我把背景色设置为蓝色。</p><ul class=""><li id="6a67" class="pa pb in kv b kw kx kz la lc pc lg pd lk pe lo pf pg ph pi bi translated">第一个<code class="fe oo op oq oc b">Foo </code>:蓝色背景应用到最后一个“o”。最初，我假设没有呈现空白。</li><li id="a271" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated">第二个<code class="fe oo op oq oc b">Foo </code>:证明空白被渲染。黄色背景色赋予了<a class="ae ks" href="https://docs.flutter.dev/development/ui/widgets/text" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">文本</strong> </a> <strong class="kv io"> </strong>小部件中的最后一个空格。</li><li id="603d" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated">第三:我在<a class="ae ks" href="https://docs.flutter.dev/development/ui/widgets/text" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">文本</strong> </a> <strong class="kv io"> </strong>小部件中添加了一个不可见的字符<em class="mu"> \u200e </em>，应用了背景。</li><li id="0820" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated">最后，只有空白:没有应用蓝色背景</li></ul><blockquote class="mr ms mt"><p id="139f" class="kt ku mu kv b kw kx jo ky kz la jr lb mx ld le lf mz lh li lj nb ll lm ln lo ig bi translated">其实这个问题还是悬而未决的。如果你真的需要为<a class="ae ks" href="https://docs.flutter.dev/development/ui/widgets/text" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">文本</strong> </a> <strong class="kv io"> </strong>小工具添加空间，你可以使用上面的提示，在最后一个字符串上添加一个不可见的字符。另一个选项是使用一个<a class="ae ks" href="https://api.flutter.dev/flutter/painting/TextSpan-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">TextSpan</strong></a><strong class="kv io"/>小部件，并向其添加水平填充。</p></blockquote><p id="8a0d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对该问题竖起大拇指，以引起贡献者的注意。您可以在这里找到未解决的问题:</p><div class="lp lq gp gr lr ls"><a href="https://github.com/flutter/flutter/issues/112766#issue-1393795134" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">TextStyle:背景色不适用于文本后的“空白”。问题#112766 …</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">我对StackOverflow上的问题很好奇。TextStyle上的backgroundColor属性不适用于…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">github.com</p></div></div><div class="mb l"><div class="po l md me mf mb mg km ls"/></div></div></a></div></div><div class="ab cl os ot hr ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ig ih ii ij ik"><h2 id="f701" class="nd ne in bd nf ng nh dn ni nj nk dp nl lc nm nn no lg np nq nr lk ns nt nu nv bi translated">4.使用长列表</h2><p id="f633" class="pw-post-body-paragraph kt ku in kv b kw nw jo ky kz nx jr lb lc ny le lf lg nz li lj lk oa lm ln lo ig bi translated">在第一个主题中，我们比较了<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">SingleChildScrollView</strong></a><strong class="kv io"/>和<strong class="kv io"> ListView </strong>小部件。现在让我们更具体地使用<strong class="kv io">列表视图</strong>小部件。</p><blockquote class="mr ms mt"><p id="3164" class="kt ku mu kv b kw kx jo ky kz la jr lb mx ld le lf mz lh li lj nb ll lm ln lo ig bi translated">标准的<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io"/>构造函数适用于小列表。要处理包含大量项目的列表，最好使用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">listview . builder</strong></a>构造函数。</p></blockquote><p id="85a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">默认情况下，<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView-class.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">ListView</strong></a><strong class="kv io"/>构造函数要求一次性创建所有项目。但是<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">listview . builder</strong></a>构造函数创建滚动到屏幕上的项目。</p><p id="0932" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">示例案例:如果您有一个长度为10，000的列表小部件，可以考虑使用<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> ListView.builder </strong> </a>。因为渲染UI时会影响app的性能。成千上万的部件是一个很长的列表。一次生产所有的产品会很贵。<a class="ae ks" href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> ListView.builder </strong> </a>构造函数将处理按需小部件创建机制。</p></div><div class="ab cl os ot hr ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ig ih ii ij ik"><p id="eba8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">老实说，我想分享许多问题、解决方法和技巧。但是这4个题目有很长的解释。所以我决定把它们写在我的下一篇文章中。如果你喜欢这篇文章，请等待我的下一个颤振笔记。最后，感谢你的阅读。如果你有任何问题或意见，欢迎在下面留言。我很乐意展开任何讨论。</p></div><div class="ab cl os ot hr ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ig ih ii ij ik"><h2 id="70d3" class="nd ne in bd nf ng nh dn ni nj nk dp nl lc nm nn no lg np nq nr lk ns nt nu nv bi translated">参考</h2><ul class=""><li id="66b5" class="pa pb in kv b kw nw kz nx lc pp lg pq lk pr lo pf pg ph pi bi translated"><a class="ae ks" href="https://stackoverflow.com/questions/54767298/need-a-persistent-same-bottom-navigation-bar-for-all-screens-flutter" rel="noopener ugc nofollow" target="_blank"> dart —所有屏幕都需要一个持久的/相同的底部导航栏— Flutter —堆栈溢出</a></li><li id="9ac1" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated"><a class="ae ks" href="https://github.com/flutter/flutter/issues/112766#issue-1393795134" rel="noopener ugc nofollow" target="_blank">https://github . com/flutter/flutter/issues/112766 # issue-1393795134</a></li><li id="03d1" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated"><a class="ae ks" href="https://www.ascii-code.com/" rel="noopener ugc nofollow" target="_blank">https://www.ascii-code.com/</a></li><li id="b305" class="pa pb in kv b kw pj kz pk lc pl lg pm lk pn lo pf pg ph pi bi translated"><a class="ae ks" href="https://docs.flutter.dev/cookbook/lists/long-lists" rel="noopener ugc nofollow" target="_blank">处理长列表|颤动</a></li></ul></div></div>    
</body>
</html>