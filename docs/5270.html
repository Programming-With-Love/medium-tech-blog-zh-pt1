<html>
<head>
<title>Configuring Azure AD Base Version as Identity for Oracle Planning &amp; Budgeting Cloud App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Azure AD Base版本配置为Oracle规划和预算云应用的身份</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/configuring-azure-ad-base-version-as-an-identity-56b67793c1?source=collection_archive---------0-----------------------#2017-08-01">https://medium.com/oracledevs/configuring-azure-ad-base-version-as-an-identity-56b67793c1?source=collection_archive---------0-----------------------#2017-08-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4017" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这本简明、图文并茂的操作指南中，Oracle ACE Director<a class="ae jc" href="https://twitter.com/cvkattookaran" rel="noopener ugc nofollow" target="_blank">Celvin katookaran</a>将带您一步步完成在Oracle Planning and Budgeting Cloud和Azure Active Directory基础版之间设置单点登录的过程。</p><blockquote class="jd je jf"><p id="4a75" class="ie if jg ig b ih ii ij ik il im in io jh iq ir is ji iu iv iw jj iy iz ja jb ha bi translated">最初由OTN的<a class="ae jc" href="https://community.oracle.com/people/Celvin+Kattookaran" rel="noopener ugc nofollow" target="_blank"> Celvin Kattookaran </a>发表</p></blockquote><h1 id="0314" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">介绍</h1><p id="fb6f" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">从2015年11月的Oracle Planning and Budgeting Cloud Service(PBCS)版本开始，您可以配置单点登录(SSO)来验证服务用户，使用:</p><ul class=""><li id="47c9" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb ks kt ku kv bi translated">微软活动目录联合服务器(ADFS) 2.0、ADFS 2.1、ADFS 3.0</li><li id="71ca" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">Shibboleth身份提供者2.4.0</li><li id="6524" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">Oracle身份联盟服务器11g。</li></ul><p id="dc3d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将回顾在Oracle Planning and Budgeting Cloud和Azure Active Directory基础版之间设置单点登录的流程。</p><h1 id="6be5" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">SAML 2.0及其工作原理</h1><p id="71bb" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">安全声明标记语言2.0 (SAML)是一种基于XML的数据格式，用于在安全域之间交换身份验证和授权数据，实现跨域的基于web的身份验证和授权。</p><p id="5157" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在单点登录配置的设置中，一个安全域充当服务提供商(消费者(SP )),另一个充当身份提供商(IdP )(权威),如下图所示。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lb"><img src="../Images/57a113f8c7f323b36f2f1d11feb15900.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/0*eMpKnRCWjORgsUUx.png"/></div></figure><ol class=""><li id="7376" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb lj kt ku kv bi translated">用户试图登录PBCS</li><li id="a12c" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">OPC (Oracle公共云)生成SAML请求</li><li id="5891" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">OPC将浏览器重定向到SSO URL页面，浏览器现在打开SSO页面，用户使用其AD用户名和密码登录</li><li id="5524" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">Azure现在使用SAML请求来验证用户</li><li id="8c7c" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">Azure生成一个SAML响应</li><li id="f720" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">Azure将SAML响应返回给浏览器，浏览器现在将SAML响应发送给OPC</li><li id="8ff0" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">OPC验证SAML响应</li><li id="8301" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">用户现在已登录PBCS</li></ol><p id="9cca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用Oracle公共云配置Azure AD Base版本包括5个步骤:</p><ol class=""><li id="a1d8" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb lj kt ku kv bi translated">将Azure AD配置为联盟的IdP</li><li id="5ebc" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">将Oracle公共云配置为联合的SP</li><li id="b183" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">OPC配置后更新Azure</li><li id="af47" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">测试SSO</li><li id="47f2" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">启用SSO</li></ol><h1 id="7c97" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">将Azure AD配置为联盟的IdP</h1><p id="babd" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">登录Azure门户网站。导航到<strong class="ig hi">浏览到活动目录</strong>，然后到<strong class="ig hi">应用</strong>。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/9bcefcf09119e4d93409f30fd8ab1239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*sDIxdLDeJuZqDXmj.png"/></div></figure><p id="e85f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi">添加</strong>按钮，添加一个新的应用程序。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es ll"><img src="../Images/7a20855db68c9a7662ecf8f5a5d044cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*DXHSEA0QYZ-qUXt0.jpg"/></div></figure><p id="696f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择<strong class="ig hi">添加我的组织正在开发的应用程序。</strong>(哦，我懂了，是甲骨文的应用。)</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lm"><img src="../Images/db587e35730ccdfe935613114d8cc3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*67WdG2TF-VbGw7UX.png"/></div></figure><p id="814d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提供一个名称并选择<strong class="ig hi"> Web应用程序和/或Web API </strong>。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lm"><img src="../Images/50558e43f381e057c932261b81ff3613.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*9nNxdXLRTXB5SSiN.png"/></div></figure><p id="cf97" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">登录URL将是您的PBCS URL(不包括Workspace/HyperionPlanning部分)。</p><p id="3d19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://pbcs-domain.pbcs.us2.oraclecloud.com/" rel="noopener ugc nofollow" target="_blank">https://pbcs-domain.pbcs.us2.oraclecloud.com</a></p><p id="eb04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加应用ID URI的URL(我们稍后将再次讨论)。我只是复制了相同的登录URL:</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lm"><img src="../Images/35384de04d8769d820a3c2c391610725.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*SsE_jDkU0rEtaeUL.png"/></div></figure><p id="25d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦创建了应用程序，您就可以通过打开<strong class="ig hi">视图端点</strong>来获取提供者元数据。还可以通过上传215px x 215px的图片来更改Azure应用的logo。</p><div class="lc ld le lf fd ab cb"><figure class="ln lg lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><img src="../Images/247c6ef0d3175e2e577b0db0368d32ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/0*wlDNN69GmY5Tj3a-.jpg"/></div></figure><figure class="ln lg lx lp lq lr ls paragraph-image"><img src="../Images/9cb1306f683ef5f1eefad37520344655.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/0*7nPIH4GZb-L454JG.png"/></figure></div><p id="f317" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">复制“<strong class="ig hi">联盟元数据文档</strong>”中的链接(链接到联盟元数据xml文件)。将它粘贴到网络浏览器中。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/ce3a5f9768fb1e8a547ce5b9bf44c7e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*92ZYUprtnM-gin_1.png"/></div></figure><p id="bc18" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将文件保存为XML文件。</p><p id="0012" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在是时候将Oracle公共云配置为服务提供商了</p><h1 id="ff6d" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">将Oracle公共云配置为SAML联盟的服务提供商</h1><ol class=""><li id="6e38" class="kn ko hh ig b ih ki il kj ip ly it lz ix ma jb lj kt ku kv bi translated">登录Oracle公有云(<a class="ae jc" href="https://myservices.us2.oraclecloud.com/)-/" rel="noopener ugc nofollow" target="_blank">https://my services . us2 . Oracle Cloud . com)-</a>-&gt;-【用户】-&gt;-【单点登录配置】</li><li id="cf5c" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb lj kt ku kv bi translated">点击<strong class="ig hi">配置单点登录</strong></li></ol><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/0b61b091f46e6bd1231032d89ac3deed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*grTD0-0dzJAf4WsY.png"/></div></figure><p id="45cd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上传联盟元数据XML</p><ul class=""><li id="3b4b" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb ks kt ku kv bi translated">为单点登录协议选择<strong class="ig hi"> HTTP POST </strong></li><li id="757e" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">选择<strong class="ig hi">用户的电子邮件地址</strong>作为“用户标识符”</li><li id="703f" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">为“包含在”选择<strong class="ig hi"> NameID </strong></li></ul><p id="c2dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi">保存</strong>。保存IdP信息后，您将获得四个链接。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/863696eddeba8d845f076a85251af393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*ySR_gimu2ecn5G7T.jpg"/></div></figure><p id="9047" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在下一步中，您将需要<strong class="ig hi">提供者Id </strong>和<strong class="ig hi">断言消费者服务URL </strong>值。</p><h1 id="4d63" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">OPC配置后更新Azure</h1><p id="252f" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">登录Azure门户网站。</p><p id="ff6c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航至<strong class="ig hi">活动目录- &gt;应用- &gt;您的应用- &gt;配置</strong></p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/6bb278053b3140207dcd4652462acaf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*OfuBTdKzwNZ5MMzm.png"/></div></figure><ul class=""><li id="1971" class="kn ko hh ig b ih ii il im ip kp it kq ix kr jb ks kt ku kv bi translated">应用程序ID URL =提供商ID</li><li id="b96a" class="kn ko hh ig b ih kw il kx ip ky it kz ix la jb ks kt ku kv bi translated">回复URL =断言消费者服务URL</li></ul><h1 id="b3c8" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">测试SSO</h1><p id="075a" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">登录<strong class="ig hi"> OPC- &gt;用户- &gt;单点登录配置- &gt;测试单点登录</strong></p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/6170d137065aa5eca565f71c875eb96a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*1KzsPRHu9rwVbfgC.png"/></div></figure><p id="3aba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi">开始单点登录</strong>。您将被重定向到Microsoft站点。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/3d96e8f0fa714ccdb296d69608f7819a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*DU9857mLJbSLA1Ob.jpg"/></div></figure><p id="1f7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提供您的密码以查看结果。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/fa524767e78fbb35c3e42e22ab0df238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*ArtO9Nx_mnpzehjm.jpg"/></div></figure><p id="eb13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果测试成功，您现在可以在OPC中<strong class="ig hi">启用SSO </strong>。</p><h1 id="b5b6" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">启用SSO</h1><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/ae057f657bc7a5816c334f040f853afb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*ToP8mO39cUtthmZl.jpg"/></div></figure><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mb"><img src="../Images/7f8fca05e938f6b1c66650b9c7724320.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/0*YgQEaGJ5Oacd5_AB.jpg"/></div></figure><p id="9e61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">启用后，您将在PBCS登录url中看到一个新链接。</p><h1 id="98aa" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">正在OPC中加载Azure AD用户</h1><p id="159f" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">Azure AD用户必须在OPC中添加，然后才能登录到PBCS。这可以通过上传以下格式的CSV文件以批量模式完成:</p><p id="f50c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">名字、姓氏、电子邮件、用户登录</strong></p><p id="2146" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要上传用户，登录<strong class="ig hi"> OPC- &gt;用户- &gt;导入- &gt;浏览CSV文件- &gt;导入</strong></p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lk"><img src="../Images/c49fdbc61ea8e5ffb943d04dd3d473e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*Frqe_OpsoGrl2W-B.jpg"/></div></figure><h1 id="af54" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">Office 365应用启动器</h1><p id="aab0" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">使用Office 365应用程序启动器，您可以将您的应用程序绑定到EXCEL、Outlook和其他Office应用程序，这允许您直接从这些Office应用程序中启动PBCS URL。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mb"><img src="../Images/b3826aadc4d72654c767f5ef99093a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/0*3wJdqDsBEaclnDhB.png"/></div></figure><h1 id="03f9" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="fea3" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">使用单点登录消除了在外部系统上更新帐户的需要，从而大大简化了用户维护。</p><p id="6f1e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">客户可以通过将用户从其IDP中删除来撤销访问权限。Office 365和基本Azure AD版本允许您直接从微软产品中访问外部应用程序。</p><h1 id="f62c" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">关于作者</h1><p id="b7d0" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated"><a class="ae jc" href="https://community.oracle.com/people/Celvin+Kattookaran" rel="noopener ugc nofollow" target="_blank"> Celvin Kattookaran </a>是甲骨文ACE总监兼休伦咨询集团首席架构师。他以开发创造性和有效的商业解决方案来解决客户的挑战而闻名。他经常为Oracle社区论坛和Network 54 Essbase论坛投稿。在闲暇时间，他为EPM产品开发实用程序，使顾问的生活更轻松。</p></div><div class="ab cl mc md go me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ha hb hc hd he"><p id="47ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jg">最初发表于</em><a class="ae jc" href="https://community.oracle.com/docs/DOC-997863" rel="noopener ugc nofollow" target="_blank">T5【community.oracle.com】</a><em class="jg">。</em></p></div></div>    
</body>
</html>