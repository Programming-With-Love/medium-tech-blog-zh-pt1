<html>
<head>
<title>Using Googleâ€™s SafetyNet reCAPTCHA API with Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Androidä¸Šä½¿ç”¨Googleçš„SafetyNet reCAPTCHA API</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/quick-code/using-googles-safetynet-recaptcha-api-with-android-48e2cf12f370?source=collection_archive---------1-----------------------#2018-01-28">https://medium.com/quick-code/using-googles-safetynet-recaptcha-api-with-android-48e2cf12f370?source=collection_archive---------1-----------------------#2018-01-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div class="er es hf"><img src="../Images/95250ffdbeecee0bca9235d49dacef1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*y0ebtcYB9RbLwLMrcRb2-A.jpeg"/></div></figure><div class=""/><p id="4c7e" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">SafetyNetæœåŠ¡åŒ…æ‹¬ä¸€ä¸ªreCAPTCHA APIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºå…å—æ¶æ„æµé‡çš„æ”»å‡»ã€‚</p><p id="0433" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">reCAPTCHAæ˜¯ä¸€é¡¹å…è´¹æœåŠ¡ï¼Œä½¿ç”¨å…ˆè¿›çš„é£é™©åˆ†æå¼•æ“æ¥ä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºå…å—åƒåœ¾é‚®ä»¶å’Œå…¶ä»–æ»¥ç”¨è¡Œä¸ºçš„å½±å“ã€‚</p><h2 id="c8d6" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated"><strong class="ak">ç¬¬ä¸€æ­¥:æµè§ˆreCAPTCHAæœåŠ¡æ¡æ¬¾</strong></h2><p id="9dab" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">åœ¨è®¿é—®APIä¹‹å‰ï¼Œè¯·é˜…è¯»å¹¶ç†è§£æ‰€æœ‰é€‚ç”¨çš„<a class="ae kj" href="https://developers.google.com/terms/" rel="noopener ugc nofollow" target="_blank">æœåŠ¡æ¡æ¬¾</a>ã€‚</p><h2 id="d094" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated"><strong class="ak">æ­¥éª¤2: </strong>æ³¨å†Œä¸€ä¸ªreCAPTCHAå¯†é’¥å¯¹</h2><p id="58e1" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">è¦æ³¨å†Œå¯†é’¥å¯¹ï¼Œè¯·è®¿é—®<a class="ae kj" href="https://g.co/recaptcha/androidsignup" rel="noopener ugc nofollow" target="_blank"> reCAPTCHA Androidæ³¨å†Œç½‘ç«™</a>ï¼Œä¸ºæ‚¨çš„å¯†é’¥æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„æ ‡ç­¾ï¼Œæä¾›ä½¿ç”¨æ­¤APIå¯†é’¥çš„æ¯ä¸ªåº”ç”¨ç¨‹åºçš„åŒ…åï¼Œå¹¶è·å–å‡ºç°åœ¨ä¸‹ä¸€é¡µçš„ç«™ç‚¹å¯†é’¥å’Œç§˜å¯†å¯†é’¥ã€‚</p><h2 id="f6ec" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">æ­¥éª¤3:æ·»åŠ å®‰å…¨ç½‘APIä¾èµ–é¡¹</h2><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="f1bb" class="jj jk ho kp b fi kt ku l kv kw">apply plugin: 'com.android.application'<br/>...<br/>dependencies {<br/>    <strong class="kp hp">compile 'com.google.android.gms:play-services-safetynet:11.8.0'</strong><br/>}</span></pre><h2 id="91e6" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">ç¬¬å››æ­¥:ç»ˆäºåˆ°äº†æˆä¸ºäººç±»çš„æ—¶å€™äº†ğŸ˜</h2><p id="3e27" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">åªè¦æ‚¨æƒ³è°ƒç”¨captchaå°éƒ¨ä»¶ï¼Œå°±ä½¿ç”¨ä¸‹é¢çš„ä»£ç :</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="544e" class="jj jk ho kp b fi kt ku l kv kw">SafetyNet.getClient(this).verifyWithRecaptcha(<strong class="kp hp">YOUR_API_SITE_KEY</strong>)<br/>        .addOnSuccessListener((Executor) this,<br/>            new OnSuccessListener&lt;SafetyNetApi.RecaptchaTokenResponse&gt;() {<br/>                @Override<br/>                public void onSuccess(SafetyNetApi.RecaptchaTokenResponse response) {<br/>                  // Indicates communication with reCAPTCHA service was successful.<br/>                 String userResponseToken=response.getTokenResult();<br/>                    if (!userResponseToken.isEmpty()) {<br/>                       // Validate the user response token using the<br/>                       // <a class="ae kj" href="https://developers.google.com/recaptcha/docs/verify" rel="noopener ugc nofollow" target="_blank">reCAPTCHA siteverify API</a>.<br/>                    }<br/>                }<br/>        })<br/>        .addOnFailureListener((Executor) this, new OnFailureListener() {<br/>                @Override<br/>                public void onFailure(@NonNull Exception e) {<br/>                    if (e instanceof ApiException) {<br/>                     ApiException apiException = (ApiException) e;<br/>                     int statusCode = apiException.getStatusCode();<br/>                    } else {<br/>                        // A unknown type of error occurred.<br/>                        Log.d(TAG, "Error: " + e.getMessage());<br/>                    }<br/>                }<br/>        });</span></pre><h2 id="848d" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">æ­¥éª¤5:æœ€åä¸€æ­¥åœ¨æœåŠ¡å™¨ä¸ŠéªŒè¯ç”¨æˆ·çš„å“åº”ä»¤ç‰Œ</h2><p id="ca88" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">å½“reCAPTCHA APIæ‰§è¡Œ<code class="du kx ky kz kp b"><a class="ae kj" href="https://developers.google.com/android/reference/com/google/android/gms/tasks/OnSuccessListener.html#onSuccess(TResult)" rel="noopener ugc nofollow" target="_blank">onSuccess()</a></code>æ–¹æ³•æ—¶ï¼Œç”¨æˆ·å·²ç»æˆåŠŸå®Œæˆäº†éªŒè¯ç æŒ‘æˆ˜&amp;æˆ‘ä»¬ä»ç„¶éœ€è¦éªŒè¯æ¥è‡ªåç«¯æœåŠ¡å™¨çš„ç”¨æˆ·å“åº”ä»¤ç‰Œã€‚</p><p id="bede" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">å› æ­¤ï¼Œæ‚¨éœ€è¦å‘é€ä¸€ä¸ªpostè¯·æ±‚åˆ°URL:</p><p id="1e64" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">APIè¯·æ±‚URL:<a class="ae kj" href="https://www.google.com/recaptcha/api/siteverify" rel="noopener ugc nofollow" target="_blank">https://www.google.com/recaptcha/api/siteverify</a></p><p id="576c" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">æ–¹æ³•:é‚®å¯„</p><p id="4bf3" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">å‘å¸ƒå‚æ•°:</p><ol class=""><li id="e4a8" class="la lb ho in b io ip is it iw lc ja ld je le ji lf lg lh li bi translated">æœºå¯†â€”å¿…éœ€ã€‚æ‚¨çš„ç«™ç‚¹å’ŒreCAPTCHAä¹‹é—´çš„å…±äº«å¯†é’¥ã€‚</li><li id="4ec3" class="la lb ho in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">å“åº”â€”å¿…éœ€ã€‚reCAPTCHAæä¾›çš„ç”¨æˆ·å“åº”ä»¤ç‰Œï¼Œç”¨äºéªŒè¯æ‚¨ç«™ç‚¹ä¸Šçš„ç”¨æˆ·ã€‚</li><li id="1c0a" class="la lb ho in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">remoteip â€”å¯é€‰ã€‚ç”¨æˆ·çš„IPåœ°å€ã€‚</li></ol><p id="1352" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">APIå“åº”:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="6c75" class="jj jk ho kp b fi kt ku l kv kw">{<br/>  "success": true|false,<br/>  "challenge_ts": timestamp,  // timestamp of the challenge load <br/>  "apk_package_name": string, // the package name of the app<br/>  "error-codes": [...]        // optional<br/>}</span></pre><p id="c7c1" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">å¿«ä¹ç¼–ç :)</p><h2 id="ccda" class="jj jk ho bd jl jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd bi translated">ç»“è®º</h2><p id="4269" class="pw-post-body-paragraph il im ho in b io ke iq ir is kf iu iv iw kg iy iz ja kh jc jd je ki jg jh ji ha bi translated">æ‚¨ç°åœ¨çŸ¥é“å¦‚ä½•ä½¿ç”¨SafetyNet reCAPTCHA APIæ¥ä¿æŠ¤æ‚¨çš„Androidåº”ç”¨ç¨‹åºå’Œåç«¯åŸºç¡€è®¾æ–½å…å—åƒµå°¸ç¨‹åºçš„æ”»å‡»ã€‚ä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒè‡ªåŠ¨æ³¨å†Œã€å±å¹•æŠ“å–æˆ–æœºå™¨äººç”Ÿæˆçš„åƒåœ¾é‚®ä»¶ã€‚</p><p id="d720" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç»™å®ƒç«–èµ·å¤§æ‹‡æŒ‡ï¼Œè¯„è®ºå®ƒï¼Œå¹¶ä¸ä½ çš„æœ‹å‹åˆ†äº«ã€‚ </p></div><div class="ab cl lp lq go lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ha hb hc hd he"><figure class="kk kl km kn fd hj"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="2af5" class="pw-post-body-paragraph il im ho in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">è¯·ç‚¹å‡»ğŸ‘æŒ‰é’®ä¸‹é¢å‡ ä¸‹ï¼Œä»¥ç¤ºæ”¯æŒï¼â¬‡â¬‡è°¢è°¢ï¼ä¸è¦å¿˜è®°<strong class="in hp">éµå¾ªä¸‹é¢çš„</strong>å¿«é€Ÿä»£ç ã€‚</p><blockquote class="ly"><p id="6aba" class="lz ma ho bd mb mc md me mf mg mh ji dx translated">æ‰¾åˆ°å…³äºå„ç§ç¼–ç¨‹è¯­è¨€çš„<a class="ae kj" href="http://www.quickcode.co/" rel="noopener ugc nofollow" target="_blank">å¿«é€Ÿä»£ç </a>çš„å…è´¹è¯¾ç¨‹ã€‚è·å–<a class="ae kj" href="https://www.messenger.com/t/1493528657352302" rel="noopener ugc nofollow" target="_blank"> Messenger </a>çš„æ–°æ›´æ–°ã€‚</p></blockquote></div></div>    
</body>
</html>