<html>
<head>
<title>Using the OCI Classic CLI utilities from OCI Cloud Shell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从OCI云壳使用OCI经典CLI实用程序</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/using-the-oci-classic-cli-utilities-from-oci-cloud-shell-ee9776dc5f73?source=collection_archive---------0-----------------------#2021-06-02">https://medium.com/oracledevs/using-the-oci-classic-cli-utilities-from-oci-cloud-shell-ee9776dc5f73?source=collection_archive---------0-----------------------#2021-06-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7f89" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.oracle.com/en-us/iaas/Content/API/Concepts/cloudshellgettingstarted.htm" rel="noopener ugc nofollow" target="_blank"> OCI云外壳</a>是快速使用OCI CLI和其他工具从命令行管理您的OCI环境的一种极好的方式，但是如果您仍然使用OCI经典服务呢？</p><p id="8552" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您运行的环境能够访问OCI和OCI经典服务，或者您正在从OCI经典迁移到OCI，那么以下提示将帮助您从OCI云外壳运行OCI经典命令行实用程序，以管理<a class="ae jc" href="https://www.oracle.com/cloud/what-is-iaas/" rel="noopener ugc nofollow" target="_blank"> IaaS </a>和<a class="ae jc" href="https://www.oracle.com/cloud/what-is-paas/" rel="noopener ugc nofollow" target="_blank"> PaaS </a>服务</p><ul class=""><li id="e45d" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">OCI经典计算、存储和网络的cli</li><li id="0101" class="jd je hh ig b ih jq il jr ip js it jt ix ju jb ji jj jk jl bi translated"><code class="du jm jn jo jp b">ftmcli</code>用于OCI经典物件存储</li><li id="0a50" class="jd je hh ig b ih jq il jr ip js it jt ix ju jb ji jj jk jl bi translated"><code class="du jm jn jo jp b">psm</code>OCI经典平台服务、DBCS、JCS、SOACS等的cli。</li></ul><h2 id="3745" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">opc命令行实用程序</h2><p id="0c8b" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated"><code class="du jm jn jo jp b">opc</code>命令行实用程序用于管理OCI经典计算服务资源。<code class="du jm jn jo jp b">opc</code> cli可以管理OCI经典计算实例、网络、块存储和编排的生命周期。</p><p id="75dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将opc cli下载到您的本地机器<a class="ae jc" href="https://www.oracle.com/downloads/cloud/opc-cli-downloads.html" rel="noopener ugc nofollow" target="_blank">https://www . Oracle . com/downloads/cloud/OPC-CLI-downloads . html</a>。例如<code class="du jm jn jo jp b">opc-cli-18.1.2.zip</code></p><p id="b147" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在OCI控制台打开<strong class="ig hi">云壳</strong>，从菜单中选择<strong class="ig hi">上传</strong>选项，上传opc cli zip文件。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/f6054a3ba7ed1476fd8e1fd31fb73f94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFEpVrV4gSH8PV26m5v8lQ.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">OCLI Cloud Shell Upload</figcaption></figure><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ll"><img src="../Images/b1bc38a8d38673086efce481149f435d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dlwe7gQJhuzjI-Vhy41edg.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">Upload opc-cli-18.1.2.zip</figcaption></figure><p id="9604" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在云壳终端解压上传的zip文件，得到opc命令行可执行文件。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="cf4c" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">unzip opc-cli-18.1.2.zip linux/opc</strong></span></pre><p id="a053" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在可以在云Shell中从<code class="du jm jn jo jp b">linux</code>目录运行<code class="du jm jn jo jp b">opc</code>命令。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="8cdf" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">./linux/opc --help</strong></span></pre><p id="9c60" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要在OCI经典环境中使用opc cli，您需要创建所需的配置文件。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="10d9" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">mkdir -p ~/.opc/profiles</strong><br/>$ <strong class="jp hi">touch ~/.opc/password</strong><br/>$ <strong class="jp hi">chmod 600 ~/.opc/password</strong></span></pre><p id="9d37" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建文件<code class="du jm jn jo jp b">~/.opc/profiles/default</code>，设置适当的计算服务ID、用户名和计算经典REST端点细节。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="9eab" class="jv jw hh jp b fi lq lr l ls lt">{<br/>  "compute": {<br/>    "user": "/Compute-a123456/user@example.com",<br/>    "endpoint": "compute.uscom-east-1.oraclecloud.com",<br/>    "password-file": "~/.opc/password"<br/>  }<br/>}</span></pre><p id="93c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用您的帐户密码更新<code class="du jm jn jo jp b">~/.opc/password</code>文件。</p><p id="717d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，您可以针对传统环境运行opc cli，例如列出所有计算实例。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="cf69" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">./linux/opc -F state,name compute instance list /Compute-a123456</strong><br/>running /<a class="ae jc" href="mailto:Compute-orcdevtest1/upendra.vellanki@oracle.com" rel="noopener ugc nofollow" target="_blank">Compute-</a>a123456<a class="ae jc" href="mailto:Compute-orcdevtest1/upendra.vellanki@oracle.com" rel="noopener ugc nofollow" target="_blank">/</a>user@example.com/AppServer/977d8f95-d33e-4a28-a073-e44161d7f6ed</span></pre><p id="44f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有关使用<strong class="ig hi"> opc </strong> cli的更多详细信息，请参考Oracle云基础架构计算经典版的<a class="ae jc" href="https://docs.oracle.com/en/cloud/iaas-classic/compute-iaas-cloud/stopc/general-syntax-cli-commands.html#GUID-3BC4BB24-A03A-4011-A398-A8BE895DE013" rel="noopener ugc nofollow" target="_blank"> CLI参考</a></p><h2 id="6f3b" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">ftmcli命令行实用程序</h2><p id="c221" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated"><code class="du jm jn jo jp b">ftmcli</code>命令行实用程序用于管理OCI经典对象存储容器和对象</p><p id="0571" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从<a class="ae jc" href="https://www.oracle.com/downloads/cloud/storage-cloud-upload-cli-downloads.html" rel="noopener ugc nofollow" target="_blank">https://www . Oracle . com/downloads/cloud/storage-cloud-upload-CLI-downloads . html</a>将ftmcli下载到您的本地计算机</p><p id="dd52" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在OCI控制台打开<strong class="ig hi">云壳</strong>，从菜单中选择<strong class="ig hi">上传</strong>选项，上传ftmcli zip文件。</p><p id="0efd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在云Shell终端中，从上传的zip文件中提取<code class="du jm jn jo jp b">ftmcli.jar</code>文件，例如</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="ad42" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">unzip </strong><strong class="jp hi">ftmcli-v2.4.3.zip </strong><strong class="jp hi">ftmcli-v2.4.3/ftmcli.jar</strong></span></pre><p id="ff57" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您现在可以使用已经预装在Cloud Shell中的java命令运行<code class="du jm jn jo jp b">ftmcli</code>实用程序。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="7666" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">java -jar ./ftmcli-v2.4.3/ftmcli.jar --help</strong></span></pre><p id="faed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要使用ftmcli列出OCI经典对象存储容器，请在命令选项中设置用户名和存储rest端点，例如</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="2eff" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">java -jar ftmcli.jar list</strong> \<br/>    <strong class="jp hi">--user user@example.com</strong> \<br/>    <strong class="jp hi">--rest-endpoint https://uscom-central-1.storage.oraclecloud.com/v1/Storage-a123456</strong><br/><br/>Enter your password: ********</span></pre><p id="878c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有关使用<strong class="ig hi"> ftmcli </strong>的更多详细信息，请参考<a class="ae jc" href="https://docs.oracle.com/en/cloud/iaas-classic/storage-cloud/csclr/general-syntax-ftm-cli-commands.html#GUID-6E51B750-1958-4FB3-98BB-AF24ECC882D7" rel="noopener ugc nofollow" target="_blank">Oracle云基础架构对象存储经典命令行参考</a></p><h2 id="3f9a" class="jv jw hh bd jx jy jz ka kb kc kd ke kf ip kg kh ki it kj kk kl ix km kn ko kp bi translated">psm命令行实用程序</h2><p id="c16e" class="pw-post-body-paragraph ie if hh ig b ih kq ij ik il kr in io ip ks ir is it kt iv iw ix ku iz ja jb ha bi translated"><code class="du jm jn jo jp b">psm</code>命令行实用程序可用于管理OCI和OCI Classic中多个平台服务的生命周期，包括Database Classic(DBCS)Java Cloud Service(JCS)和SOA Cloud Service (SOACS)。</p><p id="efc5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从平台服务控制台下载psm实用程序。从用户<strong class="ig hi">个人资料</strong>图标中选择<strong class="ig hi">帮助</strong>下载中心&gt;下载中心</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lu"><img src="../Images/bd8c8eb928feb79a271e64cf25236bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FzW9xkko7SrF_NKjs5AGQ.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">OCI Classic Platform Service Console &gt; Profile &gt; Help &gt; Download Center</figcaption></figure><p id="5009" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下载<strong class="ig hi"> PaaS服务管理器(PSM)命令行界面(CLI) </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lv"><img src="../Images/5985e29b44c861c468a0eef1e09561f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QqCpMkcQxeJbtJyZVcopVw.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">PaaS Service Manager (PSM) Command Line Interface (CLI) Download</figcaption></figure><p id="c080" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在OCI控制台打开<strong class="ig hi">云壳</strong>，从菜单中选择<strong class="ig hi">上传</strong>选项，上传<code class="du jm jn jo jp b">psmcli.zip</code>文件。</p><p id="470e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在云Shell终端中，为本地用户安装作为python包的psm实用程序。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="a776" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">pip3 install --user ./psmcli.zip</strong></span></pre><p id="de4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，您可以从<code class="du jm jn jo jp b">.local/bin</code>目录运行云Shell中的<code class="du jm jn jo jp b">psm</code>实用程序</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="2af0" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">.local/bin/psm --help</strong></span></pre><p id="0b9d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行<strong class="ig hi"> setup </strong>命令来配置psm cli以连接OCI经典服务。请注意，身份域是传统帐户的租赁名称，或者是云帐户的idcs ID。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="481a" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">.local/bin/psm setup<br/></strong>Username: <strong class="jp hi">user@example.com</strong><br/>Password: <strong class="jp hi">********</strong><br/>Retype Password: <strong class="jp hi">********</strong><br/>Identity domain: <strong class="jp hi">a123456</strong><br/>Region [us]: <br/>Output format [short]: <br/>Use OAuth? [n]:</span></pre><p id="9341" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用<code class="du jm jn jo jp b">psm</code> cli管理您的经典平台服务，例如列出所有数据库经典服务。</p><pre class="kw kx ky kz fd lm jp ln lo aw lp bi"><span id="08e9" class="jv jw hh jp b fi lq lr l ls lt">$ <strong class="jp hi">.local/bin/psm DBCS services</strong></span></pre><p id="8ac1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有关使用<strong class="ig hi"> psm </strong> cli的更多详细信息，请参考<a class="ae jc" href="https://docs.oracle.com/en/cloud/paas/java-cloud/pscli/abouit-paas-service-manager-command-line-interface.html" rel="noopener ugc nofollow" target="_blank"> PaaS服务管理器命令行界面参考</a></p></div></div>    
</body>
</html>