<html>
<head>
<title>Lighthouse — The booster pack for your app performance.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lighthouse —应用性能的助推器。</h1>
<blockquote>原文：<a href="https://medium.com/globant/lighthouse-the-booster-pack-for-your-app-performance-b4b0771af035?source=collection_archive---------1-----------------------#2020-10-29">https://medium.com/globant/lighthouse-the-booster-pack-for-your-app-performance-b4b0771af035?source=collection_archive---------1-----------------------#2020-10-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5afab1bff81a442ecca9e008edcd7493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JKLq5e9Aydx9rIh-bFi9mw.gif"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Lighthouse</figcaption></figure><p id="9bf3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Kunal是一名自由职业者，在web开发方面有3年的经验。他为他的一个客户做了一个电子商务项目，从零开始构建并按时交付。然而，客户的QA团队阻止了该项目的发布，因为该网站加载一个页面需要将近12秒！不用说，客户显然不高兴。</p><p id="e433" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">他意识到自己从未在开发阶段考虑过性能改进，而今天它却成了重中之重。</p></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="3a77" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">为什么性能很重要？</strong></p><ul class=""><li id="21e1" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">网站业绩和收入成正比。</li><li id="bc60" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">它提高了网站在SEO中的排名。</li><li id="6e9f" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">根据亚马逊的说法:</li></ul><blockquote class="km kn ko"><p id="1f27" class="it iu kp iv b iw ix iy iz ja jb jc jd kq jf jg jh kr jj jk jl ks jn jo jp jq ha bi translated">页面加载时间增加几分之一秒，每年会损失7 . 45亿美元的收入！</p><p id="7cb2" class="it iu kp iv b iw ix iy iz ja jb jc jd kq jf jg jh kr jj jk jl ks jn jo jp jq ha bi translated">2009年，该公司对1000多名网上购物者进行了一项调查研究。</p><p id="e79c" class="it iu kp iv b iw ix iy iz ja jb jc jd kq jf jg jh kr jj jk jl ks jn jo jp jq ha bi translated">阈值是2秒——超过这个时间，用户会变得不耐烦</p><p id="a65d" class="it iu kp iv b iw ix iy iz ja jb jc jd kq jf jg jh kr jj jk jl ks jn jo jp jq ha bi translated">如果加载时间超过3秒，40%的受访者会放弃该网站</p></blockquote><ul class=""><li id="54b1" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">DoubleClick发现，加载时间少于5秒的网站比加载时间在19秒内的网站赚取了两倍的广告收入。</li></ul></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="aa82" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">他开始对这个问题进行调查，以衡量网络性能，并瞄准了两个主要工具:</p><ul class=""><li id="74b6" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">谷歌灯塔</li><li id="14c3" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">WPT —网络性能测试</li></ul><p id="ca1d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Kunal想要探索Lighthouse，因为它有谷歌的支持。他想了解更多。</p></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="893c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">灯塔到底是什么？</strong></p><p id="019d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它是一个开源的自动化工具，用于提高网页质量。你可以在任何网页上运行它，无论是公开的还是需要认证的。您还可以使用Lighthouse CI来防止您的站点出现倒退。</p><p id="fc60" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它允许您审计页面的:</p><ul class=""><li id="7fc4" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">表演</li><li id="1d6b" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">易接近</li><li id="fcef" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">渐进式网络应用</li><li id="50d7" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">最佳实践</li><li id="6c5b" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">搜索引擎优化和更多</li></ul><p id="1228" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在Lighthouse对你选择的页面进行审计后，它会为你生成一份报告。</p><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/d35ca3cce8798cf167552b7966bf5b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gke85w8TJBdlnhDxXE0-Fw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Lighthouse provides performance metrics to measure website performance score</figcaption></figure><p id="bdae" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Lighthouse提供了性能指标来衡量你的网站得分。</p><p id="4d84" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">性能指标:</strong></p><ul class=""><li id="c2f5" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi">第一个内容绘制</strong>标记第一个文本或图像被绘制的时间。</li><li id="0a77" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi">第一个有意义的绘图</strong>测量页面的主要内容何时可见</li><li id="da52" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi">速度指数</strong>显示页面内容可视填充的速度。</li><li id="c67d" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi">第一次CPU空闲</strong>标志着页面的主线程第一次安静到足以处理输入</li><li id="fb81" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi">交互时间</strong>是页面开始交互所需的时间。</li><li id="1dcc" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">用户可能经历的最大潜在首次输入延迟是最长任务的持续时间，以毫秒为单位。</li></ul><p id="c37c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">为什么是指标？</strong></p><ul class=""><li id="13af" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">它为您提供改进方面的建议和诊断。</li><li id="4bd5" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">你可以在任何网页上运行它，无论是公开的还是需要认证的。</li><li id="1372" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">它对性能、可访问性、渐进式网络应用、搜索引擎优化等进行审计。</li><li id="ad3c" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">它还提供对网络、主线程、CPU使用情况、帧等的底层深入分析。</li></ul><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/f2c96fd7e152d9374364f2554613378a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1CF5zRWu19o570wUvXgP_g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Audit Reports and Diagnostics</figcaption></figure><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/243affb9f84543850434ae51415a58c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6zGSQNg5o4pORlZ5L1KQGQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Low-level in-depth analysis</figcaption></figure></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="4391" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当Kunal测试他开发的电子商务项目时，lighthouse得分为37分。</p><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/3f69c3411bc41ca0993f0eeb9ca8db1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urwk9vuQsMMxKLfIYwWnMQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Lighthouse score for unoptimized version</figcaption></figure><p id="e116" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在分析了这个问题之后，他想出了一个提高绩效的行动计划</p><p id="e1ec" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">计划:</strong></p><ul class=""><li id="4b00" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi">消除渲染阻塞资源</strong>:任何阻塞DOM整体渲染的资源。它应该是异步和独立的…</li></ul><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/e33b1e93ed896712cf51befcc81a8b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KUqzfSBbNLiTGeJglZ0O9g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Render-blocking resources example</figcaption></figure><ul class=""><li id="b6cb" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi">小块"<em class="kp">只加载你所需要的</em> ": </strong>它有助于在最初更快地加载页面，并根据需要延迟加载其余的组件和图像:</li></ul><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/e11d2e515c6c903658b644b51e883332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNSjP1cF5k0hddz76AZsCQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Lazy component</figcaption></figure><ul class=""><li id="c3e7" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi">最新版本的库和框架</strong>:它有助于优化依赖项的性能。</li></ul><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es la"><img src="../Images/f64fd15ee786590a872bf73b5b0bdb92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9FUfZS_55OgcLwk5tMtTw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">bundle size comparison</figcaption></figure><ul class=""><li id="0de5" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi">将不必要的依赖项移到devDependencies部分:</strong>它减少了最终的生产构建大小，从而进一步减少了JS解析和执行时间。</li></ul><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lb"><img src="../Images/282e4a4ad2e82df822f5a0901d84a00d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nf5yR2AUp6bqSO_ryic5jQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Moved unnecessary dependency to dev-dependency</figcaption></figure><ul class=""><li id="3114" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated"><strong class="iv hi"> DOM树</strong>:DOM的渲染和绘制性能取决于DOM树的深度。(最好小于200)</li><li id="60de" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi">图像优化</strong>:以正确的格式、尺寸、大小和分辨率获得高质量的图像，同时保持尽可能小的尺寸。<strong class="iv hi"> WebP </strong>是一种现代图像格式，为网络上的图像提供卓越的无损和有损压缩。目前Safari和IE11浏览器不支持WebP格式。</li><li id="7b04" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi"> CSS优化:</strong>删除不必要的样式，缩小、压缩并缓存，将页面加载时不需要的CSS拆分到附加文件中，减少CSS渲染阻塞。</li><li id="1824" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated"><strong class="iv hi"> CDN: </strong>从最近的服务器获取资源，节省网络通话时长。</li><li id="a471" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">在HTTP中，浏览器可以同时发送6个请求，而在HTTP/2中，它们可以发送100个请求。</li></ul><p id="4bb6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">经过这些优化后，Lighthouse得分跃升至99分，页面加载时间降至约2秒，Kunal能够将应用程序投入生产。</p><figure class="ku kv kw kx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kt"><img src="../Images/1123814a877cf4c78a11d1ff67fcf4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*blA5aQ9ezKGI0zaz"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Lighthouse score for optimised version</figcaption></figure></div><div class="ab cl jr js go jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="ha hb hc hd he"><p id="9ecf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">结论:</strong></p><p id="2952" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于大多数开发人员来说，网站性能排在最后，而它应该是应用程序设计的第一阶段。Lighthouse在审计中起着重要的作用，可以提高网站的性能。</p><p id="13ab" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">记住意识到绩效会让你得到什么:</p><ul class=""><li id="67f7" class="jy jz hh iv b iw ix ja jb je ka ji kb jm kc jq kd ke kf kg bi translated">良好的用户体验</li><li id="654b" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">独立用户数量增加</li><li id="5752" class="jy jz hh iv b iw kh ja ki je kj ji kk jm kl jq kd ke kf kg bi translated">更高的收入</li></ul><p id="d7a6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">无论如何都不要忽视表演，否则你以后会付出代价的</p></div></div>    
</body>
</html>