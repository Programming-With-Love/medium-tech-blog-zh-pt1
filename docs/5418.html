<html>
<head>
<title>Part II: Data processing pipelines with Spring Cloud Data Flow on Oracle Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第二部分:Oracle Cloud上Spring Cloud数据流的数据处理管道</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/part-ii-data-processing-pipelines-with-spring-cloud-data-flow-on-oracle-cloud-5681ebd2952d?source=collection_archive---------0-----------------------#2018-03-22">https://medium.com/oracledevs/part-ii-data-processing-pipelines-with-spring-cloud-data-flow-on-oracle-cloud-5681ebd2952d?source=collection_archive---------0-----------------------#2018-03-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="62fb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是本博客系列的第二部分(也是最后一部分),内容是关于Oracle Cloud上的Spring Cloud数据流</p><p id="88b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在<strong class="ig hi">第1部分</strong>中，我们介绍了一些<strong class="ig hi">基础</strong>、<strong class="ig hi">基础设施</strong>设置(Kafka、MySQL ),最后，我们在云上有了一个全功能的Spring Cloud数据流服务器——现在是时候使用它了！</p><div class="jd je ez fb jf jg"><a rel="noopener follow" target="_blank" href="/oracledevs/part-i-spring-cloud-dataflow-on-oracle-application-container-cloud-cb8d59747dd9"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hi fi z dy jl ea eb jm ed ef hg bi translated">第一部分:Oracle应用容器云上的Spring Cloud数据流</h2><div class="jn l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">medium.com</p></div></div><div class="jo l"><div class="jp l jq jr js jo jt ju jg"/></div></div></a></div><p id="d7b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这一部分，您将</p><ul class=""><li id="4139" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">获得解决方案的技术概述，并查看一些内部细节——为什么和如何</li><li id="7545" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">在<a class="ae jc" href="https://cloud.oracle.com/application-container-cloud" rel="noopener ugc nofollow" target="_blank"> Oracle应用容器云</a>上构建和部署数据流管道</li><li id="6dc9" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">最后测试一下…</li></ul></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h1 id="2175" class="kq kr hh bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">在幕后</h1><p id="a10f" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">在我们看到实际操作之前，这里有一个概述，以便您了解您将要做什么，并对它为什么以这种方式工作有一个(粗略的)想法</p><p id="82d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在高层次上，这就是Spring Cloud数据流的工作方式(您可以随时阅读<a class="ae jc" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/" rel="noopener ugc nofollow" target="_blank">文档</a>获取详细信息)</p><ul class=""><li id="453c" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">从注册<strong class="ig hi">应用</strong>开始，这些应用包含核心业务逻辑，并处理您将如何处理数据，例如，一个简单地转换它(从消息层)接收的数据的服务，或者一个将用户事件/活动泵入消息队列的应用</li><li id="c416" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">然后，您将创建一个<strong class="ig hi">流定义</strong>，您将在其中定义数据流的<strong class="ig hi">管道</strong>(使用您之前注册的应用程序)，然后部署它们</li><li id="711b" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">(下面是最精彩的部分！)一旦您<strong class="ig hi">部署了</strong>流定义、<strong class="ig hi">管道</strong>中的各个应用，这些应用将自动部署到Oracle应用容器云，这要感谢我们的<a class="ae jc" href="https://github.com/ankitbansal/spring-cloud-dfs-accs" rel="noopener ugc nofollow" target="_blank">定制Spring Cloud Deployer SPI实现</a>(这在<a class="ae jc" rel="noopener" href="/oracledevs/part-i-spring-cloud-dataflow-on-oracle-application-container-cloud-cb8d59747dd9">第1部分</a>中有简要提及)</li></ul><p id="f25e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在高层次上，SPI实现需要遵守由<code class="du lt lu lv lw b">org.springframework.cloud.deployer.spi.app.AppDeployer</code>概述的契约/接口，并提供以下方法的实现— <code class="du lt lu lv lw b">deploy</code>、<code class="du lt lu lv lw b">undeploy</code>、<code class="du lt lu lv lw b">status </code>和<code class="du lt lu lv lw b">environmentInfo</code></p><p id="bb81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，该实现处理流水线/流处理应用的生命周期</p><ul class=""><li id="11b9" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">创建和删除</li><li id="0203" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">提供状态信息</li></ul><h1 id="ad36" class="kq kr hh bd ks kt lx kv kw kx ly kz la lb lz ld le lf ma lh li lj mb ll lm ln bi translated">表演时间…！</h1><h2 id="16d2" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">应用程序注册</h2><p id="bc9d" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">我们将从注册我们的流/数据处理应用开始</p><p id="9e34" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如第1部分所述，Spring Cloud数据流使用<strong class="ig hi"> Maven </strong>作为应用程序的来源之一，这些应用程序需要作为您构建的管道的一部分进行部署——更多详细信息<a class="ae jc" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#arch-intro" rel="noopener ugc nofollow" target="_blank">在此</a>和<a class="ae jc" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration" rel="noopener ugc nofollow" target="_blank">在此</a></p><p id="7d9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以使用任何Maven repo——我们使用的是Spring Maven repo，因为我们将导入他们预先构建的入门应用。这里是配置它的<strong class="ig hi"> manifest.json </strong></p><figure class="mq mr ms mt fd mu"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mx my et er es mz na bd b be z dx">manifest.json for Data Flow server on ACCS</figcaption></figure><p id="8a8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">访问Spring Cloud数据流仪表板—导航到应用URL，例如<code class="du lt lu lv lw b"><a class="ae jc" href="https://DataflowServer-ocloud100.apaas.us2.oraclecloud.com" rel="noopener ugc nofollow" target="_blank">https://SpringCloudDataflowServer-mydomain.apaas.us2.oraclecloud.com</a>/<strong class="ig hi">dashboard</strong></code></p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nb"><img src="../Images/1ea09b3fe1ba7d4b3032253b96fb416f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5H4pIlyaoj5fM8nzjulKQ.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Spring Cloud Data Flow dashboard</figcaption></figure><p id="6544" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">出于这个博客的目的，我们将导入两个预构建的初学者应用程序</p><p id="5083" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> http </strong></p><ul class=""><li id="f9c1" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated"><strong class="ig hi">类型</strong> —来源</li><li id="69da" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><strong class="ig hi">角色</strong> —将数据推送到消息代理</li><li id="5aa4" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><strong class="ig hi"> Maven网址</strong> — <code class="du lt lu lv lw b">maven://org.springframework.cloud.stream.app:http-source-kafka:1.0.0.BUILD-SNAPSHOT</code></li></ul><p id="0bb7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">日志</strong></p><ul class=""><li id="bd73" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated"><strong class="ig hi">类型</strong> —水槽</li><li id="113a" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><strong class="ig hi">角色</strong> —使用来自消息代理的数据/事件</li><li id="ec50" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><strong class="ig hi"> Maven网址</strong>——<code class="du lt lu lv lw b">maven://org.springframework.cloud.stream.app:log-sink-kafka:1.0.0.BUILD-SNAPSHOT</code></li></ul><p id="9aa3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还有另一类被称为<strong class="ig hi">处理器</strong>的应用——为了简单起见，这里不做介绍</p><blockquote class="nh ni nj"><p id="7377" class="ie if nk ig b ih ii ij ik il im in io nl iq ir is nm iu iv iw nn iy iz ja jb ha bi translated">有一堆这样的入门应用<a class="ae jc" href="https://cloud.spring.io/spring-cloud-stream-app-starters/" rel="noopener ugc nofollow" target="_blank">让使用Spring Cloud数据流变得超级简单！</a></p></blockquote><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es no"><img src="../Images/8235efde06c565ccee128c646755a0ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VpA82Lw2QYBgyOi_QdBFlQ.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Importing applications</figcaption></figure><p id="6f94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">应用程序注册后，我们可以继续创建我们的数据管道。但是，在我们这样做之前，让我们快速浏览一下它会做什么…</p><h2 id="1ba5" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">示例管道/数据流概述</h2><p id="22f5" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">这是管道将封装的流程——一旦你到达<strong class="ig hi">试驾</strong>部分，你将看到这一点..所以继续前进！</p><ul class=""><li id="83bb" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated"><strong class="ig hi"> http </strong> app - &gt;卡夫卡专题</li><li id="1489" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">Kafka-&gt;<strong class="ig hi">log</strong>app-&gt;stdout</li></ul><p id="5623" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> http </strong>应用程序将为我们提供一个REST端点，以便向它发送<code class="du lt lu lv lw b">POST </code>消息，这些消息将被推送到Kafka主题。<strong class="ig hi"> log </strong>应用程序将简单地<strong class="ig hi">消费</strong>这些来自Kafka主题的消息，然后将它们发送到<strong class="ig hi">stdout</strong>——简单！</p><h2 id="d060" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">创建和部署管道</h2><p id="6553" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">让我们开始创建流——你可以从我们刚刚导入的源和宿应用程序列表中选择(<code class="du lt lu lv lw b">http </code>和<code class="du lt lu lv lw b">log</code></p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es np"><img src="../Images/ed41aa19dea0b55c9077154ed234da2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O7qogKarFdLNd2rR4D6MAg.png"/></div></div></figure><p id="45de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用下面的流定义——只需用您在<a class="ae jc" rel="noopener" href="/oracledevs/part-i-spring-cloud-dataflow-on-oracle-application-container-cloud-cb8d59747dd9">第1部分</a>的<strong class="ig hi">基础设施设置</strong>部分设置的事件中心云服务实例的名称替换<code class="du lt lu lv lw b">KafkaDemo </code></p><figure class="mq mr ms mt fd mu"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="mx my et er es mz na bd b be z dx">Stream definition</figcaption></figure><p id="caae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您将看到管道的图形化表示(在我们的例子中非常简单)</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nq"><img src="../Images/9761e6f55c89a1505c7531491223993e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cNCrqN1_hyCtf5ctm16stQ.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Stream definition</figcaption></figure><p id="fab7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建</strong>(和<strong class="ig hi">部署</strong>)管道</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div class="er es nr"><img src="../Images/2ae75442f2a52b9c3494390de118197b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*0WJonm_NwjUgeL93KFQlCg.png"/></div><figcaption class="mx my et er es mz na bd b be z dx">Deploy the stream definition</figcaption></figure><p id="2ae6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">部署过程将被启动，同样的情况将反映在控制台上</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es ns"><img src="../Images/5142ce5df7acbd68a5cd8a8b777b36d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Qnsmjz8ji8My-U892ELBg.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Deployment in progress….</figcaption></figure><p id="a3c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">返回Oracle Application Container Cloud中的<strong class="ig hi">应用</strong>菜单，确认单个应用部署也已触发</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nt"><img src="../Images/2e5a4edf54f9d9e61d46b94f9a48f3ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hWMrJTftOGV8w3AqyCGg9g.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Deployment in progress…</figcaption></figure><p id="a403" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">打开应用程序详细信息并导航到<strong class="ig hi">部署</strong>部分，以确认两个应用程序都将<strong class="ig hi">服务绑定</strong>到流定义中指定的事件中心实例</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nu"><img src="../Images/45ddea30b5a53c272bc86331baa76d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SLenMrQAuCTGmhDIQogtFg.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Service Binding to Event Hub Cloud</figcaption></figure><p id="003a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">应用程序部署到Oracle应用程序容器云后，流定义的<strong class="ig hi">状态</strong>将变为<strong class="ig hi">已部署</strong>，应用程序也将显示在<strong class="ig hi">运行时</strong>部分</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nv"><img src="../Images/30d297549ed357cfa2e51006e72fe685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zf-UJTqqBIiHIR0gfuPwiw.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Deployment complete</figcaption></figure><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nw"><img src="../Images/c57e66e7c7fed2882ab639f24072cd4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bavMulBV2GivhFm_nbFJiw.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Spring Cloud Data Flow Runtime menu</figcaption></figure><h2 id="9fd0" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">将这些点连接起来..</h2><p id="8b50" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">在我们开始测试我们刚刚创建的数据管道之前，这里有两个图形表示来总结一切是如何逻辑连接的</p><p id="384f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Spring Cloud数据流中的各个<strong class="ig hi">管道组件</strong>映射到Oracle Application Container Cloud中相应的<strong class="ig hi">应用程序</strong>——通过自定义SPI实现部署(在上文和第1部分中讨论过)</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es nx"><img src="../Images/7a3121942e473086f1cb240437495426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RzXgNb1m9Bq-0lfL635Plw.jpeg"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Spring Cloud Data Flow pipeline to application mapping</figcaption></figure><p id="83cd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">..这里描绘了与卡夫卡的逻辑联系</p><ul class=""><li id="7dc1" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated"><code class="du lt lu lv lw b">http </code> app推送卡夫卡专题</li><li id="f2ac" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><code class="du lt lu lv lw b">log </code>应用程序使用Kafka主题，并将消息发送到stdout</li><li id="1bf9" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">默认情况下，主题是在Kafka中自动创建的<em class="nk">(您可以更改这一点),命名约定是流定义(<code class="du lt lu lv lw b">DemoStream</code>)和管道应用程序名称(<code class="du lt lu lv lw b">http</code>),由一个<strong class="ig hi">点</strong>(。)</em></li></ul><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es ny"><img src="../Images/cd92666d0513cb60098c4234b304a4e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZvxAsZvcnUtn-5u9gdLVog.jpeg"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Pipeline apps interacting with Kafka</figcaption></figure></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h1 id="e81c" class="kq kr hh bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">试车</h1><p id="4efd" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">测试数据管道的时间到了…</p><h2 id="36e8" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">通过<strong class="ak"><em class="nz">http(source)</em></strong>app发送消息</h2><p id="b739" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated"><code class="du lt lu lv lw b">POST </code>由<strong class="ig hi"> http </strong>应用程序向REST端点公开的一些消息(从Oracle应用程序容器云控制台检查其URL)——这些消息将被发送到Kafka主题并由<strong class="ig hi"> log </strong>应用程序使用</p><p id="ea39" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du lt lu lv lw b">curl -X POST <a class="ae jc" href="https://demostreamhttp-ocloud200.uscom-central-1.oraclecloud.com/" rel="noopener ugc nofollow" target="_blank">https://<strong class="ig hi">demostreamhttp</strong>-ocloud200.uscom-central-1.oraclecloud.com/</a> -H ‘content-type: text/plain’ -d <strong class="ig hi">test1</strong></code></p><p id="763e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du lt lu lv lw b">curl -X POST <a class="ae jc" href="https://demostreamhttp-ocloud200.uscom-central-1.oraclecloud.com/" rel="noopener ugc nofollow" target="_blank">https://<strong class="ig hi">demostreamhttp</strong>-ocloud200.uscom-central-1.oraclecloud.com/</a> -H ‘content-type: text/plain’ -d <strong class="ig hi">test12</strong></code></p><p id="1bd4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du lt lu lv lw b">curl -X POST <a class="ae jc" href="https://demostreamhttp-ocloud200.uscom-central-1.oraclecloud.com/" rel="noopener ugc nofollow" target="_blank">https://<strong class="ig hi">demostreamhttp</strong>-ocloud200.uscom-central-1.oraclecloud.com/</a> -H ‘content-type: text/plain’ -d <strong class="ig hi">test123</strong></code></p><h2 id="b98e" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">检查日志(接收器)服务</h2><p id="ef63" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">下载<strong class="ig hi">日志</strong> app的日志进行确认。导航至应用程序详细信息，并查看<strong class="ig hi">管理</strong>部分的<strong class="ig hi">日志</strong>选项卡，点击</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es oa"><img src="../Images/88c80d672a6ee98ae3995ad92741deb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xuh6S0h6gJI23mcoJ5K0AQ.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Check logs</figcaption></figure><p id="c273" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您应该看到与发送到HTTP端点的消息相同的消息</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es ob"><img src="../Images/50f36fe8a0c9b9327e3faff931cbf1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ee2UoSWzumeCuq4BN4BYUA.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Messages from Kafka consumed and sent to stdout</figcaption></figure><h2 id="9996" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">还有一种方法…</h2><p id="a154" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">您还可以直接使用<strong class="ig hi"> Kafka </strong>(在事件中心云上)本身来验证这一点— <em class="nk">您所需要的只是创建一个自定义的</em> <strong class="ig hi"> <em class="nk">访问规则</em> </strong> <em class="nk">来打开Oracle事件中心云上Kafka服务器虚拟机上的端口</em><strong class="ig hi"><em class="nk">6667</em></strong><em class="nk">—</em><a class="ae jc" href="https://docs.oracle.com/en/cloud/paas/event-hub-cloud/admin-guide/platform-access-rules-page.html" rel="noopener ugc nofollow" target="_blank"><em class="nk">详情请点击</em> </a></p><p id="5f10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，您可以使用控制台消费者直接检查Kafka主题，然后将消息发送到HTTP端点(如上所述)</p><p id="dd6b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du lt lu lv lw b">kafka-console-consumer.bat --bootstrap-server &lt;event_hub_kakfa_IP&gt;:6667 --topic <strong class="ig hi">DemoStream.http</strong></code></p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es oc"><img src="../Images/980725f1fbacd32502f980397b559d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fdbk5erpIK2U1YsytwPp6Q.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Messages from Kafka topic</figcaption></figure><h2 id="219e" class="mc kr hh bd ks md me mf kw mg mh mi la ip mj mk le it ml mm li ix mn mo lm mp bi translated">取消部署</h2><p id="73ff" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">如果您触发流定义的<strong class="ig hi">取消部署</strong>或<strong class="ig hi">销毁</strong>，将会触发从Oracle应用容器云中删除应用</p><figure class="mq mr ms mt fd mu er es paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="er es od"><img src="../Images/d55312f15cde8059bd7ec8fd1cdb4752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCFbMbdxSkUfsR0oBi2ZOA.png"/></div></div><figcaption class="mx my et er es mz na bd b be z dx">Un-deploy/destroy the definition</figcaption></figure></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h1 id="c425" class="kq kr hh bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">快速回顾</h1><p id="fa2a" class="pw-post-body-paragraph ie if hh ig b ih lo ij ik il lp in io ip lq ir is it lr iv iw ix ls iz ja jb ha bi translated">这就是这篇博客的全部内容，它标志着这个由两部分组成的博客系列的结束！</p><ul class=""><li id="bb86" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">我们介绍了基本概念，并在<strong class="ig hi"> Oracle应用程序容器云</strong>上部署了<strong class="ig hi"> Spring Cloud数据流</strong>服务器及其相关组件，包括…</li><li id="d2bd" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">… <strong class="ig hi"> Oracle Event Hub Cloud </strong>作为基于Kafka的消息传递层，<strong class="ig hi"> Oracle MySQL Cloud </strong>作为持久RDBMS存储</li><li id="2cbd" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">然后，我们探索了一些幕后细节，并利用了我们的Spring Cloud数据流设置，其中…</li><li id="b49f" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">…我们<strong class="ig hi">构建了</strong> &amp; <strong class="ig hi">部署了</strong>一个简单的<strong class="ig hi">数据管道</strong>以及它的基本测试/验证</li></ul><h1 id="47dd" class="kq kr hh bd ks kt lx kv kw kx ly kz la lb lz ld le lf ma lh li lj mb ll lm ln bi translated">不要忘记…</h1><ul class=""><li id="42ff" class="jv jw hh ig b ih lo il lp ip oe it of ix og jb ka kb kc kd bi translated">查看Oracle Application Container Cloud教程—每个运行时都有适合的内容！</li></ul><div class="jd je ez fb jf jg"><a href="https://docs.oracle.com/en/cloud/paas/app-container-cloud/create-first-applications.html" rel="noopener  ugc nofollow" target="_blank"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hi fi z dy jl ea eb jm ed ef hg bi translated">Oracle应用容器云服务—创建您的第一批应用</h2><div class="oh l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">Oracle应用容器云服务教程。学习创建你的第一个应用程序。</h3></div><div class="jn l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><ul class=""><li id="fea7" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">关于应用程序容器云的其他博客</li></ul><div class="jd je ez fb jf jg"><a rel="noopener follow" target="_blank" href="/tag/app-container-cloud/latest"><div class="jh ab dw"><div class="ji ab jj cl cj jk"><h2 class="bd hi fi z dy jl ea eb jm ed ef hg bi translated">关于应用容器云的最新故事和新闻—中型</h2><div class="oh l"><h3 class="bd b fi z dy jl ea eb jm ed ef dx translated">阅读关于应用容器云的最新文章。每天，成千上万的声音阅读、书写和分享重要的…</h3></div><div class="jn l"><p class="bd b fp z dy jl ea eb jm ed ef dx translated">medium.com</p></div></div><div class="jo l"><div class="oi l jq jr js jo jt ju jg"/></div></div></a></div><p id="fe33" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">干杯！</p><blockquote class="nh ni nj"><p id="91d2" class="ie if nk ig b ih ii ij ik il im in io nl iq ir is nm iu iv iw nn iy iz ja jb ha bi translated">本文表达的观点是我个人的观点，不一定代表甲骨文的观点。</p></blockquote></div></div>    
</body>
</html>