<html>
<head>
<title>[Part 6] — Laravel Migrations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[Part 6] — Laravel Migrations</h1>
<blockquote>原文：<a href="https://medium.easyread.co/part-6-laravel-migrations-2b6acf7e4b53?source=collection_archive---------4-----------------------#2021-04-02">https://medium.easyread.co/part-6-laravel-migrations-2b6acf7e4b53?source=collection_archive---------4-----------------------#2021-04-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/90831c38038fd7c1213151324ab48cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uqk1Sjk4gGg_18KE"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Photo by <a class="ae ja" href="https://unsplash.com/@nsx_2000?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Krzysztof Hepner</a> on <a class="ae ja" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="5adb" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Halo teman-teman, selamat datang di blog saya. Kamu sedang berada dalam kelas untuk membahas <strong class="kc je"> Laravel Migrations </strong> .</p><h1 id="6d4d" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Definisi Migrations</h1><p id="92d9" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Migration ? Sederhananya itu adalah cara generate yang dimungkinkan untuk membuat table di dalam database kamu tanpa harus membuatnya langsung di database manager.</p><h1 id="2673" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Alasan Pakai Migrations</h1><p id="b421" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Kenapa sih kita harus pakai migration? Konsern utamanya adalah soal kolaborasi atau kerja bareng tim. Sebagai contoh, ada kolom baru dalam suatu tabel ingin ditambahkan, bagaimana kamu melakukannya? Langsung tambahkan kolomnya dari database manager? Ok, sekarang kamu ada 5 orang dalam satu tim dan ternyata beberapa dari teman kamu lupa untuk menambahkannya atau kurang brief dari kamu, akibatnya apa? yap, akibatnya akan error. Response dari laravel akan cut proses dan menampilkan errornya. Nah dengan migration diharapkan kejadian itu tidak terjadi lagi. Intinya mudah untuk kolaborasi.</p><p id="a994" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Migration bisa menambahkan atau menghapus field table ke/dari database kamu tanpa merusak isinya.</p><h1 id="4344" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Praktek</h1><p id="a841" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Setelah tau sekilas, kamu bisa praktekan dengan mengkuti penjelasan dibawah ini.</p><p id="d299" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 1 : Pastikan database kamu berjalan dengan baik atau sudah running</p><p id="dfb9" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 2 : Mari kita design databasenya dengan nama <code class="fe mb mc md me b">blog</code> dan salah satu tablenya namanya <code class="fe mb mc md me b">categories</code> . Notes: Usahakan nama tablenya dibuat plural atau jamak dan kalau bisa pakai bahasa inggris. Walaupun itu cuma suggestion saja. Tidak diikutin juga ga masalah.</p><p id="0bd9" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 3 : Silahkan lihat Entity Relational Database di bawah ini. Dan silahkan buat migration-nya sesuai dengan diagram di bawah ini.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mf"><img src="../Images/eb1a58b7e0404cad5b707161c73a2920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HElclXXIA6xqxHgm0K20LQ.png"/></div></div></figure><p id="8994" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 4 : Sekarang buat nama database-nya dengan nama <code class="fe mb mc md me b">blogs</code></p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mk"><img src="../Images/85577f779da20feae8c4234814e18768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYPnRFcry9xarak5GLUSgQ.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Editor: MySQLWorkbench</figcaption></figure><p id="2d8e" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 5 : ( <strong class="kc je"> Optional Step </strong> )Kalau belum buat projectnya, silahkan buat project-nya dulu dengan nama <code class="fe mb mc md me b">blog</code> . Atau ikuti perintah di bawah ini.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="ab59" class="mp kz jd me b gy mq mr l ms mt">composer create-project laravel/laravel blog</span></pre><p id="1df0" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Kalau sudah silakan di-enter dan tunggu sampai process pembuatan project selesai.</p><p id="4867" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 6 : Set up <code class="fe mb mc md me b">.env</code> di dalam project Laravelnya.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mu"><img src="../Images/20e153fb41c265faea691bc080b54105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mc1g8w-CiHpuGs4ZBW6SyQ.png"/></div></div></figure><p id="eeb0" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Silahkan sertakan password jika memang ada.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mv"><img src="../Images/e61a326ad9082e8d655dda90a4dea8c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBkAHmpNyHzcxVGOGxfPDw.png"/></div></div></figure><p id="df71" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Secara default Laravel telah menyediakan susunannya seperti gambar di atas. Kamu biarkan saja, tidak perlu di hapus.</p><p id="7b29" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 7 : Untuk testing set up nya berjalan dengan baik atau tidak silahkan ketikkan perintah di bawah ini.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="23c5" class="mp kz jd me b gy mq mr l ms mt">php artisan migrate:install</span></pre><p id="121a" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Jika gagal membuat migrationnya pertama kali, perhatikan kalau koneksi MySQL kamu terkoneksi dengan baik. Atau mungkin jika muncul seperti ini :</p><ul class=""><li id="3060" class="mw mx jd kc b kd ke kh ki kl my kp mz kt na kx nb nc nd ne bi translated"><strong class="kc je"> SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client (SQL: create table `migrations` (`id` int unsigned not null auto_increment primary key, `migration` varchar(255) not null, `batch` int not null) default character set utf8mb4 collate ‘utf8mb4_unicode_ci’) </strong></li><li id="56d7" class="mw mx jd kc b kd nf kh ng kl nh kp ni kt nj kx nb nc nd ne bi translated"><strong class="kc je"> SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client (SQL: select * from information_schema.tables where table_schema = blogs and table_name = migrations and table_type = ‘BASE TABLE’) </strong></li></ul><p id="d979" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Jika muncul error seperti di atas saat menjalankan command artisan di atas, coba ikuti syntax SQL di bawah ini.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="3dc1" class="mp kz jd me b gy mq mr l ms mt">CREATE USER 'user_kamu'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password_mysql_kamu';</span><span id="43ee" class="mp kz jd me b gy nk mr l ms mt">GRANT ALL PRIVILEGES ON database_kamu.* TO 'user_kamu'@'localhost';</span><span id="599f" class="mp kz jd me b gy nk mr l ms mt">ALTER USER 'user_kamu'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password_mysql_kamu';</span></pre><p id="df09" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Keterangan :</p><ul class=""><li id="7281" class="mw mx jd kc b kd ke kh ki kl my kp mz kt na kx nb nc nd ne bi translated">Ganti <code class="fe mb mc md me b">user_kamu</code> dengan username MySQL kamu.</li><li id="bd67" class="mw mx jd kc b kd nf kh ng kl nh kp ni kt nj kx nb nc nd ne bi translated">Ganti <code class="fe mb mc md me b">database_kamu</code> dengan nama database kamu.</li><li id="4cb1" class="mw mx jd kc b kd nf kh ng kl nh kp ni kt nj kx nb nc nd ne bi translated">Ganti <code class="fe mb mc md me b">password_mysql_kamu</code> dengan password MySQL kamu.</li></ul><p id="c931" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Nah, kalau sudah coba run lagi command di atas.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="d798" class="mp kz jd me b gy mq mr l ms mt">php artisan migrate:install</span></pre><p id="a5f0" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">atau</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="1a80" class="mp kz jd me b gy mq mr l ms mt">php artisan migrate</span></pre><p id="d953" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Tampilannya akan menjadi seperti ini di database manager kamu jika berhasil.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mk"><img src="../Images/260fff325578ae89ddad735185005d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YW4uC-LZblGJrTevFFRXnQ.png"/></div></div></figure><p id="36ef" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 8 : Jika pada tahap tersebut sudah selesai, maka mari kita lakukan sesuai dengan yang ada di ERD di atas ya. Namun, mungkin saya tidak akan melakukan semuanya, saya hanya melakukan 1 atau 2 table pada ERD tersebut.</p><p id="44e7" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Saya akan melakukan ini pada table <code class="fe mb mc md me b">categories</code> dengan <code class="fe mb mc md me b">posts</code> . Dengan diawali membuat migrasi untuk table <code class="fe mb mc md me b">categories</code> . Ketik perintah di bawah ini.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="adcc" class="mp kz jd me b gy mq mr l ms mt">php artisan make:migration create_categories_table</span></pre><p id="707e" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Kalau berhasil akan mengembalikan message berikut ini.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8c86cd8d17cc34bcb6303405cf181c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*kR8v26Q9uv5qzOJVFJ50GQ.png"/></div></figure><p id="7754" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Dan muncul file baru seperti ini.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c263602dce69f46a61c60a53c0b1c2a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*qfU1xEarZnWY9ki2KVD__A.png"/></div></figure><p id="27b3" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Dan di dalamnya akan berisi seperti ini by default.</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="16f0" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 9 : Ubah kode di dalam file tersebut menjadi seperti ini.</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="4576" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 10 : Dan jalankan perintah seperti perintah / command yang pertama.</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="7133" class="mp kz jd me b gy mq mr l ms mt">php artisan migrate</span></pre><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi np"><img src="../Images/8dee5c1ef54316bdbdaaba0371acdf7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JR0P9OU4fUEbIJLaL5vB6g.png"/></div></div></figure><p id="8113" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Nah, akan muncul di database manager kamu table baru bernama <code class="fe mb mc md me b">categories</code> .</p><p id="f749" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 11 : Lakukan seperti <code class="fe mb mc md me b">step 8</code> dengan mengganti bagian akhirnya menjadi</p><pre class="mg mh mi mj gt ml me mm mn aw mo bi"><span id="0023" class="mp kz jd me b gy mq mr l ms mt">php artisan make:migration create_posts_table</span></pre><p id="38ed" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">File baru akan bertambah di dalam direktor <code class="fe mb mc md me b">database/migrations/</code> . Dan buka file yang tadi sudah kita buat. Dan ubah sesuai dengan field pada diagram di atas.</p><figure class="mg mh mi mj gt ip"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="7edf" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">— Step 12 : Run command seperti <code class="fe mb mc md me b">step 10</code> . Dan hasil di database manager seperti ini.</p><figure class="mg mh mi mj gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nq"><img src="../Images/5c0fa381ee6572f8b46a84c25430be9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A0wGjnAMTtQDvEpHLHCM0Q.png"/></div></div></figure><h1 id="daba" class="ky kz jd bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Konklusi</h1><p id="29de" class="pw-post-body-paragraph ka kb jd kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">Barusan itu adalah merupakan cara kita untuk membuat table ke database menggunakan migrasi. Sekian dari saya, selamat mencoba dan semoga berhasil. Salam.</p><p id="416d" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">[Call Friends]</p><p id="b8ef" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Halo teman teman, untuk mendukung agar saya tetap bisa membuat tulisan-tulisan menarik lainnya. Kamu bisa support saya dengan membeli produk-produk asli produksi sendiri, homemade, dan yang pastinya brand lokal hanya di <a class="ae ja" href="https://www.instagram.com/beneteen/" rel="noopener ugc nofollow" target="_blank"> @beneteen </a> atau ke <a class="ae ja" href="https://beneteen.com/" rel="noopener ugc nofollow" target="_blank"> beneteen.com </a></p></div></div>    
</body>
</html>