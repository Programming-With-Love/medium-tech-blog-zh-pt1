<html>
<head>
<title>Today I Learned — Checkout to Pull Request in GitHub Public Repository</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">今天我学习了——在GitHub公共存储库中签出请求</h1>
<blockquote>原文：<a href="https://medium.easyread.co/today-i-learned-checkout-to-pull-request-in-github-public-repository-8b3562f168b2?source=collection_archive---------5-----------------------#2018-11-27">https://medium.easyread.co/today-i-learned-checkout-to-pull-request-in-github-public-repository-8b3562f168b2?source=collection_archive---------5-----------------------#2018-11-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8300" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何在GitHub的公共存储库中检出传入的pull请求。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/a8668f25698b98ce13e36ce2ebd4bbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8jD_0b4qROq42M98sbUcKQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae ks" href="https://www.freepik.com/free-vector/illustration-of-jigsaw-icon_2606569.htm" rel="noopener ugc nofollow" target="_blank">Designed by Rawpixel.com</a></figcaption></figure><p id="9dcd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以今天我在Github和开源世界学到了一件真正重要的事情:d .从几个月前开始，我在这里做了一个简单的库:<a class="ae ks" href="https://github.com/bxcodec/faker" rel="noopener ugc nofollow" target="_blank">https://github.com/bxcodec/faker</a>。这个库帮助Go工程师基于他们的结构创建一个虚拟数据。</p><p id="6571" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">比如说:</p><p id="9b1f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在Go中，假设我有如下结构:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="c2d8" class="lu lv in lq b gy lw lx l ly lz">type Sample struct {<br/> Name string <br/> Age int<br/>}</span></pre><p id="4658" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">用我的faker库，我可以根据它的结构生成一个虚拟数据。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="a681" class="lu lv in lq b gy lw lx l ly lz">sample:= Sample{}<br/>faker.FakeData(&amp;sample)<br/>fmt.Printf("%+v", sample)<br/>//will print: {Name: "Some-random-string", Age: 17 /*random num*/}</span></pre><p id="3b8a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这个库对于测试(单元测试或者任何需要虚拟数据的东西)非常有用。</p><p id="943d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">几天前，有人创建了一个对我的库的拉请求。通常，如果公关看起来不错，我总是试图把它拉到我的本地，并直接测试它。为此，通常，我只是克隆他的分叉库，然后在我的本地测试它</p><p id="753b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是这一次，有点不一样。他在分叉回购中创建了一个分支，然后创建了一个指向我的存储库的直接PR。所以，如果我克隆他的分叉回购，这个分支就不存在了。对于我的存储库也是一样，如果我获取所有的分支，他的PR分支就不存在。</p><p id="528c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那么如何结账去公关分公司呢？</p></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><h2 id="5e4d" class="lu lv in bd mh mi mj dn mk ml mm dp mn lc mo mp mq lg mr ms mt lk mu mv mw mx bi translated">在Github中检出拉请求</h2><p id="26b2" class="pw-post-body-paragraph kt ku in kv b kw my jo ky kz mz jr lb lc na le lf lg nb li lj lk nc lm ln lo ig bi translated">为此，我们只需要更改我们的<code class="fe nd ne nf lq b">.git</code>文件夹中的<code class="fe nd ne nf lq b">config</code>文件。对于我的案例，在我的项目库中会有一个名为<code class="fe nd ne nf lq b">.git</code>的隐藏文件夹</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="74ac" class="lu lv in lq b gy lw lx l ly lz">$ pwd<br/>/Users/iman/go/src/github.com/bxcodec/faker<br/>$ ls -lah<br/>drwxr-xr-x  33 iman  staff   1.0K Nov 22 11:36 .<br/>drwxr-xr-x   7 iman  staff   224B Nov 12 11:33 .. <br/>drwxr-xr-x  15 iman  staff   480B Nov 22 11:36 .git <br/>...</span></pre><p id="9b0b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在。<code class="fe nd ne nf lq b">git</code>文件夹中会有一个名为<code class="fe nd ne nf lq b">config</code>的文件。它看起来更像这样。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="24c9" class="lu lv in lq b gy lw lx l ly lz">$ cat .git/config<br/>[core]<br/>        repositoryformatversion = 0<br/>        filemode = true<br/>        bare = false<br/>        logallrefupdates = true<br/>        ignorecase = true<br/>        precomposeunicode = true<br/>[remote "origin"]<br/>        url = <a class="ae ks" href="https://github.com/bxcodec/faker" rel="noopener ugc nofollow" target="_blank">https://github.com/bxcodec/faker</a><br/>        fetch = +refs/heads/*:refs/remotes/origin/* <br/>[branch "master"]<br/>        remote = origin<br/>        merge = refs/heads/master</span></pre><p id="3768" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，为了使我们能够结帐到任何传入的PR，我们需要将<br/> <code class="fe nd ne nf lq b">fetch = +refs/pull/*/head:refs/remotes/origin/pr/*</code>添加到remote origin部分。</p><p id="fcf7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">之前:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="4da1" class="lu lv in lq b gy lw lx l ly lz">[remote "origin"]<br/>        url = <a class="ae ks" href="https://github.com/bxcodec/faker" rel="noopener ugc nofollow" target="_blank">https://github.com/bxcodec/faker</a><br/>        fetch = +refs/heads/*:refs/remotes/origin/*</span></pre><p id="fb22" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">之后:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="2a4a" class="lu lv in lq b gy lw lx l ly lz">[remote "origin"]<br/>        url = <a class="ae ks" href="https://github.com/bxcodec/faker" rel="noopener ugc nofollow" target="_blank">https://github.com/bxcodec/faker</a><br/>        fetch = +refs/heads/*:refs/remotes/origin/*<br/>        <strong class="lq io">fetch = +refs/pull/*/head:refs/remotes/origin/pr/*</strong></span></pre><p id="fdea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这样做之后，我们可以将所有传入的拉请求提取到我们的存储库中。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="d44d" class="lu lv in lq b gy lw lx l ly lz">$ git fetch origin<br/>From github.com:bxcodec/faker<br/> * [new ref]         refs/pull/10/head -&gt; origin/pr/10<br/> * [new ref]         refs/pull/11/head -&gt; origin/pr/11<br/> * [new ref]         refs/pull/12/head -&gt; origin/pr/12<br/> * [new ref]         refs/pull/13/head -&gt; origin/pr/13<br/> ...</span></pre><p id="1354" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一会儿，我们去公关部结账吧</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="edc4" class="lu lv in lq b gy lw lx l ly lz">$ git checkout pr/10 </span></pre></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><p id="db87" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">无论如何，这在Gitlab中也是可行的，也许对其他Git主机也是可行的。</p><p id="3cb3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">即使有点不同，但步骤是相似的。</p><h2 id="b986" class="lu lv in bd mh mi mj dn mk ml mm dp mn lc mo mp mq lg mr ms mt lk mu mv mw mx bi translated">在Gitlab中检出合并请求(Pull请求)</h2><p id="c4bb" class="pw-post-body-paragraph kt ku in kv b kw my jo ky kz mz jr lb lc na le lf lg nb li lj lk nc lm ln lo ig bi translated">步骤和Github中的一样，区别只是术语和关键字。在Gitlab中，他们称之为合并请求，而不是拉请求。因此，由于这个不同的术语，一些网址也将不同。</p><p id="4ded" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，对于Gitlab案例，我们需要在同一个部分添加这一行。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="3608" class="lu lv in lq b gy lw lx l ly lz">fetch = +refs/<strong class="lq io">merge-requests</strong>/*/head:refs/remotes/origin/<strong class="lq io">merge-requests</strong>/*</span></pre><p id="71d4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那就去拿。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="ff64" class="lu lv in lq b gy lw lx l ly lz">$ git fetch origin</span></pre><p id="5de6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">稍后签出到合并请求编号。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="7fb6" class="lu lv in lq b gy lw lx l ly lz">$ git checkout merge-requests/10</span></pre></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><p id="ce1e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">参考资料:</p><ul class=""><li id="fc53" class="ng nh in kv b kw kx kz la lc ni lg nj lk nk lo nl nm nn no bi translated"><a class="ae ks" href="https://gist.github.com/piscisaureus/3342247" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/piscisaureus/3342247</a></li><li id="0b30" class="ng nh in kv b kw np kz nq lc nr lg ns lk nt lo nl nm nn no bi translated"><a class="ae ks" href="https://docs.gitlab.com/ee/user/project/merge_requests/#checkout-locally-by-modifying-gitconfig-for-a-given-repository" rel="noopener ugc nofollow" target="_blank">https://docs . git lab . com/ee/user/project/merge _ requests/# check out-locally-by-modificing-git config-for-a-given-repository</a></li></ul></div><div class="ab cl ma mb hr mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ig ih ii ij ik"><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div></div>    
</body>
</html>