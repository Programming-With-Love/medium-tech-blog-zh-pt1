<html>
<head>
<title>Building a Simple Website using Go-Template in Easy Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Go-Template以简单的方式建立一个简单的网站</h1>
<blockquote>原文：<a href="https://medium.easyread.co/building-simple-website-using-go-template-in-easy-way-36e271ec9c2b?source=collection_archive---------1-----------------------#2020-06-17">https://medium.easyread.co/building-simple-website-using-go-template-in-easy-way-36e271ec9c2b?source=collection_archive---------1-----------------------#2020-06-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><blockquote class="jk jl jm"><p id="6fdc" class="jn jo jp jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl ig bi translated">我被隔离已经有一段时间了，一个人。有一天，我感到非常无聊，我没有动力做任何事情。玩我的FIFA也没什么帮助。我对自己说，“让我们做一些简单但有用的事情”。然后我做了一个显示<a class="ae km" href="http://corana-indonesia.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">冠状病毒信息</a>的网站。</p></blockquote><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/2400040b5b8c5e5fa44dbd200bc3de6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yRBTiVwIP0CI3sNi"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Photo by <a class="ae km" href="https://unsplash.com/@glenncarstenspeters?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Glenn Carstens-Peters</a> on <a class="ae km" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="79aa" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">我用Go-Template开发了这个网站。基本上，因为我每天都在使用这种编程语言。我从印尼<a class="ae km" href="https://kawalcorona.com/api/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq io">伦理黑客</strong> </a>那里得到<em class="jp">冠状病毒信息</em>数据。</p><p id="41b4" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">好，我们开始吧。</p></div><div class="ab cl lg lh hr li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ig ih ii ij ik"><h1 id="20e6" class="ln lo in bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">创建获取API的函数</h1><p id="27a3" class="pw-post-body-paragraph jn jo in jq b jr ml jt ju jv mm jx jy ld mn kb kc le mo kf kg lf mp kj kk kl ig bi translated">第一步，我们需要创建一个从API获取数据的函数。这是一个简单的任务，尤其是当你使用Go作为你的主要编程语言的时候。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="78cf" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">在获取数据之后，我们需要做的是将它们映射到一个结构，这样我们就可以在以后使用这些数据。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Map API response to Struct</figcaption></figure><p id="54ce" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">这一部分还有几个步骤，比如，我不想在我收到的每个请求中都使用API。取而代之的是，我用cron打API每10分钟更新一次数据。</p><h1 id="1300" class="ln lo in bd lp lq ms ls lt lu mt lw lx ly mu ma mb mc mv me mf mg mw mi mj mk bi translated">创建模板</h1><p id="1e5f" class="pw-post-body-paragraph jn jo in jq b jr ml jt ju jv mm jx jy ld mn kb kc le mo kf kg lf mp kj kk kl ig bi translated">在这一步，我们至少需要知道如何使用HTML、CSS和Javascript(如果你需要的话)。下面这个模板基本上就是一个HTML脚本，结合CSS，看你的网站设计了。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Go Template — Example</figcaption></figure><p id="368e" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">通过使用模板，显然我们想要显示内容，这样用户就可以收到我们想要传递的东西。因此，我们需要将模板与从中获取数据的数据结构绑定在一起。为了从一个结构中获取数据，我们可以使用<code class="fe mx my mz na b"><strong class="jq io">{{ .FieldName }}</strong></code>动作，在解析时用给定结构的值<code class="fe mx my mz na b"><strong class="jq io">FieldName</strong></code>替换它。你可以在<a class="ae km" href="https://blog.gopheracademy.com/advent-2017/using-go-templates/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq io"> Gopher Academy博客</strong> </a>了解更多关于模板的内容。</p><h1 id="3c46" class="ln lo in bd lp lq ms ls lt lu mt lw lx ly mu ma mb mc mv me mf mg mw mi mj mk bi translated">连接结构和模板</h1><p id="e15e" class="pw-post-body-paragraph jn jo in jq b jr ml jt ju jv mm jx jy ld mn kb kc le mo kf kg lf mp kj kk kl ig bi translated">有3个函数通常用于解析模板，</p><ul class=""><li id="0969" class="nb nc in jq b jr js jv jw ld nd le ne lf nf kl ng nh ni nj bi translated"><em class="jp">新建</em> —分配一个新模板。</li><li id="95b8" class="nb nc in jq b jr nk jv nl ld nm le nn lf no kl ng nh ni nj bi translated"><em class="jp">解析</em> —你使用的模板，这个函数。</li><li id="980d" class="nb nc in jq b jr nk jv nl ld nm le nn lf no kl ng nh ni nj bi translated"><em class="jp">Parse file</em>——与<em class="jp"> Parse </em>基本相同，但写入不同的文件。</li><li id="4997" class="nb nc in jq b jr nk jv nl ld nm le nn lf no kl ng nh ni nj bi translated"><em class="jp">必须— </em>在解析过程中验证模板是否有效。</li><li id="35ef" class="nb nc in jq b jr nk jv nl ld nm le nn lf no kl ng nh ni nj bi translated"><em class="jp">执行— </em>执行模板，将结构注入模板，并将结果写入给定的编写器</li></ul><p id="adee" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">在我们的例子中，我们已经有了使用<code class="fe mx my mz na b"><strong class="jq io">AttributeNationData</strong></code> struct存储的冠状病毒信息数据，并且我们已经编写了模板。那么我们需要做的就是把它们连接起来。</p><p id="0afd" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">这是它现在的样子</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="60cb" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">在上面的脚本中，我们将<code class="fe mx my mz na b"><strong class="jq io">AllData</strong></code> struct注入模板。<code class="fe mx my mz na b"><strong class="jq io">AllData</strong></code> struct内部有一片<code class="fe mx my mz na b"><strong class="jq io">AttributeNationData</strong></code> struct。请返回到<em class="jp">创建模板</em>部分，再次看看模板，以及它是如何处理数据结构的。</p><p id="5be5" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">更多详情可以访问我的GitHub—<a class="ae km" href="https://github.com/robertotambunan/corona-indonesia" rel="noopener ugc nofollow" target="_blank">https://github.com/robertotambunan/corona-indonesia</a>。不要期望代码是整洁的，因为这是一个突然的想法😆。如果您觉得有什么需要添加或修改以使其变得更好，请随时投稿。你也可以在这里看到直播网站—<a class="ae km" href="http://corana-indonesia.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">http://corana-indonesia.herokuapp.com/</a></p></div><div class="ab cl lg lh hr li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ig ih ii ij ik"><p id="6aaa" class="pw-post-body-paragraph jn jo in jq b jr js jt ju jv jw jx jy ld ka kb kc le ke kf kg lf ki kj kk kl ig bi translated">关于Go模板的进一步阅读，推荐大家使用Go模板 访问<a class="ae km" href="https://blog.gopheracademy.com/advent-2017/using-go-templates/" rel="noopener ugc nofollow" target="_blank"> <strong class="jq io">。</strong></a></p></div><div class="ab cl lg lh hr li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ig ih ii ij ik"><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="np mr l"/></div></figure></div></div>    
</body>
</html>