<html>
<head>
<title>Vertical Slicing — Some Practical Ideas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">垂直切片—一些实用的想法</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/vertical-slicing-some-practical-ideas-59aad51ad3d2?source=collection_archive---------4-----------------------#2016-04-12">https://medium.com/capital-one-tech/vertical-slicing-some-practical-ideas-59aad51ad3d2?source=collection_archive---------4-----------------------#2016-04-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/5bf82715f044345af022d897018a6e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FrPntkZhetBvSxCn5n_6wA.jpeg"/></div></div></figure><div class=""/><p id="d82c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在敏捷开发中，在交付业务价值的同时实现开发目标，如持续集成、部署和测试，对故事进行规模调整和切片是很重要的。如果一个故事太大，团队就要冒在当前冲刺阶段完成不了的风险。如果一个故事太小，就不能展示实际的结果。</p><p id="e0cf" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Capital One，我们使用敏捷方法开发软件应用程序和运营流程。在过去的两年里，我领导了一个由六名工程师组成的团队，使用敏捷来交付几个面向客户的特性。在本文中，我将给出我个人对垂直切片的观点，并回顾我的团队一直遵循的一些原则和想法。</p><p id="cb71" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将使用开发一个web应用程序的例子，并浏览一些在软件开发中支持垂直切片的想法。</p><p id="c8fd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">谁想吃糖霜？</strong></p><p id="4598" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你能在一片蛋糕中品尝到每一层，那么多层蛋糕是最好的享受。谁想只吃糖霜？类似地，用户故事包含多个层次，每个层次都有助于满足业务需求。例如，假设您有一个完全开发的web应用程序，它提供了很好的客户体验并为数百万用户提供服务。如果这个应用程序没有审计日志怎么办？您能够确定您的应用程序在如此广泛的用户群中的有效性吗？</p><p id="2a05" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">另一方面，如果您的应用程序是一个试点，服务于一小部分客户，但具有所有必要的层(在我们的示例中是审计日志)来提供一个可靠的反馈循环，以便在大爆炸式推出之前微调应用程序或修复细微差别，该怎么办？</p><p id="a510" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果这听起来对你来说不错，你如何正确地将你的故事切片，这样你得到的就不仅仅是满嘴的糖衣了？</p><h1 id="8f1a" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">项目背景</strong></h1><p id="26cb" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">最近，我的团队提供了一个自助服务功能，允许客户重置他们的在线个人资料密码。这是一个简单的应用程序，它验证客户的数据，询问用户几个安全问题，重置他们的密码，并向他们发送电子邮件确认。我们将回顾垂直切片的原则是如何应用到这个开发环境中的。</p><h2 id="9628" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated"><em class="lf">竖起书页</em></h2><p id="ae95" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">如果您要为应用程序建立新页面，请在支持验证和业务逻辑之前使它们可用。这有助于产品所有者看到即将到来的事情，以及它如何与整体愿景保持一致。在上面的例子中，我们建立页面收集客户数据作为第一步，没有任何详细的验证。这在许多方面帮助了我们，其中最显著的是:</p><ul class=""><li id="eb76" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated"><em class="jn">与产品负责人的愿景保持一致— </em>由于产品负责人可以在周期的早期看到页面布局，团队可以更容易地整合产品管理建议和调整。</li><li id="85c8" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><em class="jn">开始测试自动化— </em>随着应用程序页面的启动和运行，我们的测试自动化工程师能够针对页面字段和对象编写脚本。这给了他们在开发过程中一个很好的开端。</li></ul><p id="bc87" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">由于这个阶段的页面很可能缺乏验证，“站起来”可以是你的过程的第一个故事。你将在这一页的基础上建立后续的小故事。</p><h2 id="aa36" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated"><em class="lf">客户端和服务器端验证</em></h2><p id="6a38" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">对于表单来说，一些验证在客户端处理(例如必填字段)而另一些验证在服务器端处理是正常的。下面是我们应用于处理离散故事中的验证的策略——将它们分解，用一个故事完成客户端验证，用另一个故事完成服务器端验证。</p><p id="9876" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的用例中，服务器端验证需要一些后端服务，这些服务在框架应用程序第一次“建立”时是不可用的因此，在服务器端验证之前完成客户端验证有助于团队可视化错误消息在网页上的位置。这给了产品所有者早期的反馈，这样就可以决定相对于其他页面组件的位置，以及从最终用户的角度洞察它们的有效性。</p><p id="a515" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于您的项目，您可以选择在客户端和服务器端验证一些字段。考虑到应用程序的复杂性，您也可以选择在不同的sprint中处理这些故事，或者在同一个sprint中处理。不管顺序如何，当这些故事完成后，您的应用程序就可以进行验证了。</p><h2 id="bfd6" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated"><em class="lf">后退按钮/页面刷新等非典型用户交互</em></h2><p id="ceba" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">这些不是正常的用户导航，而是更多的负面测试情况。如果通过页面刷新再次提交表单，后端如何处理？如果用户按下后退按钮，上一页的内容会正确显示吗？用户还会处于安全会话中吗？应用程序应该注销用户吗？</p><p id="2d88" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如您所见，这些是非典型的用户导航，可能会破坏应用程序的行为。用一个单独的故事来处理这些独特的情况有助于强化应用程序。在上面的例子中，在导航的深层页面上，如果后退按钮被按下，我们的应用程序将用户注销；而在早期的导航中，用户可以返回并进行编辑，而无需重新登录。通过这个聚焦镜头，我们捕捉到了几个行为异常，如果我们以不同的方式来分析我们的故事，这些异常是不会被捕捉到的。</p><p id="0a8d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于您的应用程序，为这样的用例定义应用程序行为并单独测试它们可以极大地增强应用程序的弹性。</p><h2 id="9174" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated"><em class="lf">跨浏览器和设备兼容性</em></h2><p id="4b3a" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">您现在有了一个功能应用程序，它在主流的流行浏览器上运行良好，但在一些旧版本或具有独特外形的设备上表现不佳。在Capital One，我们的目标是获得尽可能广泛的客户群，并开发适用于各种设备和浏览器的应用程序(当然是在合理的范围内，IE8任何一个？)</p><p id="6552" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，这并不需要在开发的初始阶段给你带来压力。通过一些小的改变，我们能够解决某些设备和浏览器的古怪问题(是的，IE8就是其中之一)，并接触到目标全球受众。</p><p id="b664" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">重要的因素是通过一个离散的故事集中注意力，并在开发过程的后期解决“怪癖”的能力。对于您的项目，您甚至可以选择不为您的初始发布提供一些浏览器/设备的组合。决定权在你，但关键是要创造一个离散地捕捉作品的故事。</p><h2 id="e818" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated">无障碍标准</h2><p id="1be6" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在我们的例子中，我们在遗留应用程序的基础上构建功能，因此测试可访问性是项目交付的一个重要里程碑。这有助于我们提前了解可访问性，以评估影响和未来的工作。我们遵循的策略是在项目周期的早期并行运行功能和可访问性测试，以给我们时间对发现的任何缺陷做出反应。</p><h2 id="114a" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated">记录要求</h2><p id="0729" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">通常，大多数应用程序都有日志记录要求。不仅是开发人员日志，还有帮助生成运营指标的审计日志。在我们的项目中，我们设置了将审计日志写入操作表的应用程序，分析团队将通过夜间批处理脚本在操作表中提取记录。虽然分析团队在周期的后期参与了项目，但我们已经准备好将应用程序的基本版本部署到QA环境中，这比分析团队开发适当的批处理脚本要早得多。</p><p id="baa0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们面临两种选择——要么延迟初始部署直到批处理脚本准备好，要么关闭审计日志记录继续进行。因为尽早部署应用程序对测试有很大的好处，所以我们选择了后者。因此，我们的测试工程师能够在开发团队与分析团队合作开启该功能的同时测试应用程序。</p><p id="15b1" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">那么，关键的要点是什么？不要等待此功能来延迟您的初始部署计划。这里的故事将捕捉作品。</p><h2 id="1354" class="kr jp hs bd jq ks kt ku ju kv kw kx jy ja ky kz kc je la lb kg ji lc ld kk le bi translated">中间件/集成服务</h2><p id="61e0" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在某些情况下，您的应用程序可能需要来自多个后端的数据。如果是这样，对我们最有效的方法是“分阶段”进行后端呼叫。在我们的项目示例中，我们必须对数据库进行几次调用，并对外部API进行几次调用。一个有效的策略是首先为“快乐之路”场景编码。我的团队首先编写代码来处理来自API的成功响应，然后编写额外的代码来处理错误情况。</p><p id="a0b0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从web应用程序的角度来看，如果您正在使用的API是与您自己的应用程序同时开发的(无论是由您的团队还是由另一个团队),这将会非常有趣。这里要强调的一点是尽早提供服务的基本版本，这样您就可以尽早集成它。</p><h1 id="69e2" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">结论</strong></h1><p id="4eb1" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">下图说明了从周期早期到生产就绪的工作流程。每个框都列出了在团队可以宣布“完成”之前所满足的标准它还代表了“准备好”进入下一阶段的代码。</p><p id="e89a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我回顾了一些关于如何着手拆分故事的想法，这些想法不仅给出了递增的业务价值，而且实现了开发目标，例如持续集成、部署和测试。我们讨论了合适的规模故事，以便团队可以在展示实际成果的同时在sprint上完成这些故事。虽然远未达到对该主题的全面深入，但希望这将有助于您在自己的项目流程中实现垂直切片。</p></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><p id="0cb6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">欲了解更多关于Capital One的API、开源、社区活动和开发者文化，请访问我们的一站式开发者门户DevExchange。</em><a class="ae mb" href="https://developer.capitalone.com/" rel="noopener ugc nofollow" target="_blank"><em class="jn"/></a></p></div></div>    
</body>
</html>