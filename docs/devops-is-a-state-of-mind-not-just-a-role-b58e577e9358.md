# DevOps 是一种心态，而不仅仅是一个角色

> 原文：<https://medium.com/capital-one-tech/devops-is-a-state-of-mind-not-just-a-role-b58e577e9358?source=collection_archive---------5----------------------->

## 一个分成三部分的故事

![](img/51976eda37910ea7b6add473e762fc4d.png)

## **BVT —在虚拟化技术出现之前**

*古时候，有发展，就有经营。一切都很顺利……*

开发人员负责构建软件，操作工程师负责确保开发人员不会毁掉整个世界。而且这个世界也没有被烧毁(通常情况下)。

但这并不意味着事情一定容易。

东西很贵。托管成本、硬件成本、维护、升级等。当一些东西被放在基础设施上时，它不是无关紧要的。硬件和带宽方面的资源有限。您的服务器有三年的合同。需要更多内存？没问题！这将是每年 15，000 美元。规划一个环境通常意味着将硬件规模定为预期峰值负载的 3 倍，让您的硬件大部分都没有得到充分利用。

部署既困难又耗时。如果部署是操作必须运行的一组脚本，那么您是幸运的。很多时候，当数据中心出现故障时，您得到的答案是“*它在我的机器上工作了”*。这让运营团队不得不弄清楚到底发生了什么。有些部署需要几天时间，这取决于需要什么硬件以及遇到了多少问题。

![](img/7fc698b61c1e8d7efb09243d2a5c4496.png)

在其他情况下，开发人员是进行部署的人，没有分离的环境，事情是有风险的。直接在生产中工作并不是不可能的，而且关闭公司主要系统的可能性是真实存在的。

Word 文档并非闻所未闻，它一丝不苟地列出了每个部署步骤；或者不是。运营和开发经常彼此分离到如此程度，敌意是真实的。不信任非常普遍。

在事物更加结构化的地方，部署的准备时间通常非常长，需要多次签署和接触点才能获得批准发布。有大量的开销，在许多情况下包括发布工程师、硬件人员和网络工程师。

然后虚拟化出现了。随着运营团队开始进行虚拟化，他们可以通过脚本和其他方式自动化越来越多的事情。虚拟化允许运营团队在一台物理服务器上托管多个系统，并在不接触硬件的情况下管理这些系统的生命周期

# **VTE —虚拟化技术活动**

虚拟化带来了许多东西；成本节约、操作简单性、简化的弹性和恢复，以及运营团队使用代码来描述和管理其系统的能力提高到了前所未有的程度。

随着虚拟化的发展，硬件变成了一种商品，不再是过去的巨额成本。您可能拥有一大批虚拟服务器，它们对底层硬件的利用率比以前高得多。开发人员的环境可以根据快照上下旋转。这使得团队开始更加信任彼此，即使只有一点点。

开发人员只能影响虚拟机，而不是破坏物理机环境。爆炸半径的减小让行动小组放松了一点。恢复系统就像从以前的状态恢复虚拟机的快照一样简单。

开发和运营之间的分歧开始有所缓解。基础设施方面的团队开始看起来有点像开发人员。然而事情并不完美，在大多数情况下仍然会有分离。

## **PVE —虚拟化后事件**

随着组织对虚拟化越来越熟悉，并且理解到您不需要也不应该关心单个底层硬件成为主流，工具链开始出现以帮助开发人员自己做所有事情。

![](img/28d4d916bed7d4369df734bc5976d863.png)

Shell 脚本、 [Ansible](https://www.ansible.com/) 、 [Puppet](https://puppet.com/) 、 [Chef](https://www.chef.io/chef/) 、 [Salt](https://saltstack.com/) 和 [Cloud](https://aws.amazon.com/) 、 [providers](https://azure.microsoft.com/en-us/) 使开发人员能够做以前运营工程师可以做的一切事情，设置子网、负载平衡器、虚拟机、数据库、专用网络等等，而无需购买和供应硬件。

但是权力越大，责任越大。并不是每个组织或开发人员过去或现在都准备好承担责任或拥有最佳实践的知识。一些组织仍然有独立的组，其中运营现在有一个名为 DevOps 的子部门。其他人干脆将运营更名为 DevOps，很多情况下是出于招聘原因。

最终目标是尽可能有效地管理软件产品的环境，以便团队能够以一种可靠的、有弹性的和安全的方式交付价值。

## 未来是光明的

随着团队被授权完成更多的事情，他们也接受了更多的责任，包括他们的基础设施。随着当今工具的成熟，端到端环境的配置、调配和运行只需几个小时，甚至几分钟。

团队需要扩展他们的知识和理解，超越他们个人角色的传统焦点。也就是说，开发人员需要了解何时使用负载均衡器，为什么要阻塞除 80 和 443 之外的所有传入端口，什么是 SYN 和 ACK，什么是子网和路由表，或者什么是合理的备份方案。

幸运的是，有大量关于这方面的信息。但在某些情况下，获得适当的经验可能会很耗时，而且来之不易。拥有基础设施、网络和安全以及系统架构方面的代表性专家，作为开发团队的一部分工作是一个很好的开始，但最终目标应该是让团队中的任何人处理操作项目。

随着个人开始学习并在所有这些方面变得有经验，他们开发解决方案的方式将会改变。基础设施现在将成为他们思考过程的一部分；“我将如何处理日志聚合？”“我的服务发现如何处理新服务？”等。

默认状态应该是每个人都熟悉和熟悉这些概念，并且对处理配置管理和自动化有必要的理解。每个人都应该想确保他们的产品稳定运行，而不是把一个软件扔给别人去担心。

DevOps 应该是你的团队的一种精神状态，而不是某个人来扮演的角色。

*声明:这些观点仅代表作者个人观点。除非本帖中另有说明，否则 Capital One 不属于所提及的任何公司，也不被其认可。使用或展示的所有商标和其他知识产权都是其各自所有者的所有权。本文为 2017 首都一。*