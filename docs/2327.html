<html>
<head>
<title>Menggunakan Room Persistence Library pada Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Menggunakan Room Persistence Library pada Kotlin</h1>
<blockquote>原文：<a href="https://medium.easyread.co/menggunakan-room-persistence-library-pada-kotlin-fd0c48c6ef7?source=collection_archive---------2-----------------------#2018-08-14">https://medium.easyread.co/menggunakan-room-persistence-library-pada-kotlin-fd0c48c6ef7?source=collection_archive---------2-----------------------#2018-08-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/74f111034b19e3af06f3e5baf586d1db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tuDm_qsDYBOt_8oF_9C9cg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">unsplash.com</figcaption></figure><p id="f80d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Ketika dihadapkan pada pembuatan aplikasi yang membutuhkan penyimpanan data secara <em class="kx"> offline </em> sebenarnya terdapat banyak pilihan untuk melakukannya, entah itu menggunakan <em class="kx"> sharedpreference, sqlite, </em> dan lain sebagainya. Penggunaan <em class="kx"> sharedprefence </em> mungkin akan menjadi pilihan pertama ketika data yang akan disimpan tidak terlalu <em class="kx"> kompleks </em> atau masih berupa pasangan <em class="kx"> value </em> ( <em class="kx"> key-value </em> ) <em class="kx"> </em> saja. Akan tetapi ketika dihadapkan pada situasi yang sudah mengharuskan kita untuk menyimpan suatu data yang berelasi atau lebih kompleks lagi maka <em class="kx"> android sdk </em> sendiri telah menyiapkan komponen bawaan yaitu <em class="kx"> sqlite. </em></p><p id="4539" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Penggunaan <em class="kx"> Sqlite </em> sendiri bisa dibilang cukup merepotkan pada tahap konfigurasi awal. Sehingga diluar sana sudah banyak alternatif lain untuk melakukan proses penyimpanan data yang membuat proses konfigurasi menjadi sangat lebih mudah dan nyaman, misalnya:</p><ul class=""><li id="c750" class="ky kz in kb b kc kd kg kh kk la ko lb ks lc kw ld le lf lg bi translated"><a class="ae lh" href="https://realm.io/blog/realm-for-android/" rel="noopener ugc nofollow" target="_blank"> Realm </a></li><li id="ad14" class="ky kz in kb b kc li kg lj kk lk ko ll ks lm kw ld le lf lg bi translated"><a class="ae lh" href="http://greenrobot.org/greendao/" rel="noopener ugc nofollow" target="_blank"> greenDao </a></li><li id="de27" class="ky kz in kb b kc li kg lj kk lk ko ll ks lm kw ld le lf lg bi translated"><a class="ae lh" href="http://ormlite.com/sqlite_java_android_orm.shtml" rel="noopener ugc nofollow" target="_blank"> ORMlite </a></li><li id="229d" class="ky kz in kb b kc li kg lj kk lk ko ll ks lm kw ld le lf lg bi translated"><a class="ae lh" href="https://developer.android.com/topic/libraries/architecture/room" rel="noopener ugc nofollow" target="_blank"> Room </a></li></ul><p id="dba4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Tentunya pilihan-pilihan diatas masing-masing memiliki kekurangan dan kelebihan masing-masing.</p><p id="91d5" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="kx"> Nah </em> , sesuai dengan judul artikel ini, saya akan membahas mengenai penggunaan <em class="kx"> Room Persistence </em> pada aplikasi android. Menurut saya <em class="kx"> Room </em> ini sangat membantu dan wajib untuk dipelajari, sebab <em class="kx"> library </em> ini sendiri merupakan keluaran resmi dari tim android, yang berarti akan selalu mendapatkan <em class="kx"> update </em> dan <em class="kx"> support </em> yang bagus, apalagi <em class="kx"> Room </em> merupakan bagian dari <a class="ae lh" href="https://developer.android.com/topic/libraries/architecture/" rel="noopener ugc nofollow" target="_blank"> AAC </a> .</p><p id="884d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Dalam menggunakan <em class="kx"> Room </em> sendiri terdapat 3 komponen penting yang harus diketahui. Layaknya <em class="kx"> library </em> lain tentu kita harus mengkonfigurasinya terlebih dahulu. <em class="kx"> Eits, </em> jangan khawatir konfigurasi <em class="kx"> Room </em> tidaklah seribet dan sepanjang <em class="kx"> sqlite </em> heheh 😃. Komponen-komponen yang perlu adalah:</p><ul class=""><li id="8536" class="ky kz in kb b kc kd kg kh kk la ko lb ks lc kw ld le lf lg bi translated"><strong class="kb io"> Entity <br/> </strong> <em class="kx"> Class </em> yang digunakan sebagai representasi dari tabel pada <em class="kx"> database </em> , dideklarasikan pula kolom-kolom yang diperlukan.</li><li id="6c6a" class="ky kz in kb b kc li kg lj kk lk ko ll ks lm kw ld le lf lg bi translated"><strong class="kb io"> Database </strong> <br/> <em class="kx"> Class </em> yang men-extend class <em class="kx"> RoomDatabase. </em> Pada <em class="kx"> class </em> ini dideklarasikan <em class="kx"> entity/ </em> tabel yang akan dibuat dan juga versi dari <em class="kx"> database </em> .</li><li id="942c" class="ky kz in kb b kc li kg lj kk lk ko ll ks lm kw ld le lf lg bi translated"><strong class="kb io"> DAO (Data Access Object) </strong> <br/> <em class="kx"> Interface </em> yang dibuat untuk mengakses data yang ada pada <em class="kx"> database </em> . seperti melakukan <em class="kx"> query </em> untuk <em class="kx"> update </em> , <em class="kx"> read </em> dll.</li></ul><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div class="gh gi ln"><img src="../Images/f46523590f27c244960560b5fea4d5a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*lQQ5F_hkfxFwcaWPAThRRA.jpeg"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sabar gan :)</figcaption></figure><p id="3963" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Okeee, sampai disitu teorinya, mari langsung praktik heheh.</p><p id="d426" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Untuk menggunakan <em class="kx"> Room </em> diperlukan <em class="kx"> dependency </em> berikut</p><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="f501" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Setelah itu, mari kita tambahkan <em class="kx"> code </em> untuk <em class="kx"> entity </em> /tabel. Dengan menggunakan kotlin, codenya bisa sangat singkat :)</p><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="2610" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Langkah selanjutnya adalah menambahkan <em class="kx"> DAO </em> dari database kita</p><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="7497" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Oke, langkah terakhir pada tahap konfigurasi adalah menambahkan class database.</p><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="f66a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Semua konfigurasi telah selesai dilaksanakan. <strong class="kb io"> Oiya </strong> perlu untuk diperhatikan pula bahwa untuk melakukan operasi seperti memasukkan data, mengambil data dan lain-lain harus dilakukan di luar <em class="kx"> mainthread </em> dan ini adalah ada aturan <em class="kx"> Room </em> secara <em class="kx"> default </em> . Hal ini disebakan karena melakukan <em class="kx"> query </em> data pada mainthread dapat membuat aplikasi kita menjadi lambat. Walaupun room menyediakan method <strong class="kb io"> allowMainThreadQueries() </strong> namun hal ini tidak disarankan. Maka dari itu kita perlu membuat proses ini berjalan di luar mainthread. Sebenarnya banyak pilihan untuk melakukan ini seperti menggunakan Asynctask, Handler atau RxJava. Pada tutorial ini saya akan menggunakan RxJava :).</p><p id="0d4c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Berikut tampilan dari Activity yang mengakses data dari database</p><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="b7d1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Dapat dilihat method <strong class="kb io"> getAllData() </strong> dan <strong class="kb io"> insertToDb() </strong> mengakses database menggunakan RxJava.</p><p id="c53e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Untuk mengakses source code dari aplikasi ini bisa pada github repo berikut, jangan lupa <em class="kx"> star </em> , <em class="kx"> share </em> dan follow apabila ini bermanfaat :</p><div class="lu lv gp gr lw lx"><a href="https://github.com/muhrahmatullah/Kotlin-crud-with-Room" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">muhrahmatullah/Kotlin-crud-with-Room</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Kotlin-crud-with-Room - Sample project using kotlin and room</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jt lx"/></div></div></a></div><p id="ca31" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Kedepannya saya akan mengintegrasikan repo ini dengan berbagai library populer di android seperti <strong class="kb io"> Dagger2, LiveData (AAC) </strong> dan lainnya. juga mengguanakan Approach yang lain seperti <strong class="kb io"> MVP </strong> dan <strong class="kb io"> MVVM </strong> . Jadi <strong class="kb io"> stay tuned! </strong></p></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><p id="073c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Oke, sampai disini dulu untuk postingan ini, Terima kasih telah membaca sampai akhir. Kalau menurutmu post ini bermanfaat jangan lupa <strong class="kb io"> follow, share dan clap ya! :) </strong> silahkan juga komentar apabila ada yang kurang jelas atau ingin ditanyakan atau ada yang harus dikoreksi hehe!</p><p id="a537" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这篇文章也发表在英国的报纸上，我想是吧！</p><p id="0378" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb io"> Refrensi : </strong></p><div class="lu lv gp gr lw lx"><a href="https://developer.android.com/training/data-storage/room/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">使用Room | Android开发人员将数据保存在本地数据库中</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">学习使用房间库更容易地保存数据</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">developer.android.com</p></div></div><div class="mg l"><div class="mt l mi mj mk mg ml jt lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://medium.com/mindorks/android-architecture-components-room-and-kotlin-f7b725c8d1d" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">Android架构组件——Room和Kotlin</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">在本文中，我们将研究一个名为Room的架构组件库。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="mu l mi mj mk mg ml jt lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://stackoverflow.com/questions/46602444/update-with-parameter-using-room-persistent-library" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">使用房间永久库更新参数</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">您必须提前知道要匹配哪一列，因为Room不允许您动态定义…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">stackoverflow.com</p></div></div><div class="mg l"><div class="mv l mi mj mk mg ml jt lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://codelabs.developers.google.com/codelabs/android-persistence/#0" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd io gy z fp mc fr fs md fu fw im bi translated">Android持久性代码实验室</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">架构组件是一组Android库，帮助您以一种健壮的方式构建应用程序…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">codelabs.developers.google.com</p></div></div></div></a></div></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><figure class="lo lp lq lr gt jo"><div class="bz fp l di"><div class="mw lt l"/></div></figure></div></div>    
</body>
</html>