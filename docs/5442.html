<html>
<head>
<title>Eclipse Collections 9.2 Released</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">发布了Eclipse集合9.2</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/eclipse-collections-9-2-released-aa88b56ecacc?source=collection_archive---------3-----------------------#2018-05-21">https://medium.com/oracledevs/eclipse-collections-9-2-released-aa88b56ecacc?source=collection_archive---------3-----------------------#2018-05-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="460e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">新功能，更对称的同情和社区贡献。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/696af97aed286bdec793efd0a2ea2b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qkgxMuPMmGLG-YO0VwWnwQ.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Good symmetry at St. Paul’s</figcaption></figure><blockquote class="js jt ju"><p id="1bf7" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated"><a class="ae jz" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> Eclipse Collections </a>是一个Java的集合框架。它用丰富流畅的API优化了列表、集合和映射实现。该库提供了JDK中没有的附加数据结构，如Bags、Multimaps和BiMaps。该框架还提供了列表、集合、包、栈和地图的原始版本，具有丰富而流畅的API。支持库中所有容器的可变和不可变版本。</p></blockquote><p id="3814" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有九个开发人员对Eclipse集合9.2.0版本做出了贡献。我要感谢每一个做出贡献的人。如果这是您对开源项目和/或Eclipse集合的第一次贡献，那么祝贺并欢迎您！</p><p id="655a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Eclipse集合9.2.0的发行说明在这里是<a class="ae jz" href="https://github.com/eclipse/eclipse-collections/releases/tag/9.2.0" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="fb85" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">特色，特色，特色！</h1><p id="0d35" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">我们都喜欢框架中的新特性，尤其是我们日常使用的新特性。自从我们在Eclipse Collections 8.0中开始使用Java 8进行编译以来，我们已经享受到了通过使用默认方法在小版本中添加新API的新灵活性。下面是Eclipse集合9.2中添加的一些新的API。</p><h2 id="e6b3" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:flatCollectWith</h2><p id="770b" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">对称性改进的第一个故事以<code class="du lr ls lt lu b">flatCollectWith</code> <em class="jv"> </em>的形式到达<em class="jv"> </em> <code class="du lr ls lt lu b">RichIterable</code>。从框架的1.0版本开始，我们就有了<code class="du lr ls lt lu b">flatCollect</code>。我们也有过<code class="du lr ls lt lu b">collect</code>和<code class="du lr ls lt lu b">collectWith</code>T23。现在我们改进了对称性，同时拥有<code class="du lr ls lt lu b">flatCollect</code>和<code class="du lr ls lt lu b">flatCollectWith</code>。下面是一个使用<code class="du lr ls lt lu b">flatCollectWith</code>的代码示例。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="1430" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void flatCollectWith()<br/>{<br/>    MutableList&lt;Integer&gt; list = <br/>            Lists.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(5, 4, 3, 2, 1);<br/>    MutableList&lt;Integer&gt; result = <br/>            list.flatCollectWith(Interval::<em class="jv">fromTo</em>, 1);<br/><br/>    MutableList&lt;Integer&gt; expected = <em class="jv">mList</em>(<br/>            5, 4, 3, 2, 1,<br/>            4, 3, 2, 1,<br/>            3, 2, 1,<br/>            2, 1,<br/>            1);<br/>    Assert.<em class="jv">assertEquals</em>(expected, result);<br/>}</span></pre><h2 id="bfdd" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:toSortedMapBy</h2><p id="6191" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">我们的第二个对称故事以<code class="du lr ls lt lu b">toSortedMapBy</code> <em class="jv"> </em>的形式到达了<em class="jv"> </em> <code class="du lr ls lt lu b">RichIterable</code>。我们从6.0开始就有了<code class="du lr ls lt lu b">toSortedBagBy</code>。从1.0开始，我们不得不使用<code class="du lr ls lt lu b">toSortedListBy</code>和<code class="du lr ls lt lu b">toSortedSetBy</code>。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="8c1e" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void toSortedMapBy()<br/>{<br/>    MutableList&lt;Integer&gt; list =<br/>            Lists.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(4, 3, 2, 1);<br/>    MutableSortedMap&lt;Integer, Integer&gt; map =<br/>            list.toSortedMapBy(i -&gt; i % 2, k -&gt; k, v -&gt; v);<br/>    Assert.<em class="jv">assertEquals</em>(<br/>            SortedMaps.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(<br/>                    Comparators.<em class="jv">byFunction</em>(i -&gt; i % 2),<br/>                    4, 2, 3, 1),<br/>            map);<br/>}</span></pre><h2 id="6855" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:bag . select重复项</h2><p id="7435" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">从3.0开始，我们在<code class="du lr ls lt lu b">Bag</code>上已经有了<code class="du lr ls lt lu b">selectByOccurrences</code>。现在我们有了一个选择所有大于1的事件的捷径。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="4f01" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void selectDuplicates()<br/>{<br/>    MutableBag&lt;Integer&gt; bag =<br/>            Bags.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(1, 2, 2, 3, 3, 3);<br/>    MutableBag&lt;Integer&gt; duplicates =<br/>            bag.selectDuplicates();<br/><br/>    Assert.<em class="jv">assertEquals</em>(<br/>            Bags.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(2, 2, 3, 3, 3),<br/>            duplicates);<br/>}</span></pre><h2 id="a598" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:Bag.selectUnique</h2><p id="e585" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">到<code class="du lr ls lt lu b">selectDuplicates</code>的对称方法是<code class="du lr ls lt lu b">selectUnique</code>。与<code class="du lr ls lt lu b">selectDuplicates</code>返回一个<code class="du lr ls lt lu b">Bag</code>不同，<code class="du lr ls lt lu b">selectUnique</code>返回一个<code class="du lr ls lt lu b">Set</code>。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="6dc8" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void selectUnique()<br/>{<br/>    MutableBag&lt;Integer&gt; bag =<br/>            Bags.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(1, 2, 2, 3, 3, 3);<br/>    MutableSet&lt;Integer&gt; unique =<br/>            bag.selectUnique();<br/><br/>    Assert.<em class="jv">assertEquals</em>(<br/>            Sets.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(1),<br/>            unique);<br/>}</span></pre><h2 id="71fa" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:chunk(用于原始集合)</h2><p id="0af7" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">这幅画的对称性很强。从1.0版本开始，我们就有了用于对象集合的<code class="du lr ls lt lu b">chunk</code>。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="b0e1" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void chunk()<br/>{<br/>    IntList list = IntInterval.<em class="jv">oneTo</em>(10);<br/>    RichIterable&lt;IntIterable&gt; chunks = list.chunk(2);<br/><br/>    Verify.<em class="jv">assertSize</em>(5, chunks);<br/>    String string = chunks.makeString(<strong class="lu hi">"/"</strong>);<br/>    Assert.<em class="jv">assertEquals</em>(<br/>            <strong class="lu hi">"[1, 2]/[3, 4]/[5, 6]/[7, 8]/[9, 10]"</strong>,<br/>            string);<br/>}</span></pre><h2 id="f7da" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:newEmpty(用于原始集合)</h2><p id="cbe4" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">从1.0开始，我们的对象集合就有了<code class="du lr ls lt lu b">newEmpty</code>。方法<code class="du lr ls lt lu b">newEmpty</code>给出了相同集合类型的空版本。现在我们用同样的方法处理原始集合。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="8a18" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void newEmpty()<br/>{<br/>    MutableIntList empty1 = IntLists.<strong class="lu hi"><em class="jv">mutable</em></strong>.empty();<br/>    MutableIntList empty2 = empty1.newEmpty();<br/><br/>    Assert.<em class="jv">assertEquals</em>(empty1, empty2);<br/>    Assert.<em class="jv">assertNotSame</em>(empty1, empty2);<br/>}</span></pre><h2 id="b2cc" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:OrderedMapAdapter</h2><p id="c3f0" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">这是某种对称性的缺失。我们从1.0开始就有了<code class="du lr ls lt lu b">List</code>、<code class="du lr ls lt lu b">Set</code>、<code class="du lr ls lt lu b">SortedSet</code>、<code class="du lr ls lt lu b">Collection</code>、<code class="du lr ls lt lu b">Map</code>的适配器。虽然Java中没有<code class="du lr ls lt lu b">OrderedMap</code>接口，但是有一个<code class="du lr ls lt lu b">OrderedMap</code>实现，叫做<code class="du lr ls lt lu b">LinkedHashMap</code>。你总是可以把一个<code class="du lr ls lt lu b">LinkedHashMap</code>改编成一个<code class="du lr ls lt lu b">MutableMap</code>。现在你可以对它进行修改，得到一个<code class="du lr ls lt lu b">OrderedMap</code>或者一个<code class="du lr ls lt lu b">MutableOrderedMap</code>。当然，我们最终想要在<code class="du lr ls lt lu b">RichIterable</code>上看到的下一个东西是<code class="du lr ls lt lu b">toOrderedMap</code>。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="4add" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void orderedMapAdapter()<br/>{<br/><br/>    MutableList&lt;Integer&gt; keys = Lists.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(3, 2, 1);<br/>    MutableOrderedMap&lt;Object, Object&gt; orderedMap =<br/>            OrderedMaps.<em class="jv">adapt</em>(<br/>                    keys.injectInto(<br/>                            new LinkedHashMap&lt;&gt;(),<br/>                            (map, each) -&gt; {<br/>                                map.put(each, each);<br/>                                return map;<br/>                            }));<br/><br/>    LinkedHashMap&lt;Object, Object&gt; expected = new LinkedHashMap&lt;&gt;();<br/>    expected.put(3, 3);<br/>    expected.put(2, 2);<br/>    expected.put(1, 1);<br/><br/>    Assert.<em class="jv">assertEquals</em>(expected, orderedMap);<br/>    Assert.<em class="jv">assertEquals</em>(keys, orderedMap.keysView().toList());<br/>    Assert.<em class="jv">assertEquals</em>(Interval.<em class="jv">fromTo</em>(3, 1), orderedMap.toList());<br/>}</span></pre><p id="d878" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">更新:</strong>这里有一个使用<code class="du lr ls lt lu b">forEachWithIndex</code>来填充<code class="du lr ls lt lu b">orderedMap</code>的例子。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="353c" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void orderedMapAdapter()<br/>{<br/>    MutableOrderedMap&lt;Integer, Integer&gt; orderedMap =<br/>            OrderedMaps.<em class="jv">adapt</em>(new LinkedHashMap&lt;&gt;());<br/><br/>    MutableList&lt;Integer&gt; keys = Lists.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(3, 2, 1);<br/>    keys.forEachWithIndex(orderedMap::put);<br/><br/>    Map&lt;Object, Object&gt; expected = new LinkedHashMap&lt;&gt;();<br/>    expected.put(3, 0);<br/>    expected.put(2, 1);<br/>    expected.put(1, 2);<br/><br/>    Assert.<em class="jv">assertEquals</em>(expected, orderedMap);<br/>    Assert.<em class="jv">assertEquals</em>(keys, orderedMap.keysView().toList());<br/>    Assert.<em class="jv">assertEquals</em>(Interval.<em class="jv">zeroTo</em>(2), orderedMap.toList());<br/>}</span></pre><h2 id="a470" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:toStringOfItemToCount(针对原始包)</h2><p id="07ec" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">从3.0版本开始，我们就在对象包上提供了这种方法。现在<code class="du lr ls lt lu b">toStringOfItemToCount</code>可用于所有的原语<code class="du lr ls lt lu b">Bag</code>实现。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="8209" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void toStringOfItemToCount()<br/>{<br/>    MutableIntBag bag = IntBags.<strong class="lu hi"><em class="jv">mutable</em></strong>.with(1, 2, 2, 3, 3, 3);<br/>    String string = bag.toStringOfItemToCount();<br/><br/>    Assert.<em class="jv">assertEquals</em>(<strong class="lu hi">"{1=1, 2=2, 3=3}"</strong>, string);<br/>}</span></pre><h2 id="14af" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">欢迎:Collectors2上的两个新收藏者</h2><p id="5551" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">我们现在在<code class="du lr ls lt lu b">Collectors2</code>上有<code class="du lr ls lt lu b">aggregateBy</code>和<code class="du lr ls lt lu b">countByEach</code>。方法<code class="du lr ls lt lu b">aggregateBy</code>使我们在<code class="du lr ls lt lu b">Collectors2</code>上对称，同样的方法在<code class="du lr ls lt lu b">RichIterable</code>上对称。另一方面，方法<code class="du lr ls lt lu b">countByEach</code>目前在<code class="du lr ls lt lu b">RichIterable</code> API中没有等价的实现。这种方法本质上是实验性的，如果证明足够有用，我们可能会在未来的版本中把它作为一个特性添加到<code class="du lr ls lt lu b">RichIterable</code>中。</p><pre class="jd je jf jg fd lv lu lw lx aw ly bi"><span id="33ee" class="ld kb hh lu b fi lz ma l mb mc">@Test<br/>public void countByEach()<br/>{<br/>    MutableBag&lt;Integer&gt; bag = Arrays.<em class="jv">asList</em>(5, 4, 3, 2, 1)<br/>            .stream()<br/>            .collect(Collectors2.<em class="jv">countByEach</em>(Interval::<em class="jv">oneTo</em>));<br/><br/>    MutableBag&lt;Integer&gt; expected = Bags.<strong class="lu hi"><em class="jv">mutable</em></strong>.empty();<br/>    expected.addOccurrences(5, 1);<br/>    expected.addOccurrences(4, 2);<br/>    expected.addOccurrences(3, 3);<br/>    expected.addOccurrences(2, 4);<br/>    expected.addOccurrences(1, 5);<br/><br/>    Assert.<em class="jv">assertEquals</em>(expected, bag);<br/>}</span></pre><h2 id="d6db" class="ld kb hh bd kc le lf lg kg lh li lj kk ip lk ll ko it lm ln ks ix lo lp kw lq bi translated">还有更多…</h2><p id="afde" class="pw-post-body-paragraph ie if hh ig b ih ky ij ik il kz in io ip la ir is it lb iv iw ix lc iz ja jb ha bi translated">看看<a class="ae jz" href="https://github.com/eclipse/eclipse-collections/releases/tag/9.2.0" rel="noopener ugc nofollow" target="_blank">发行说明</a>中列出的其他一些特性和改进。我们期待在未来看到更多的Eclipse集合贡献者。</p><p id="a4bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">享受在Java项目中使用Eclipse Collections 9.2和所有新特性的乐趣吧！</p><p id="465b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jv">我是</em><a class="ae jz" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"><em class="jv">Eclipse Collections</em></a><em class="jv">OSS项目在</em><a class="ae jz" href="https://projects.eclipse.org/projects/technology.collections" rel="noopener ugc nofollow" target="_blank"><em class="jv">Eclipse Foundation</em></a><em class="jv">的项目负责人和提交人。</em> <a class="ae jz" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> <em class="jv">月食收藏</em> </a> <em class="jv">为</em> <a class="ae jz" href="https://github.com/eclipse/eclipse-collections/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank"> <em class="jv">投稿</em> </a> <em class="jv">打开。如果你喜欢这个库，你可以在GitHub上让我们知道。</em></p></div></div>    
</body>
</html>