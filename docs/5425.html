<html>
<head>
<title>Socket.IO Integration with Oracle JET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">插座。与Oracle JET的IO集成</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/socket-io-integration-with-oracle-jet-4afc964efc9a?source=collection_archive---------0-----------------------#2018-03-29">https://medium.com/oracledevs/socket-io-integration-with-oracle-jet-4afc964efc9a?source=collection_archive---------0-----------------------#2018-03-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="5ba7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">插座。IO是一个用于实时web应用程序的JavaScript库。它由两部分组成——在浏览器中运行的客户端库和Node.js的服务器端库。在本文中，我将带您了解与Oracle JET的完整集成场景。</p><p id="9169" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里你可以看到它的作用。<em class="jc">从JET发送事件</em>按钮—通过套接字发送消息。到Node.js服务器端的IO。在服务器端处理消息，并将响应发送回客户端(显示在浏览器控制台中):</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/b3fa2d8eb7d55d7b0fc4fafd7c1604be.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*2EViX3zyHSSsdk85Ef7_DA.gif"/></div></figure><p id="9788" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">带有Socket.io的服务器端部分在Node.js应用程序中实现，运行在Express上。要创建Node.js应用程序(开始时只是一个json文件)，运行命令:</p><p id="ec99" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> npm初始化</strong></p><p id="3f8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要添加Express和Socket.io，请运行命令:</p><p id="86e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> npm快速安装—保存</strong></p><p id="f74e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> npm install socket.io — save </strong>在Express上启动Node.js应用程序，运行命令:</p><p id="92ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">国家预防机制启动</strong></p><p id="ad7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">仔细检查package.json，它应该包含对Express和Socket的引用。IO:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/86918367ac37752e0b77ccaa74950204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o20Ln1wtYm0SQbWdiaGCsg.png"/></div></div></figure><p id="5bbc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里是套接字的服务器端代码。IO(我手动创建了server.js文件)。当与客户端建立连接时，会打印消息。方法<em class="jc"> socket.on </em>监听传入的消息。方法<em class="jc"> socket.emit </em>向客户端发送消息。在这两种情况下，我们都可以使用JSON结构作为有效载荷变量。socket.emit有一个cheat sheet—<a class="ae jq" href="https://socket.io/docs/emit-cheatsheet/" rel="noopener ugc nofollow" target="_blank">Socket。IO —发出备忘单</a>。插座。IO服务器端:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jr"><img src="../Images/97df9849981458fb3d44279a4c812a6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S3UE_3BQojoPGyD4Qx7cZg.png"/></div></div></figure><p id="2316" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">插座。IO客户端可以通过NPM安装到JET应用程序中。Oracle JET文档中有一个单独的章节，您可以在其中逐步阅读关于将第三方库安装到Oracle JET中的说明— <a class="ae jq" href="https://docs.oracle.com/en/middleware/jet/4.2.0/develop/adding-third-party-libraries-your-oracle-jet-application.html#GUID-EC40DF3C-57FB-4919-A066-73E573D66B67" rel="noopener ugc nofollow" target="_blank">将第三方工具或库添加到您的Oracle JET应用程序中</a>。我会建议手动包括插座。JET中package.json的IO依赖项条目:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es js"><img src="../Images/102b3fbfe2ef9d66aca142797dd7ef85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FkzsGDS31bRzRjpKc9b6Gg.png"/></div></div></figure><p id="74c1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后运行命令获取套接字。IO库到JET应用程序节点模块中。接下来继续Oracle JET guide中的说明，并检查我的示例代码:</p><p id="bb9f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">国家预防机制更新</strong></p><p id="96a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">建立套接字连接—导入套接字。IO进入JET模块，使用<em class="jc"> io.connect </em>建立插座连接。使用服务器端套接字连接到运行Express的端点。IO监听器。客户端使用与服务器端相同的<em class="jc"> socket.on </em>和<em class="jc"> socket.emit </em> API方法:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/2928d3a65820f856d350de9399a8b1e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0lw0NSYWSucDqnuMjVLVQ.png"/></div></div></figure><p id="9909" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从我的<a class="ae jq" href="https://github.com/abaranovskis-redsamurai/socketio" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库下载示例代码。</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><p id="db8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">原载于2018年3月29日</em><a class="ae jq" href="https://andrejusb.blogspot.lt/2018/03/socketio-integration-with-oracle-jet.html" rel="noopener ugc nofollow" target="_blank"><em class="jc">【andrejusb.blogspot.com】</em></a><em class="jc">。</em></p></div></div>    
</body>
</html>