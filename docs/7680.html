<html>
<head>
<title>Nitty gitties</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nitty gitties</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/nitty-gitties-69998e14cc92?source=collection_archive---------1-----------------------#2017-07-05">https://medium.com/walmartglobaltech/nitty-gitties-69998e14cc92?source=collection_archive---------1-----------------------#2017-07-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/6c2f7d97a651463fe145d9989342a0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FqfZtjKfZAN7OIfysM8jPA.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx"><a class="ae hu" href="https://pixabay.com" rel="noopener ugc nofollow" target="_blank">Photo Credit</a></figcaption></figure><div class=""/><p id="aee5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我第一次接触“git”是在几年前我以前工作的地方。理解它需要一些时间，但是一旦我熟悉了这些概念，我就喜欢上了使用git。我绝不是git的高级用户，但是在不同的团队和项目中工作时，我尝试从我的同事和导师那里学习一些技巧。这些技巧和诀窍确实让我的生活变得更轻松，所以我在这里分享它们，希望你会觉得有用。</p><p id="2a87" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 1)在“主”的“分支”上处理你正在处理的任何任务，并从那里发送“拉请求”</em></strong></p><p id="4211" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当处理一个bug修复或者一个特性时，特别是在团队环境中，从<code class="du jt ju jv jw b">master</code>(或者被认为是主的分支)仓库中创建一个分支并处理它。一些工程师也更喜欢做他们自己的fork，并在完成后从fork发送一个<code class="du jt ju jv jw b">Pull Request </code>。这两种方法各有利弊，由团队来决定要遵循哪种策略。我个人更喜欢在分支上工作，而不是在分叉上工作，这里是我看到的这种方法的一些优点</p><ol class=""><li id="c706" class="jx jy hx iw b ix iy jb jc jf jz jj ka jn kb jr kc kd ke kf bi translated">团队成员可以知道团队中其他人在做什么(偷偷摸摸，但确保透明:)</li><li id="00e1" class="jx jy hx iw b ix kg jb kh jf ki jj kj jn kk jr kc kd ke kf bi translated">如果某个团队成员中途离开了项目，其他人可以接手他们的工作(假设分支中的提交是最新的)</li><li id="f20a" class="jx jy hx iw b ix kg jb kh jf ki jj kj jn kk jr kc kd ke kf bi translated">小的创业公司不需要每个人有更多的账户，因为他们只能共享一个账户(坦白地说，我还没有在没有git账户的公司或项目中工作过)</li></ol><p id="362f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">选择哪种方法(fork vs branch from master)最适合他们，完全取决于团队和个人。在这两种情况下，总是建议在分支上工作。</p><p id="f97b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于这篇博客中的例子，让我们假设我们正在开发这个很酷的新<a class="ae hu" href="https://github.com/pranavparikh/calculator" rel="noopener ugc nofollow" target="_blank">计算器</a>项目。因此，要开始为项目做贡献，您需要访问这个存储库。一旦你有了它，克隆存储库，从主库创建一个新的分支并开始贡献。</p><pre class="kl km kn ko fd kp jw kq kr aw ks bi"><span id="d35a" class="kt ku hx jw b fi kv kw l kx ky">git clone <a class="ae hu" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:pranavparikh/calculator.git</span></pre><p id="4000" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">确保当前分支机构是<code class="du jt ju jv jw b">master</code></p><pre class="kl km kn ko fd kp jw kq kr aw ks bi"><span id="6274" class="kt ku hx jw b fi kv kw l kx ky">git branch -v</span></pre><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es kz"><img src="../Images/d119a398ab0aa7d280a8ea159f38c48e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/0*7rr06klqoZXEZzCC."/></div></div></figure><p id="6452" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，如果你想开始在一个特性上添加减法工具，创建一个名为<code class="du jt ju jv jw b">subtract</code>的新分支</p><pre class="kl km kn ko fd kp jw kq kr aw ks bi"><span id="807f" class="kt ku hx jw b fi kv kw l kx ky">git checkout -b subtract</span></pre><p id="97ee" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 2)在您的本地分支上频繁提交，并持续推动它们</em> </strong></p><p id="d08d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在处理一项任务时，无论是bug修复还是特性，都要经常提交。并将这些提交推送到您的分支。在一天结束时，你不希望由于硬盘崩溃而失去你的努力工作。</p><p id="550f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，假设我们添加了一些很酷的东西，并提交到分支。我们的日志看起来像这样</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es la"><img src="../Images/ee10c22551671ba7adf00986ce9a1947.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HFhzcTdjJVJh0XOc."/></div></div></figure><p id="4a5b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 3)通过将您的提交压缩为一个或几个逻辑提交来删除不相关的提交消息</em> </strong></p><p id="24e8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，我们有四个提交，但感兴趣的是最终结果(或最终代码)而不是不同的提交消息。例如，为什么在git历史中，修复输入错误的提交值得特别提及？我们可以把提交压缩成一个单独的提交，这样Git和世界都认为这是一个单独的提交。</p><p id="2b25" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这种情况下，我们希望将最后4次提交合并成一次提交，所以我们这样做了</p><pre class="kl km kn ko fd kp jw kq kr aw ks bi"><span id="77c4" class="kt ku hx jw b fi kv kw l kx ky">git rebase -i HEAD~4</span></pre><p id="56a4" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在执行上面的命令时，git将打开一个<code class="du jt ju jv jw b">vi</code>编辑器，看起来像这样</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lb"><img src="../Images/01084ecbbfe736865fb0bf28a8e49f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tteCgX51K_aRzkYM."/></div></div></figure><p id="4f03" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">点击<code class="du jt ju jv jw b">I</code>进入<code class="du jt ju jv jw b">Insert</code>模式。请注意，提交是以升序显示的。选择最早的提交并挤压(用<code class="du jt ju jv jw b">squash</code>替换<code class="du jt ju jv jw b">pick</code>这个词)剩余的提交。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lc"><img src="../Images/5db741860fdf78d140b1f4bd61695c14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C-4q9jqX25GHOeT1."/></div></div></figure><p id="d214" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">请注意，您还可以更改所选提交的消息。一旦你完成了这些，保存你的修改并退出(:wq)。这将打开另一个<code class="du jt ju jv jw b">vi</code>编辑器，您可以在其中对您不希望出现在历史记录中的消息进行注释(通过在行首放置#)。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ld"><img src="../Images/42c6feb8a3eb12ba25875d4b1661f6cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zrpmUK-cPkzj80NO."/></div></div></figure><p id="775e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">完成后，保存并退出(:wq)。您将看到类似这样的内容</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es le"><img src="../Images/0a952e72ad33e0eb62d3af4e3ecef291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vHh4F3MMC0vCh26I."/></div></div></figure><p id="2696" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，如果您再次看到日志，您应该只看到一次提交。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lf"><img src="../Images/47465dc2dc217df4bde2c6bf463745ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*11f9Lc3x4eDDTAWl."/></div></div></figure><p id="50c4" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">万岁！！！我们成功地粉碎了不想要的提交。</p><p id="36cd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，您的特性的第1阶段正在运行，并且经过了很好的测试，当您发送PR时，Git将只显示一次提交。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lg"><img src="../Images/4cd86c7634ce71bbdc65ab56a27eaad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*egzmRvkwgVMkc_lM."/></div></div></figure><p id="f86d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 4)通过使用重置基础选项</em> </strong>从主文件中提取变更</p><p id="c5a1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您将继续为下一阶段工作。一旦您的代码在<code class="du jt ju jv jw b">master</code>中，其他贡献者也可以开始处理相同的代码。让我们假设有人在减法代码中发现了一个bug，并且他们发送了一个补丁，这个补丁被评审并合并到master中。因此，您需要再次引入更改以保持同步。在这种情况下，不要做常规的<code class="du jt ju jv jw b">git pull</code>而是总是选择带有<code class="du jt ju jv jw b">rebase</code>选项的<code class="du jt ju jv jw b">git pull</code>。这将确保您从主服务器获取更改，然后您的本地更改将应用到主服务器上。</p><pre class="kl km kn ko fd kp jw kq kr aw ks bi"><span id="8919" class="kt ku hx jw b fi kv kw l kx ky">git pull --rebase origin master</span></pre><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lh"><img src="../Images/c0b8615e530de062926e76fd7715e11b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U_zJ9oWw2iaZRdMA."/></div></div></figure><p id="c7d7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果其他人修改了您正在处理的相同文件或代码，您将会看到冲突。在这种情况下，您需要在继续重设基础之前手动修复冲突。</p><p id="6b33" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我的编辑器中，我看到了这些冲突</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es li"><img src="../Images/fd0c13ec7d6742bec2ee11e85a2fd645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kdG69Rfgztpyl5dK."/></div></div></figure><p id="cd12" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是一个简单的解决方法，我继续解决了这些冲突</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lj"><img src="../Images/1a099f583ca99d37fbe539888a6d2af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vgOVp0_932O2iPMJ."/></div></div></figure><p id="3050" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一旦您解决了冲突，并且对您的更改感到满意，您就需要添加已更改的文件。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/59c06e9e70731775a918cb94ca4d3f72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dlYKs0pDbNGJF0Kp."/></div></div></figure><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ll"><img src="../Images/9c66a4658ef56aee6be84256f2260d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4GmGJC-53ya36EGP."/></div></div></figure><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lm"><img src="../Images/745b691ecc26fd6e0678f719a32de8e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_HjY0Dh7LbljY43D."/></div></div></figure><p id="10dd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 5)遵循“关注点分离”原则提交</em> </strong></p><p id="2278" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在开发特性A时，不要为特性B添加相同的代码，也不要进行不相关的错误修复。您可以通过为每个bug修复或提交使用不同的分支来实现这一点。这也有助于保持你的拉取请求的简洁和精确。</p><p id="2b65" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="js"> 6)收拾</em> </strong></p><p id="6f0f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">越少杂乱越好，对吗？一旦一个拉请求被合并到您的<code class="du jt ju jv jw b">master</code>中，删除您的分支。你可以从Github UI中完成。</p><figure class="kl km kn ko fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ln"><img src="../Images/ab2e9a10c4ea2b9e23f1284d5ee3ea8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQCiXHetI4gJDBBzMTUbgQ.png"/></div></div></figure><p id="81ef" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这些是我在使用Git时遵循的一些实践，并且在生产率方面产生了丰厚的回报。当我发现一些有用的东西时，我会继续添加到这个列表中。如果你有任何建议，请随意评论这个博客或者联系我。祝你快乐！</p></div></div>    
</body>
</html>