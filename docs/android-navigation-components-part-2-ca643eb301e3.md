# Android å¯¼èˆªç»„ä»¶â€”ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/google-developer-experts/android-navigation-components-part-2-ca643eb301e3?source=collection_archive---------2----------------------->

![](img/b78bb7fc2eda42df0702e4172596b2a6.png)

photo by burst.shopify.com

ä¸¤å‘¨å‰ï¼Œåœ¨è°·æ­Œ I/O å¤§ä¼šä¸Šï¼Œè°·æ­Œå‘å¸ƒäº†è®¸å¤šä¼˜ç§€çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…åŠ å¿«å¼€å‘è¿‡ç¨‹ï¼Œå¼€å‘å‡ºæ›´å¥½çš„åº”ç”¨ã€‚

å…¶ä¸­ä¸€äº›å…¬å‘Šæ˜¯ Android å¯¼èˆªç»„ä»¶ã€‚å¯¼èˆªç»„ä»¶æ˜¯ Android Jetpack åº“é›†çš„åº“éƒ¨åˆ†ã€‚

è¿™ä¸ªåº“çš„åˆ›å»ºæ˜¯ä¸ºäº†å¸®åŠ©åœ¨ android åº”ç”¨ä¸­å®ç°ä¸€è‡´çš„å¯¼èˆªã€‚

åœ¨æˆ‘ä¹‹å‰çš„[å¸–å­](/google-developer-experts/android-navigation-components-part-1-236b2a479d44)ä¸­ï¼Œæˆ‘è°ˆåˆ°äº†æˆ‘è®¤ä¸ºä½ åº”è¯¥åˆ›å»ºæˆ–è§„åˆ’ä½ çš„åº”ç”¨ç¨‹åºç»“æ„çš„å‡†å¤‡å·¥ä½œã€‚

äº†è§£åº”ç”¨ç¨‹åºç»“æ„æ˜¯å¸®åŠ©æ‚¨æ›´å¥½åœ°å¯åŠ¨æˆ–è¿ç§»åº”ç”¨ç¨‹åºä»¥ä½¿ç”¨å¯¼èˆªç»„ä»¶çš„å…³é”®ã€‚

å¦‚æœä½ æ²¡æœ‰æœºä¼šé˜…è¯»æˆ‘ä¹‹å‰çš„å¸–å­ï¼Œæˆ‘å»ºè®®ä½ åœ¨ç»§ç»­ä¹‹å‰å…ˆé˜…è¯»ä¸€ä¸‹[è¿™é‡Œ](/google-developer-experts/android-navigation-components-part-1-236b2a479d44)ã€‚

åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥æŸ¥æ‰¾é™„è¿‘çš„æ´»åŠ¨ï¼Œå¹¶å…è®¸ç”¨æˆ·è´­ä¹°é—¨ç¥¨ã€‚
åœ¨å¸–å­çš„æœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸‹é¢çš„ç”¨ä¾‹å›¾:

![](img/6b0683f23bd2c102c19cb158afbbf343.png)

å¦‚æœä½ æŠŠè¿™ä¸ªå›¾é¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªçœ‹èµ·æ¥åƒæ ‘çš„ä¸œè¥¿ã€‚åœ¨è¿™ä¸ªæ ‘ä¸­ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°:

1.  ç”¨æˆ·éœ€è¦åšçš„æœ€é‡è¦çš„åŠ¨ä½œåœ¨æ›´é«˜çš„å±‚æ¬¡ä¸Šã€‚
2.  ç”¨æˆ·éœ€è¦åšçš„æœ€ä¸é‡è¦çš„åŠ¨ä½œåœ¨è¾ƒä½çš„çº§åˆ«ã€‚
3.  ä¸ºäº†å®ç°æŸäº›æ“ä½œï¼Œç”¨æˆ·éœ€è¦éµå¾ªä¸€ç»„æ­¥éª¤ã€‚
4.  æœ‰ä¸€äº›æµä¾èµ–äºåµŒå¥—æµ(ç™»å½•æ˜¯ä¸€ä¸ªåµŒå¥—æµ)ã€‚

åœ¨å¼€å§‹å®ç°å¯¼èˆªç»„ä»¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªåº“çš„ä¸»è¦æ¦‚å¿µ:

## å¯¼èˆªå›¾

å¯¼èˆªå›¾æ˜¯æè¿°ä¸€ç»„å¯¼èˆªç›®çš„åœ°åŠå…¶è¿æ¥çš„å›¾ã€‚

å¦‚æœä½ çœ‹ä¸€ä¸‹ä¸Šé¢çš„ç”¨ä¾‹å›¾ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªå•ç‹¬çš„å¯¼èˆªå›¾æˆ–ä¸€ç»„å¤šä¸ªå¯¼èˆªå›¾æ¥è¡¨ç¤ºï¼Œè¿™å–å†³äºä½ å†³å®šä½¿ç”¨çš„å®ç°(å•æ´»åŠ¨æˆ–å¤šæ´»åŠ¨åº”ç”¨)ã€‚

## å¯¼èˆªç›®çš„åœ°

å¯¼èˆªç›®çš„åœ°å¯ä»¥æ˜¯åº”ç”¨ç¨‹åºä¸­çš„å±å¹•æˆ–ä»»ä½•è§†å›¾ã€‚åœ¨ä¸Šé¢çš„ç”¨ä¾‹å›¾ä¸­ï¼Œå¯¼èˆªç›®çš„åœ°ç›¸å½“äºç”¨æˆ·å¯ä»¥åšçš„ä¸åŒç”¨ä¾‹ã€‚

## å¯¼èˆªåŠ¨ä½œ

å¯¼èˆªåŠ¨ä½œæ˜¯è¿æ¥ä¸€ä¸ªç›®çš„åœ°å’Œå¦ä¸€ä¸ªç›®çš„åœ°çš„é“¾æ¥ã€‚
ä¸€ä¸ªåŠ¨ä½œçŸ¥é“å®ƒæ­£åœ¨è¿æ¥å“ªäº›ç›®çš„åœ°ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´å°†æµåŠ¨çš„ä¿¡æ¯ç±»å‹ã€‚

## å¯¼èˆªä¸»æœº

å¯¼èˆªä¸»æœºæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒçŸ¥é“å¯¼èˆªå›¾ä¸­çš„æ‰€æœ‰ç›®çš„åœ°å’ŒåŠ¨ä½œã€‚
å®ƒå¤„ç†ä¸åŒç›®çš„åœ°ä¹‹é—´çš„å¯¼èˆªã€‚

# åœ¨é¡¹ç›®ä¸­å®ç°å¯¼èˆªç»„ä»¶

ä¸ºäº†å¼€å§‹åœ¨ä½ çš„åº”ç”¨ä¸­å®ç°å¯¼èˆªç»„ä»¶ï¼Œä½ éœ€è¦é¦–å…ˆå°†ä½ æ­£åœ¨ä½¿ç”¨çš„ Android Studio ç‰ˆæœ¬å‡çº§åˆ°æœ€æ–°çš„ 3.2 Canary ç‰ˆæœ¬ã€‚

è¿™å°†ç¡®ä¿æ‚¨æ‹¥æœ‰æ‰€æœ‰æœ€æ–°çš„å·¥å…·ï¼Œå¦‚å¯¼èˆªç¼–è¾‘å™¨ï¼Œä»¥æ”¯æŒæ‚¨å®ç°å¯¼èˆªã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬çš„ Android Studio [ã€‚](https://developer.android.com/studio/preview/?utm_source=android-studio)

## æ·»åŠ å¯¼èˆªç»„ä»¶ä¾èµ–å…³ç³»

## **åˆ›å»ºå¯¼èˆªå›¾å½¢æ–‡ä»¶**

å¼€å§‹ä½¿ç”¨å¯¼èˆªç»„ä»¶çš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªå¯¼èˆªå›¾èµ„æºæ–‡ä»¶ã€‚

æ­£å¦‚æˆ‘å‰é¢æåˆ°çš„ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºä¸­å®šä¹‰ä¸åŒç›®çš„åœ°ä»¥åŠå®ƒä»¬å¦‚ä½•è¿æ¥çš„åœ°æ–¹ã€‚

ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥æœ‰å¤šä¸ªå¯¼èˆªå›¾ï¼Œè¿™äº›å¯¼èˆªå›¾å¯ä»¥åµŒå¥—åœ¨ä¸€èµ·ã€‚

è¦åˆ›å»ºä¸€ä¸ªå¯¼èˆªå›¾æ–‡ä»¶ï¼Œåœ¨ä½ çš„åº”ç”¨ç¨‹åºæ¨¡å—å†…çš„ä»»ä½•åœ°æ–¹ç‚¹å‡»å³é”®ï¼Œé€‰æ‹©é€‰é¡¹**æ–°å»º**->Android èµ„æºæ–‡ä»¶ã€‚

è¿™å°†æ‰“å¼€ä¸€ä¸ªæ¨¡æ¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Android èµ„æºæ–‡ä»¶ã€‚

é€šè¿‡ç»™å‡ºæ–‡ä»¶åæ¥å¡«å……æ¨¡æ¿ï¼Œå¹¶ä½¿ç”¨**èµ„æºç±»å‹**ä¸‹æ‹‰èœå•æ¥é€‰æ‹©å¯¼èˆªèµ„æºç±»å‹ã€‚

å®Œæˆåï¼ŒæŒ‰ okï¼Œè¯¥æ–‡ä»¶çš„å¯¼èˆªç¼–è¾‘å™¨å°†æ‰“å¼€ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/b90f30b905e93d4009bd321cc81ccbc5.png)

ä¸Šé¢æ˜¾ç¤ºçš„å¯¼èˆªç¼–è¾‘å™¨åˆ†ä¸º 3 ä¸ªä¸åŒçš„éƒ¨åˆ†ã€‚ä»å·¦è‡³å³:

1.  è¯¥éƒ¨åˆ†æ˜¾ç¤ºäº†å›¾ä¸­æ‰€æœ‰ç›®çš„åœ°çš„åˆ—è¡¨ä»¥åŠå¯¼èˆªå›¾æ‰€åœ¨çš„ä½ç½®ã€‚
2.  åœ¨ä¸­é—´å’Œå¤§éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å›¾å½¢ä¸­æ‰€æœ‰ç›®çš„åœ°åŠå…¶è¿æ¥çš„å¯è§†åŒ–è¡¨ç¤ºã€‚
    å¦‚æœæ‚¨åœ¨å¸ƒå±€ä¸­ä½¿ç”¨å·¥å…·å‘½åç©ºé—´ï¼Œæ•°æ®ä¹Ÿå°†åœ¨è¿™é‡Œå‘ˆç°ï¼Œæ‚¨å¯ä»¥å¾ˆå¥½åœ°æŸ¥çœ‹æ‚¨çš„åº”ç”¨ç¨‹åºå’Œæ ·æœ¬æ•°æ®ã€‚
3.  ç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯æœ€å³è¾¹çš„éƒ¨åˆ†æ˜¯å±æ€§éƒ¨åˆ†ã€‚ä»…å½“æ‚¨é€‰æ‹©ç›®çš„åœ°æˆ–æ“ä½œæ—¶ï¼Œæ­¤éƒ¨åˆ†å†…å®¹æ‰ä¼šæ˜¾ç¤ºã€‚æ­¤éƒ¨åˆ†å°†æ˜¾ç¤ºå¹¶å…è®¸ä¿®æ”¹æ‰€é€‰é¡¹ç›®çš„å±æ€§ï¼Œæ— è®ºæ˜¯åŠ¨ä½œè¿˜æ˜¯ç›®çš„åœ°

## å‘å›¾è¡¨ä¸­æ·»åŠ ç›®çš„åœ°

é€šè¿‡åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸åŒçš„ç›®çš„åœ°ï¼Œå¼€å§‹æ„å»ºå¯¼èˆªå›¾ã€‚æˆ‘é¼“åŠ±ä½ ä»ä¸Šåˆ°ä¸‹å¼€å§‹æ„å»ºå¯¼èˆªå›¾ã€‚

æˆ‘å‘ç°è¿™ç§æ–¹å¼æ›´å®¹æ˜“ï¼Œå› ä¸ºç”¨ä¾‹å›¾çš„æœ€é¡¶å±‚åªæœ‰å°‘é‡çš„ç›®çš„åœ°ã€‚

å¦‚æœæˆ‘ä»¬åœ¨ä½œä¸ºæœ¬æ–‡ç¤ºä¾‹çš„ Event Finder åº”ç”¨ç¨‹åºä¸­æ·»åŠ æœ€é¡¶ç«¯çš„ç›®çš„åœ°ï¼Œæˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹ç»“æœ:

![](img/8fe014b6c12782a35166272a4552d74d.png)

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬æœ‰ 3 ä¸ªç›®çš„åœ°ï¼Œå®ƒä»¬æ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚è¿™äº›ç›®çš„åœ°å½¼æ­¤ä¸ç›¸è¿ï¼Œå› æ­¤ä¸ä¼šæœ‰å°†å®ƒä»¬é“¾æ¥åœ¨ä¸€èµ·çš„åŠ¨ä½œã€‚

ç¨åæˆ‘å°†å±•ç¤ºå¦‚ä½•å¯¼èˆªåˆ°è¿™äº›ç›®çš„åœ°ä¸­çš„æ¯ä¸€ä¸ªã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·»åŠ è´­ä¹°æœºç¥¨çš„ç‰‡æ®µï¼Œå¹¶æ‹¥æœ‰ä¸€ä¸ªç›¸äº’è¿æ¥çš„ç›®çš„åœ°æµã€‚

ä¸ºæ­¤ï¼Œæ‚¨åº”è¯¥é¦–å…ˆé‡å¤å‘å¯¼èˆªå›¾æ·»åŠ æ–°ç›®çš„åœ°çš„è¿‡ç¨‹ã€‚

è¦å¼€å§‹è¿›è¡Œè¿æ¥ï¼Œè¯·é€‰æ‹©æ‚¨æƒ³è¦å¼€å§‹çš„ç›®çš„åœ°ï¼Œå¹¶æ‹–åŠ¨ä¸€æ¡è¿æ¥ç»“æŸç›®çš„åœ°çš„çº¿ã€‚

ä»¥è¿™ç¯‡æ–‡ç« ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç°åœ¨å°†æœ‰è¿™æ ·çš„å¯¼èˆªå›¾:

![](img/84348668f8dd7fb3a4d8fb7091d44364.png)

## æ‰˜ç®¡å¯¼èˆªå›¾

å®é™…ä¸Šï¼Œè¿™ä¸ªå¯¼èˆªå›¾é™¤äº†ç»™ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­çš„æ—…ç¨‹æä¾›ä¸€ä¸ªå¾ˆå¥½çš„è§†è§‰è¡¨ç°ä¹‹å¤–ï¼Œä»€ä¹ˆä¹Ÿæ²¡åšã€‚

è¿™æ˜¯å› ä¸ºå¯¼èˆªå›¾éœ€è¦ä¸€ä¸ªç§°ä¸ºå¯¼èˆªä¸»æœºçš„ç‰¹æ®Šå®¹å™¨ã€‚

è¯¥ç»„ä»¶é‡‡ç”¨å¯¼èˆªå›¾ï¼Œå¹¶æä¾›ä½¿ç”¨`NavController`å¯¼èˆªä¸åŒç›®çš„åœ°çš„æœºåˆ¶ã€‚

å¯¼èˆªä¸»æœºä¸ºæˆ‘ä»¬å®Œæˆæ‰€æœ‰ç¹é‡çš„å·¥ä½œï¼Œæ¯”å¦‚å¤„ç†ç‰‡æ®µäº‹åŠ¡å’Œæ‰§è¡Œå¯¼èˆªæ‰€éœ€çš„æ‰€æœ‰å…¶ä»–äº‹æƒ…ã€‚

å¦‚æœä½ ä½¿ç”¨ Google ç°åœ¨æ¨èçš„å•æ´»åŠ¨åº”ç”¨ç¨‹åºç±»å‹çš„ç»“æ„ï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†æœ‰ä¸€ä¸ªæ´»åŠ¨ï¼Œåªæœ‰ä¸€ä¸ªå¯¼èˆªä¸»æœºå’Œä¸€ä¸ªå¯¼èˆªå›¾ã€‚

å¦‚æœæ‚¨æ­£åœ¨è¿›è¡Œè¿ç§»ï¼Œå»ºè®®å°†æ‚¨çš„æµç¨‹åˆ†æˆä¸åŒçš„æ´»åŠ¨ï¼Œå¹¶åœ¨äº§å“åŒ–é˜¶æ®µä¸ºæ¯ä¸ªæ´»åŠ¨æä¾›ä¸€ä¸ªå¯¼èˆªå›¾å’Œä¸»æœºã€‚

æ— è®ºæ‚¨æ˜¯å¯åŠ¨æ–°åº”ç”¨ç¨‹åºè¿˜æ˜¯è¿ç§»ç°æœ‰åº”ç”¨ç¨‹åºï¼Œæ‚¨çš„æ´»åŠ¨å¸ƒå±€éƒ½å¯èƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”å°†ä»…åŒ…å«å¯¼èˆªä¸»æœºï¼Œå¦‚ä¸‹æ‰€ç¤º:

åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­éœ€è¦æ³¨æ„çš„ä¸¤ä»¶äº‹æ˜¯è‡ªå®šä¹‰å±æ€§:

*   `app:navGraph`:å®šä¹‰å“ªä¸ªå¯¼èˆªå›¾å°†ä¸å¯¼èˆªä¸»æœºå…³è”
*   `app:defaultNavHost`:å¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ç½®ä¸ºçœŸï¼Œå°†å…è®¸å¯¼èˆªä¸»æœºåœ¨æŒ‰ä¸‹ç³»ç»Ÿåé€€æŒ‰é’®æ—¶è¿›è¡Œæ‹¦æˆªã€‚

ç°åœ¨ï¼Œå¦‚æœæ‚¨å¯åŠ¨å…·æœ‰å¯¼èˆªä¸»æœºçš„æ´»åŠ¨ï¼Œå®ƒå°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå¯¼èˆªå›¾ä¸­è®¾ç½®ä¸ºèµ·ç‚¹çš„ç›®çš„åœ°ã€‚

> **pro-tip** :å¦‚æœä½ æƒ³å¯è§†åŒ–ä½ çš„ç‰‡æ®µåœ¨å­¤ç«‹çŠ¶æ€ä¸‹çš„æ ·å­ï¼Œåœ¨å¯¼èˆªå›¾ä¸­å°†ç‰‡æ®µè®¾ç½®ä¸ºèµ·å§‹ç›®çš„åœ°ã€‚
> 
> ä¸ºæ­¤ï¼Œåœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­å³é”®å•å‡»ç›®çš„åœ°é¡¶éƒ¨ï¼Œå¹¶é€‰æ‹©â€œè®¾ä¸ºèµ·å§‹ç›®çš„åœ°â€ã€‚

## åœ¨ç›®çš„åœ°ä¹‹é—´å¯¼èˆª

æ—¢ç„¶å¯¼èˆªå›¾è¢«æ‰˜ç®¡åœ¨`NavFragmentHost`ä¸­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä»ä¸€ä¸ªç›®çš„åœ°ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç›®çš„åœ°ã€‚

åœ¨æ­¤å¤„æ˜¾ç¤ºçš„ç¤ºä¾‹ä¸­ï¼Œå¯¼èˆªåˆ°ä¸€ä¸ªç›®çš„åœ°çš„è¿‡ç¨‹æ˜¯åœ¨èµ·å§‹ç›®çš„åœ°å‘ç”Ÿäº‹ä»¶åå®Œæˆçš„ã€‚ä¾‹å¦‚ï¼Œå½“å•å‡»åˆ—è¡¨ä¸­çš„äº‹ä»¶æ—¶ï¼Œå¯¼èˆªåˆ° EventDetails ç‰‡æ®µã€‚

ä¸ºäº†åœ¨ç›®çš„åœ°ä¹‹é—´å¯¼èˆªï¼Œå¯¼èˆªä¸»æœºæœ‰ä¸€ä¸ªå«åš`NavController`çš„ç»„ä»¶ã€‚

`NavController`ç»„ä»¶è´Ÿè´£ç®¡ç†å¯¼èˆªä¸»æœºå†…å¯¼èˆªçš„å…¨è¿‡ç¨‹ã€‚

è¦åœ¨ç›®çš„åœ°å†…æ‰§è¡Œå¯¼èˆªï¼Œæ‚¨éœ€è¦é¦–å…ˆä»å¯¼èˆªä¸»æœºè·å– NavControllerã€‚

é€šè¿‡ä½¿ç”¨`NavHostFragment` `findNavController`çš„é™æ€æ–¹æ³•æ¥è¿™æ ·åš:

```
val navController = Navigation.*findNavController*(fragment)
```

è·å¾—`NavController`åï¼Œå¯ä»¥è¿™æ ·å¯¼èˆªåˆ°æ´»åŠ¨è¯¦æƒ…ç›®çš„åœ°:

`navController.navigate(R.id.event_details_fragment)`

R.id.event_details_fragment æ˜¯ EventDetailsFragmen çš„ç›®çš„åœ° id

è¦å¯¼èˆªå›ä¸Šä¸€ä¸ªç›®çš„åœ°ï¼Œè¿‡ç¨‹æ˜¯ç±»ä¼¼çš„ï¼Œæ‚¨éœ€è¦é¦–å…ˆè·å– NavControllerï¼Œç„¶ååƒè¿™æ ·è°ƒç”¨ **navigateUp** å‡½æ•°:

`navController.navigateUp()`

æ‚¨é€šå¸¸ä¼šå®ç°è¿™ä¸ªæ–¹æ³•æ¥å¤„ç†åœ¨ç›®çš„åœ°æŒ‰ä¸‹**å‘ä¸ŠæŒ‰é’®**ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•æ—¶ï¼Œå¯¼èˆªæ§åˆ¶å™¨ä¼šè®¡ç®—å‡ºä¸Šå‡å¯¹æ‚¨çš„ç›®çš„åœ°æ„å‘³ç€ä»€ä¹ˆã€‚

## **åœ¨ç›®çš„åœ°ä¹‹é—´ä¼ é€’æ•°æ®**

åœ¨ä¸åŒçš„ç›®çš„åœ°ä¹‹é—´å¯¼èˆªæ˜¯æ ¸å¿ƒçš„äº‹æƒ…ï¼Œä½†æ˜¯å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬ä¸ä»…ä»…æ˜¯å»å¦ä¸€ä¸ªç›®çš„åœ°ï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‘é€æŸç§ä¿¡æ¯ã€‚

æˆ‘ä»¬ä»ç„¶é€šè¿‡ä»¥ä¸¤ç§ä¸åŒçš„æ–¹å¼ä½¿ç”¨æ†ç»‘åŒ…æ¥åšåˆ°è¿™ä¸€ç‚¹:

*   ä½¿ç”¨å¯¼èˆªç»„ä»¶å®‰å…¨å‚æ•° Gradle æ’ä»¶çš„ç±»å‹å®‰å…¨æ–¹å¼ã€‚
*   ä¸€ç§éç±»å‹å®‰å…¨çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åƒå¾€å¸¸ä¸€æ ·è‡ªå·±æ„é€ åŒ…ã€‚

æˆ‘å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºå®‰å…¨å‚æ•°ï¼Œä»¥åŠå…¶ä»–ä¸€äº›æˆ‘è§‰å¾—å¾ˆé…·ä½†ç°åœ¨æ²¡æœ‰å¿…è¦çš„ä¸œè¥¿ã€‚

ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œä¸ºäº†åœ¨ç›®çš„åœ°ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼Œæˆ‘å°†é¦–å…ˆåœ¨ç›®çš„åœ°ä¸­ç”¨ä¸€ä¸ªåä¸º bundleArgs çš„å‡½æ•°åˆ›å»ºä¸€ä¸ªä¼´éšå¯¹è±¡ï¼Œè¯¥å‡½æ•°å°†æ¥å—ç›®çš„åœ°éœ€è¦çš„ä»»ä½•å‚æ•°å¹¶è¿”å›ä¸€ä¸ªåŒ…ã€‚

```
//EventDetailsFragment.kt **companion object** {
  **private const val ARG_EVENT** = **"event"

  fun** bundleArgs(event: Event): Bundle {
    **return** Bundle().*apply* **{ 
      this**.putParcelable(**ARG_EVENT**, event)
    **}** }
}
```

è¿™ç§æ–¹æ³•æœ‰åŠ©äºæˆ‘ä¿ç•™ä¸ç»‘å®šå‚æ•°å’Œå°†å®ƒä»¬æå–åˆ°ç›®çš„ç‰‡æ®µä¸­ç›¸å…³çš„æ‰€æœ‰å†…å®¹ã€‚

è¦å¯¼èˆªåˆ°æ­¤ç›®çš„åœ°å¹¶ä¼ é€’ä¿¡æ¯åŒ…ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ navigate æ–¹æ³•çš„é‡è½½ä¹‹ä¸€ï¼Œè¯¥é‡è½½æ¥å—æ“ä½œå’Œå‚æ•°:

```
val args = EventDetailsFragment.bundleArgs(event)
navController.navigate(R.id.*event_details_fragment*, args)
```

> åœ¨å¯¼èˆªç›®çš„åœ°ä¸­æå–è¿™äº›å‚æ•°çš„æ–¹å¼ä¿æŒä¸å˜ã€‚

# ç»“è®º

åœ¨åšäº†æˆ‘åœ¨ä¸Šä¸€ç¯‡[æ–‡ç« ](/google-developer-experts/android-navigation-components-part-1-236b2a479d44)ä¸­æ¨èçš„å‡†å¤‡å·¥ä½œåï¼Œå®ç°æˆ–è¿ç§»åˆ°å¯¼èˆªç»„ä»¶çš„ä½¿ç”¨å˜å¾—ç®€å•æ˜äº†ã€‚

è¿™æ˜¯å› ä¸º api æ˜¯æ¸…æ™°çš„ï¼Œå¹¶ä¸”åœ¨æœ€æ–°ç‰ˆæœ¬çš„ Android Studio ä¸­æ”¯æŒå®ƒä»¬çš„å·¥å…·éå¸¸æ£’ã€‚

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»å‡†å¤‡å¥½å¼€å§‹åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å®ç°å¯¼èˆªç»„ä»¶ï¼Œå¦‚æœæ‚¨æ­£åœ¨å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Google æ¨èçš„å•ä¸ªæ´»åŠ¨åº”ç”¨ç¨‹åºæ¥å®ç°ï¼›å¦‚æœæ‚¨æ­£åœ¨è¿ç§»ä¸€ä¸ªå¤§å‹åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥é€šè¿‡å¤šä¸ªæ´»åŠ¨åŠå…¶è‡ªå·±çš„å¯¼èˆªå›¾æ¥å®ç°ã€‚

æˆ‘æœŸå¾…ç€åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­çœ‹åˆ°ä½ ï¼Œå‘Šè¯‰ä½ å¼•æ“ç›–ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥åŠä¸€äº›æç¤ºå’ŒæŠ€å·§ï¼Œå¦‚æä¾›çš„æ‰©å±•åŠŸèƒ½ï¼Œç›´æ¥ç”¨ NavController æŒ‚é’©åº”ç”¨ç¨‹åºçš„ BottomNavã€‚

> å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–æ„è§ï¼Œè¯·éšæ—¶åœ¨ä¸‹é¢çš„è¯„è®ºåŒºç•™è¨€æˆ–å‘æ¨æ–‡ç»™æˆ‘ã€‚

[](https://twitter.com/DarioMungoi) [## è¾¾é‡Œå¥¥Â·è’™å¤ä¼ŠÂ·ğŸ‡²ğŸ‡¿(@è¾¾é‡Œå¥¥Â·è’™å¤ä¼Š)|æ¨ç‰¹

### è¾¾é‡Œå¥¥Â·è’™å¤ä¼ŠÂ·ğŸ‡²ğŸ‡¿çš„æœ€æ–°æ¨æ–‡ã€‚å®‰å“@shopify(ğŸ‡¨ğŸ‡¦)ã€‚è°·æ­Œå¼€å‘ä¸“å®¶(å®‰å“)â€¦

twitter.com](https://twitter.com/DarioMungoi) 

ä¸‹æ¬¡è§ï¼

**èµ„æº:**

[å®‰å“ ADB æ’­å®¢â€”å¯¼èˆªä¸“é¢˜](https://storage.googleapis.com/androiddevelopers/android_developers_backstage/ADB%2092%20Navigation%20Conversation.mp3)