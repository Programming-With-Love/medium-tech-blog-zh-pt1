<html>
<head>
<title>Get Started With Salesforce Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Salesforce编程入门</h1>
<blockquote>原文：<a href="https://medium.com/edureka/salesforce-developer-1051ba8ce733?source=collection_archive---------0-----------------------#2017-03-07">https://medium.com/edureka/salesforce-developer-1051ba8ce733?source=collection_archive---------0-----------------------#2017-03-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/93065b4fbdaa90c304416a705c9f30ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*k5CnlkxvUTQ3yfClQE5FDQ.jpeg"/></div><figcaption class="il im et er es in io bd b be z dx">Salesforce Developer Tutorial — Edureka</figcaption></figure><p id="c37e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你想成为一名软件应用开发者吗？你想在Force.com平台上构建自己的应用吗？如果你对这些问题的回答是肯定的，那么你一定要考虑成为一名销售人员。</p><p id="6418" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我之前的文章中，我已经讨论了关于<a class="ae jn" href="https://www.edureka.co/blog/what-is-salesforce/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=salesforce-developer" rel="noopener ugc nofollow" target="_blank"> Salesforce </a>的内容，并向您展示了如何使用Salesforce中可用的声明性选项来构建自定义应用程序。在本文中，我将讨论Salesforce中可用于开发您的应用程序的编程选项。</p><h1 id="1b0e" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">MVC架构</h1><p id="f771" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在我开始使用Visualforce和Apex构建应用程序之前，我将首先讨论Salesforce模型-视图-控制器架构。下图概述了Salesforce模型-视图-控制器架构以及不同的Salesforce组件。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kr"><img src="../Images/711295d3a1de8e68ce78afa8efe118af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mbEa3WKXf4ADp1qTMvA-Jg.png"/></div></div></figure><p id="9514" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">模型:</strong>模型是您的Salesforce数据对象、字段和关系。它由标准对象(客户、机会等)和自定义对象(您创建的对象)组成。</p><p id="1212" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">视图:</strong>视图表示数据的展现，即用户界面。在Salesforce中，视图由visualforce页面、组件、页面布局和选项卡组成。</p><p id="4b68" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">控制器:</strong>控制器是实际应用逻辑的构建块。只要用户与visualforce交互，您就可以执行操作。</p><h1 id="e0dc" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">销售力量在行动</h1><p id="2511" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">要成为Salesforce开发人员，您需要首先了解Salesforce应用程序如何工作。下图展示了Salesforce的全貌。客户端或用户向Salesforce应用程序请求或提供信息。这通常是使用Visualforce完成的。这些信息随后被传递到用Apex编写的应用程序逻辑层。根据信息的不同，可以在数据库中插入或删除数据。Salesforce还为您提供了使用web服务直接访问应用程序逻辑的选项。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es la"><img src="../Images/dc2493cbf7c2d0604af371bf7b302824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1epqgjvLo0Tj23Zo8PfGQ.png"/></div></div></figure><p id="d7ca" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Salesforce开发人员可以使用声明式或编程式选项进行开发。下图为您提供了每个用户界面、业务逻辑和数据模型层可用的声明性和编程性方法的详细信息。要构建您的用户界面，您可以使用使用页面布局和记录类型的声明式方法，也可以使用visualforce页面和组件等编程式方法。一般来说，只有在使用声明式方法无法实现必要的用户界面时，才应该使用编程式方法。要开发您的应用程序的业务逻辑层，您可以使用工作流、验证规则和批准流程的Salesforce声明性选项，或者使用触发器、控制器和类等编程方法。要访问数据模型，您可以使用对象、字段和关系的声明性方法。您还可以使用元数据API、REST API和批量API以编程方式访问数据模型。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es lb"><img src="../Images/5bb5de6249f5779ddb62f1c9416fbb82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UX1iEBbj-1zbZHKIIxQilw.png"/></div></div></figure><p id="1474" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经了解了Salesforce应用程序的工作方式、用于Salesforce开发的MVC架构以及Salesforce开发人员可用的两种不同方法。现在，让我来讨论一下Visualforce和Apex。</p><h1 id="1f58" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">视觉力量</h1><p id="1b97" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">要在Salesforce平台上构建应用程序，您需要知道如何开发用户界面和编写应用程序逻辑。作为Salesforce开发人员，您可以使用Visualforce开发用户界面。Visualforce是Force.com平台的用户界面框架。就像您如何使用<a class="ae jn" href="https://www.edureka.co/blog/what-is-javascript?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=salesforce-developer" rel="noopener ugc nofollow" target="_blank">JavaScript</a><a class="ae jn" href="https://www.edureka.co/blog/angular-tutorial?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=salesforce-developer" rel="noopener ugc nofollow" target="_blank">Angular-JS框架</a>为您的网站构建用户界面一样，您可以使用Visualforce为您的Salesforce应用程序设计和构建用户界面。</p><p id="c1f0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="lc">你可以在任何需要构建自定义页面的时候使用visualforce。可以使用Visualforce的几个例子是:</em> </strong></p><ul class=""><li id="72a2" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">构建电子邮件模板</li><li id="6c63" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">开发移动用户界面</li><li id="73e8" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">要生成存储在Salesforce中的数据的PDF</li><li id="2e15" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">将它们嵌入到您的标准页面布局中</li><li id="9ab5" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">要覆盖标准Salesforce页面</li><li id="092a" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">为您的应用程序开发自定义选项卡</li></ul><p id="80af" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"><em class="lc">visual force页面由两个主要元素组成:</em> </strong></p><ul class=""><li id="b041" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">Visualforce标记—visualforce标记包括visual force标记、HTML、JavaScript或任何其他支持web的代码。</li><li id="295d" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">Visualforce控制器—visual force控制器包含指定用户与组件交互时发生什么的指令。visualforce控制器是使用Apex编程语言编写的。</li></ul><p id="df85" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以查看一个简单的Visualforce页面代码以及下面的不同组件:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es lr"><img src="../Images/3f0b7c94a511ffafec9947df82000f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5q1KLXu5TTCHv1M172-gxg.png"/></div></div></figure><p id="99f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面我向您展示了编写一个简单的visualforce页面来显示国家及其货币值的步骤:</p><p id="7ac9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤1: </strong>从设置中，在快速查找框中输入Visualforce页面，然后选择Visualforce页面并单击新建。</p><p id="a4e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2: </strong>在编辑器中添加以下代码来显示国家及其货币值:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="291e" class="lx jp hh lt b fi ly lz l ma mb">&lt;apex:page standardController = “country__c”&gt;</span><span id="fd9b" class="lx jp hh lt b fi mc lz l ma mb">&lt;apex:pageBlock title="Countries"&gt;</span><span id="fa1b" class="lx jp hh lt b fi mc lz l ma mb">&lt;apex:column value="{!country__c.Name}"/&gt;</span><span id="65c6" class="lx jp hh lt b fi mc lz l ma mb">&lt;apex:column value="{!country__c.currency_value__c}"/&gt;</span><span id="0296" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:pageBlock&gt;</span><span id="6d40" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:page&gt;</span></pre><h1 id="00e9" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">顶点</h1><p id="4204" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">一旦您完成了用户界面的开发，作为一名Salesforce开发人员，您需要知道如何向您的应用程序添加自定义逻辑。您可以使用Apex编程语言编写控制器代码并将自定义逻辑添加到您的应用程序中。Apex是一种面向对象的编程语言，允许您在Force.com平台上执行流和事务控制语句。如果您以前使用过java编程语言，那么您可以轻松地学习Apex。Apex语法与java的语法有70%相似。</p><p id="6233" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">只要您想向应用程序添加自定义逻辑，就可以使用Apex。您可以使用Apex的几个例子是:</p><ul class=""><li id="cd0e" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">当您想在应用程序中添加web和电子邮件服务时</li><li id="c50c" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">当您想要执行复杂的业务流程时</li><li id="49c3" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">当您想要向应用程序添加复杂的验证规则时</li><li id="f9e4" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">当您想要在保存记录等操作上添加自定义逻辑时</li></ul><p id="e3a9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是Apex代码及其不同组件(如循环语句、控制流语句和SOQL查询)的屏幕截图:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es md"><img src="../Images/03ed9c888f06f213cf721b1d12ede0c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lx7lQ9Km0nkjxf3iNguiow.png"/></div></div></figure><p id="157e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们已经了解了Apex是什么以及何时使用它，让我深入探讨Apex编程。</p><h1 id="8b69" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">在Apex中编程</h1><p id="7e19" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">如果您已经理解了上述概念，那么您已经完成了成为Salesforce开发人员的一半旅程。在本节中，我将向您提供有关不同数据类型和变量的信息，从数据库检索数据的不同方法，并向您展示如何编写类和方法，从而更深入地了解Apex。</p><h2 id="b8c5" class="lx jp hh bd jq me mf mg ju mh mi mj jy ja mk ml kc je mm mn kg ji mo mp kk mq bi translated"><strong class="ak">数据类型和变量</strong></h2><p id="f354" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">Salesforce为您提供了4种不同的数据类型和变量。下表为您提供了4种数据类型的相关信息:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mr"><img src="../Images/8b846836cd6b465692b8b7b3ba697d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ocHPm_iMjMZGU_2LS6bprg.png"/></div></div></figure><h2 id="6f9b" class="lx jp hh bd jq me mf mg ju mh mi mj jy ja mk ml kc je mm mn kg ji mo mp kk mq bi translated"><strong class="ak">索科尔和SOSL </strong></h2><p id="1734" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">开发软件应用程序要求您知道如何插入和检索数据库中的数据。在Salesforce中，您可以使用SOQL和SOSL从数据库中检索数据。如果您想成为Salesforce开发人员，那么您必须知道这两种查询语言。我在下面为您提供了这些语言的详细解释:</p><ul class=""><li id="7f7c" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">SOQL代表Salesforce对象查询语言。使用SOQL语句，您可以从数据库中检索作为一个sObjects列表、单个sObject或count方法的整数的数据。您可以将SOQL视为SELECT SOQL查询的等价物。我在下面提供了一个SOQL查询的例子:</li></ul><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="ee80" class="lx jp hh lt b fi ly lz l ma mb">List&lt;Account&gt; accList = [SELECT Id, Name FROM Account WHERE Name=”YourName”];</span></pre><ul class=""><li id="6179" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">SOSL代表销售力量对象搜索语言。您可以使用SOSL语句来检索sObjects列表，其中每个列表都包含特定sObject类型的搜索结果。你可以把SOSL看作是一个数据库搜索查询的等价物。我在下面提供了一个SOSL查询的例子:</li></ul><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="fc79" class="lx jp hh lt b fi ly lz l ma mb">List&lt;List&lt;sObject&gt;&gt; searchList = [FIND ‘map*’ IN ALL FIELDS RETURNING Account (Id, Name), Contact, Opportunity, Lead];</span></pre><p id="28a8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当您知道数据驻留在哪个对象中时，可以使用SOQL当您不知道数据驻留在哪个对象中时，可以使用SOSL。</p><h2 id="4a5d" class="lx jp hh bd jq me mf mg ju mh mi mj jy ja mk ml kc je mm mn kg ji mo mp kk mq bi translated"><strong class="ak">类别和方法</strong></h2><p id="286d" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">像其他面向对象编程语言一样，您可以使用Apex开发类和方法。您可以将类视为一个蓝图，使用它来创建和使用各个对象。您可以将方法视为子程序，它作用于数据并返回值。我已经为您提供了编写下面的类和方法的语法:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es ms"><img src="../Images/02f1c337c66f6730e9614b163993e30b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06oZ8NsrpuzbI4nzPoIkTQ.png"/></div></div></figure><p id="b057" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我现在将向您展示如何在Apex中添加类和方法:</p><p id="d711" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤1: </strong>从“设置”中，在“快速查找”框中输入Apex类，然后选择Apex类并单击“新建”。</p><p id="cfd8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第二步:</strong>在编辑器中添加下面的类定义:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="5a21" class="lx jp hh lt b fi ly lz l ma mb">Public class HelloWorld {</span><span id="a4e7" class="lx jp hh lt b fi mc lz l ma mb">}</span></pre><p id="1d8d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3: </strong>在类的左括号和右括号之间添加一个方法定义:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="334b" class="lx jp hh lt b fi ly lz l ma mb">Public static void helloWorldMethod(Country__c[] countries) {</span><span id="b690" class="lx jp hh lt b fi mc lz l ma mb">For ( Country__c country : countries){</span><span id="258d" class="lx jp hh lt b fi mc lz l ma mb">country.currency_value__c *= 1.5;</span><span id="516b" class="lx jp hh lt b fi mc lz l ma mb">}</span><span id="3dd0" class="lx jp hh lt b fi mc lz l ma mb">}</span></pre><p id="e0eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第4步:</strong>点击保存，您应该会看到您的完整课程:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="4f3b" class="lx jp hh lt b fi ly lz l ma mb">Public class HelloWorld {</span><span id="ba13" class="lx jp hh lt b fi mc lz l ma mb">Public static void helloWorldMethod(Country__c[] countries) {</span><span id="bcae" class="lx jp hh lt b fi mc lz l ma mb">For ( Country__c country : countries){</span><span id="bc52" class="lx jp hh lt b fi mc lz l ma mb">country.currency_value__c *= 1.5;</span><span id="9d79" class="lx jp hh lt b fi mc lz l ma mb">}</span><span id="7bfc" class="lx jp hh lt b fi mc lz l ma mb">}</span></pre><p id="829a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以使用上面显示的语法和示例为您的Salesforce应用程序开发您自己的类和方法。要成为Salesforce开发人员，您需要知道的不仅仅是编写类和方法。在接下来的几节中，我将讨论使在Salesforce平台上开发应用程序变得简单和容易的主题。</p><h2 id="06ea" class="lx jp hh bd jq me mf mg ju mh mi mj jy ja mk ml kc je mm mn kg ji mo mp kk mq bi translated">扳机</h2><p id="7f4e" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">每个Salesforce开发人员必须知道Salesforce触发器的概念。您可能以前在使用其他数据库时遇到过触发器。触发器只是存储的程序，当您在更改Salesforce记录之前或之后执行操作时，会调用这些程序。例如，触发器可以在执行插入操作之前或执行更新操作时运行。有两种类型的触发器:</p><ul class=""><li id="d8f0" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated"><strong class="ir hi"> Before trigger </strong> —在将记录值保存到数据库之前，您可以使用before triggers更新或验证记录值。</li><li id="d100" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated"><strong class="ir hi"> After触发器</strong> —您可以使用After触发器来访问由系统设置的字段值，并影响其他记录中的更改。</li></ul><p id="ff85" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">触发器在以下操作之前或之后执行:</p><ul class=""><li id="99e4" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated">插入</li><li id="40e4" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">更新</li><li id="38fd" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">删除</li><li id="7976" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">合并</li><li id="673a" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">Upsert</li><li id="e7a5" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated">取消删除</li></ul><p id="8dd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我将向您展示如何在apex中添加触发器，方法是为您在上述课程中看到的国家对象添加触发器:</p><p id="76fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤1: </strong>从国家/地区的对象管理设置中，转到触发器并单击新建。</p><p id="3ae6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2: </strong>在触发器编辑器中，添加以下触发器定义:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="4be9" class="lx jp hh lt b fi ly lz l ma mb">Trigger HelloWorldTrigger on Country__c (before insert) {</span><span id="e5eb" class="lx jp hh lt b fi mc lz l ma mb">Country__c countries = Trigger.new;</span><span id="a313" class="lx jp hh lt b fi mc lz l ma mb">HelloWorld.helloWorldMethod(countries);</span><span id="d0a7" class="lx jp hh lt b fi mc lz l ma mb">}</span></pre><p id="3a26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">上述代码将在每次插入数据库之前更新您所在国家的货币。</p><h1 id="632f" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">调速器限制</h1><p id="59d4" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">您可能知道Salesforce在多租户架构上工作，这意味着资源在不同的客户端之间共享。为了确保没有一个客户端独占共享资源，Apex运行时引擎严格执行调控器限制。如果您的Apex代码超出了限制，预期的调控器会发出一个无法处理的运行时异常。因此，作为Salesforce开发人员，您在开发应用程序时必须非常小心。</p><h1 id="8fbe" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">批量操作</h1><p id="a54b" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">作为Salesforce开发人员，您必须始终确保您的代码保持调控器限制。为了确保Apex遵守调控器限制，您必须使用批量调用设计模式。批量操作是指在进行DML操作时提交多条记录。在进行DML操作之前，您必须始终确保将行添加到集合中。下图为您提供了批量操作设计模式的完整描述。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mt"><img src="../Images/43f687d085b8a1760acb6ab7ec133e77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_iwsqF1SwN8ggFG07db9w.png"/></div></div></figure><h1 id="f564" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">DMLs和数据操作</h1><p id="603d" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">您已经看到了如何使用SOQL和SOSL查询从数据库中检索数据。现在，让我们来看看可用于将数据插入Salesforce数据库的不同语句。对于Salesforce开发人员来说，必须知道这些语句可以做什么以及如何使用它们。</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mu"><img src="../Images/bc72e9a396eb2030bca487b6b076cd31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2r33MFitOFq9nxqFk7P2aw.png"/></div></div></figure><h2 id="6f01" class="lx jp hh bd jq me mf mg ju mh mi mj jy ja mk ml kc je mm mn kg ji mo mp kk mq bi translated"><strong class="ak">视觉力和顶点</strong></h2><p id="5bda" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在成为Salesforce开发人员的过程中，您走过了漫长的道路。接下来我将讨论如何集成您的visualforce页面和apex代码。您可以使用控制器和扩展连接visualforce页面和apex代码。</p><ul class=""><li id="fdac" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm li lj lk ll bi translated"><strong class="ir hi">自定义控制器— </strong>如果您希望您的visualforce页面完全以系统模式运行，即没有权限和字段级安全性，请使用自定义控制器。</li><li id="2505" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm li lj lk ll bi translated"><strong class="ir hi">控制器扩展— </strong>当您想要添加扩展标准或自定义控制器功能的新动作或功能时，请使用控制器扩展。</li></ul><p id="42e1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在下面的代码中，我向您展示了如何在visualforce页面中包含自定义控制器:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="91e6" class="lx jp hh lt b fi ly lz l ma mb">&lt;apex:page controller="myController" tabStyle="Account"&gt;</span><span id="4d01" class="lx jp hh lt b fi mc lz l ma mb">&lt;apex:form&gt;</span><span id="fd5b" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:form&gt;</span><span id="530d" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:page&gt;</span></pre><p id="907e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在下面的代码中，我向您展示了如何在您的visualforce页面中包含控制器扩展:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="977a" class="lx jp hh lt b fi ly lz l ma mb">&lt;apex:page standardController="Account" extensions="extensionClass"&gt;</span><span id="5511" class="lx jp hh lt b fi mc lz l ma mb">&lt;apex:form&gt;</span><span id="753e" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:form&gt;</span><span id="7425" class="lx jp hh lt b fi mc lz l ma mb">&lt;/apex:page&gt;</span></pre><h1 id="b6cd" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">异常处理</h1><p id="c792" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">如果您以前开发过应用程序，那么您肯定会遇到异常。异常是一种改变程序正常执行流程的特殊情况。例如，将一个数除以零或访问越界的列表值。如果您不处理这些异常，那么流程的执行将会停止，DMLs将会回滚。</p><p id="8c98" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为一名Salesforce开发人员，您需要知道如何捕捉这些异常，以及一旦捕捉到这些异常该做什么。要捕捉异常，可以使用try、catch和finally构造。一旦捕获到异常，就可以用下面提到的方法来处理它:</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mu"><img src="../Images/d333987a2fe5f96a65c02ce710c5f4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ti9_I5X_tVNmMoYNdABilQ.png"/></div></div></figure><p id="9322" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，在本文中，您已经看到了如何使用Visualforce开发您的用户界面，您已经看到了如何使用Apex和不同的概念(如触发器、批量操作和异常处理)编写自定义逻辑。最后但同样重要的是，我们将了解一下Salesforce测试框架。</p><h1 id="156d" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">测试</h1><p id="47c7" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">作为Salesforce开发人员，您需要知道如何测试您编写的代码。测试驱动开发是确保软件应用程序长期成功的好方法。您需要测试您的应用程序，以便您可以验证您的应用程序是否按预期工作。特别是，如果你正在为客户开发一个应用程序，那么在交付最终产品之前测试它是非常重要的。Apex为您提供了一个测试框架，允许您编写单元测试、运行测试、检查测试结果并获得代码覆盖率结果。</p><p id="3093" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="lc">你可以用两种方式测试你的应用:</em> </strong></p><ol class=""><li id="f83e" class="ld le hh ir b is it iw ix ja lf je lg ji lh jm mv lj lk ll bi translated">通过Salesforce用户界面，这种测试方式很重要，但不会涵盖您的应用程序的所有用例</li><li id="77f5" class="ld le hh ir b is lm iw ln ja lo je lp ji lq jm mv lj lk ll bi translated">您可以测试批量功能，使用SOAP API或visualforce standard set控制器，最多可以在您的代码中传递200条记录</li></ol><p id="c2fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">测试类不向数据库提交任何数据，并用@isTest进行注释。我已经向您展示了如何通过向下面的HelloWorld类添加一个测试类来添加一个测试类:</p><pre class="ks kt ku kv fd ls lt lu lv aw lw bi"><span id="1fb1" class="lx jp hh lt b fi ly lz l ma mb">@isTest</span><span id="3917" class="lx jp hh lt b fi mc lz l ma mb">private class HelloWorldTestClass {</span><span id="243a" class="lx jp hh lt b fi mc lz l ma mb">static testMethod void validateHelloWorld() {</span><span id="2647" class="lx jp hh lt b fi mc lz l ma mb">Country__c country = new Country__c(Name=”India”, currency_value__c=50.0);</span><span id="e4e8" class="lx jp hh lt b fi mc lz l ma mb">Insert country;</span><span id="546d" class="lx jp hh lt b fi mc lz l ma mb">country = [SELECT currency_value__c FROM Country WHERE Id = country.Id ];</span><span id="1a51" class="lx jp hh lt b fi mc lz l ma mb">System.assertEquals(75, country.currency_value__c);</span><span id="250d" class="lx jp hh lt b fi mc lz l ma mb">}</span><span id="a173" class="lx jp hh lt b fi mc lz l ma mb">}</span></pre><p id="7afe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我希望您已经理解了成为Salesforce开发人员所需了解的所有概念。如果你想查看更多关于人工智能、DevOps、道德黑客等市场最热门技术的文章，那么你可以参考<a class="ae jn" href="https://www.edureka.co/blog/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=salesforce-developer" rel="noopener ugc nofollow" target="_blank"> Edureka的官方网站。</a></p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中解释Salesforce各个方面的其他文章。</p><blockquote class="mw mx my"><p id="901d" class="ip iq lc ir b is it iu iv iw ix iy iz mz jb jc jd na jf jg jh nb jj jk jl jm ha bi translated">1.<a class="ae jn" rel="noopener" href="/edureka/what-is-salesforce-5df4830aee98">什么是Salesforce？</a></p><p id="7658" class="ip iq lc ir b is it iu iv iw ix iy iz mz jb jc jd na jf jg jh nb jj jk jl jm ha bi translated">2.<a class="ae jn" rel="noopener" href="/edureka/salesforce-tutorial-5bac7659e0c5"> Salesforce教程</a></p><p id="dc5c" class="ip iq lc ir b is it iu iv iw ix iy iz mz jb jc jd na jf jg jh nb jj jk jl jm ha bi translated">3.<a class="ae jn" rel="noopener" href="/edureka/salesforce-service-cloud-b8b8dbdae9f9"> Salesforce服务云</a></p><p id="72a4" class="ip iq lc ir b is it iu iv iw ix iy iz mz jb jc jd na jf jg jh nb jj jk jl jm ha bi translated">4.<a class="ae jn" rel="noopener" href="/edureka/salesforce-marketing-cloud-d057c266d87f"> Salesforce营销云</a></p></blockquote></div><div class="ab cl nc nd go ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ha hb hc hd he"><p id="4dcd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lc">原载于2017年3月7日www.edureka.co</em><a class="ae jn" href="https://www.edureka.co/blog/salesforce-developer/" rel="noopener ugc nofollow" target="_blank"><em class="lc"/></a><em class="lc">。</em></p></div></div>    
</body>
</html>