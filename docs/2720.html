<html>
<head>
<title>Efficient Management of States in React with React Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Redux有效管理React中的状态</h1>
<blockquote>原文：<a href="https://medium.com/edureka/react-redux-tutorial-2b3d81cfd3f7?source=collection_archive---------2-----------------------#2017-09-15">https://medium.com/edureka/react-redux-tutorial-2b3d81cfd3f7?source=collection_archive---------2-----------------------#2017-09-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/c08abf9ccc2c51337880b7e66265048a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*oc1j2Ab2hVXFFqOIOXFlrA.png"/></div><figcaption class="il im et er es in io bd b be z dx">React Redux Tutorial-Edureka</figcaption></figure><p id="cdce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">React是最流行的JavaScript库之一，用于前端开发。通过提供基于组件的方法，我们的应用程序开发变得更加容易和快速。</p><p id="b864" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如你可能知道的，它不是完整的框架，而只是MVC(模型-视图-控制器)框架的视图部分。那么，在使用React开发的应用程序中，如何跟踪数据和处理事件呢？好吧，这就是Redux作为救星从后端处理应用程序数据流的地方。</p><p id="5323" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过这篇关于React Redux教程的文章，我将解释你需要知道的关于如何将Redux与React应用程序集成的一切。以下是我将在React Redux教程下讨论的主题:</p><ul class=""><li id="5e2e" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">为什么Redux用React？</li><li id="b9b4" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Redux是什么？</li><li id="9aed" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Redux的优势</li><li id="6c0b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Redux的组件</li><li id="a8e9" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">与Redux反应</li></ul><h1 id="511a" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">为什么Redux用React？</h1><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es kz"><img src="../Images/fc45216de6a6b4dc60476ebfd75eee50.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*fNwxGufinv0owL0jvQR5TA.png"/></div></figure><p id="4278" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如我已经提到的，React遵循基于组件的方法，其中数据流经组件。事实上，React中的数据总是从父组件流向子组件，这使得它是单向的。这无疑使我们的数据保持有序，并帮助我们更好地控制应用程序。因此，应用程序的状态包含在特定的存储中，因此，其余组件保持松散耦合。这使得我们的应用程序更加灵活，从而提高了效率。这就是为什么从父组件到子组件的通信是方便的。</p><p id="f1ff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是当我们试图与非父组件通信时会发生什么呢？</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es kz"><img src="../Images/8b95440fecd3a0b94e06915d92d8f037.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*Cg82dJINUuD8sYbHhN9TGw.png"/></div></figure><p id="95fc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">子组件永远不能将数据传递回父组件。React不提供任何组件间直接通信的方式。尽管React具有支持这种方法的特性，但它被认为是一种糟糕的做法。它容易出错，导致代码杂乱无章。那么，两个非父组件如何互相传递数据呢？</p><p id="9c36" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就是React未能提供解决方案的地方，Redux就出现了。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/1e188f217e668331158964cca47864f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*w_QU2_rrFPOIyLFBtelyBg.png"/></div></figure><p id="3987" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Redux提供了一个“<strong class="ir hi">商店</strong>作为这个问题的解决方案。存储区是您可以将所有应用程序状态存储在一起的地方。现在，组件可以"<em class="le">将</em>状态更改发送给存储，而不是直接发送给其他组件。然后，需要关于状态变化的更新的组件可以"<em class="le">向商店订阅</em>。</p><p id="fea4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，有了Redux，组件从哪里获得它们的状态以及它们应该把它们的状态发送到哪里就变得很清楚了。现在，发起更改的组件不必担心需要状态更改的组件列表，而可以简单地将更改分派给存储。这就是Redux如何使<em class="le">数据流</em>变得更容易。</p><h1 id="c8bf" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Redux是什么？</h1><p id="cfb9" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">和React一样，Redux也是一个广泛用于前端开发的库。它基本上是一个在JavaScript应用程序中管理数据状态和UI状态的工具。Redux将应用程序数据和业务逻辑分离到自己的容器中，以便让React只管理视图。它不是传统的库或框架，而是应用程序数据流架构。它与单页应用程序(SPAs)最兼容，在单页应用程序中，随着时间的推移，状态的管理会变得复杂。</p><p id="ff1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Redux是由<em class="le">丹·阿布拉莫夫</em>和<em class="le">安德鲁·克拉克</em>在2015年6月左右创作的。它的灵感来自脸书的Flux，并受到函数式编程语言<em class="le"> Elm </em>的影响。Redux很快流行起来，因为它简单、小(只有2 KB)且文档丰富。</p><h2 id="2d7b" class="ll kc hh bd kd lm ln lo kh lp lq lr kl ja ls lt kp je lu lv kt ji lw lx kx ly bi translated"><strong class="ak">Redux的原理</strong></h2><p id="62ba" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">Redux遵循三个基本原则:</p><ol class=""><li id="6ebf" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm lz jt ju jv bi translated"><strong class="ir hi"> <em class="le">单一事实来源:</em> </strong>整个应用程序的状态存储在一个单一存储内的对象/状态树中。单一状态树使得跟踪随时间的变化以及调试或检查应用程序变得更加容易。对于更快的开发周期，它有助于在开发中保持应用程序的状态。</li><li id="2f8c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lz jt ju jv bi translated"><strong class="ir hi"> <em class="le">状态只读:</em> </strong>改变状态的唯一方法是触发一个动作。动作是描述变更的普通JS对象。就像状态是数据的最小表示一样，动作是数据变化的最小表示。一个动作必须有一个类型属性(通常是一个字符串常量)。所有的变化都是集中的，并以严格的顺序一个接一个地发生。</li><li id="bda9" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lz jt ju jv bi translated"><strong class="ir hi"> <em class="le">用纯函数做改变:</em> </strong>为了指定状态树如何被动作转化，你需要纯函数。纯函数是那些返回值仅依赖于参数值的函数。Reducers只是纯粹的函数，它接受前一个状态和一个动作，然后返回下一个状态。您的应用程序中可以有一个减速器，随着它的增长，您可以将其拆分成更小的减速器。这些较小的缩减器将管理状态树的特定部分。</li></ol><h1 id="57f7" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Redux的优势</h1><p id="6c00" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">以下是Redux的一些主要优势:</p><ul class=""><li id="080a" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi">结果的可预测性— </strong>因为总是有一个真实的来源，即商店，所以不存在如何将当前状态与应用程序的动作和其他部分同步的混淆。</li><li id="0551" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">可维护性— </strong>代码变得更容易维护，具有可预测的结果和严格的结构。</li><li id="3f71" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">服务器端渲染</strong> —您只需要将在服务器上创建的存储传递到客户端。这对于初始渲染非常有用，并提供了更好的用户体验，因为它优化了应用程序的性能。</li><li id="4862" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">开发人员工具— </strong>从动作到状态变化，开发人员可以实时跟踪应用程序中发生的一切。</li><li id="5b50" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">社区和生态系统— </strong> Redux背后有一个庞大的社区，这使得它的使用更具吸引力。一个由才华横溢的个人组成的大型社区为改善图书馆做出了贡献，并开发了各种应用程序。</li><li id="b4c2" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">易于测试— </strong>冗余代码大多是小的、纯粹的、孤立的函数。这使得代码是可测试的和独立的。</li><li id="c573" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">组织— </strong> Redux非常精确地规定了代码应该如何组织，这使得团队使用代码时更加一致和容易。</li></ul><h1 id="5139" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Redux的组件</h1><p id="deda" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">Redux有四个组件。</p><ol class=""><li id="c399" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm lz jt ju jv bi translated">行动</li><li id="d943" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lz jt ju jv bi translated">还原剂</li><li id="a285" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lz jt ju jv bi translated">商店</li><li id="f392" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lz jt ju jv bi translated">视角</li></ol><p id="a461" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们详细讨论一下:</p><h2 id="f930" class="ll kc hh bd kd lm ln lo kh lp lq lr kl ja ls lt kp je lu lv kt ji lw lx kx ly bi translated"><strong class="ak">动作</strong></h2><p id="be61" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">改变状态内容的唯一方法是发出一个动作。动作是普通的JavaScript对象，是从应用程序向商店发送数据(用户交互、内部事件，如API调用和表单提交)的主要信息源。商店仅从操作中接收信息。您必须使用<strong class="ir hi"> store.dispatch() </strong>将操作发送到商店。<br/>内部动作是简单的JavaScript对象，具有一个<strong class="ir hi">类型</strong>属性(通常是字符串常量)，描述动作的类型和发送到存储的全部信息。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="482c" class="ll kc hh mb b fi mf mg l mh mi">{<br/>    type: ADD_TODO,<br/>    text<br/>}</span></pre><p id="d429" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">动作是使用动作创建器创建的，动作创建器是返回动作的普通函数。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="fbda" class="ll kc hh mb b fi mf mg l mh mi">function addTodo(text) {<br/>    return {<br/>        type: ADD_TODO,<br/>        text<br/>    }<br/>}</span></pre><ul class=""><li id="35b9" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">要在应用程序中的任何地方调用操作，请使用<strong class="ir hi"> dispatch() </strong>方法:</li></ul><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="0c8f" class="ll kc hh mb b fi mf mg l mh mi">dispatch(addTodo(text));</span></pre><h2 id="3fa9" class="ll kc hh bd kd lm ln lo kh lp lq lr kl ja ls lt kp je lu lv kt ji lw lx kx ly bi translated"><strong class="ak">减速器</strong></h2><p id="9b8a" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">动作描述了<em class="le">某事发生的事实</em>，但是没有说明应用程序的状态如何响应变化。这是减速器的工作。它基于array reduce方法，在该方法中，它接受回调(reducer ),并允许您从多个值、整数之和或值流的累积中获取单个值。在Redux中，reducers是(纯)函数，它接受应用程序和动作的当前状态，然后返回一个新状态。理解减速器如何工作很重要，因为它们完成了大部分工作。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="5c75" class="ll kc hh mb b fi mf mg l mh mi">function reducer(state = initialState, action) {<br/>    switch (action.type) {<br/>        case ADD_TODO:<br/>            return Object.assign({}, state,<br/>                { todos: [ ...state.todos,<br/>                    {<br/>                        text: action.text,<br/>                        completed: false<br/>                    }<br/>                    ]<br/>                })<br/>        default:<br/>            return state<br/>    }<br/>}</span></pre><h2 id="893e" class="ll kc hh bd kd lm ln lo kh lp lq lr kl ja ls lt kp je lu lv kt ji lw lx kx ly bi translated"><strong class="ak">商店</strong></h2><p id="d775" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">store是一个JavaScript对象，它可以保存应用程序的状态，并提供一些助手方法来访问状态、调度操作和注册侦听器。应用程序的整个状态/对象树保存在单个存储中。因此，Redux非常简单且可预测。我们可以将中间件传递给商店来处理数据，并记录改变商店状态的各种操作。所有的动作通过reducers返回一个新的状态。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="4648" class="ll kc hh mb b fi mf mg l mh mi">import { createStore } from 'redux'<br/>import todoApp from './reducers'<br/> <br/>let store = createStore(reducer);</span></pre><h2 id="9afa" class="ll kc hh bd kd lm ln lo kh lp lq lr kl ja ls lt kp je lu lv kt ji lw lx kx ly bi translated"><strong class="ak">视图</strong></h2><p id="2e9f" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">智能和非智能组件一起构建视图。视图的唯一目的是显示商店传递的日期。智能组件负责这些动作。智能组件下面的哑组件在它们需要触发动作时通知它们。智能组件依次传递道具，而非智能组件将这些道具视为回调动作。</p><p id="4bed" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下图显示了数据实际上是如何流经Redux中所有上述组件的。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="er es mj"><img src="../Images/0945c8486bd304d6edd09a3fb6a1842c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1lMtY3acHxo2dDKdjlWUhA.png"/></div></div></figure><h1 id="cb43" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">与Redux反应</h1><p id="c111" class="pw-post-body-paragraph ip iq hh ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">既然您已经熟悉了Redux及其组件，现在让我们看看如何将它与React应用程序集成。</p><p id="7096" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第一步:</strong>你需要设置基本的react、webpack、babel设置。下面是我们在这个应用程序中使用的依赖关系。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="2375" class="ll kc hh mb b fi mf mg l mh mi">"dependencies": {<br/>  "babel-core": "^6.10.4",<br/>  "babel-loader": "^6.2.4",<br/>  "babel-polyfill": "^6.9.1",<br/>  "babel-preset-es2015": "^6.9.0",<br/>  "babel-preset-react": "^6.11.1",<br/>  "babel-register": "^6.9.0",<br/>  "cross-env": "^1.0.8",<br/>  "css-loader": "^0.23.1",<br/>  "expect": "^1.20.1",<br/>  "node-libs-browser": "^1.0.0",<br/>  "node-sass": "^3.8.0",<br/>  "react": "^15.1.0",<br/>  "react-addons-test-utils": "^15.1.0",<br/>  "react-dom": "^15.1.0",<br/>  "react-redux": "^4.4.5",<br/>  "redux": "^3.5.2",<br/>  "redux-logger": "^2.6.1",<br/>  "redux-promise": "^0.5.3",<br/>  "redux-thunk": "^2.1.0",<br/>  "sass-loader": "^4.0.0",<br/>  "style-loader": "^0.13.1",<br/>  "webpack": "^1.13.1",<br/>  "webpack-dev-middleware": "^1.6.1",<br/>  "webpack-dev-server": "^1.14.1",<br/>  "webpack-hot-middleware": "^2.11.0"<br/>},</span></pre><p id="82d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2: </strong>一旦你完成了依赖项的安装，那么在<strong class="ir hi"> src </strong>文件夹中创建<strong class="ir hi"> components </strong>文件夹。在创建的<strong class="ir hi"> App.js </strong>文件中。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="68f1" class="ll kc hh mb b fi mf mg l mh mi">import React from 'react';<br/>import UserList from '../containers/user-list';<br/>import UserDetails from '../containers/user-detail';<br/>require('../../scss/style.scss');<br/> <br/>const App = () =&gt; (<br/>    &lt;div&gt;<br/>        &lt;h2&gt;User List&lt;/h2&gt;<br/>        &lt;UserList /&gt;<br/>        &lt;hr /&gt;<br/>        &lt;h2&gt;User Details&lt;/h2&gt;<br/>        &lt;UserDetails /&gt;<br/>    &lt;/div&gt;<br/>);<br/> <br/>export default App;</span></pre><p id="85b1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第三步:</strong>接下来新建一个<strong class="ir hi"> actions </strong>文件夹，并在其中创建<strong class="ir hi"> index.js </strong>。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="4a31" class="ll kc hh mb b fi mf mg l mh mi">export const selectUser = (user) =&gt; {<br/>    console.log("You clicked on user: ", user.first);<br/>    return {<br/>        type: 'USER_SELECTED',<br/>        payload: user<br/>    }<br/>};</span></pre><p id="ff80" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤4: </strong>现在在一个名为<strong class="ir hi">容器的新文件夹中创建<strong class="ir hi"> user-details.js </strong>。</strong></p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="83f7" class="ll kc hh mb b fi mf mg l mh mi">import React, {Component} from 'react';<br/>import {connect} from 'react-redux';<br/> <br/>class UserDetail extends Component {<br/>    render() {<br/>        if (!this.props.user) {<br/>            return (&lt;div&gt;Select a user...&lt;/div&gt;);<br/>        }<br/>        return (<br/>            &lt;div&gt;<br/>                &lt;img height="150" width="150" src={this.props.user.thumbnail} /&gt;<br/>                &lt;h2&gt;{this.props.user.first} {this.props.user.last}&lt;/h2&gt;<br/>                &lt;h3&gt;Age: {this.props.user.age}&lt;/h3&gt;<br/>                &lt;h3&gt;Description: {this.props.user.description}&lt;/h3&gt;<br/>            &lt;/div&gt;<br/>        );<br/>    }<br/>}<br/> <br/>function mapStateToProps(state) {<br/>    return {<br/>        user: state.activeUser<br/>    };<br/>}<br/> <br/>export default connect(mapStateToProps)(UserDetail);</span></pre><p id="3f6f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第五步:</strong>在同一个文件夹下创建<strong class="ir hi"> user-list.js </strong>文件。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="f60b" class="ll kc hh mb b fi mf mg l mh mi">import React, {Component} from 'react';<br/>import {bindActionCreators} from 'redux';<br/>import {connect} from 'react-redux';<br/>import {selectUser} from '../actions/index'<br/>class UserList extends Component {<br/>    renderList() {<br/>        return this.props.users.map((user) =&gt; {<br/>            return (<br/>                &lt;li key={user.id}<br/>                    onClick={() =&gt; this.props.selectUser(user)}<br/>                &gt;<br/>                    {user.first} {user.last}<br/>                &lt;/li&gt;<br/>            );<br/>        });<br/>    }<br/>    render() {<br/>        return (<br/>            &lt;ul&gt;<br/>                {this.renderList()}<br/>            &lt;/ul&gt;<br/>        );<br/>    }<br/>}<br/>function mapStateToProps(state) {<br/>    return {<br/>        users: state.users<br/>    };<br/>}<br/>function matchDispatchToProps(dispatch){<br/>    return bindActionCreators({selectUser: selectUser}, dispatch);<br/>}<br/>export default connect(mapStateToProps, matchDispatchToProps)(UserList);</span></pre><p id="e057" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第六步:</strong>现在创建<strong class="ir hi"> reducers </strong>文件夹，并在其中创建<strong class="ir hi"> index.js </strong>。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="e63e" class="ll kc hh mb b fi mf mg l mh mi">import {combineReducers} from 'redux';<br/>import UserReducer from './reducer-users';<br/>import ActiveUserReducer from './reducer-active-user';<br/> <br/>const allReducers = combineReducers({<br/>    users: UserReducer,<br/>    activeUser: ActiveUserReducer<br/>});<br/>export default allReducers</span></pre><p id="c097" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第七步:</strong>在同一个<strong class="ir hi"> reducers </strong>文件夹下，创建<strong class="ir hi"> reducer-users.js </strong>文件。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="45dc" class="ll kc hh mb b fi mf mg l mh mi">export default function () {<br/>    return [<br/>        {<br/>            id: 1,<br/>            first: "Maxx",<br/>            last: "Flinn",<br/>            age: 17,<br/>            description: "Loves basketball",<br/>            thumbnail: "<a class="ae mo" href="https://goo.gl/1KNpiy" rel="noopener ugc nofollow" target="_blank">https://goo.gl/1KNpiy</a>"<br/>        },<br/>        {<br/>            id: 2,<br/>            first: "Allen",<br/>            last: "Matt",<br/>            age: 25,<br/>            description: "Food Junky.",<br/>            thumbnail: "<a class="ae mo" href="https://goo.gl/rNLgwv" rel="noopener ugc nofollow" target="_blank">https://goo.gl/rNLgwv</a>"<br/>        },<br/>        {<br/>            id: 3,<br/>            first: "Kris",<br/>            last: "Chen",<br/>            age: 23,<br/>            description: "Music Lover.",<br/>            thumbnail: "<a class="ae mo" href="https://goo.gl/EVbPHb" rel="noopener ugc nofollow" target="_blank">https://goo.gl/EVbPHb</a>"<br/>        }<br/>    ]<br/>}</span></pre><p id="8713" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤8: </strong>现在在<strong class="ir hi"> reducers </strong>文件夹中创建一个<strong class="ir hi"> reducer-active-user.js </strong>文件。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="95fb" class="ll kc hh mb b fi mf mg l mh mi">export default function (state = null, action) {<br/>    switch (action.type) {<br/>        case 'USER_SELECTED':<br/>            return action.payload;<br/>            break;<br/>    }<br/>    return state;<br/>}</span></pre><p id="ff4c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第9步:</strong>现在你需要在<strong class="ir hi">根</strong>文件夹中创建<strong class="ir hi"> index.js </strong>。</p><pre class="la lb lc ld fd ma mb mc md aw me bi"><span id="4d9c" class="ll kc hh mb b fi mf mg l mh mi">import 'babel-polyfill';<br/>import React from 'react';<br/>import ReactDOM from "react-dom";<br/>import {Provider} from 'react-redux';<br/>import {createStore, applyMiddleware} from 'redux';<br/>import thunk from 'redux-thunk';<br/>import promise from 'redux-promise';<br/>import createLogger from 'redux-logger';<br/>import allReducers from './reducers';<br/>import App from './components/App';<br/> <br/>const logger = createLogger();<br/>const store = createStore(<br/>    allReducers,<br/>    applyMiddleware(thunk, promise, logger)<br/>);<br/> <br/>ReactDOM.render(<br/>    &lt;Provider store={store}&gt;<br/>        &lt;App /&gt;<br/>    &lt;/Provider&gt;,<br/>    document.getElementById('root')<br/>);</span></pre><p id="af65" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤10: </strong>现在你已经完成了代码的编写，在<strong class="ir hi"><em class="le">localhost:3000</em></strong>启动你的应用程序。</p><p id="e685" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就把我们带到了React Redux教程这篇文章的结尾。我希望通过这篇React Redux教程文章，我能够清楚地解释什么是Redux，它的组成部分，以及为什么我们使用React。如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释Reactjs的各个其他方面。</p><blockquote class="mp mq mr"><p id="93c3" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">1.<a class="ae mo" rel="noopener" href="/edureka/reactjs-tutorial-aa087fd7fc90"> ReactJS教程</a></p><p id="1e20" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">2.<a class="ae mo" rel="noopener" href="/edureka/react-router-2aab4e781736"> React路由器v4教程</a></p><p id="0111" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">3.<a class="ae mo" rel="noopener" href="/edureka/react-components-65dc1d753af5"> ReactJS组件</a></p><p id="7942" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">4.<a class="ae mo" rel="noopener" href="/edureka/html-vs-html5-83302f95652e"> HTML vs HTML5 </a></p><p id="43cb" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">5.<a class="ae mo" rel="noopener" href="/edureka/what-is-rest-api-d26ea9000ee6">什么是REST API？</a></p><p id="f045" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">6.<a class="ae mo" rel="noopener" href="/edureka/flutter-vs-react-native-58133fbf9f33">颤振vs反作用自然</a></p><p id="d68c" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">7.<a class="ae mo" rel="noopener" href="/edureka/front-end-developer-skills-ebb32d19f488">前端开发者技能</a></p><p id="9634" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">8.<a class="ae mo" rel="noopener" href="/edureka/front-end-developer-resume-c3d443f98296">前端开发人员简历</a></p><p id="a315" class="ip iq le ir b is it iu iv iw ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl jm ha bi translated">9.<a class="ae mo" rel="noopener" href="/edureka/web-development-projects-b01f0fe85d3f">网络开发项目</a></p></blockquote></div><div class="ab cl mv mw go mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ha hb hc hd he"><p id="a027" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="le">原载于2017年9月15日www.edureka.co</em><em class="le">的</em> <a class="ae mo" href="https://www.edureka.co/blog/react-redux-tutorial/" rel="noopener ugc nofollow" target="_blank"> <em class="le">。</em></a></p></div></div>    
</body>
</html>