<html>
<head>
<title>Understanding MediaSession (Part 3/4)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解媒体会话(第3/4部分)</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/understanding-mediasession-part-3-4-b4919583a82?source=collection_archive---------6-----------------------#2017-09-03">https://medium.com/androiddevelopers/understanding-mediasession-part-3-4-b4919583a82?source=collection_archive---------6-----------------------#2017-09-03</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="8de2" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">如何将它用于简单的用例</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/93f7b6ad9680bb3171a035a2d4a6b5bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vvs6vsFYSU9EVhrxBYyTDg.png"/></div></div></figure><h1 id="32ba" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">介绍</h1><p id="bfcd" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">这一系列文章的目标是让你深入了解<code class="du kw kx ky kz b">MediaSession</code>，它有什么用途，什么时候用，什么时候不用。这是4部分系列的第三部分，包括:</p><ol class=""><li id="7c62" class="la lb hh kc b kd lc kg ld kj le kn lf kr lg kv lh li lj lk bi translated"><a class="ae ll" rel="noopener" href="/@nazmul/understanding-mediasession-part-1-3-e4d2725f18e4">media session适合我吗？</a></li><li id="c8dc" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lh li lj lk bi translated"><a class="ae ll" rel="noopener" href="/@nazmul/understanding-mediasession-part-2-3-ad291fd32d60">了解复杂的媒体环境</a></li><li id="edcc" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lh li lj lk bi translated"><strong class="kc hi">简单用例如何使用</strong> <em class="lr">(本文)</em></li><li id="240d" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lh li lj lk bi translated"><a class="ae ll" rel="noopener" href="/@nazmul/understanding-mediasession-part-4-4-dcc77c535f99">如何将它用于复杂的用例</a></li></ol><h1 id="4fa2" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">如何使用它</h1><p id="cd2b" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">既然我们已经介绍了什么是<code class="du kw kx ky kz b">MediaSession</code>、为什么是它以及它如何大致适合你的应用程序的代码库的高级概念模型，下面是如何使用它的一些细节。我们将讨论媒体播放应用的两个用例:</p><ol class=""><li id="7993" class="la lb hh kc b kd lc kg ld kj le kn lf kr lg kv lh li lj lk bi translated">一款只支持前台播放的视频播放app。</li><li id="3e16" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lh li lj lk bi translated">一个音频播放应用程序，支持前台和后台播放，并允许其他应用程序浏览其媒体内容。</li></ol><h1 id="bcda" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">在前台播放视频的应用程序</h1><p id="9567" class="pw-post-body-paragraph ka kb hh kc b kd ke ii kf kg kh il ki kj kk kl km kn ko kp kq kr ks kt ku kv ha bi translated">这个应用程序有一个用户界面，允许用户控制音频播放。它可以使用一个<code class="du kw kx ky kz b">MediaSession</code>在玩家和活动之间传递信息。然而，它没有一个<code class="du kw kx ky kz b">Service</code>，也不使用<code class="du kw kx ky kz b">MediaBrowserService</code>，也不显示通知。</p><p id="bc84" class="pw-post-body-paragraph ka kb hh kc b kd lc ii kf kg ld il ki kj ls kl km kn lt kp kq kr lu kt ku kv ha bi translated">下图提供了创建使用<code class="du kw kx ky kz b">MediaSession</code>的音频播放应用程序所需的组件的概要。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es lv"><img src="../Images/4be31132d1ea3086470961a9d0bb048f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1dwSABWIA81DC3_uRCztA.png"/></div></div></figure><p id="0be2" class="pw-post-body-paragraph ka kb hh kc b kd lc ii kf kg ld il ki kj ls kl km kn lt kp kq kr lu kt ku kv ha bi translated">请参考<a class="ae ll" href="https://developer.android.com/guide/topics/media-apps/media-apps-overview.html" rel="noopener ugc nofollow" target="_blank">developers.android.com</a>来获得更多关于你需要使用的每个类的细节。您必须执行以下任务:</p><ul class=""><li id="f440" class="la lb hh kc b kd lc kg ld kj le kn lf kr lg kv lw li lj lk bi translated">创建一个<code class="du kw kx ky kz b">MediaPlayer</code>或<code class="du kw kx ky kz b">ExoPlayer</code>来实际加载、准备和播放内容。</li><li id="ce1d" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lw li lj lk bi translated">创建一个<code class="du kw kx ky kz b">MediaSession</code>，您可以使用它来共享其他应用程序正在播放的内容的信息。您还可以允许从外部控制您的应用程序播放(通过谷歌助手、蓝牙耳机、媒体按钮等)。</li></ul><p id="1cd6" class="pw-post-body-paragraph ka kb hh kc b kd lc ii kf kg ld il ki kj ls kl km kn lt kp kq kr lu kt ku kv ha bi translated">系列文章中的<a class="ae ll" rel="noopener" href="/@nazmul/understanding-mediasession-part-4-4-dcc77c535f99">的下一篇文章将更详细地介绍在后台播放音频这一更复杂的用例。</a></p><div class="lx ly ez fb lz ma"><a rel="noopener follow" target="_blank" href="/@nazmul/understanding-mediasession-part-4-4-dcc77c535f99"><div class="mb ab dw"><div class="mc ab md cl cj me"><h2 class="bd hi fi z dy mf ea eb mg ed ef hg bi translated">了解媒体会话(第4/4部分)- Nazmul Idris (Naz) - Medium</h2><div class="mh l"><h3 class="bd b fi z dy mf ea eb mg ed ef dx translated">这一系列文章的目标是让您深入了解MediaSession，它的好处是什么，何时…</h3></div><div class="mi l"><p class="bd b fp z dy mf ea eb mg ed ef dx translated">medium.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo jg ma"/></div></div></a></div><h1 id="61b3" class="ji jj hh bd jk jl jm jn jo jp jq jr js in jt io ju iq jv ir jw it jx iu jy jz bi translated">Android媒体资源</h1><ul class=""><li id="1c93" class="la lb hh kc b kd ke kg kh kj mp kn mq kr mr kv lw li lj lk bi translated"><a class="ae ll" href="https://developer.android.com/guide/topics/media-apps/media-apps-overview.html" rel="noopener ugc nofollow" target="_blank">媒体应用程序指南—媒体应用程序概述</a></li><li id="3fea" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lw li lj lk bi translated"><a class="ae ll" href="https://developer.android.com/guide/topics/media-apps/working-with-a-media-session.html" rel="noopener ugc nofollow" target="_blank">媒体API指南—使用媒体会话</a></li><li id="9a73" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lw li lj lk bi translated"><a class="ae ll" rel="noopener" href="/google-developers/building-a-simple-audio-app-in-android-part-1-3-c14d1a66e0f1">使用MediaPlayer构建一个简单的音频播放应用</a></li><li id="4821" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lw li lj lk bi translated"><a class="ae ll" href="https://github.com/googlesamples/android-MediaBrowserService" rel="noopener ugc nofollow" target="_blank">示例代码— MediaBrowserService </a></li><li id="fc41" class="la lb hh kc b kd lm kg ln kj lo kn lp kr lq kv lw li lj lk bi translated"><a class="ae ll" href="https://github.com/googlesamples/android-media-controller" rel="noopener ugc nofollow" target="_blank">示例代码—媒体会话控制器测试</a></li></ul></div></div>    
</body>
</html>