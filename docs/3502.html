<html>
<head>
<title>Google Authentication with Firebase — the Duck Soup!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase的Google认证——鸭汤！</h1>
<blockquote>原文：<a href="https://medium.com/globant/google-authentication-with-firebase-the-duck-soup-2bc504d67a33?source=collection_archive---------0-----------------------#2020-09-20">https://medium.com/globant/google-authentication-with-firebase-the-duck-soup-2bc504d67a33?source=collection_archive---------0-----------------------#2020-09-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="5692" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">大部分前端项目都需要用户认证。有太多的解决方案，如OAuth、JWT、Amazon Cognito等。但是每一种都有一个问题——它们在所需专业知识的范围上有所不同。有些情况下，您可能希望有一个快速的解决方案。也许，你在你的团队里没有足够的时间或者足够的专业知识。Firebase可以在这种情况下给你一条出路。它有一个非常用户友好的界面，你可以认为它是一个更友好、更容易的AWS替代品。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/776f6c2e95500b72eec7b4a1cf51a192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*9kiqiQWCqcVCHFdQHtXfaw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Image by <a class="ae jo" href="https://pixabay.com/users/OpenClipart-Vectors-30363/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2029283" rel="noopener ugc nofollow" target="_blank">OpenClipart-Vectors</a> from <a class="ae jo" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2029283" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><blockquote class="jp jq jr"><p id="ce80" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">Firebase提供了除身份验证之外的一系列服务。在本文范围内，我们将只关注<strong class="ig hi"> Google </strong> auth。此外，由于Firebase独立于您希望使用(或不使用)的任何前端框架/库，我将保持它的简单性&amp;在示例中使用ReactJS。</p></blockquote><p id="609b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提到这一点，让我们直接进入正题…</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jw"><img src="../Images/ae26873f91d7214615690fe6138a008f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iw0k8dVV5WkmKpoQeni5ig.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Image by OpenClipart-Vectors from Pixabay</figcaption></figure><h1 id="cfc8" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">为身份验证设置Firebase</h1><p id="6c8c" class="pw-post-body-paragraph ie if hh ig b ih kz ij ik il la in io ip lb ir is it lc iv iw ix ld iz ja jb ha bi translated">首先，让我们建立一个Firebase项目。</p><ul class=""><li id="3d50" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">登录<a class="ae jo" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>。</li><li id="0f0b" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">"<em class="js">添加项目</em> " —输入项目名称&amp; " <em class="js">继续</em>"。</li><li id="a16b" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">您可以在此步骤中禁用分析，或者保持原样&amp; " <em class="js"> Continue </em>"。</li><li id="bb2b" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">如果您想要分析，请选择“<em class="js">Firebase的默认帐户</em>”&amp;“<em class="js">创建项目</em>”。</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ls"><img src="../Images/ab5016c85d402d82c2587fda0ee35b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*fRly8hphVqOEvWzFeERxxg.gif"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Add a new project to Firebase</figcaption></figure><ul class=""><li id="af06" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">添加新的web应用程序(&gt;)开始使用。</li><li id="bfe4" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">“<em class="js">用昵称注册</em>app(可以不勾选保持托管)。</li><li id="bfaf" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">复制<code class="du lt lu lv lw b">firebaseConfig</code>变量。我们将很快在React应用程序中使用它。</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ls"><img src="../Images/2399184bb5ab6179aee57d73005ac622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*iiKlezk44RDnaeNduKcyWA.gif"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Setup Project for Web app</figcaption></figure><ul class=""><li id="270e" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">现在，“<em class="js">继续控制台</em>”&amp;点击左侧导航中“<em class="js">开发</em>选项下的“<em class="js">认证</em>”。</li><li id="20bb" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">点击<em class="js">设置签到方式</em>。</li><li id="0bb0" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">点击<em class="js">谷歌</em><strong class="ig hi">&gt;&gt;</strong><em class="js">启用</em> it <strong class="ig hi"> &gt; &gt; </strong>从下拉列表中选择您的<em class="js">电子邮件地址</em>。</li><li id="ae5b" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">"<em class="js">保存</em>"就大功告成了。</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ls"><img src="../Images/d61b01e9e307f677a938466c83dc0c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*lJza6srCfX6q9IaFAZyEMQ.gif"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Add sign-in method</figcaption></figure></div><div class="ab cl lx ly go lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ha hb hc hd he"><h1 id="9c04" class="kb kc hh bd kd ke me kg kh ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky bi translated">设置React应用程序</h1><p id="82ec" class="pw-post-body-paragraph ie if hh ig b ih kz ij ik il la in io ip lb ir is it lc iv iw ix ld iz ja jb ha bi translated">这是最简单也是最直接的过程:</p><ul class=""><li id="8345" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">首先，在React项目中运行<code class="du lt lu lv lw b">npm i --save firebase</code>。</li><li id="225b" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">创建<code class="du lt lu lv lw b">firebase.js</code>文件。</li><li id="77dc" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">添加所有的<code class="du lt lu lv lw b">imports</code> &amp;完成设置，如下面的代码片段所示:</li></ul><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mj mk l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">firebase.js</figcaption></figure><ul class=""><li id="9d2f" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated">更新您的<code class="du lt lu lv lw b">App.js</code>以使用firebase身份验证提供商:</li></ul><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="mj mk l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">App.js</figcaption></figure><ul class=""><li id="feea" class="le lf hh ig b ih ii il im ip lg it lh ix li jb lj lk ll lm bi translated"><code class="du lt lu lv lw b">auth.signInWithPopup(provider)</code>将打开一个弹出窗口&amp;询问您的Google凭据以验证您的用户身份。</li></ul><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ls"><img src="../Images/8cbc2c857d6cfa85629755183d39123d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*xyyLWeI6hlBXGILoOkNi8Q.gif"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Sign-in Popup</figcaption></figure><p id="4d47" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您获得用户数据作为成功登录的响应。您可以使用它将用户添加到您自己的数据库中。用户名、电子邮件、用户id、个人资料图片URL是<code class="du lt lu lv lw b">user</code>对象可用的一些字段。</p></div><div class="ab cl lx ly go lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ha hb hc hd he"><p id="16cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">真快。这就是使用Google auth来设置Firebase的登录机制所需要做的全部工作。</p><h2 id="b729" class="ml kc hh bd kd mm mn mo kh mp mq mr kl ip ms mt kp it mu mv kt ix mw mx kx my bi translated">注意事项:</h2><ul class=""><li id="12d3" class="le lf hh ig b ih kz il la ip mz it na ix nb jb lj lk ll lm bi translated">您可以尝试其他登录选项。Google auth是最简单的，因为Firebase是Google的产品。在前端使用这些产品的方式略有不同。</li><li id="cb33" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">部署应用后，您需要将您的域添加到“<em class="js">身份验证</em>”、<strong class="ig hi">、&gt;、</strong>、<em class="js">登录方式</em>下的“<em class="js">授权域</em>”。默认添加<code class="du lt lu lv lw b">localhost</code>。</li><li id="7a1d" class="le lf hh ig b ih ln il lo ip lp it lq ix lr jb lj lk ll lm bi translated">在React应用程序中，有适当的方法来构建身份验证机制。为了简洁起见，这里保持简单。</li></ul><h1 id="07bc" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">演示</h1><div class="nc nd ez fb ne nf"><a href="https://stackblitz.com/edit/react-easy-google-auth?file=src/App.js" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hi fi z dy nk ea eb nl ed ef hg bi translated">react-easy-Google-auth-stack blitz</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">导出到create-react-app CLI的React应用程序的启动项目。</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">stackblitz.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ji nf"/></div></div></a></div><p id="698e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以查看我创建的Stackblitz实现示例，作为本文的基线。</p></div></div>    
</body>
</html>