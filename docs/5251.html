<html>
<head>
<title>Automate Your Test Pipeline and Infrastructure Lifecycle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动化您的测试管道和基础设施生命周期</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/automate-your-test-pipeline-and-infrastructure-life-cycle-using-oracle-developer-cloud-10c2b3c55903?source=collection_archive---------2-----------------------#2017-06-14">https://medium.com/oracledevs/automate-your-test-pipeline-and-infrastructure-life-cycle-using-oracle-developer-cloud-10c2b3c55903?source=collection_archive---------2-----------------------#2017-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ab89" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇博客通过一个例子展示了如何在<strong class="ig hi">云</strong>中创建一个包含单元测试和集成测试的测试管道。需要注意的是，云服务实例(用于测试)是按需启动的，然后在测试执行后停止/终止</p><ul class=""><li id="ec90" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">将<strong class="ig hi">基础设施视为代码</strong>，并在我们的管道中控制它</li><li id="8bb8" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><strong class="ig hi">按需付费</strong> =成本控制</li></ul><p id="daa4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将利用以下Oracle云服务</p><ul class=""><li id="4a05" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">Oracle开发人员云</li><li id="aebb" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">Oracle数据库云</li><li id="ac9f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">Oracle应用容器云</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jq"><img src="../Images/f8c99e3ecacf2448979adf91fc60159e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FUj-C7g54W5yGA22.png"/></div></div></figure><h1 id="bd3c" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Oracle开发人员云:关键促成因素</h1><p id="48af" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">以下功能起着关键作用</p><p id="6139" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下提到的特性在<strong class="ig hi">构建</strong>模块中可用</p><ul class=""><li id="6257" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">与<strong class="ig hi"> Oracle PaaS服务管理器</strong> (PSM)的集成:可以添加一个<strong class="ig hi"> <em class="lf"> PSMcli </em> </strong>构建步骤，在构建运行时调用Oracle PaaS服务管理器命令行界面(cli)命令。文档中的更多<a class="ae lg" href="http://docs.oracle.com/en/cloud/paas/developer-cloud/csdcs/managing-project-jobs-and-builds-oracle-developer-cloud-service.html#GUID-E4E58D36-E869-41B5-9D7D-5EA9E353F316" rel="noopener ugc nofollow" target="_blank">细节</a></li><li id="fcec" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">与<strong class="ig hi"> SQLcl </strong>的集成:这使得在构建运行时调用Oracle数据库上的SQL语句成为可能。<a class="ae lg" href="http://docs.oracle.com/en/cloud/paas/developer-cloud/csdcs/managing-project-jobs-and-builds-oracle-developer-cloud-service.html#GUID-9D31DDA7-2EB8-496E-9228-2588F636CE84" rel="noopener ugc nofollow" target="_blank">详情在此</a></li></ul><h1 id="9178" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">应用</h1><p id="b237" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">示例应用程序使用JAX-RS(Jersey implementation)通过REST和JPA公开数据，作为ORM解决方案与Oracle数据库云服务进行交互(更多信息请参见Github </p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lh"><img src="../Images/678af0a151863e5cf32844eb2b144251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wICZ0o1-3bY7MhjD.png"/></div></div></figure><p id="fa62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是测试设置</p><h1 id="6ace" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">试验</h1><h2 id="e128" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">单元测试</h2><p id="f4ee" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">应用程序中有两个不同的单元测试使用Maven Surefire插件</p><ul class=""><li id="908f" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">使用内存/嵌入式(<strong class="ig hi"> Derby </strong>)数据库:这是使用<code class="du lw lx ly lz b">mvn test</code>调用的</li><li id="492c" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用(远程)Oracle数据库云服务实例:通过使用pom.xml中的特定概要文件激活该测试，并使用<code class="du lw lx ly lz b">mvn test –Pdbcs-test</code>执行该测试</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div class="er es ma"><img src="../Images/271cb0c27b0eaf7821bfe4f6e3ac2055.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/0*SnAA6IQ4kndv0pyL.png"/></div></figure><p id="1bd1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">pom.xml摘录</p><figure class="jr js jt ju fd jv er es paragraph-image"><div class="er es mb"><img src="../Images/2d210e1f93889c558b9969b546e5ab9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/0*HTOAtm3ChPDTdp2Z.png"/></div></figure><figure class="jr js jt ju fd jv er es paragraph-image"><div class="er es mc"><img src="../Images/776d04bf35898a71d348d252cb794c7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/0*UG7LUyZ9xXQFbBhX.png"/></div></figure><h2 id="26e6" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">整合测试</h2><p id="8293" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">除了单元测试，我们还有一个集成测试层，使用Maven故障保护插件来处理</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es md"><img src="../Images/3ca097a0a42d09b3bac3217847857a03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NniVORqIBZP9_nmV.png"/></div></div></figure><p id="2453" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由<code class="du lw lx ly lz b">mvn integration-test</code>或<code class="du lw lx ly lz b">mvn verify</code>调用</p><figure class="jr js jt ju fd jv er es paragraph-image"><div class="er es me"><img src="../Images/759fdf033e98b83390d0b041e8ed47c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/0*L51EigfOOBysv7nW.png"/></div></figure><h1 id="7d01" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">包装</h1><p id="7155" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">它是用Maven Shade插件(fat JAR)和Maven assembly插件(用<code class="du lw lx ly lz b">manifest.json</code>创建一个zip文件)处理的</p><h1 id="6a6d" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">Oracle开发人员云服务配置</h1><p id="361d" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">在我们深入了解细节之前，让我们先从较高的层面了解一下如何进行设置</p><h2 id="a1c5" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">项目和代码库创建</h2><p id="e97b" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">请参考开发者云服务博客中的<a class="ae lg" href="https://community.oracle.com/community/cloud_computing/oracle-cloud-developer-solutions/blog/2016/10/05/junit-testing-using-oracle-developer-cloud" rel="noopener ugc nofollow" target="_blank">跟踪JUnit测试结果中的项目和代码库创建部分，或者查看产品</a><a class="ae lg" href="http://docs.oracle.com/cloud/latest/devcs_common/CSDCS/GUID-3317B279-A9C0-4566-A289-BD651A89D7B5.htm#GUID-7B30C8EC-6CDA-4F14-9791-8AE3BB3E8343" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多细节</p><h2 id="44e1" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">在Git存储库中配置源代码</h2><p id="9720" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated"><a class="ae lg" href="http://docs.oracle.com/cloud/latest/devcs_common/CSDCS/GUID-B4C03296-8497-4356-8C74-2031D1FB96FC.htm#CSDCS-GUID-A33E83CE-845C-4393-8C93-936527033715" rel="noopener ugc nofollow" target="_blank">将项目</a>从您的本地系统推送到您刚刚创建的开发人员云Git repo。我们将通过命令行来完成，您所需要的就是在您的本地机器上安装Git客户端。你可以使用Git或者任何你选择的工具</p><pre class="jr js jt ju fd mf lz mg mh aw mi bi"><span id="59df" class="li kd hh lz b fi mj mk l ml mm">cd &lt;project_folder&gt; //where you unzipped the source code  </span><span id="a6d9" class="li kd hh lz b fi mn mk l ml mm">git init  </span><span id="ad5b" class="li kd hh lz b fi mn mk l ml mm">git remote add origin &lt;developer_cloud_git_repo&gt;  <br/>//e.g. <a class="ae lg" href="https://john.doe@developer.us.oraclecloud.com/developer007-foodomain/s/developer007-foodomain-project_2009/scm/sample.git//john.doe@developer.us.oraclecloud.com/developer007-foodomain/s/developer007-foodomain-project_2009/scm/sample.git" rel="noopener ugc nofollow" target="_blank">https://john.doe@developer.us.oraclecloud.com/developer007-foodomain/s/developer007-foodomain-project_2009/scm/sample.git//john.doe@developer.us.oraclecloud.com/developer007-foodomain/s/developer007-foodomain-project_2009/scm/sample.git</a>   </span><span id="7bd6" class="li kd hh lz b fi mn mk l ml mm">git add .  </span><span id="bbdf" class="li kd hh lz b fi mn mk l ml mm">git commit -m "first commit"  </span><span id="0103" class="li kd hh lz b fi mn mk l ml mm">git push -u origin master  //Please enter the password for your Oracle Developer Cloud account when prompted</span></pre><p id="7c56" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦完成，我们现在可以开始配置我们的<strong class="ig hi">构建</strong></p><ul class=""><li id="a37c" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated"><strong class="ig hi"> <em class="lf">管道</em> </strong>被分成多个<strong class="ig hi"> <em class="lf">阶段</em> </strong>，每个阶段对应一个构建</li><li id="f780" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">这些单独的阶段/构建然后被缝合在一起，以创建一个端到端的测试流程。让我们探索每个阶段及其相应的构建配置</li></ul><h1 id="7518" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">阶段</h1><h2 id="9553" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">单元测试:第一部分</h2><p id="f13a" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">JPA逻辑使用嵌入式Derby数据库进行测试。它链接到我们推送代码的Git repo，还连接到Oracle Maven存储库</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mo"><img src="../Images/15e80dbbc629e59e2c7ef5611b5b4ade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_qX3P93QVRMcA_0i.png"/></div></div></figure><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mp"><img src="../Images/f56e299fcce9e59d9a8c6622a4fb9232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gS7PjbzUCcgS3Hfe.png"/></div></div></figure><p id="a1d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构建步骤调用Maven</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mq"><img src="../Images/13cd4accfe33246ea82d2fb21a1df421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IQGlODCRVKcqI1Ft.png"/></div></div></figure><p id="9379" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">发布</strong>-构建步骤</p><ul class=""><li id="27ab" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">调用管道中的下一个作业</li><li id="a66e" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">归档测试结果并启用JUnit测试报告可用性</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mr"><img src="../Images/50a562a4f0473a8fae8fe62edc5aed7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QyLTDACDkObOl12i.png"/></div></div></figure><h2 id="c43b" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">引导Oracle数据库云服务</h2><ul class=""><li id="23c2" class="jc jd hh ig b ih la il lb ip ms it mt ix mu jb jh ji jj jk bi translated">这个阶段利用<strong class="ig hi"> PSMcli </strong>首先启动Oracle数据库云服务，然后，</li><li id="84b3" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">SQLcl来创建表并加载测试数据。它由前一个作业调用</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mv"><img src="../Images/0f85021a502c933fee509ca6ff3c5616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kAWwFwU4NRTlnXaE.png"/></div></div></figure><p id="a082" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，PSM命令本质上是<strong class="ig hi">异步</strong>的，它返回一个<strong class="ig hi">作业ID </strong>，您可以进一步使用它(在shell脚本中)来轮询作业的状态</p><p id="9068" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是这样一个脚本的例子</p><pre class="jr js jt ju fd mf lz mg mh aw mi bi"><span id="59d4" class="li kd hh lz b fi mj mk l ml mm">VALUE=`psm dbcs stop --service-name test` echo $VALUE #Split on ':' which contains the Job ID on the right side of : OIFS=$IFS IFS=':' JSONDATA=${VALUE} #trying to skip over the left side of : to get the JobID COUNTER=0 for X in $JSONDATA do   if [ "$COUNTER" -eq 1 ]   then   #clean string, removing leading white space and tab   X=$(echo $X |sed -e 's/^[ \t]*//')   JOBID=$X   else   COUNTER=$(($COUNTER+1))   fi done echo "Job ID is "$JOBID #Repeat check until SUCCEED is in the status PSMSTATUS=-1 while [ $PSMSTATUS -ne 0 ]; do CHECKSTATUS=`psm dbcs operation-status --job-id $JOBID`   if [[ $CHECKSTATUS == *"SUCCEED"* ]]   then   PSMSTATUS=0     echo "PSM operation Succeeded!"   else   echo "Waiting for PSM operation to complete"   fi   sleep 60 done</span></pre><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mw"><img src="../Images/c7a9e4bccfb3ddacfdafe5edc9168688.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qKzAam4ak3QkZYyf.png"/></div></div></figure><p id="2d63" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是填充Oracle数据库云服务表的SQL配置</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mx"><img src="../Images/82cb3aa09f53e307d3009c1905eb7f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*499itKkF-3kTOCiH.png"/></div></div></figure><h2 id="81e0" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">单元测试:第二部分</h2><ul class=""><li id="13a3" class="jc jd hh ig b ih la il lb ip ms it mt ix mu jb jh ji jj jk bi translated">对我们刚刚引导的Oracle数据库云服务实例运行测试</li><li id="03b0" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">触发应用程序部署(到Oracle应用程序容器云)</li><li id="74c7" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">和前面的工作一样，这也链接到Git repo并连接到Oracle Maven存储库</li></ul><p id="8808" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">测试代码的某些值作为参数传入</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es my"><img src="../Images/25ae2ebb58cdaa4b88017ad0fc713b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wwi-7cvk8UbQFavg.png"/></div></div></figure><p id="5145" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构建步骤包括调用pom.xml中定义的特定(Maven)概要文件</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es mz"><img src="../Images/a4a656ca34194a78293707f77f857ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LHky7RYInZY7Ooni.png"/></div></div></figure><p id="f7eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构建后部分做了很多事情</p><ul class=""><li id="4bca" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">调用管道中的下一个作业</li><li id="85d8" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">归档部署工件(在本例中，是ACCS的ZIP文件)</li><li id="027d" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">存档测试结果并提供测试报告</li><li id="d494" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">调用应用程序容器云的<strong class="ig hi">部署</strong>步骤</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es na"><img src="../Images/c6b8d13ff8c08d38abe68c8a2833ac8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h7UeuWdBI8XiOOWP.png"/></div></div></figure><h2 id="b63d" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">整合测试</h2><p id="2bc1" class="pw-post-body-paragraph ie if hh ig b ih la ij ik il lb in io ip lc ir is it ld iv iw ix le iz ja jb ha bi translated">既然我们已经执行了单元测试，并且部署了我们的应用程序，现在是时候对实际应用程序执行集成测试了。在这种情况下，我们测试应用程序公开的REST API</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es nb"><img src="../Images/ebedf53a824f1c52dc7e8a0d86523b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*otN1o2_bBXyh5vTW.png"/></div></div></figure><p id="d3fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构建步骤调用Maven目标</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es nc"><img src="../Images/449503a6856a8433fb356141afa7a254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IIq-oqgVaK_wFTb2.png"/></div></div></figure><p id="6e16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们使用HTTPS <strong class="ig hi">代理</strong>从Oracle开发人员云构建机器内部访问外部URL(本例中是ACC应用程序)</p><p id="11d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Post build部分调用两个后续的作业(它们都可以并行运行)以及测试结果存档</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es nd"><img src="../Images/13004673a520a12be68e2a202af3f8fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QUA1FpbW9QN-V7yy.png"/></div></div></figure><h2 id="7467" class="li kd hh bd ke lj lk ll ki lm ln lo km ip lp lq kq it lr ls ku ix lt lu ky lv bi translated">拆毁</h2><ul class=""><li id="7cde" class="jc jd hh ig b ih la il lb ip ms it mt ix mu jb jh ji jj jk bi translated">PSMcli用于停止ACCS应用程序，并与另一个使用SQL清理Oracle数据库云中数据的作业并行运行(删除表)</li><li id="25fd" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">之后，调用最后一个拆除作业，关闭Oracle数据库云服务实例(再次使用PSMcli)</li></ul><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ne"><img src="../Images/4f9b276734a2bf5db15624de4b95305e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xg3KjuU3tnUMqEFa.png"/></div></div></figure><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es nf"><img src="../Images/ee8e716ad9d8c48bc0069addc2d27a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-EYtvSixZm-gzHW4.png"/></div></div></figure><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ng"><img src="../Images/85ba625f898841a4b7f42c442e78d7b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B5X3kLOyUaYBeHjp.png"/></div></div></figure><p id="e8da" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，关闭Oracle数据库云服务实例</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es nh"><img src="../Images/9290b1eb15da2c0ed7fa2eb4015beac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oU0rRKetWpiEWDl5.png"/></div></div></figure><h1 id="1250" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">总回忆…</h1><ul class=""><li id="64dc" class="jc jd hh ig b ih la il lb ip ms it mt ix mu jb jh ji jj jk bi translated"><strong class="ig hi">将管道分成阶段</strong>并使用<strong class="ig hi">构建</strong>作业来实现它们——粒度的选择由您决定，例如，您可以在同一个作业中调用<strong class="ig hi"> PSMcli </strong>和<strong class="ig hi">SQL</strong>步骤</li><li id="58f3" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">将<strong class="ig hi">基础设施</strong>(云服务)视为<strong class="ig hi">代码</strong>并<strong class="ig hi">从您的管道内管理</strong>它们——开发人员云通过PSMcli集成使跨越整个Oracle PaaS平台变得容易</li></ul><blockquote class="ni nj nk"><p id="0d4f" class="ie if lf ig b ih ii ij ik il im in io nl iq ir is nm iu iv iw nn iy iz ja jb ha bi translated">本文表达的观点是我个人的观点，不一定代表甲骨文的观点</p></blockquote></div></div>    
</body>
</html>