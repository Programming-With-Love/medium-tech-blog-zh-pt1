<html>
<head>
<title>Be on guard against unguarded “if/else” statements!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">警惕不谨慎的“if/else”语句！</h1>
<blockquote>原文：<a href="https://medium.com/globant/on-guard-against-if-else-statements-1070a1104454?source=collection_archive---------0-----------------------#2021-02-25">https://medium.com/globant/on-guard-against-if-else-statements-1070a1104454?source=collection_archive---------0-----------------------#2021-02-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4718" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将保护语句引入JavaScript的三个步骤，以获得更安全、更好的代码，并放弃“else”语句的常见用法。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/b5aab37cd9ebffe2496e8aa175554494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I6Avv9mEgnps6Da0"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Photo by <a class="ae js" href="https://unsplash.com/@gronemo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Roméo A.</a> on <a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="49bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Edsger W. Dijkstra是图灵奖获得者和ACM研究员，他是“<a class="ae js" href="https://en.wikipedia.org/wiki/Structured_programming" rel="noopener ugc nofollow" target="_blank"><em class="jt"/></a>”短语的发明者，也是计算机编程成为科学学科的第一批推动者之一，他对编程理论做出了许多贡献。在这篇文章中，我们将回到他的一个非常老的想法——从1975年！—讨论如何停止使用<code class="du ju jv jw jx b">else</code>语句(至少在某些形式下),转而应用<em class="jt">保护语句</em>来实现更安全、更清晰的编程。我们将展示什么是受保护的语句，然后我们将看到<code class="du ju jv jw jx b">if</code>语句可能存在什么问题，最后我们将看到如何用受保护的语句解决我们的担忧。</p><h1 id="5fae" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">谨慎的声明</h1><p id="a616" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">什么是<em class="jt">保护语句</em>，它们是如何工作的？基本上，一个受保护的语句是一个普通的语句，前面有一个布尔保护，一个二进制测试；该语句仅在其guard为true时执行。</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="4a38" class="lf jz hh jx b fi lg lh l li lj"><em class="jt">condition</em> → <em class="jt">statement</em></span></pre><p id="09bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">应该很明显，你并不总是需要或者使用警卫；受保护语句仅在<em class="jt">选择结构</em>(大致相当于<code class="du ju jv jw jx b">if</code>或<code class="du ju jv jw jx b">switch</code>语句)和<em class="jt">重复结构</em>(类似于<code class="du ju jv jw jx b">while</code>语句)的上下文中相关。我们在这里不讨论后者，而是关注前者，正如我们将看到的，前者有助于更清晰、更安全的JavaScript代码。</p><h2 id="e9f3" class="lf jz hh bd ka lk ll lm ke ln lo lp ki ip lq lr km it ls lt kq ix lu lv ku lw bi translated">谨慎选择</h2><p id="ff81" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">让我们先按照Dijkstra最初的风格，看一个他定义的<em class="jt">选择控制结构</em>；我们稍后会用JavaScript做一个(几乎)等价的版本。我们将使用Dijskstra自己使用的符号，用<code class="du ju jv jw jx b">if</code>和<code class="du ju jv jw jx b">fi</code>分隔完整的结构，以及“▯”字符(是的，一个正方形块！)用于分隔语句。</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="7e49" class="lf jz hh jx b fi lg lh l li lj"><strong class="jx hi">if</strong> <em class="jt">condition</em>₁ → <em class="jt">statement</em>₁<br/> ▯ <em class="jt">condition</em>₂ → <em class="jt">statement</em>₂<br/> ▯ <em class="jt">condition</em>₃ → <em class="jt">statement</em>₃<br/> <strong class="jx hi">...<br/></strong> ▯ <em class="jt">conditionₙ</em> → <em class="jt">statementₙ</em><br/><strong class="jx hi">fi</strong></span></pre><p id="8169" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">每个受保护的语句由一个保护(评估为真或假的条件)加上一个语句组成；只有当一个语句的guard为true时，该语句才能被执行。(为什么是“可以”而不是“应当”？请继续阅读！)如果两个或更多的守卫为真，那么我们将有不确定性，并且<em class="jt">任何</em>的守卫语句(但只有一个！)将被执行。我们在下面的代码中有一个简单的例子，它将变量<em class="jt"> m </em>设置为两个变量<em class="jt"> x </em>和<em class="jt"> y </em>的最大值。</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="daaa" class="lf jz hh jx b fi lg lh l li lj"><strong class="jx hi">if</strong> x ≥ y → m := x <br/> ▯ y ≥ x → m := y<br/><strong class="jx hi">fi</strong></span></pre><p id="9ae2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果<em class="jt"> x </em>大于<em class="jt"> y </em>，则执行第一条语句。如果<em class="jt"> y </em>大于，则执行第二条语句。有趣的是，如果<em class="jt"> x </em>和<em class="jt"> y </em>相等，那么这两条语句中的任何一条都会被执行——但是在任何情况下，程序都会(应该！)要正确！这种不确定性可能看起来很奇怪，但它实际上有助于更好地理解程序；显而易见，它是正确的，代码中有一个对称性，与最大值定义中的对称性相匹配；优雅！</p><blockquote class="lx ly lz"><p id="6bf9" class="ie if jt ig b ih ii ij ik il im in io ma iq ir is mb iu iv iw mc iy iz ja jb ha bi translated">JavaScript没有不确定性(尽管我们可以假装)，我们也不会真的为它费心。对我们来说重要的是，您可以重新排序所有受保护的语句，而代码仍然可以正常工作。</p></blockquote><p id="b09f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另外重要的一点:在这个<code class="du ju jv jw jx b">if...fi</code>结构中，你总是可以说出在什么条件下会执行任何特定的语句；在普通的JavaScript <code class="du ju jv jw jx b">if</code>语句中，您必须自己解决它。以下面的代码为例:</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="12cf" class="lf jz hh jx b fi lg lh l li lj">if (<em class="jt">condition1</em>) {<br/>   <em class="jt">statement1</em><br/>} else if (<em class="jt">condition2</em>) {<br/>   <em class="jt">statement2</em><br/>} else {<br/>   <em class="jt">statement3</em><br/>}</span></pre><p id="5f84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二条语句是什么时候执行的？你必须在精神上否定回答这个问题的第一个条件；不琐碎。而第三种说法是什么时候达成的？在这种情况下，你必须否定前面的两个条件，把这些结果结合起来才能得到答案；用力点。</p><h2 id="db87" class="lf jz hh bd ka lk ll lm ke ln lo lp ki ip lq lr km it ls lt kq ix lu lv ku lw bi translated">错过守卫时中止</h2><p id="8a87" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">有一个重要的限制条件，你可能没有想到:如果没有一个守卫是真的，<code class="du ju jv jw jx b">if...fi</code>结构将中止执行！如果存在没有一个保护为真的可能性，则提供一个<code class="du ju jv jw jx b">skip</code>语句。(在JavaScript中，一个注释或一个空块就足够了。)您可以找到如下代码:请特别注意最后一个选项。</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="b6fa" class="lf jz hh jx b fi lg lh l li lj">if <em class="jt">condition</em>₁ → <em class="jt">statement</em>₁<br/> ▯ <em class="jt">condition</em>₂ → <em class="jt">statement</em>₂<br/> ▯ <em class="jt">condition</em>₃ → <em class="jt">statement</em>₃<br/> ...<br/> ▯ <em class="jt">conditionₙ</em> → <strong class="jx hi">skip</strong><br/>fi</span></pre><blockquote class="lx ly lz"><p id="06bc" class="ie if jt ig b ih ii ij ik il im in io ma iq ir is mb iu iv iw mc iy iz ja jb ha bi translated">用逻辑术语来说，这相当于说所有条件的析取应该是一个重言式:<em class="hh">条件</em>₁<em class="hh">∩</em><em class="hh">条件</em>₂<em class="hh">∩</em><em class="hh">条件</em>₃<em class="hh">∩</em>……<em class="hh">∩</em><em class="hh">conditionₙ</em>8801<em class="hh">真</em>。另外，请记住，受保护语句的顺序并不重要；<code class="du ju jv jw jx b">skip</code>可能出现在任何位置。</p></blockquote><p id="e747" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为什么会这样呢？关键是，开发人员在编写选择语句时，应该涵盖所有条件——包括那些不应该做任何事情的条件。添加一个简单的注释到“<em class="jt">这里什么也不做</em>”只需要一分钟，不会以合理的方式影响性能，并且帮助每个未来的程序员阅读和理解这段代码，所以这是一个有效的想法。我们已经看到了一种新风格的<code class="du ju jv jw jx b">if</code>语句；现在让我们看看我们现有的有什么问题。</p><h1 id="05b9" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">if/else语句的问题</h1><p id="8af5" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">如果你在网上四处看看，你可能会找到几篇建议替代<code class="du ju jv jw jx b">if/else</code>语句的文章，例如<a class="ae js" href="https://jraleman.medium.com/ternary-operators-vs-if-else-statements-6c26f7d034f7" rel="noopener">使用</a><a class="ae js" rel="noopener" href="/javascript-in-plain-english/if-else-statements-vs-ternary-operators-in-javascript-d5238af4b516"/><a class="ae js" href="https://www.thoughtco.com/javascript-by-example-use-of-the-ternary-operator-2037394" rel="noopener ugc nofollow" target="_blank">三进制</a> <code class="du ju jv jw jx b">?:</code> <a class="ae js" href="https://www.positronx.io/javascript-ternary-operator/" rel="noopener ugc nofollow" target="_blank">运算符</a>，或者<a class="ae js" rel="noopener" href="/@michellekwong2/switch-vs-if-else-1d458e7b0711">使用</a> <code class="du ju jv jw jx b">switch</code> <a class="ae js" rel="noopener" href="/the-daily-standup/javascript-switch-statement-vs-if-else-if-ee3111793fa0">语句</a>，或者应用模式匹配库<a class="ae js" href="https://z-pattern-matching.github.io/" rel="noopener ugc nofollow" target="_blank">如Z </a>或其他……但是在这篇文章中，我建议最好的解决方案是使用(方式！)回到名为<em class="jt">受保护语句</em>的模式，继续使用<code class="du ju jv jw jx b">if</code>语句，尽管是以一种特殊的、受限制的方式。在考虑如何解决它们之前，让我们先来看看几个有问题的情况。</p><h2 id="8a22" class="lf jz hh bd ka lk ll lm ke ln lo lp ki ip lq lr km it ls lt kq ix lu lv ku lw bi translated">二元期权真的是二元的吗？</h2><p id="46fb" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">让我们先做一个快速测试:这段代码有什么问题？是的，我承认这个问题有点棘手，因为代码可能没有问题，但是…</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="1565" class="lf jz hh jx b fi lg lh l li lj">if (gender==="male") { <br/>    ... //<em class="jt"> do something for males</em><br/>}</span></pre><p id="d910" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">看着代码，我可能会问自己:“<em class="jt">我们不为女性做任何事情是对的吗？也许开发商忘记了这些？开发人员可以通过添加如下的<code class="du ju jv jw jx b">else</code>来增强代码的可理解性——即使添加的代码只是一个注释，解释不需要为女性做什么——也许他会发现自己忘记了一些重要的情况！</em></p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="a8d1" class="lf jz hh jx b fi lg lh l li lj">if (gender==="male") { <br/>    ... // <em class="jt">do something for males</em><br/>} <strong class="jx hi">else {<br/>    ... // <em class="jt">do something for females</em></strong><br/>}</span></pre><p id="93a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这更好——我们知道开发人员不只是忘记了一个案例，而是他考虑到了…即使什么都不做，我们也知道他考虑了所有选项。或者他有吗？如果<code class="du ju jv jw jx b">gender</code>字段来自数据库，并且没有存储任何值，那么<code class="du ju jv jw jx b">gender</code>可能是<code class="du ju jv jw jx b">null</code>会发生什么？(或者，另一种选择:如果<code class="du ju jv jw jx b">gender</code>字段来自调查中的下拉问题，其中增加了一个额外的选项“<em class="jt">宁愿不说</em>”？)我们会正确处理这个案例吗？解决这个问题的另一种尝试是:</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="c183" class="lf jz hh jx b fi lg lh l li lj">if (gender==="male") { <br/>    ... // <em class="jt">do something for males</em><br/>} else <strong class="jx hi">if (gender !== null)</strong> {<br/>    ... // <em class="jt">do something for females</em><br/>}</span></pre><p id="2554" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是，为了避免您对此解决方案过于满意，请考虑在代码的其他地方可能会出现这样的情况:</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="f13f" class="lf jz hh jx b fi lg lh l li lj">if (gender==="female") { <br/>    ... // <em class="jt">do another thing for females</em><br/>} else if (gender !== null) {<br/>    ... // <em class="jt">do another thing for males</em><br/>}</span></pre><p id="921b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du ju jv jw jx b">else</code>选项太普通了，我们有麻烦了——如果<code class="du ju jv jw jx b">gender</code>缺失，我们甚至不能在代码的不同部分一致地处理它！我们最初的二元选择(男性/非男性或男性/女性)实际上有多个选项，我们的代码根本不够好。</p><h2 id="ad79" class="lf jz hh bd ka lk ll lm ke ln lo lp ki ip lq lr km it ls lt kq ix lu lv ku lw bi translated">复杂条件是不是太简单了？</h2><p id="cec3" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">让我们考虑一个更复杂的情况。你觉得这个代码怎么样？</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="bd49" class="lf jz hh jx b fi lg lh l li lj">if (citizen==="yes" &amp;&amp; age&gt;21) { <br/>    // <em class="jt">do something for adult citizens</em><br/>} else {<br/>    // <em class="jt">do something else for not adult citizens </em><br/>}</span></pre><p id="7df7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好的，这和前面的问题一样；也许有些人属于<code class="du ju jv jw jx b">else</code>部分，不应该。你可以试着避免像这样的新版本的一些问题。</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="0d7a" class="lf jz hh jx b fi lg lh l li lj">if (citizen==="yes" &amp;&amp; age&gt;21) { <br/>    // <em class="jt">do something for adult citizens</em><br/>} else if (citizen==="no" || age&lt;=21) {<br/>    // <em class="jt">do something else for not adult citizens</em><br/>}</span></pre><p id="ee81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这可能更容易理解——至少我不用在脑子里否定一个布尔表达式！—但这真的没有解决任何问题，甚至增加了错误逻辑的可能性；如果<code class="du ju jv jw jx b">age&lt;=21</code>被写成<code class="du ju jv jw jx b">age&lt;21</code>会发生什么？没错，正好21岁的人会“从缝隙中掉出来”，在任何地方都不会被处理！更糟的是，我们无法轻易侦破此案。同样，<code class="du ju jv jw jx b">else</code>部分太普通了，当它应该被执行时并没有真正检查好。换句话说，我们最初有一个复杂的条件，而<code class="du ju jv jw jx b">else</code>部分过于普通，过于简单，包括了不应该出现的情况。</p><p id="9579" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">JavaScript中的测试总是二进制的(对/错)，但是现实生活中经常提供更多的可能性，二进制思维的<code class="du ju jv jw jx b">if</code>只是一个等待中的bug。还有，要尽量具体一点:比如<code class="du ju jv jw jx b">gender==="female"</code>而不是笼统的<code class="du ju jv jw jx b">gender!=="male"</code>。所以，前面例子中的问题基本上是我们没有仔细检查在什么条件下做具体操作。我们不能就这样写<code class="du ju jv jw jx b">if</code>语句；我们需要一种更安全的方式来做到这一点。让我们把时钟拨回到半个世纪前，看看那些谨慎的声明。</p><h1 id="0ff0" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">JavaScript中保护选择的三个步骤</h1><p id="c4d8" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">我们现在已经看到了谨慎语句和常见的if语句；我们如何将前者应用于更好、更安全的JavaScript？只有三条规则可以遵循:</p><ul class=""><li id="6daa" class="md me hh ig b ih ii il im ip mf it mg ix mh jb mi mj mk ml bi translated">所有的<code class="du ju jv jw jx b">if</code>语句都必须以<code class="du ju jv jw jx b">else</code>结束，如果前面的守卫都不满足，T5就会抛出异常。</li></ul><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="628e" class="lf jz hh jx b fi lg lh l li lj">if (...) {<br/>    ... <br/>} <strong class="jx hi">else throw new Error();</strong></span></pre><ul class=""><li id="8987" class="md me hh ig b ih ii il im ip mf it mg ix mh jb mi mj mk ml bi translated">否则你不能使用普通的<code class="du ju jv jw jx b">else</code>;应该总是<code class="du ju jv jw jx b">else if</code>跟在另一个后卫后面。</li><li id="f360" class="md me hh ig b ih mm il mn ip mo it mp ix mq jb mi mj mk ml bi translated">如果你需要一个<code class="du ju jv jw jx b">skip</code>陈述，使用一个注释来给出更多关于为什么什么都不需要的解释。</li></ul><p id="be14" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">考虑到这一点，我们可以用一种更安全的方式重做本文开头的例子。对于男性和女性，第一种情况是:</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="169f" class="lf jz hh jx b fi lg lh l li lj">if (gender==="male") { <br/>    ... // <em class="jt">do something for males</em><br/>} else if (gender==="female") {<br/>    ... // <em class="jt">do something for females</em><br/>} else throw new Error();</span></pre><p id="d333" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于成年公民来说，第二种情况是:</p><pre class="jd je jf jg fd lb jx lc ld aw le bi"><span id="4e83" class="lf jz hh jx b fi lg lh l li lj">if (citizen==="yes" &amp;&amp; age&gt;21) { <br/>    // <em class="jt">do something for adult citizens</em><br/>} else if (citizen==="no" || age&lt;=21) {<br/>    // <em class="jt">do something else for not adult citizens</em><br/>} else throw new Error();</span></pre><p id="3b2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，这里的所有问题现在都已修复——或者更准确地说，至少它们是可以检测到的。如果<code class="du ju jv jw jx b">gender</code>不是“男性”或“女性”，将会抛出一个错误，开发人员将会意识到某些假设是错误的，并修正代码。在第二种情况下，如果<code class="du ju jv jw jx b">citizen</code>有另一个值，而不是“是”或“否”，或者如果程序员弄错了，写错了<code class="du ju jv jw jx b">age&lt;21</code>，每当出现意外情况时，程序就会停止，而不是盲目前进，产生错误的结果。</p><h1 id="9554" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">摘要</h1><p id="0567" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">在本文中，我们已经讨论了一些由<code class="du ju jv jw jx b">if</code>语句引起的未检测到的错误情况的问题，并且我们已经看到了如何应用<em class="jt">保护语句</em>将至少允许我们识别问题，而不允许程序以一种意想不到的方式前进。</p><p id="ac6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">跟随E. W. Dijkstra的脚步，这篇文章可以被称为“<em class="jt"> If/else语句被认为是有害的</em>”——但是我不想走那么远；毕竟，<code class="du ju jv jw jx b">if</code>语句不是问题所在；懒惰和忽略必要的测试是罪魁祸首。</p><p id="aa4e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以这种方式写声明只是增加了一点冗长，但我的感觉是额外的安全或警告是值得的；你怎么想呢?</p><h1 id="d833" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">参考资料和进一步阅读</h1><p id="63ce" class="pw-post-body-paragraph ie if hh ig b ih kw ij ik il kx in io ip ky ir is it kz iv iw ix la iz ja jb ha bi translated">全部出自Dijkstra:他的1975年EWD 472注原文可以<a class="ae js" href="https://www.cs.utexas.edu/users/EWD/ewd04xx/EWD472.PDF" rel="noopener ugc nofollow" target="_blank">在这里看到</a>，一个转录<a class="ae js" href="https://www.cs.utexas.edu/users/EWD/transcriptions/EWD04xx/EWD472.html" rel="noopener ugc nofollow" target="_blank">在这里</a>，他的CACM(ACM的通信)<em class="jt">守护命令、不确定性和程序的形式推导</em>文章<a class="ae js" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.90.97&amp;rep=rep1&amp;type=pdf" rel="noopener ugc nofollow" target="_blank">在这里</a>。此外，他1972年的ACM图灵讲座“<a class="ae js" href="https://www.cs.utexas.edu/~EWD/transcriptions/EWD03xx/EWD340.html" rel="noopener ugc nofollow" target="_blank"> <em class="jt">《卑微的程序员</em> </a>”,不应该错过——如果你能得到它，他1976年的书“<em class="jt">《编程的一门学科》</em>”也值得一读。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mr"><img src="../Images/a897b0aaee4d28895e6511013dc9699f.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*ls3gWuwAoSynwBFH"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Edsger Dijkstra</figcaption></figure><p id="13b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，不要错过他的EWD 215注，“<a class="ae js" href="https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD215.PDF" rel="noopener ugc nofollow" target="_blank"> <em class="jt">一个反对GO TO语句</em> </a>的案例”，这是在1968年3月作为一封信发表的，标题为《【the GO TO语句被认为有害》。在这封信中，Dijkstra批评了“<a class="ae js" href="https://en.wikipedia.org/wiki/Spaghetti_code" rel="noopener ugc nofollow" target="_blank"> <em class="jt">意大利面条式代码</em> </a>”，转而提出了结构化编程范式。这封信引发了很多意见——包括一个相反的观点，回复是“<a class="ae js" href="https://web.archive.org/web/20090320002214/http://www.ecn.purdue.edu/ParaMount/papers/rubin87goto.pdf" rel="noopener ugc nofollow" target="_blank"><em class="jt">‘GOTO被认为有害’被认为有害</em> </a>”！</p></div></div>    
</body>
</html>