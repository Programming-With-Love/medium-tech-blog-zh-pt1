<html>
<head>
<title>SwiftUI | Shapes | Tic-Tac-Toe Game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI |形状|井字游戏</h1>
<blockquote>原文：<a href="https://medium.com/globant/swiftui-shapes-tic-tac-toe-game-376073b11102?source=collection_archive---------0-----------------------#2022-07-26">https://medium.com/globant/swiftui-shapes-tic-tac-toe-game-376073b11102?source=collection_archive---------0-----------------------#2022-07-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e2ab" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是井字游戏<a class="ae jc" rel="noopener" href="/globant/swiftui-complete-guide-with-tic-tac-toe-game-ae2fea4f980e">系列</a>的第4部分。在这里，我们将了解更多SwiftUI提供的内置形状，并设计一个接力棒来选择第一个玩游戏的玩家。</p><h2 id="6dc3" class="jd je hh bd jf jg jh ji jj jk jl jm jn ip jo jp jq it jr js jt ix ju jv jw jx bi translated">形状</h2><p id="f8e9" class="pw-post-body-paragraph ie if hh ig b ih jy ij ik il jz in io ip ka ir is it kb iv iw ix kc iz ja jb ha bi translated">SwiftUI为我们提供了五种常用的内置形状:矩形、圆角矩形、圆形、椭圆形和胶囊形。我们可以用一个例子来演示所有选项:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="569b" class="jd je hh ki b fi km kn l ko kp">VStack {<br/>   Rectangle()<br/>      .fill(.red)<br/>      .frame(width: 200, height: 200)</span><span id="8521" class="jd je hh ki b fi kq kn l ko kp">   RoundedRectangle(cornerRadius: 15)<br/>      .fill(.orange)<br/>      .frame(width: 150, height: 175)</span><span id="5899" class="jd je hh ki b fi kq kn l ko kp">   Capsule()<br/>      .fill(.yellow)<br/>      .frame(width: 125, height: 150)</span><span id="d954" class="jd je hh ki b fi kq kn l ko kp">   Ellipse()<br/>      .fill(.green)<br/>      .frame(width: 100, height: 75)</span><span id="5149" class="jd je hh ki b fi kq kn l ko kp">   Circle()<br/>      .fill(.blue)<br/>      .frame(width: 25, height: 50)<br/>}</span></pre><ul class=""><li id="3c64" class="kr ks hh ig b ih ii il im ip kt it ku ix kv jb kw kx ky kz bi translated"><em class="la">矩形</em>绘制精确尺寸为200*200的正方形。</li><li id="af32" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated"><em class="la"> RoundedRectable </em>用给定的尺寸画矩形，除了现在你可以用某个值来圆角。</li><li id="88b0" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated"><em class="la"> Capsule </em>也绘制一个给定尺寸的矩形框，但它的两条边将被倒圆，这取决于哪个轴的值更低。上面的例子是有一个125*150的尺寸，这就是为什么它会有顶部和底部圆角边缘。</li><li id="368e" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated"><em class="la">日蚀</em>绘制给定尺寸的日蚀。</li><li id="cadd" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated"><em class="la">圆</em>画圆形日蚀，以高度和宽度中较小的尺寸为半径。上面的例子有一个25*50的尺寸，但是它需要25，并画一个25*25的日蚀。</li></ul><blockquote class="lg lh li"><p id="d27d" class="ie if la ig b ih ii ij ik il im in io lj iq ir is lk iu iv iw ll iy iz ja jb ha bi translated">在这里，我们使用了VStack来排列我们的形状，只需用ZStack替换它，看看它的神奇之处。</p></blockquote><p id="3a0c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将抽签决定哪个运动员先上场。创建一个新的SwiftUI文件，并将其命名为GameScreen。创建PlayerInfo枚举用于访问球员信息，如球员姓名和他们的罢工颜色:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="37bd" class="jd je hh ki b fi km kn l ko kp">enum PlayerInfo: Int {<br/>   case player1 = 1<br/>   case player2</span><span id="b7fb" class="jd je hh ki b fi kq kn l ko kp">   func getPlayerName() -&gt; String {<br/>      switch self {<br/>         case .player2:<br/>            return “Player 2”<br/>         default:<br/>            return “Player 1”<br/>      }<br/>   }</span><span id="465e" class="jd je hh ki b fi kq kn l ko kp">   func getPlayerColor() -&gt; Color {<br/>      switch self {<br/>         case .player2:<br/>            return .green<br/>         default:<br/>            return .blue<br/>      }<br/>   }<br/>}</span></pre><p id="8bd8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，创建一个PlayerView来显示玩家的详细信息。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="d5bc" class="jd je hh ki b fi km kn l ko kp">struct PlayerView: View {<br/>   var player: PlayerInfo<br/>   var body: some View {<br/>      Text(player.getPlayerName())<br/>         .foregroundColor(player.getPlayerColor())<br/>         .padding(20)<br/>         .font(.title)<br/>   }<br/>}</span></pre><p id="d80a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">玩家的视角已经准备好了，但是我们还需要一根指挥棒。创建一个新的SwiftUI文件，将其命名为BatonView，并使用以下修饰符添加一个矩形:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="6eeb" class="jd je hh ki b fi km kn l ko kp">var body: some View {<br/>   Rectangle()<br/>      .frame(width: 60, height: 5, alignment: .center)<br/>      .foregroundColor(.gray)<br/>      .shadow(radius: 10)</span></pre><p id="14d9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">回到GameScreen主体，水平添加PlayerView的两个实例，并在它们之间放置BatonView。</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="288c" class="jd je hh ki b fi km kn l ko kp">HStack {<br/>   PlayerView(player: PlayerInfo.player1)<br/>   BatonView()<br/>   PlayerView(player: PlayerInfo.player2)<br/>}...</span></pre><figure class="kd ke kf kg fd ln er es paragraph-image"><div class="er es lm"><img src="../Images/8a702e0c7b464e04746de98560a40ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*PdiAUJbm9cfCOSRZb_IhXg.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx">Updated GameScreen</figcaption></figure><p id="8fd3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们给我们的指挥棒添加一些动画，并随机选择第一个玩家来玩。</p><figure class="kd ke kf kg fd ln er es paragraph-image"><div class="er es lu"><img src="../Images/92f02d8a7024bd50f0a4951ce12b60a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*x3JPgUYWSC5qcW_2URL5zg.gif"/></div></figure><p id="1004" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">指挥棒在旋转，但同时PlayerView也在播放动画，我们稍后会解决这个问题，但首先要随机选择我们的第一个玩家。为此，我们将创建这样一个新模型:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="182d" class="jd je hh ki b fi km kn l ko kp">class GameSettings: ObservableObject {<br/>   @Published var currentPlayer = 0<br/>   var noOfStrokes = 0<br/>}</span></pre><p id="072f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GameSettings拥有游戏的详细信息，比如现在谁在玩游戏，以及两个玩家的击球次数。将代码更新为截图，一旦接力棒停止旋转，游戏将能够选择第一个玩家。</p><figure class="kd ke kf kg fd ln er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es lv"><img src="../Images/d5efe2a01e6d4b3b0d444b58516a6f2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymFmUltvC-Y688VTcaw2AQ.png"/></div></div></figure><ul class=""><li id="fa81" class="kr ks hh ig b ih ii il im ip kt it ku ix kv jb kw kx ky kz bi translated">BatonView有10秒钟的旋转动画，在它出现时自动开始。</li><li id="6a85" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated">因此我们在游戏屏幕上等待10秒钟来随机设置当前玩家。</li><li id="3f28" class="kr ks hh ig b ih lb il lc ip ld it le ix lf jb kw kx ky kz bi translated">一旦决定了currentPlayer，整个视图就会按照上面的效果重新绘制。</li></ul><p id="87e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，我们需要在添加游戏屏幕时初始化环境对象设置，如下所示:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="56e7" class="jd je hh ki b fi km kn l ko kp">NavigationLink(“Play Game”) {<br/>   GameScreen().environmentObject(GameSettings())<br/>   ...</span></pre><p id="f8af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了停止不必要的动画，只需将这个修改器添加到两个PlayerView实例中，我们就可以开始了:</p><pre class="kd ke kf kg fd kh ki kj kk aw kl bi"><span id="b4e4" class="jd je hh ki b fi km kn l ko kp">.scaleEffect(self.settings.currentPlayer == 1 ? 1.5 : 1)<br/>.animation(.easeInOut)<br/>....</span></pre><p id="9cc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">一定要看看我在这个系列中的其他文章:</strong></p><p id="13c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-text-view-styling-lets-play-tic-tac-toe-game-7987909584fb">文本视图样式</a></p><p id="6bfc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-tic-tac-toe-game-button-154a35997bc">按钮</a></p><p id="184b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-navigation-tic-tac-toe-game-d05d52cf4636">导航</a></p><p id="0789" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-drawing-tic-tac-toe-game-71fae0d46381">图纸</a></p><p id="e60d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-data-flow-tic-tac-toe-game-bace4fbeb3ac">数据流</a></p><p id="b36d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-list-tic-tac-toe-game-8ad7aaa4050">列表</a></p><p id="e556" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" rel="noopener" href="/@roy11manisha/swiftui-animation-tic-tac-toe-game-4ffe37aba0b8">动画</a></p><blockquote class="lg lh li"><p id="07c4" class="ie if la ig b ih ii ij ik il im in io lj iq ir is lk iu iv iw ll iy iz ja jb ha bi translated">如果你喜欢这篇文章，请用掌声和评论来欣赏它。这会鼓励我多写！！！！</p></blockquote></div></div>    
</body>
</html>