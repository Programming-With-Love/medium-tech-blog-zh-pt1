<html>
<head>
<title>Walking down the Svelte Route</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">走在苗条的路线上</h1>
<blockquote>原文：<a href="https://medium.com/globant/walking-down-the-svelte-route-67922ae16762?source=collection_archive---------1-----------------------#2020-07-16">https://medium.com/globant/walking-down-the-svelte-route-67922ae16762?source=collection_archive---------1-----------------------#2020-07-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a0547b63458f7441498f3ae2021b17aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zjq72BWbHgOE3Feou7ABWA.jpeg"/></div></div></figure><p id="bb42" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">想知道如何在Svelte中实现路由？细长的路由包如何能来救你？让我帮你做。我将通过一个简单的例子向您展示如何实现这个苗条的路由包。你应该对苗条身材有一个基本的了解，如果你不知道如何锻炼苗条身材，你可以查看<a class="ae jn" href="https://svelte.dev/tutorial/basics" rel="noopener ugc nofollow" target="_blank">快速开始锻炼苗条身材</a>。如果你是第一次接触苗条路线，不知道它是什么，那么，继续读下去。</p><p id="02af" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我有一个基本的应用程序设置苗条使用的步骤<a class="ae jn" href="https://svelte.dev/blog/the-easiest-way-to-get-started" rel="noopener ugc nofollow" target="_blank">这里</a>。现在，直接进入路由部分。</p><p id="688b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在svelte中添加路由有多种方式。然而，其中两个常用的是:</p><p id="98fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1) <strong class="ir hi"> Sapper </strong> —一个由svelte团队构建在svelte之上的框架，它默认呈现服务器端优先(SSR)。</p><p id="b294" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2) <strong class="ir hi">苗条路由</strong>——一个支持SSR的声明式苗条路由库</p><p id="4717" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我们将采用“<strong class="ir hi">苗条路线”</strong>路线。</p><blockquote class="jo jp jq"><p id="5728" class="ip iq jr ir b is it iu iv iw ix iy iz js jb jc jd jt jf jg jh ju jj jk jl jm ha bi translated"><strong class="ir hi">安装</strong></p></blockquote><p id="9f1b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将首先在我们现有的项目中安装一个简单的路由包。打开您喜爱的终端，导航到您的项目文件夹。我使用NPM来安装软件包，但是你可以使用任何适合你的。运行以下命令</p><pre class="jv jw jx jy fd jz ka kb kc aw kd bi"><span id="4ca8" class="ke kf hh ka b fi kg kh l ki kj">npm install svelte-routing</span></pre><p id="500d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将向package.json添加必要的路由配置，并将包添加到node-modules文件夹。</p><p id="dcc0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在你有了力量，让我们开始使用它吧！</p><blockquote class="jo jp jq"><p id="a0d6" class="ip iq jr ir b is it iu iv iw ix iy iz js jb jc jd jt jf jg jh ju jj jk jl jm ha bi translated"><strong class="ir hi">整合</strong></p></blockquote><p id="19a1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，创建一个组件。导航到项目中的<strong class="ir hi"> <em class="jr"> src </em> </strong>文件夹，创建一个<strong class="ir hi"> <em class="jr">组件</em> </strong>文件夹。在这个级别，我将添加两个组件Home.svelte和About.svelte用于演示目的。</p><p id="a441" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">是时候看看代码了！</p><p id="5594" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">home . svelite</strong></p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="e3fe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">身材苗条</strong></p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="8521" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> App.svelte </strong></p><p id="1a19" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">太好了…！我们的基本组件现在准备好路由，现在在<strong class="ir hi"> App.svelte </strong>组件中配置路由器，同时在App.svelte组件中导入基本组件:</p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="3d2b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">简单介绍一下路由中的一些基本概念。</p><p id="4b75" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">路由器</strong>—<em class="jr">路由器</em>组件通过上下文向<em class="jr">链接</em>和<em class="jr">路由</em>后代组件提供路由信息，因此在应用程序的顶层至少需要一个路由器。它会为所有的路径后代分配一个分数，并选择最佳匹配进行渲染。</p><p id="152f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">链接</strong> —用于在应用程序中导航的组件，它有一些属性，如“to”、“replace”、“state”、“getProps”</p><p id="5ce2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Route — </strong>当其祖先路由器组件决定它是最佳匹配时，将呈现其组件属性或子组件的组件。<strong class="ir hi">它在内部使用</strong>一些属性来设置路径，如“<strong class="ir hi">路径</strong>”和“<strong class="ir hi">组件</strong>”，我们将在下面的动作中看到。</p><p id="de68" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">好了，回到正题！</p><p id="d78f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您是否注意到我们已经在脚本标签中导出了<strong class="ir hi"> <em class="jr"> URL </em> </strong>变量？这是必需的，因为这个“URL”属性在SSR(服务器端呈现)中用于强制应用程序的当前URL，并且将被所有链接和路由后代使用</p><p id="c8ba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经在App.svelte组件中导入了包和基本组件，现在的想法是在导航中设置两个链接(home，about ),当我们单击时，它会重定向到相应的组件。</p><p id="7874" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们在根组件App.svelte中配置它:</p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="ff06" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">瞧啊。就是它了…！😊我们已经成功地在应用程序中设置了苗条路线，现在重新加载页面。</p><p id="6d05" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">糟糕，我们遇到了一个<strong class="ir hi"> 404错误</strong>😨不用担心，要解决这个问题，我们需要在现有组件或新组件中再做一些更改:</p><p id="ff8e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1)我们需要在应用程序的根目录下创建server.js文件，并将以下代码放入其中:</p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="6179" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">基本上这段代码一直在<strong class="ir hi">index.html</strong>中呈现应用程序</p><p id="16d1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2)在main.js中将水合物选项设置为true，您已经在此处设置了新的应用程序Constance，如下所示:</p><figure class="jv jw jx jy fd ii"><div class="bz dy l di"><div class="kk kl l"/></div></figure><p id="0d67" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3)更新rollup.config.js并添加<em class="jr"> "hydratable" </em>为<em class="jr"> true。</em>通过添加这个，我们确保应用程序被编译为可水合的。</p><p id="53fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，水合物选项倾向于更新现有的DOM，而不是在DOM中创建新的元素。只有当组件用hydratable: true编译时，它才会起作用。</p><p id="b004" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4)我们只需确保您的服务器正在为所有给定的路由提供“index.html ”,而不仅仅是“/”路由，因此需要在添加了“start”属性的“package.json”文件中进行的最后一项更改是，我们只需添加<strong class="ir hi">-s "</strong>参数。</p><pre class="jv jw jx jy fd jz ka kb kc aw kd bi"><span id="3aa9" class="ke kf hh ka b fi kg kh l ki kj">"start": "sirv public -single"</span></pre><p id="adea" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">"-s "作为单页应用程序，带有" index.html "后备。</p><p id="6056" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，重新装弹！！</p><p id="2558" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">啊哈！现在它像一个魔咒一样工作！</p><blockquote class="jo jp jq"><p id="7c5b" class="ip iq jr ir b is it iu iv iw ix iy iz js jb jc jd jt jf jg jh ju jj jk jl jm ha bi translated"><strong class="ir hi">结论</strong></p></blockquote><p id="d751" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们看到了使用svelte routing包在我们的应用程序中创建路由是多么容易。</p><p id="732e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如前所述，另一个选项sapper也是可用的。这也是一个很好的框架，但我们必须在svelte上建立一个sapper项目，sapper处于早期开发阶段，未来可能会有一些变化。</p><p id="03c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想了解更多，你可以试试sapper。</p><p id="628a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">感谢您阅读我的文章。我希望它能帮助你在应用程序中成功地实现苗条路由。</p></div></div>    
</body>
</html>