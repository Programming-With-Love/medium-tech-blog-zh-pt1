<html>
<head>
<title>Series â€” Menggunakan Spring JPA (2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Series â€” Menggunakan Spring JPA (2)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.easyread.co/series-menggunakan-spring-jpa-2-8673af359e1a?source=collection_archive---------4-----------------------#2020-05-26">https://medium.easyread.co/series-menggunakan-spring-jpa-2-8673af359e1a?source=collection_archive---------4-----------------------#2020-05-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="92af" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">5.2 â€” JPA Repository Interfaces, Dependency Injection, Java Optional</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/54cbfd27612158af394821a40d27425f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jnBOvjvKuv6_PbLtOQdbsg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@mathyaskurmann?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mathyas Kurmann</a> on <a class="ae ks" href="https://unsplash.com/s/photos/contact?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="fc9f" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Rest API dengan Spring Boot â€” Series List</h1><p id="487c" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><a class="ae ks" href="https://medium.com/easyread/series-rest-api-dengan-spring-boo-2d74060e69fb" rel="noopener"> <strong class="ln io"> 0. Series â€” REST API dengan Spring Boot </strong> </a> <strong class="ln io"> <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-dimulai-dari-instalasi-b564fb981d4" rel="noopener"> <strong class="ln io"> 1. Series â€” Dimulai dari Instalasi! </strong> </a> <strong class="ln io"> <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-inisiasi-project-1e37ffa951ed" rel="noopener"> <strong class="ln io"> 2. Series â€” Inisiasi Project </strong> </a> <strong class="ln io"> <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-rancangan-dan-konfigurasi-database-dengan-h2-3af60e66e4ef" rel="noopener"> <strong class="ln io"> 3. Series â€” Rancangan dan Konfigurasi Database dengan H2 </strong> </a> <strong class="ln io"> <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-membuat-data-model-dengan-sentuhan-lombok-af4a57a75198" rel="noopener"> <strong class="ln io"> 4. Series â€” Membuat Data Model dengan Sentuhan Lombok </strong> </a> <strong class="ln io"> <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-menggunakan-spring-jpa-1-da3ea1274f7d" rel="noopener"> <strong class="ln io"> 5. Series â€” Menggunakan Spring JPA (1) </strong> </a> <strong class="ln io"> <br/> 6. Series â€” Menggunakan Spring JPA (2) â€” Youâ€™re here <br/> </strong> <a class="ae ks" href="https://medium.com/easyread/series-inisialisasi-data-aa2ae7d36691" rel="noopener"> <strong class="ln io"> 7. Series â€” Inisialisasi Data </strong> </a></p></div><div class="ab cl mh mi hr mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ig ih ii ij ik"><blockquote class="mo mp mq"><p id="4e4e" class="ll lm mr ln b lo ms jo lq lr mt jr lt mu mv lw lx mw mx ma mb my mz me mf mg ig bi translated">Part <em class="in"> ini cukup panjang, harap bersabar ya teman â€” teman ğŸ˜† </em></p></blockquote><p id="83bf" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Pada <em class="mr"> part </em> sebelumnya kita sudah mendefinisikan anotasi JPA pada data <em class="mr"> model </em> kita. Berikutnya kita akan membuat <em class="mr"> repository </em> <em class="mr"> interfaces </em> untuk dapat berinteraksi dengan data <em class="mr"> model </em> kita. Kita akan meng- <em class="mr"> extends </em> <code class="fe na nb nc nd b"><strong class="ln io">JpaRepository</strong></code> untuk dapat menggunakan <em class="mr"> built </em> - <em class="mr"> in </em> <em class="mr"> method </em> yang telah disediakan JPA. Agar lebih paham, mari kita praktik langsung.</p><h1 id="26e4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Repository Layer</h1><p id="96f2" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">Pertama, buatlah sebuah <em class="mr"> package </em> baru dengan nama <code class="fe na nb nc nd b"><strong class="ln io">repo</strong></code> <strong class="ln io"> . </strong> Package ini akan berisi <em class="mr"> repository </em> <em class="mr"> interfaces </em> kita. Lalu, kita buat 2 buah <em class="mr"> interface </em> yaitu <code class="fe na nb nc nd b"><strong class="ln io">TourRepository</strong></code> <strong class="ln io"> </strong> dan <code class="fe na nb nc nd b"><strong class="ln io">TourPackageRepository</strong></code> . Kedua <em class="mr"> interface </em> ini akan meng- <em class="mr"> extends </em> <code class="fe na nb nc nd b"><strong class="ln io">JPARepository</strong></code> . <em class="mr"> Interface </em> JPARepository ini memiliki 2 <em class="mr"> parameter </em> , yaitu <em class="mr"> entity </em> yang akan di <em class="mr"> handle </em> dan <em class="mr"> identifier </em> dari <em class="mr"> entity </em> tersebut. <em class="mr"> Class </em> <code class="fe na nb nc nd b"><strong class="ln io">Tour</strong></code> adalah <em class="mr"> entity </em> kita, dan <em class="mr"> identifier </em> (Id dari <em class="mr"> class </em> <code class="fe na nb nc nd b"><strong class="ln io">Tour</strong></code> ) yaitu <em class="mr"> Integer </em> .</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="8177" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">JPARepository ini telah memberikan kita <em class="mr"> method </em> untuk melakukan operasi <strong class="ln io"> CRUD </strong> seperti <code class="fe na nb nc nd b"><strong class="ln io">save()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">findAll()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">findOne()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">delete()</strong></code> . Untuk lebih jelasnya, teman â€” teman dapat melihat method built-in dari JPARepository di <a class="ae ks" href="https://docs.spring.io/autorepo/docs/spring-data-jpa/current/api/org/springframework/data/jpa/repository/support/SimpleJpaRepository.html" rel="noopener ugc nofollow" target="_blank"> sini </a> . Jadi dengan menggunakan JPARepository ini, kita tidak perlu repot dalam proses implementasi <em class="mr"> method </em> nya, kita tinggal pakai.</p><p id="5609" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Salah satu kelebihan JPA ini juga adalah <em class="mr"> query creation from method name </em> , dimana kita bisa membuat <em class="mr"> custom query method </em> dengan sangat mudah. Misalnya, kita ingin membuat sebuah <em class="mr"> query </em> yang akan mengambil data <em class="mr"> tour </em> berdasarkan harga dan waktunya. Kita bisa melakukannya dengan :</p><pre class="kd ke kf kg gt ng nd nh ni aw nj bi"><span id="fd19" class="nk ku in nd b gy nl nm l nn no"><strong class="nd io">List&lt;Tour&gt; findByPriceAndLength(); </strong></span></pre><p id="6420" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Sangat <em class="mr"> simple </em> bukan menggunakan JPA? Dan tentu saja masih ada kelebihan lain dari JPA yang bisa kita gunakan. Teman-teman boleh eksplorasi lebih lanjut tentang JPA dan boleh menerapkannya dalam <em class="mr"> project </em> kali ini jika ingin coba-coba. <em class="mr"> Feel free </em> aja.</p><h1 id="bf63" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">Service Layer</h1><p id="4a3a" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated"><em class="mr"> Nah </em> , setelah kita membuat <em class="mr"> repository layer </em> untuk dapat berinteraksi dengan data model kita, berikutnya kita akan membuat <em class="mr"> service layer </em> yang akan berisi <em class="mr"> business logic </em> dari <em class="mr"> project </em> kita. Mari kita buat lagi sebuah <em class="mr"> package </em> baru dengan nama <code class="fe na nb nc nd b"><strong class="ln io">service</strong></code> . Di dalam <em class="mr"> package </em> ini kita akan membuat 2 <em class="mr"> interface </em> , yaitu <code class="fe na nb nc nd b"><strong class="ln io">TourService</strong></code> dan <code class="fe na nb nc nd b"><strong class="ln io">TourPackageService</strong></code> . <em class="mr"> Interface </em> ini akan berisi <em class="mr"> method </em> yang merupakan representasi dari <em class="mr"> business </em> <em class="mr"> logic </em> <em class="mr"> project </em> kita. Misalnya, kita nanti akan bisa melakukan proses <code class="fe na nb nc nd b"><strong class="ln io">CRUD</strong></code> untuk <code class="fe na nb nc nd b"><strong class="ln io">Tour</strong></code> dan <code class="fe na nb nc nd b"><strong class="ln io">TourPackage</strong></code> . Berarti, <em class="mr"> interface </em> kita bisa kita isi dengan method <code class="fe na nb nc nd b"><strong class="ln io">create()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">find()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">update()</strong></code> , <code class="fe na nb nc nd b"><strong class="ln io">delete()</strong></code> . Selanjutnya kita akan membuat <em class="mr"> class </em> yang mengimplementasi <em class="mr"> interface </em> tersebut, sehingga kita lebih mudah dan fleksibel apabila terjadi perubahan dalam <em class="mr"> business logic project </em> kita.</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="fe5a" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated"><em class="mr"> Interface </em> <code class="fe na nb nc nd b"><strong class="ln io">TourService</strong></code> akan kita isi dengan <em class="mr"> method </em> seperti di atas dan akan kita implementasi pada <em class="mr"> class </em> <code class="fe na nb nc nd b"><strong class="ln io">TourServiceImpl</strong></code> . Di dalam <em class="mr"> class </em> <code class="fe na nb nc nd b"><strong class="ln io">TourServiceImpl</strong></code> ini, kita akan melakukan <em class="mr"> repository dependency injection. </em></p><p id="7dac" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Berikut adalah definisi <em class="mr"> Dependency Injection </em> yang ditulis di <a class="ae ks" href="https://en.wikipedia.org/wiki/Dependency_injection#Dependency_injection_frameworks" rel="noopener ugc nofollow" target="_blank"> wikipedia </a> :</p><blockquote class="mo mp mq"><p id="ef64" class="ll lm mr ln b lo ms jo lq lr mt jr lt mu mv lw lx mw mx ma mb my mz me mf mg ig bi translated">åœ¨<a class="ae ks" href="https://en.wikipedia.org/wiki/Software_engineering" rel="noopener ugc nofollow" target="_blank">è½¯ä»¶å·¥ç¨‹</a>ï¼Œ<strong class="ln io">ä¾èµ–æ³¨å…¥</strong>æ˜¯ä¸€ç§ä¸€ä¸ªå¯¹è±¡æä¾›å¦ä¸€ä¸ªå¯¹è±¡çš„ä¾èµ–çš„æŠ€æœ¯ã€‚ä¾èµ–æ˜¯å¯ä»¥ä½¿ç”¨çš„å¯¹è±¡(ä¸€ä¸ª<a class="ae ks" href="https://en.wikipedia.org/wiki/Service_(systems_architecture)" rel="noopener ugc nofollow" target="_blank">æœåŠ¡</a>)ã€‚æ³¨å…¥æ˜¯å°†ä¾èµ–å…³ç³»ä¼ é€’ç»™ä½¿ç”¨å®ƒçš„ä¾èµ–å¯¹è±¡(ä¸€ä¸ª<a class="ae ks" href="https://en.wikipedia.org/wiki/Client_(computing)" rel="noopener ugc nofollow" target="_blank">å®¢æˆ·æœº</a>)ã€‚è¯¥æœåŠ¡æ˜¯å®¢æˆ·æœºçŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚<a class="ae ks" href="https://en.wikipedia.org/wiki/Dependency_injection#cite_note-JamesShore-1" rel="noopener ugc nofollow" target="_blank">ã€1ã€‘</a>å°†æœåŠ¡ä¼ é€’ç»™å®¢æˆ·æœºï¼Œè€Œä¸æ˜¯è®©å®¢æˆ·æœºæ„å»ºæˆ–<a class="ae ks" href="https://en.wikipedia.org/wiki/Service_locator_pattern" rel="noopener ugc nofollow" target="_blank">æ‰¾åˆ°æœåŠ¡</a>ï¼Œè¿™æ˜¯è¯¥æ¨¡å¼çš„åŸºæœ¬è¦æ±‚ã€‚</p></blockquote><p id="b019" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå­©å­ï¼Œä¾èµ–æ³¨å°„(<strong class="ln io"><em class="mr"/></strong>)æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚</p><p id="dd01" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">karena kita ingin menggunakan class<em class="mr">repository</em>pada<em class="mr">class service</em>kitaï¼Œmaka kita akan<em class="mr">inject</em>/masukkan<em class="mr">class repository</em>ter sebut ke<em class="mr">class service</em>kitaã€‚æ³¨å°„è¿‡ç¨‹å¯ä»¥é€šè¿‡æ³¨å°„<em class="mr">çº§</em>æ¨æ³¨å°„åˆ°<em class="mr">çº§</em>çº§<em class="mr">çº§</em>æ¨è¿›è¡Œã€‚æ¯”å¦‚è¿™ä¸ªğŸ‘‡</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b865" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">æˆ‘ä¸çŸ¥é“ï¼Œæˆ‘ä»¬æ¥è‡ªéŸ©äºšçš„<em class="mr">æ³¨å°„</em>æ„é€ è€…ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€è¾†æ¯”è¿™æ›´å¥½çš„è½¦ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¦ä¸€é¡¹ç ”ç©¶ä¹Ÿåœ¨è¿›è¡Œä¸­ã€‚æˆ‘ä»¬éŸ©äºšå°†åœ¨ä»Šå¹´æ˜¥å¤©å®Œæˆè¿™ä¸€ä»»åŠ¡ï¼Œå¹¶ä¸”å°†å®Œæˆç»„ä»¶æ‰«æå’Œæ³¨å°„ã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b5a7" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<em class="mr">ä¾èµ–æ³¨å…¥</em>å’Œ<em class="mr">ç±»åº“</em>ã€‚æ ¹æ®ä¾èµ–æ³¨å…¥ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦å®æ–½æœåŠ¡ã€‚</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="1a87" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Apabila teman-teman perhatikan, di sini kita juga menggunakan java optional. Optional ini bisa digunakan sebagai salah satu cara untuk menangani kasus <em class="mr"> NullPointerException </em> yang biasa terjadi ketika sebuah <em class="mr"> object </em> memberikan <em class="mr"> value </em> <strong class="ln io"> <em class="mr"> null </em> </strong> .</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="f6f7" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Teman-teman bisa lihat bahwa dengan menggunakan Optional, <em class="mr"> code </em> tersebut menjadi lebih ringkas. Untuk kasus yang sederhana mungkin penggunaan Optional terlihat tidak jauh berbeda dengan <em class="mr"> manual checking </em> seperti kasus di atas. Tapi untuk kasus yang lebih kompleks, tentu hal ini akan berbeda. Saya tidak akan bahas terlalu dalam, tetapi teman-teman boleh lihat <a class="ae ks" href="https://youtu.be/mucDS5Db9go" rel="noopener ugc nofollow" target="_blank"> di sini </a> untuk lebih lanjut.</p><p id="1fb3" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Berikutnya untuk <em class="mr"> interface </em> <code class="fe na nb nc nd b"><strong class="ln io">TourPackage</strong></code> , kita akan buat seperti ini ğŸ‘‡</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="ffe1" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated">Dan untuk implementasi <em class="mr"> interface </em> tersebut, kita akan buat <em class="mr"> class </em> <code class="fe na nb nc nd b"><strong class="ln io">TourPackageImpl</strong></code> yang isinya seperti ini ğŸ‘‡</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="9a8c" class="pw-post-body-paragraph ll lm in ln b lo ms jo lq lr mt jr lt lu mv lw lx ly mx ma mb mc mz me mf mg ig bi translated"><em class="mr"> See you in the next part </em> ğŸ”¥</p></div><div class="ab cl mh mi hr mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ig ih ii ij ik"><h2 id="806a" class="nk ku in bd kv np nq dn kz nr ns dp ld lu nt nu lf ly nv nw lh mc nx ny lj nz bi translated"><strong class="ak"> References : </strong></h2><ol class=""><li id="bd7f" class="oa ob in ln b lo lp lr ls lu oc ly od mc oe mg of og oh oi bi translated"><a class="ae ks" href="https://software.endy.muhardin.com/java/memahami-dependency-injection/" rel="noopener ugc nofollow" target="_blank"> Mengenai Dependency Injection </a> dan <a class="ae ks" href="https://stackoverflow.com/questions/40620000/spring-autowire-on-properties-vs-constructor" rel="noopener ugc nofollow" target="_blank"> Autowired </a></li><li id="fc75" class="oa ob in ln b lo oj lr ok lu ol ly om mc on mg of og oh oi bi translated"><a class="ae ks" href="https://www.baeldung.com/java-optional" rel="noopener ugc nofollow" target="_blank"> Mengenai Java Optional </a></li></ol></div><div class="ab cl mh mi hr mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ig ih ii ij ik"><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oo nf l"/></div></figure></div></div>    
</body>
</html>