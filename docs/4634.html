<html>
<head>
<title>JavaScript ES6+: var, let, or const?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript ES6+: var，let，还是const？</h1>
<blockquote>原文：<a href="https://medium.com/javascript-scene/javascript-es6-var-let-or-const-ba58b8dcde75?source=collection_archive---------0-----------------------#2015-11-04">https://medium.com/javascript-scene/javascript-es6-var-let-or-const-ba58b8dcde75?source=collection_archive---------0-----------------------#2015-11-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c648031168b4e0523ae241c6386dc664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jd_vgmlBJtbwF_fJAQpvSg.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Hard to Choose — Manolo Guijarro (CC BY-NC-ND 2.0)</figcaption></figure><p id="b215" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">也许成为一名更好的程序员你能学到的最重要的事情是<strong class="iv hi">保持事情简单</strong>。在标识符的上下文中，这意味着<strong class="iv hi">一个单一的标识符应该只用来表示一个单一的概念。</strong></p><p id="2b1e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有时很容易创建一个标识符来表示一些数据，然后使用该标识符作为临时存储从一种表示转换到另一种表示的值的地方。</p><p id="381e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">例如，您可能需要一个查询字符串参数值，并从存储整个URL开始，然后只存储查询字符串，然后是值。应该避免这种做法。</p><p id="8180" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果您对URL使用一个标识符，对查询字符串使用另一个标识符，最后使用一个标识符来存储您需要的参数值，这就更容易理解了。</p><p id="4d86" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这就是为什么在ES6中我更喜欢<em class="jr">【常数】</em>而不是<em class="jr">【let`</em>。在JavaScript中，<strong class="iv hi"> <em class="jr"> `const` </em>表示标识符不能被重新分配。</strong>(不要与<em class="jr">不可变值混淆。</em>与那些由Immutable.js和Mori产生的真正的不可变数据类型不同，<em class="jr"> `const` </em>对象可以具有变异的属性。)</p><p id="6167" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果我不需要重新分配，<strong class="iv hi"><em class="jr">【const`</em>是我的默认选择</strong>而不是<em class="jr">【let`</em>，因为我希望代码中的用法尽可能清晰。</p><p id="3958" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当我需要重新分配一个变量时，我使用<em class="jr"> `let` </em>。因为我<strong class="iv hi">用一个变量来表示一件事，</strong><em class="jr">` let`</em>的用例倾向于循环或数学算法。</p><p id="2b4c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我在生产ES6代码中不使用<em class="jr"> `var` </em>。循环在块范围内是有价值的，但是我想不出有哪种情况比<em class="jr"> `let` </em>更适合我。在REPL(读取求值打印循环)环境中，如调试器或节点控制台中，当您只是在试验时，它会很方便，重新分配可能会很有用。</p><p id="4e17" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"><em class="jr">【const`</em></strong>是表示<strong class="iv hi">标识符不会被重新分配的信号。</strong></p><p id="2a32" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="jr"> `let` </em> </strong>是一个信号，表示<strong class="iv hi">变量可能被重新分配</strong>，比如循环中的计数器，或者算法中的值交换。它还表明变量将只在中定义的块中使用<strong class="iv hi">，而不总是整个包含函数。</strong></p><p id="0161" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="jr"> `var` </em> </strong>现在是在JavaScript中定义变量时可用的最弱信号<strong class="iv hi"/>。该变量可能会也可能不会被重新分配，该变量可能会也可能不会用于整个函数，或者仅用于一个块或循环。</p><h2 id="3267" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated">警告:</h2><p id="89e2" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">对于ES6中的<em class="jr"> `let` </em>和<em class="jr"> `const` </em>，使用<em class="jr"> `typeof`: </em>检查标识符的存在不再安全</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="5d76" class="js jt hh kx b fi lb lc l ld le">function foo () {<br/>  typeof bar;<br/>  let bar = ‘baz’;<br/>}</span><span id="d7cb" class="js jt hh kx b fi lf lc l ld le">foo(); // ReferenceError: can't access lexical declaration<br/>       // `bar' before initialization</span></pre><p id="5cf9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但是你会没事的，因为你采纳了我在【JavaScript应用程序编程”中的建议，并且你总是在尝试使用标识符之前初始化它们…</p><h2 id="183e" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated">附言</h2><p id="a9f3" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">如果你需要通过取消设置来释放一个值，你可以考虑用<em class="jr"> `let` </em>而不是<em class="jr"> `const`, </em>但是如果你真的需要对垃圾收集器进行微观管理，你可能应该看看“Slay'n the Waste Monster ”,而不是:</p><figure class="ks kt ku kv fd ii"><div class="bz dy l di"><div class="lh li l"/></div></figure></div><div class="ab cl lj lk go ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ha hb hc hd he"><figure class="ks kt ku kv fd ii er es paragraph-image"><a href="https://ericelliottjs.com/premium-content/lesson-pure-functions"><div class="er es lq"><img src="../Images/649c1c875d8140aa42e9e3d9ffedf8e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgRYDo68_u8KgIhnlZffcg.png"/></div></a><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae lg" href="https://ericelliottjs.com/premium-content/lesson-pure-functions" rel="noopener ugc nofollow" target="_blank">Start your free lesson on EricElliottJS.com</a></figcaption></figure><p id="d435" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="jr">埃里克·埃利奥特</em> </strong> <em class="jr">是一位科技产品和平台顾问，著有</em> <a class="ae lg" href="https://leanpub.com/composingsoftware" rel="noopener ugc nofollow" target="_blank"> <em class="jr">【作曲软件】</em> </a> <em class="jr">，</em><a class="ae lg" href="https://ericelliottjs.com" rel="noopener ugc nofollow" target="_blank"><em class="jr">EricElliottJS.com</em></a><em class="jr">和</em><a class="ae lg" href="https://devanywhere.io" rel="noopener ugc nofollow" target="_blank"><em class="jr">devanywhere . io</em></a><em class="jr">，也是dev团队导师。他曾为</em> <strong class="iv hi"> <em class="jr"> Adobe Systems、</em> </strong> <em class="jr"> </em> <strong class="iv hi"> <em class="jr">【华尔街日报】、</em></strong><em class="jr"/><strong class="iv hi"><em class="jr">【ESPN】、</em></strong><em class="jr"/><strong class="iv hi"><em class="jr">【BBC】、</em> </strong> <em class="jr">以及包括</em> <strong class="iv hi"> <em class="jr"> Usher、【Metallica】</em>在内的顶级录音艺术家</strong></p><p id="61a2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">他和世界上最美丽的女人享受着与世隔绝的生活方式。</p></div></div>    
</body>
</html>