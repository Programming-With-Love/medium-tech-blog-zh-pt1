<html>
<head>
<title>#31DaysOfKotlin — Week 1 Recap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated"># 31日sOfKotlin —第1周回顾</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/31daysofkotlin-week-1-recap-fbd5a622ef86?source=collection_archive---------3-----------------------#2018-04-03">https://medium.com/androiddevelopers/31daysofkotlin-week-1-recap-fbd5a622ef86?source=collection_archive---------3-----------------------#2018-04-03</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/a2d95715b4262e457ee891b9942ce7bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVg8cLZJ4sXx4Y_8l7HY_A.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">Illustration by <a class="ae hu" href="https://twitter.com/VPoltrack" rel="noopener ugc nofollow" target="_blank">Virginia Poltrack</a></figcaption></figure><div class=""/><p id="f57c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们写的Kotlin代码越多，我们就越喜欢它！Kotlin的现代语言功能和<a class="ae hu" href="https://github.com/android/android-ktx" rel="noopener ugc nofollow" target="_blank"> Android KTX </a>一起让我们的Android代码更加简洁、清晰和令人愉快。我们(<a class="ae hu" href="https://twitter.com/FMuntenescu" rel="noopener ugc nofollow" target="_blank"> @FMuntenescu </a>和<a class="ae hu" href="https://twitter.com/objcode" rel="noopener ugc nofollow" target="_blank"> @objcode </a>)开始了<a class="ae hu" href="https://twitter.com/search?q=%2331DaysOfKotlin" rel="noopener ugc nofollow" target="_blank"> #31DaysOfKotlin </a>系列，作为分享我们最喜欢的Kotlin和Android KTX功能的一种方式，并希望让更多的人像我们一样喜欢它。</p><p id="3a22" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">查看其他摘要:</p><div class="hg hh ez fb hi js"><a rel="noopener follow" target="_blank" href="/google-developers/31daysofkotlin-week-2-recap-9eedcd18ef8"><div class="jt ab dw"><div class="ju ab jv cl cj jw"><h2 class="bd hy fi z dy jx ea eb jy ed ef hw bi translated"># 31日sOfKotlin —第2周回顾</h2><div class="jz l"><h3 class="bd b fi z dy jx ea eb jy ed ef dx translated">我们写的Kotlin代码越多，我们就越喜欢它！Kotlin的现代语言功能与Android KTX一起使…</h3></div><div class="ka l"><p class="bd b fp z dy jx ea eb jy ed ef dx translated">medium.com</p></div></div><div class="kb l"><div class="kc l kd ke kf kb kg ho js"/></div></div></a></div><div class="hg hh ez fb hi js"><a rel="noopener follow" target="_blank" href="/google-developers/31daysofkotlin-week-3-recap-20b20ca9e205"><div class="jt ab dw"><div class="ju ab jv cl cj jw"><h2 class="bd hy fi z dy jx ea eb jy ed ef hw bi translated"># 31日sOfKotlin —第3周回顾</h2><div class="jz l"><h3 class="bd b fi z dy jx ea eb jy ed ef dx translated">我们写的Kotlin代码越多，我们就越喜欢它！Kotlin的现代语言功能与Android KTX一起使…</h3></div><div class="ka l"><p class="bd b fp z dy jx ea eb jy ed ef dx translated">medium.com</p></div></div><div class="kb l"><div class="kh l kd ke kf kb kg ho js"/></div></div></a></div><div class="hg hh ez fb hi js"><a rel="noopener follow" target="_blank" href="/google-developers/31daysofkotlin-week-4-recap-d820089f8090"><div class="jt ab dw"><div class="ju ab jv cl cj jw"><h2 class="bd hy fi z dy jx ea eb jy ed ef hw bi translated"># 31日sOfKotlin —第4周回顾</h2><div class="jz l"><h3 class="bd b fi z dy jx ea eb jy ed ef dx translated">我们写的Kotlin代码越多，我们就越喜欢它！Kotlin的现代语言功能与Android KTX一起使…</h3></div><div class="ka l"><p class="bd b fp z dy jx ea eb jy ed ef dx translated">medium.com</p></div></div><div class="kb l"><div class="ki l kd ke kf kb kg ho js"/></div></div></a></div></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><p id="4be6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在科特林的前7天，我们专注于基础知识。</p><h1 id="e7e2" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第一天:猫王操作员</h1><p id="7694" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">有风格地处理空值？检查elvis操作符<code class="du lt lu lv lw b">?:</code>，删除你的“空模板”。用默认值替换空值甚至返回只是一点语法糖！文件:<a class="ae hu" href="https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator" rel="noopener ugc nofollow" target="_blank">猫王操作员</a>。</p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="2aaf" class="mf kr hx lw b fi mg mh l mi mj">val name: String = person.name <strong class="lw hy">?:</strong> “unknown”<br/>val age = person.age ?: return</span></pre><h1 id="e2d5" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第二天:字符串模板</h1><p id="f4b7" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">格式化字符串？通过在变量名前面加上<code class="du lt lu lv lw b">$</code>来引用字符串中的变量和表达式。使用<code class="du lt lu lv lw b">${expression}</code>评估表达式。文档:<a class="ae hu" href="https://kotlinlang.org/docs/reference/basic-types.html#string-templates" rel="noopener ugc nofollow" target="_blank">字符串模板</a>。</p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="1a19" class="mf kr hx lw b fi mg mh l mi mj">val language = “Kotlin”</span><span id="93f9" class="mf kr hx lw b fi mk mh l mi mj">// “Kotlin has 6 characters”<br/>val text = “$language has ${language.length} characters”</span></pre><h1 id="ff64" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第3天:析构声明</h1><p id="3659" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">现在用棱镜？<a class="ae hu" href="https://github.com/android/kotlin-extensions" rel="noopener ugc nofollow" target="_blank"> Android KTX </a>使用析构来分配颜色的分量值。您可以在类中使用析构，或者扩展现有的类来添加析构。文档:<a class="ae hu" href="https://kotlinlang.org/docs/reference/multi-declarations.html" rel="noopener ugc nofollow" target="_blank">析构声明</a>。</p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="a4d7" class="mf kr hx lw b fi mg mh l mi mj">// now with prisms<br/>val (red, green, blue) = color</span><span id="a72a" class="mf kr hx lw b fi mk mh l mi mj">// destructuring for squares<br/>val (left, top, right, bottom) = rect</span><span id="6c26" class="mf kr hx lw b fi mk mh l mi mj">// or more pointedly<br/>val (x, y) = point</span></pre><h1 id="c0c9" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第四天:当表情</h1><p id="6276" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">拥有超能力的交换声明？科特林的表情几乎可以匹配任何东西。文字值、枚举、数字范围。甚至可以调用任意函数！文件:<a class="ae hu" href="https://kotlinlang.org/docs/reference/control-flow.html#when-expression" rel="noopener ugc nofollow" target="_blank">时</a></p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="5a49" class="mf kr hx lw b fi mg mh l mi mj">class Train(val cargo: Number?) {<br/>    override fun toString(): String {<br/>        return when (cargo) {<br/>            null, 0 -&gt; "empty"<br/>            1 -&gt; "tiny"<br/>            in 2..10 -&gt; "small"<br/>            is Int -&gt; "big inty"<br/>            else -&gt; "$cargo"<br/>        }<br/>    }<br/>}</span></pre><h1 id="c845" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第五天:循环、范围表达式和析构</h1><p id="f5f5" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">当与Kotlin的另外两个特性结合使用时，For循环有了更强大的功能:范围表达式和析构。文件:<a class="ae hu" href="https://kotlinlang.org/docs/reference/ranges.html" rel="noopener ugc nofollow" target="_blank">范围</a>，<a class="ae hu" href="https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations" rel="noopener ugc nofollow" target="_blank">析构</a>。</p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="226c" class="mf kr hx lw b fi mg mh l mi mj"><em class="ml">// iterating in the range 1 to 100<br/>for(i in 1..100) {…}</em></span><span id="f66b" class="mf kr hx lw b fi mk mh l mi mj"><em class="ml">// iterating backwards, in the range 100 to 1<br/>for(i in 100 downTo 1){…}</em></span><span id="9b0e" class="mf kr hx lw b fi mk mh l mi mj"><em class="ml">// iterating over an array, getting every other element<br/>val array = arrayOf(“a”, “b”, “x”)<br/>for(i in 1 until array.size step 2 ){…}</em></span><span id="3502" class="mf kr hx lw b fi mk mh l mi mj"><em class="ml">// iterating over an array with the item index and destructuring<br/>for((index, element) in array.withIndex()) {…}</em></span><span id="555b" class="mf kr hx lw b fi mk mh l mi mj"><em class="ml">// iterating over a map<br/>val map = mapOf(1 to “one”, 2 to “two”)<br/>for( (key, value) in map){…}</em></span></pre><h1 id="75b7" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第六天:属性</h1><p id="8c15" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">在Kotlin中，类可以有可变的和只读的属性，默认情况下生成getters和setters。如果需要，您还可以实现自定义的。文档:<a class="ae hu" href="https://kotlinlang.org/docs/reference/properties.html" rel="noopener ugc nofollow" target="_blank">属性</a>。</p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="c173" class="mf kr hx lw b fi mg mh l mi mj">class User {<br/>    // properties<br/>    val id: String = “” // immutable. just getter</span><span id="ac9d" class="mf kr hx lw b fi mk mh l mi mj">    var name: String = “” // default getter and setter</span><span id="396d" class="mf kr hx lw b fi mk mh l mi mj">    var surname: String = “” // custom getter, default setter<br/>    get() = surname.toUpperCase() // custom getter declaration</span><span id="623f" class="mf kr hx lw b fi mk mh l mi mj">    var email: String = “” // default getter, custom setter<br/>    set(value) { // custom setter declaration<br/>    // “value” = name of the setter parameter<br/>    // “field” = property’s backing field; generated<br/>        if(isEmailValid(value)) field = value<br/>    }<br/>}</span></pre><h1 id="d43d" class="kq kr hx bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">第7天:数据类和等式</h1><p id="3dee" class="pw-post-body-paragraph iu iv hx iw b ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn ls jp jq jr ha bi translated">创建只有一个角色的类:保存数据？将它们标记为“数据”类。生成<code class="du lt lu lv lw b">equals()</code>的默认实现(还有<code class="du lt lu lv lw b">hashCode()</code>、<code class="du lt lu lv lw b">toString()</code>和<code class="du lt lu lv lw b">copy()</code>)，并检查结构是否相等。文档:<a class="ae hu" href="https://kotlinlang.org/docs/reference/data-classes.html#data-classes" rel="noopener ugc nofollow" target="_blank">数据类</a>，<a class="ae hu" href="https://kotlinlang.org/docs/reference/equality.html" rel="noopener ugc nofollow" target="_blank">相等</a></p><pre class="lx ly lz ma fd mb lw mc md aw me bi"><span id="f306" class="mf kr hx lw b fi mg mh l mi mj">data class User(<br/>    val name: String, <br/>    val email: String, <br/>    val address: Address, <br/>    … <br/>)</span><span id="6051" class="mf kr hx lw b fi mk mh l mi mj">public class UserListDiffCallback: DiffUtil.Callback() {</span><span id="60f5" class="mf kr hx lw b fi mk mh l mi mj">    override fun areContentsTheSame(<br/>         oldItemPosition: Int,  <br/>         newItemPosition: Int<br/>    ): Boolean { <br/>    // use the generated equals method<br/>    return newUserList[newItemPosition] == <br/>           oldUserList[oldItemPosition])<br/>}</span></pre></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><p id="8ade" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本周重点关注基础知识:去除空错误、简化循环和条件、改进getters和setters，以及去除样板文件。下周我们将深入了解更多Kotlin功能！</p><p id="b976" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你已经开始使用科特林了吗？我们很想知道你还发现了哪些很棒的功能，以及你是如何在你的Android应用中使用它们的。</p><p id="60fc" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">特别感谢我们的评审员:<a class="ae hu" href="https://twitter.com/JakeWharton" rel="noopener ugc nofollow" target="_blank">杰克</a>，<a class="ae hu" href="https://twitter.com/romainguy" rel="noopener ugc nofollow" target="_blank">罗曼</a>，<a class="ae hu" href="https://twitter.com/crafty" rel="noopener ugc nofollow" target="_blank">尼克</a>，<a class="ae hu" href="https://twitter.com/jmslau" rel="noopener ugc nofollow" target="_blank">詹姆斯</a>，<a class="ae hu" href="https://twitter.com/donturner" rel="noopener ugc nofollow" target="_blank">唐</a>以及我们的设计师:<a class="ae hu" href="https://twitter.com/VPoltrack" rel="noopener ugc nofollow" target="_blank">弗吉尼亚</a>。</p></div></div>    
</body>
</html>