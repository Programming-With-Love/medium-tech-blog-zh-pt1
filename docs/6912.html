<html>
<head>
<title>Python List Comprehension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python列表理解</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/python-list-comprehension-b0dd894f776a?source=collection_archive---------0-----------------------#2020-09-30">https://medium.com/quick-code/python-list-comprehension-b0dd894f776a?source=collection_archive---------0-----------------------#2020-09-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="ce3e" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">Python列表理解的快速简单介绍</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/5e15c2c5a784b0bf2830dbecd7cb860a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Yi1o0yb5YRLc0yO"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@amandagraphc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Amanda Jones</a> on <a class="ae jm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="5a50" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">介绍</h1><p id="56ab" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">在本文中，我想向您展示Python语言的一个非常有用的特性:<strong class="kh hi">列表理解</strong>。阅读后，您将能够更有效、更优美地编写代码。</p><p id="62a3" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">列表理解是一种基于现有列表或迭代对象来定义和创建列表的优雅方式。</p><h1 id="19b5" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">例子</h1><h2 id="d4a7" class="lg jo hh bd jp lh li lj jt lk ll lm jx ko ln lo jz ks lp lq kb kw lr ls kd lt bi translated">基本用法</h2><p id="1be8" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">让我们想象一下，我们需要创建一个从0到10的平方数列表。我想如果你不熟悉列表理解，你会像下面的代码一样去做。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="c832" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">但是等等，我们可以利用Python语言的力量，让它变得更加优雅:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="e572" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">如果您在程序结束时检查<em class="lw"> arr </em>值，您会看到相同的值。但是有了列表理解，代码看起来更紧凑，也更容易阅读。</p><h2 id="40ca" class="lg jo hh bd jp lh li lj jt lk ll lm jx ko ln lo jz ks lp lq kb kw lr ls kd lt bi translated">结构</h2><p id="df37" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">该操作的主要结构有以下形式:</p><pre class="ix iy iz ja fd lx ly lz ma aw mb bi"><span id="cc65" class="lg jo hh ly b fi mc md l me mf">[<em class="lw">some_processed_variable </em>for <em class="lw">some_variable </em>in <em class="lw">iterable_object</em>]</span></pre><h2 id="53eb" class="lg jo hh bd jp lh li lj jt lk ll lm jx ko ln lo jz ks lp lq kb kw lr ls kd lt bi translated">如果条件</h2><p id="c6ca" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">让我们更深入一点，为这个结构添加额外的功能。假设我们需要一个只有奇数的列表。现在，我们可以像下面的代码一样进行操作。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="108d" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">我们在结构的末尾添加了一个附加的“if”条件(当然，我们可以通过设置range参数来实现，比如range(1，10，2))。</p><h2 id="110c" class="lg jo hh bd jp lh li lj jt lk ll lm jx ko ln lo jz ks lp lq kb kw lr ls kd lt bi translated">嵌套循环</h2><p id="be25" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">我们可以在列表理解中编写一个嵌套循环。为此，我们一个接一个地写两个循环——第二个循环将被嵌套。让我们用一个常见的例子来检验它——创建一副牌，其中每张牌都有花色和价值。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="7874" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">正如您所看到的，我们有两个循环:主循环和嵌套循环，主循环迭代西装，嵌套循环迭代值列表。</p><p id="3972" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">我们可以编写更多的嵌套循环，但是如果它变得难以阅读和理解，最好不要。</p><p id="3990" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">另一个有理解力的嵌套循环的好例子是创建一个乘法表。下面我们用“数字1 x数字2=数字1 *数字2”的格式创建一个列表。其中数字1和2是从1到9的数字。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="e182" class="lg jo hh bd jp lh li lj jt lk ll lm jx ko ln lo jz ks lp lq kb kw lr ls kd lt bi translated">真实的例子</h2><p id="720a" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">我在其中一场<a class="ae jm" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank">卡格尔</a>比赛中遇到的最后一个例子。有一张桌子有很多列。其中一些格式为“x &lt; some_number &gt;”。我想得到所有这些列名，以备将来处理。有了列表理解，这很容易。在下一个代码单元中有一个关于这个任务及其解决方案的小例子。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="d260" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">结论</h1><p id="ce34" class="pw-post-body-paragraph kf kg hh kh b ki kj ii kk kl km il kn ko kp kq kr ks kt ku kv kw kx ky kz la ha bi translated">在本文中，我们重点讨论了Python中的列表理解机制。主要概念是它易于使用和理解。但是，我们需要小心在结构中添加更多的嵌套循环和困难条件——这可能会开始变得混乱。</p><p id="b5d2" class="pw-post-body-paragraph kf kg hh kh b ki lb ii kk kl lc il kn ko ld kq kr ks le ku kv kw lf ky kz la ha bi translated">除了列表理解，Python还有字典理解和集合理解。它们与列表理解之间的主要区别在于使用了{}括号而不是[]。对于字典，我们需要用值来指定键。</p></div></div>    
</body>
</html>