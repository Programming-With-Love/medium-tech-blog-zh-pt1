<html>
<head>
<title>How To Secure Web Applications With AWS WAF?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用AWS WAF保护Web应用？</h1>
<blockquote>原文：<a href="https://medium.com/edureka/secure-web-applications-with-aws-waf-cf0a543fd0ab?source=collection_archive---------0-----------------------#2019-09-20">https://medium.com/edureka/secure-web-applications-with-aws-waf-cf0a543fd0ab?source=collection_archive---------0-----------------------#2019-09-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/39e3b2554b9f7e5e3814c37c38198e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*sjBPKu13SyOvjll7rwUe9w.png"/></div><figcaption class="il im et er es in io bd b be z dx">Securing Web Applications with AWS WAF — Edureka</figcaption></figure><p id="8cf7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本文将告诉您如何使用AWS WAF保护Web应用程序，并通过一个实际的演示来跟进。本文将涉及以下几点:</p><ul class=""><li id="58cc" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">从一些基础知识开始</li><li id="f4a9" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">开始使用AWS WAF的步骤顺序</li></ul><p id="108e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">那么让我们开始吧，</p><p id="51cf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">继续这篇文章“如何用AWS WAF保护Web应用程序？”</p><h1 id="8f59" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">从一些基础知识开始</h1><p id="cfaf" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">AWS提供EC2、ELB(弹性负载均衡器)、S3(简单存储服务)、EBS(弹性块存储)等服务，以更少的资本支出快速创建有用且精美的应用。在创建这些应用程序时，保护应用程序和数据同样重要。如果保护不当，应用程序数据可能会落入坏人之手，就像最近发生的<a class="ae le" href="https://krebsonsecurity.com/2019/07/capital-one-data-theft-impacts-106m-people/" rel="noopener ugc nofollow" target="_blank"> Capital One事件</a>一样。</p><p id="dac9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Capital One在EC2上托管了一个Web应用程序，它没有得到适当的保护。一名前AWS员工能够利用该漏洞从S3下载大量客户数据。后来发现其他30个组织的数据也是从AWS下载的。因此，再次强调，仅仅设计和架构应用程序是不够的，保护应用程序的安全也同样重要。</p><p id="8e05" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Capital One使用AWS WAF(网络应用程序防火墙)来保护网络应用程序，但由于配置不当，黑客得以访问S3的数据并下载。在本文中，我们将探讨如何使用和配置AWS WAF来防范常见的web攻击，如SQL注入、XSS(跨站脚本)等。AWS WAF必须与应用负载平衡器、CloudFront或API网关一起配置。在这个场景中，我们将使用应用程序负载平衡器。客户通过浏览器发出的任何请求都将通过AWS WAF，然后到达应用程序负载平衡器，最后到达EC2上的Web应用程序。AWS WAF可用于使用一组规则和条件来阻止来自黑客的恶意请求。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/7eadb474c696c78647a446a1aa81c0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*hdaZxiF1NclI-eoD26VsRA.png"/></div></figure><p id="7aa7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">继续这篇文章“如何用AWS WAF保护Web应用程序？”</p><h1 id="7769" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">开始使用AWS WAF的步骤顺序</h1><p id="deb7" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated"><strong class="ir hi"> <em class="lk">第一步:创建易受攻击的web应用，</em> </strong></p><p id="c5b7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第一步是创建一个易受SSRF(服务器端请求伪造)攻击的web应用程序，正如这篇关于Capital One攻击如何发生的<a class="ae le" href="https://www.thecloudavenue.com/2019/08/how-capital-one-hack-was-achieved-in-aws.html" rel="noopener ugc nofollow" target="_blank">文章</a>中所提到的。本文的步骤顺序如下</p><ol class=""><li id="ffba" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm ll jt ju jv bi translated">创建EC2</li><li id="5996" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm ll jt ju jv bi translated">安装创建具有SSRF漏洞的web应用程序所需的软件</li><li id="755e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm ll jt ju jv bi translated">创建具有S3只读权限的IAM角色</li><li id="864c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm ll jt ju jv bi translated">将IAM角色附加到EC2</li><li id="f4be" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm ll jt ju jv bi translated">最后，利用SSRF漏洞获取与IAM角色相关的安全凭证。</li></ol><p id="cf53" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦在提到的博客中完成了一系列步骤，在下面的URL中用EC2的公共IP地址替换5.6.7.8，并在浏览器中打开它。与IAM角色相关联的安全凭据应该显示在浏览器中，如下所示。这就是Capital One被黑的基本过程。有了安全凭证，黑客就能够访问S3等其他AWS服务来下载数据。</p><p id="c658" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae le" href="http://5.6.7.8:80?url=http://169.254.169.254/latest/meta-data/iam/security-credentials/Role4EC2-S3RO" rel="noopener ugc nofollow" target="_blank">http://5.6.7.8:80？URL = http://169 . 254 . 169 . 254/latest/meta-data/iam/security-credentials/role 4 EC 2-S3RO</a></p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/27aba209f39f11c99d514e0ae00051ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iHxBQpYyg4tL1S8dATyOzA.png"/></div></div></figure><p id="e9e3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="lk">第二步:创建应用负载均衡器</em> </strong></p><p id="9aaa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">AWS WAF不能与Web应用程序直接关联。但是，只能与应用负载平衡器、CloudFront和API网关相关联。在本教程中，我们将创建应用程序负载平衡器，并将其与AWS WAF相关联。</p><p id="19ed" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2a: </strong>目标组是EC2实例的集合，必须在创建应用程序负载平衡器之前创建。在EC2管理控制台中，单击左侧窗格中的目标组，然后单击“创建目标组”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/62106571bc3eb90c8361830400498964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ruGn6f_9kk5It7BHSIN7-Q.png"/></div></div></figure><p id="a631" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2b: </strong>输入目标组名称并点击“创建”。将成功创建目标组。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es ls"><img src="../Images/df0e91faf4f934639c2541785f32be1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4M37lrEmD03js90_ss8x3A.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/34c5b2d7cf8a317374ca1d2448e0df2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*DN4m0jfRtpJzda2dIcOUMw.png"/></div></figure><p id="0448" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2c: </strong>确保选择了目标组，单击Targets选项卡，然后单击edit向目标组注册EC2实例。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/36688a5f2093e6bd5a585eb3f6662ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7LnMywAptuJd1JKbsDw_g.png"/></div></div></figure><p id="b0f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2d: </strong>选择EC2实例，点击“添加到已注册”并点击“保存”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lv"><img src="../Images/0c69e98565a378b00424d23f5e4c7252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OsM3DnCpNSR6kZkSb4UFUQ.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lw"><img src="../Images/63613bec2b889bbe2ab20e52d138c699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tr6eSF79OCJlSCeJfraHkg.png"/></div></div></figure><p id="ee75" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">应该为目标组注册如下所示的实例。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lx"><img src="../Images/1a297a82fba3e79183cc19d3cf9b0c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMwAmUWKgokPGaYSPeSAIw.png"/></div></div></figure><p id="9491" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2e: </strong>创建应用程序负载平衡器的时间到了。单击EC2管理控制台左侧窗格中的负载平衡器，然后单击“创建负载平衡器”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/1c7ad177b9d2ecc57fa81eca7f154676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lous-gUV8QgZjlERVPgROw.png"/></div></div></figure><p id="4cd5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">单击“应用程序负载平衡器”的“创建”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lx"><img src="../Images/86fadf3fd33cafead7c4d26f4c7d3d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FafB4gCWOLQ2TQ5ZYS4ODw.png"/></div></div></figure><p id="40a8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">继续这篇文章“如何用AWS WAF保护Web应用程序？”</p><p id="a46a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2f: </strong>输入应用程序负载平衡器的名称。确保选择了所有可用区域，然后单击“Next”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lx"><img src="../Images/b58aa30208d1d73e74c4c1b03e529fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iujWHBPRSIQshnReyLjp_g.png"/></div></div></figure><p id="f953" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2g: </strong>在“配置安全设置”中点击下一步。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/e87d1c74ebdb48364e88152653aef456.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NaTgnpv6Q29zRP8IoXW7cQ.png"/></div></div></figure><p id="7cc6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在“配置安全组”中创建新的安全组或选择一个现有的安全组。确保端口80已打开，可以访问EC2上的网页。点击下一步。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/44c8020153edd4760b6e2e7d253501b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aiotU3Dl4CKcVPgcWpsfrQ.png"/></div></div></figure><p id="530b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2h: </strong>在“配置路由”中选择“现有目标组”，并选择在之前步骤中已经创建的目标组。点击下一步。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/b872cc70e5031fc1ab9755428bb7bbd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*Ued9ah7OetqT4TpoDMbpWw.png"/></div></figure><p id="d57e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2i: </strong>目标EC2实例已经注册为目标组的一部分。因此，在“注册目标”选项卡中，不做任何更改，单击“下一步”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lx"><img src="../Images/32153b4cb5264b902e357b9599b28fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SSN49JGmFeF1KHJrafoB7w.png"/></div></div></figure><p id="911f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2j: </strong>最后，查看应用程序负载平衡器的所有详细信息，并单击Create。应用程序负载平衡器的创建如下所示。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/903aef3021ae7ef1cc3418708ba53f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rbCs58JNgqbgjkzDo57zUg.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/c73e291383f018d7f80ae73781c85d0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpZCZwxw8UdmzJFAtMrb0Q.png"/></div></div></figure><p id="6123" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2k: </strong>获取应用程序负载平衡器的域名，替换下面URL中突出显示的文本，并在浏览器中打开它。请注意，我们通过应用程序负载平衡器访问Web应用程序，安全凭证如下所示。可以使用AWS WAF阻止下面的URL，如后续步骤所示，以阻止安全凭证的泄漏。</p><p id="227a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">MyALB-1929899948.us-east-1.elb.amazonaws.com？URL = http://169 . 254 . 169 . 254/latest/meta-data/iam/security-credentials/role 4c 2-S3RO</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lx"><img src="../Images/8ed659f752e7b2658b41212b39f21cea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrL-D8jHZfchYPJ0JFq1ng.png"/></div></div></figure><p id="e134" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="lk">第三步:创建AWS WAF (Web应用防火墙)</em> </strong></p><p id="1cf4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3a: </strong>进入AWS WAF管理控制台，点击“配置web ACL”。显示了AWS晶片概况。这里是AWS WAF的层次结构。Web ACL有许多规则，而规则又有许多条件，我们将在后续步骤中创建这些条件。点击下一步。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es ly"><img src="../Images/6bfd88274982ecd35f43aef0afe0f805.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*eBSRvU4GPX_LeZChV6zoKA.png"/></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/06f084deb83b138c07855c782046a847.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qAzMm_Wt4ssv21Ahvm_egQ.png"/></div></div></figure><p id="4882" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3b: </strong>输入Web ACL名称，区域为North Virginia(或创建EC2的地方)，资源类型为“应用程序负载平衡器”，最后选择在前面的步骤中创建的应用程序负载平衡器。点击下一步。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/9e8b106ff72643983a45d5af3e08feaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-DkDcMnvLpNL_tvgpE6EOw.png"/></div></div></figure><p id="a500" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3c: </strong>这里必须创建阻止特定web应用请求的条件。向下滚动并单击“字符串和正则表达式匹配条件”的“创建条件”。</p><p id="42bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3d: </strong>输入条件名称，类型为“字符串匹配”，过滤“所有查询参数”，其余参数如下所示。点击“添加过滤器”，然后点击“创建”。这里我们试图创建一个条件，该条件匹配包含查询参数值169.254.169.254的URL。该IP地址与EC2元数据相关。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lz"><img src="../Images/9430b93e5bcb266b18d4587d4c9cb96f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QUK2-bvMsHc0TImjmwwmCw.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es ma"><img src="../Images/9a2bcad0e1800b3bf872e19ccd1cf637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_Wx46qSN5Cpk0qVUACiKQ.png"/></div></div></figure><p id="46f1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">步骤3e: 现在是时候创建一个规则了，它是一个条件的集合。点击“创建规则”并如下所示指定参数。点击“添加条件”，创建和“审查和创建”。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mb"><img src="../Images/362217f9eba04c79b411a9e9c0519d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j2OG2fyhalu_8mnZO2iArg.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es mc"><img src="../Images/a7fe9d173f6ba00e131a5e5f774b3553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tA7S0jJkysZOsQkrBHCKPA.png"/></div></div></figure><p id="8460" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">继续这篇文章“如何用AWS WAF保护Web应用程序？”</p><p id="32eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3f: </strong>最后查看所有细节，点击“确认并创建”。Web ACL(访问控制列表)将被创建并与应用程序负载平衡器相关联，如下所示。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/20c7cbef4e49cecbf870e01804657012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zv1t52idMwNkw5A00XLJAg.png"/></div></div></figure><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lr"><img src="../Images/ad3dbb821b0e39f16142775ebe7c55ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tCIvh8YPeEVEGs2desZkA.png"/></div></div></figure><p id="4588" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3g: </strong>现在尝试通过浏览器访问应用负载平衡器URL，如<strong class="ir hi">步骤2k </strong>中所执行的。这一次，我们将得到“403禁止”，因为我们的网址匹配网络ACL条件，我们阻止它。请求永远不会到达EC2上的应用程序负载平衡器或Web应用程序。这里我们注意到，虽然应用程序允许访问安全凭证，但WAF阻止了同样的访问。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/90db4fd63d17898e34be7ecee29e9209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i30tbRDuIDpfnxhowadKXA.png"/></div></div></figure><p id="9056" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="lk">步骤4:清理本教程中创建的AWS资源。必须按照下述完全相同的顺序进行清理。这是为了确保AWS停止对在本教程中创建的相关资源进行计费。</em> </strong></p><ul class=""><li id="8e8d" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">删除规则中的条件</li><li id="392b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除WebACL中的规则</li><li id="913e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">解除WebACL中ALB的关联</li><li id="1ead" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除WebACL</li><li id="0b5a" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除该规则</li><li id="412c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除条件中的筛选器</li><li id="0e23" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除条件</li><li id="e344" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除ALB和目标组</li><li id="80b0" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">终止EC2</li><li id="7c8e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">删除IAM角色</li></ul><h2 id="3e7b" class="md kc hh bd kd me mf mg kh mh mi mj kl ja mk ml kp je mm mn kt ji mo mp kx mq bi translated"><strong class="ak">结论</strong></h2><p id="b52c" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">如前所述，使用AWS创建Web应用程序是非常容易和有趣的。但是我们也必须确保应用程序是安全的，数据不会泄露到坏人的手中。安全性可以应用于多个层。在本教程中，我们看到了如何使用AWS WAF (Web应用程序防火墙)来保护Web应用程序免受攻击，例如匹配EC2元数据的IP地址。我们还可以使用WAF来防范常见的攻击，如SQL注入和XSS(跨站点脚本)。</p><p id="c7cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用AWS WAF或实际上任何其他安全产品都不能保证应用程序的安全，但是必须正确配置产品。如果配置不当，数据可能会落入他人之手，就像Capital One和其他组织所发生的那样。此外，要考虑的另一件重要事情是，安全性必须从第一天就考虑到，而不是在以后的阶段插入到应用程序中。</p><p id="e6d8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就把我们带到了这篇关于如何用AWS WAF保护Web应用程序的文章的结尾。如果你想查看更多关于人工智能、DevOps、道德黑客等市场最热门技术的文章，那么你可以参考<a class="ae le" href="https://www.edureka.co/blog/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=secure-web-applications-with-aws-waf" rel="noopener ugc nofollow" target="_blank"> Edureka的官方网站。</a></p><p id="43d5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释AWS的各个方面。</p><blockquote class="mr ms mt"><p id="67f8" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 1。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-aws-tutorial-4af6fefa9941"> <em class="hh"> AWS教程</em> </a></p><p id="8f48" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 2。</em> <a class="ae le" rel="noopener" href="/edureka/aws-ec2-tutorial-16583cc7798e"> <em class="hh"> AWS EC2 </em> </a></p><p id="d1f9" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 3。</em><a class="ae le" rel="noopener" href="/edureka/aws-lambda-tutorial-cadd47fbd39b"><em class="hh">AWSλ</em></a></p><p id="1240" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 4。</em><a class="ae le" rel="noopener" href="/edureka/aws-elastic-beanstalk-647ae1d35e2"><em class="hh">AWS</em>弹性豆茎</a></p><p id="9e3c" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 5。</em> <a class="ae le" rel="noopener" href="/edureka/s3-aws-amazon-simple-storage-service-aa71c664b465"> <em class="hh"> AWS S3 </em> </a></p><p id="a374" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 6。</em> <a class="ae le" rel="noopener" href="/edureka/aws-console-fd768626c7d4"> <em class="hh"> AWS控制台</em> </a></p><p id="b4dc" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 7。</em> <a class="ae le" rel="noopener" href="/edureka/rds-aws-tutorial-for-aws-solution-architects-eec7217774dd"> <em class="hh"> AWS RDS </em> </a></p><p id="487d" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated">8。 <a class="ae le" rel="noopener" href="/edureka/aws-migration-e701057f48fe"> <em class="hh"> AWS迁移</em> </a></p><p id="b607" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 9。</em><a class="ae le" rel="noopener" href="/edureka/aws-fargate-85a0e256cb03"><em class="hh">AWS Fargate</em></a></p><p id="9fcf" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 10。</em> <a class="ae le" rel="noopener" href="/edureka/how-to-develop-a-chat-bot-using-amazon-lex-a570beac969e"> <em class="hh">亚马逊Lex </em> </a></p><p id="b5eb" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 11。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-lightsail-tutorial-c2ccc800c4b7"> <em class="hh">亚马逊</em> </a></p><p id="4d8b" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 12。</em> <a class="ae le" rel="noopener" href="/edureka/aws-pricing-91e1137280a9"> <em class="hh"> AWS定价</em> </a></p><p id="129d" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 13。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-athena-tutorial-c7583053495f"> <em class="hh">亚马逊雅典娜</em> </a></p><p id="34af" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 14。</em> <a class="ae le" rel="noopener" href="/edureka/aws-cli-9614bf69292d"> <em class="hh"> AWS CLI </em> </a></p><p id="52be" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 15。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-vpc-tutorial-45b7467bcf1d"> <em class="hh">亚马逊VPC教程</em> </a></p><p id="aa31" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 15。</em><a class="ae le" rel="noopener" href="/edureka/aws-vs-azure-1a882339f127"><em class="hh">AWS vs Azure</em></a></p><p id="afa3" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 17。</em> <a class="ae le" rel="noopener" href="/edureka/on-premise-vs-cloud-computing-f9aee3b05f50"> <em class="hh">内部部署vs云计算</em> </a></p><p id="bc72" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 18。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-dynamodb-tutorial-74d032bde759"> <em class="hh">亚马逊迪纳摩DB教程</em> </a></p><p id="e029" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 19。</em> <a class="ae le" rel="noopener" href="/edureka/restore-ec2-from-snapshot-ddf36f396a6e"> <em class="hh">如何从快照恢复EC2？</em>T95】</a></p><p id="a553" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 20。</em> <a class="ae le" rel="noopener" href="/edureka/aws-codecommit-31ef5a801fcf"> <em class="hh"> AWS代码提交</em> </a></p><p id="aff2" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 21。</em> <a class="ae le" rel="noopener" href="/edureka/aws-architect-interview-questions-5bb705c6b660"> <em class="hh">顶级AWS架构师面试问题</em> </a></p><p id="2b4b" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 22。</em> <a class="ae le" rel="noopener" href="/edureka/restore-ec2-from-snapshot-ddf36f396a6e"> <em class="hh">如何从快照恢复EC2？</em>T113】</a></p><p id="9d24" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 23。</em> <a class="ae le" rel="noopener" href="/edureka/create-websites-using-aws-1577a255ea36"> <em class="hh">使用AWS创建网站</em> </a></p><p id="8600" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated"><em class="hh"> 24。</em> <a class="ae le" rel="noopener" href="/edureka/amazon-route-53-c22c470c22f1"> <em class="hh">亚马逊路线53 </em> </a></p><p id="2c9c" class="ip iq lk ir b is it iu iv iw ix iy iz mu jb jc jd mv jf jg jh mw jj jk jl jm ha bi translated">25。 <a class="ae le" rel="noopener" href="/edureka/aws-resume-7453d9477c74"> <em class="hh"> AWS简历</em> </a></p></blockquote></div><div class="ab cl mx my go mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ha hb hc hd he"><p id="ec24" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lk">原载于2019年9月20日</em><a class="ae le" href="https://www.edureka.co/blog/secure-web-applications-with-aws-waf/" rel="noopener ugc nofollow" target="_blank"><em class="lk">https://www.edureka.co</em></a><em class="lk">。</em></p></div></div>    
</body>
</html>