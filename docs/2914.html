<html>
<head>
<title>Know How LOD Expressions work in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解LOD表达式如何在Tableau中工作</h1>
<blockquote>原文：<a href="https://medium.com/edureka/tableau-lod-2f650ca1503d?source=collection_archive---------1-----------------------#2019-02-20">https://medium.com/edureka/tableau-lod-2f650ca1503d?source=collection_archive---------1-----------------------#2019-02-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/75764426bd1807cf4c63591b15596d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Dm4h4aKwNNXNP93rGCR9kg.png"/></div></figure><p id="3556" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">任何BI工具的目的都是为了给<strong class="in hi"> <em class="jj">数据分析</em> </strong>一个更好的流程。如果一个人，作为一个专业人士，在解决一个问题时面临使用工具的困难，流动的状态就被打破了。这个问题的一个常见原因是需要处理Tableau (LOD)  中已经聚合到不同<strong class="in hi"> <em class="jj">细节级别的数据。</em></strong></p><p id="593b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在Gartner的魔力象限中，Tableau连续第六次位居榜首，这无疑说明了它在市场中的需求。这可能是最好的时机。</p><p id="39e8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">本博客将帮助您理解LOD表达式并讨论以下主题:</p><ul class=""><li id="2bd6" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">为什么在Tableau中需要细节层次？</li><li id="947f" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">Tableau中的细节层次是什么？</li><li id="7156" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">行级和视图级表达式</li><li id="6eec" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">LOD表达式的类型</li><li id="2ee1" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">聚合和LOD表达式</li><li id="5784" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">过滤器和LOD表达式</li><li id="09a7" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">创建LOD表达式</li><li id="9fb2" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">支持Tableau中细节级别的数据源</li><li id="94df" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">表格计算与表格的详细程度</li><li id="04b2" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">Tableau中细节层次的限制</li></ul><h1 id="50c2" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">为什么需要LOD？</h1><p id="b8e8" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">在分析数据时，经常会遇到一些问题。这些问题通常问起来简单，但很难回答。它们通常听起来像这样:</p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lb"><img src="../Images/771a0375b4de789b169deb7a3699b976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aqZA1Jdta1spR2PXH-HzhA.png"/></div></div></figure><p id="a94d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了解决这些类型的问题，Tableau 9.0中引入了一种新的语法，称为细节层次的<strong class="in hi"/>。这种新的语法简化并扩展了Tableau的计算语言，使得直接解决这些问题成为可能。</p><h1 id="b0bc" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">LOD是什么？</h1><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lk"><img src="../Images/362ce8a71fa0cf839f912eb8e7b2c154.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*mybEFPztgBG4Ay8ZfeG6qw.png"/></div></figure><p id="8788" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jj"> LOD表达式代表了一种优雅而强大的方式来回答涉及单个可视化中多个粒度级别的问题。</em></p><p id="e5f2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Tableau或LOD表达式中的细节级别允许您计算数据源级别和可视化级别的值。然而，LOD表达式为您提供了对想要计算的粒度级别的更多控制。它们可以在一个<em class="jj">更细粒度的</em>级别(包括计算)、一个<em class="jj">更细粒度的</em>级别(不包括计算)或一个<em class="jj">完全独立的级别</em> l(固定计算)执行。</p><h1 id="7ef6" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">行级和视图级表达式</h1><h2 id="1ab6" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">行级别</h2><p id="c294" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">在Tableau中，为基础表中的每一行计算引用<strong class="in hi">未聚合的</strong>数据源列的表达式。在这种情况下，表达式的维数是<em class="jj">行级别</em>。行级表达式的一个示例是:</p><p id="8625" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">[Sales] / [Profit]</code></p><p id="c58a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">该计算将在数据库的每一行中进行评估。每行中的销售值将除以该行中的利润值，产生一个新列，其中包含相乘的结果(利润率)。</p><p id="4e30" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果使用此定义创建一个计算，用名称[ProfitRatio]保存它，然后将它从数据窗格拖到工具架上，Tableau通常会聚合视图的计算字段:</p><p id="0bcd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">SUM[ProfitRatio]</code></p><h2 id="945b" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">视图级别</h2><p id="fe2f" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">相比之下，引用<strong class="in hi">聚合</strong>数据源列的表达式是在视图中由维度定义的维度上计算的。在这种情况下，表达式的维度是视图级别。视图级表达式的一个示例是:</p><p id="9a44" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">SUM(Sales) / SUM(Profit)</code></p><p id="7400" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果您将该计算拖到一个架子上(或者作为特别计算直接在架子上键入)，Tableau会将它包含在一个<strong class="in hi"> AGG函数</strong>中:</p><p id="be8c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">AGG(SUM(Sales) / SUM(Profit))</code></p><p id="eea9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这就是所谓的<strong class="in hi">聚合计算</strong>。</p><h1 id="51d9" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">聚合和LOD表达式</h1><h2 id="3655" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">LOD表达式比视图详细程度粗糙</h2><p id="03ac" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">当表达式引用视图中尺寸的一个<strong class="in hi">子集时，它比视图具有更粗糙的细节级别。</strong></p><p id="5ea5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">例如，对于包含维[类别]和[段]的视图，您可以在Tableau中创建一个仅使用其中一个维的详细级别:</p><p id="cc12" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">{FIXED [Segment] : SUM([Sales])}</code></p><p id="8c1e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这种情况下，表达式的细节层次比视图粗糙。它的值基于一个维度([段])，而视图基于两个维度([段]和[类别])。</p><p id="ba59" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">结果是在视图中使用细节层次表达式导致某些值被复制——也就是说，<strong class="in hi">出现多次</strong>。</p><h2 id="1f0e" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">细节层次表达比视图细节层次更精细</h2><p id="8db9" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">当表达式引用视图中尺寸的<strong class="in hi">超集时，它具有比视图更精细的细节层次。</strong></p><p id="acaa" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当您在视图中使用这样的表达式时，Tableau会将结果聚合到视图级别。例如，Tableau中的以下详细级别引用了两个维度:</p><p id="f37c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">{FIXED [Segment], [Category] : SUM([Sales])}</code></p><p id="56c1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当该表达式用在只有[Segment]作为其细节层次的视图中时，值<em class="jj">必须聚合</em>。如果将该表达式拖到架子上，您将看到以下内容:</p><p id="9d9c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">AVG([{FIXED [Segment]], [Category]] : SUM([Sales]])}])</code></p><p id="9825" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Tableau会自动分配一个<strong class="in hi">聚合</strong>(在本例中为平均值)。您可以根据需要更改聚合。</p><h2 id="488a" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">将详细等级表达式添加到视图中</h2><p id="6d28" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">Tableau表达式中的细节级别是在视图中聚合还是复制由<strong class="in hi">表达式类型</strong>和<strong class="in hi">粒度</strong>决定。</p><ul class=""><li id="1c60" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">包含表达式将具有与视图相同的细节级别，或者比视图更精细的细节级别。因此，价值观永远不会被复制。</li><li id="eca0" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">固定表达式可以具有比视图更精细的细节级别、更粗糙的细节级别或相同的细节级别。是否需要聚合固定细节级别的结果取决于视图中的维度。</li><li id="007e" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">排除表达式总是导致复制的值出现在视图中。当包含排除细节级别表达式的计算被搁置时，Tableau默认使用<strong class="in hi"> ATTR聚合</strong>，而不是求和或AVG，以表明表达式实际上没有被聚合，并且更改聚合不会对视图产生影响。</li></ul><p id="bdc6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将详细等级表达式添加到视图中的工具架时，除非将其用作尺寸标注，否则它们总是自动包裹在集合中。</p><h1 id="31c8" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">过滤器和LOD表达式</h1><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es md"><img src="../Images/ac414f4cc5273b3dd3e9f163e5561112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*l2oXgvR_H5Ax2NxE5tylkg.png"/></div></figure><p id="43f2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">此处的图像从上到下描述了过滤器的执行顺序。右侧的文本显示了LOD表达式在此序列中的求值位置。</p><p id="c6fc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">提取过滤器(橙色)仅适用于从数据源创建Tableau提取。表格计算过滤器(深蓝色)在计算执行后应用，因此隐藏标记而不过滤出计算中使用的基础数据。</p><p id="41b0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">固定计算在维度筛选器之前应用，因此除非您提升筛选器架上的字段以提高上下文筛选器的视图性能，否则它们将被忽略。</p><h1 id="73c7" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">LOD表达式的类型</h1><h2 id="f26e" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">包括计算</h2><p id="46db" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">除了视图中的维度之外，INCLUDE还使用指定的维度计算值。当包含不在视图中的尺寸时，这种详细程度的表达式最有用。</p><p id="f298" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">例如:</strong> <code class="du lz ma mb mc b">{ INCLUDE [Customer Name] : SUM([Sales]) }</code></p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es me"><img src="../Images/08aff36c48d2bad8dfdf7728dd73cc38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7iwD1TcrD5vldQTAv1JITA.png"/></div></div></figure><h2 id="a830" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">排除计算</h2><p id="4667" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">排除从表达式中显式删除尺寸，也就是说，从视图详细程度中减去尺寸。Tableau中的这种细节级别对于消除视图中的尺寸非常有用。</p><p id="a7ff" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">例如:</strong> <code class="du lz ma mb mc b">{EXCLUDE [Region]: SUM([Sales])}</code></p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mf"><img src="../Images/103354a996f11dc09eda6d1b5946e4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b7NIKKkmXiyOWjslLDX9Mg.png"/></div></div></figure><h2 id="ccf8" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">固定计算</h2><p id="4f42" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">固定使用指定的尺寸计算值，而不参考视图的详细程度，即不参考视图中的任何其他尺寸。此详细程度表达式还会忽略视图中除上下文过滤器、数据源过滤器和提取过滤器之外的所有过滤器。</p><p id="e2df" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">例如:</strong>T2】</p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mg"><img src="../Images/621cdd00b365a247758aabd20cd79fd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XyVntrwUjt8ioLKGzmVaXA.png"/></div></div></figure><h1 id="9868" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">创建LOD表达式</h1><h2 id="4a19" class="ll jz hh bd ka lm ln lo ke lp lq lr ki iw ls lt km ja lu lv kq je lw lx ku ly bi translated">LOD表达式的语法</h2><p id="9d3e" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">详细等级表达式具有以下结构:</p><p id="30c7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">{[FIXED | INCLUDE | EXCLUDE]&lt;dimension declaration&gt; : &lt;aggregate expressions&gt;}</code></p><p id="4e76" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">第一步:设置可视化</em> </strong></p><ol class=""><li id="b171" class="jk jl hh in b io ip is it iw jm ja jn je jo ji mh jq jr js bi translated">打开Tableau Desktop并连接到<strong class="in hi"> Sample-Superstore </strong>保存的数据源。</li><li id="86cb" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mh jq jr js bi translated">导航到新工作表。</li><li id="eb43" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mh jq jr js bi translated">从<strong class="in hi">数据</strong>窗格的维度下，将区域拖动到列架上。</li><li id="a65c" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mh jq jr js bi translated">从<strong class="in hi">数据</strong>窗格的“度量”下，将“销售额”拖到“行”架上。将出现一个条形图，显示每个地区的销售总额。</li></ol><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es me"><img src="../Images/45bb27af2a043d68a806a2e96ab07217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q11S-TO7ZbQMQW2VCEx-bw.png"/></div></div></figure><p id="b082" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">第二步:创建LOD表达式</em> </strong></p><p id="2f72" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">您可能还想查看每个地区每个客户的平均销售额，而不是每个地区所有销售额的总和。您可以使用LOD表达式来做到这一点。</p><ol class=""><li id="4dd9" class="jk jl hh in b io ip is it iw jm ja jn je jo ji mh jq jr js bi translated">选择分析&gt;创建计算字段。</li><li id="188f" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mh jq jr js bi translated">在打开的计算编辑器中，执行以下操作:</li></ol><ul class=""><li id="729e" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">命名计算，每个客户的销售额。</li><li id="a382" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">输入以下LOD表达式:</li></ul><p id="774a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du lz ma mb mc b">{INCLUDE [Customer Name] : SUM([SALES]) }</code></p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es mi"><img src="../Images/06753ad07c915f85c5dbc9636bb02862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*GX40o_HnCt44QAmP8mpVgA.png"/></div></figure><p id="9898" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.完成后，单击确定。新创建的LOD表达式将添加到“数据”窗格中的“测量”下。</p><p id="1495" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jj">第三步:在可视化中使用LOD表达式</em> </strong></p><ol class=""><li id="bde8" class="jk jl hh in b io ip is it iw jm ja jn je jo ji mh jq jr js bi translated">从<strong class="in hi">数据</strong>窗格中的“度量”下，将“每位客户的销售额”拖到“行”架上，并将其放在SUM(Sales)的左侧。</li><li id="7a6f" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mh jq jr js bi translated">在行架上，右键单击每个客户的销售额，然后选择度量(总和) &gt;平均值。现在，您可以看到每个地区所有销售额的总和以及每个客户的平均销售额。例如，您可以看到，在中部地区，销售总额约为<strong class="in hi"> 500，000美元</strong>，每位客户的平均销售额约为<strong class="in hi"> 800美元</strong>。</li></ol><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es me"><img src="../Images/08aff36c48d2bad8dfdf7728dd73cc38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7iwD1TcrD5vldQTAv1JITA.png"/></div></div></figure><h1 id="388a" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">支持LOD表达式的数据源</h1><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mj"><img src="../Images/0e91960f14e4d983d9b445254385a8bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZQ9Hd4JOnJqAYqaPqcOZ3A.png"/></div></div></figure><h1 id="92e1" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">表格计算与LOD</h1><p id="350b" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">LOD表达式不是表格计算的新形式。虽然它们可以取代许多表格计算，但它们的主要目的是开辟新的可能性。LOD表达式和表格计算的操作方式不同。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mj"><img src="../Images/a22757a95b2829dfe63281ac8abb9e0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4jKVM16ViDIJjQaveaPRQ.png"/></div></div></figure><h1 id="4a63" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">LOD的局限性</h1><p id="e0d2" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">以下是适用于LOD表达式的约束。</p><ul class=""><li id="6abc" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">引用浮点度量值的LOD表达式在需要比较表达式中的值的视图中使用时，往往表现得不可靠。</li><li id="ca7a" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">LOD不会显示在数据源页面上。</li><li id="482f" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">在维度声明中引用参数时，请始终使用参数名，而不是参数值。</li><li id="449a" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">使用数据混合时，主数据源中的链接字段必须位于视图中，然后才能使用辅助数据源中的详细程度表达式。</li></ul><p id="50d8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">此外，一些数据源有复杂性限制。Tableau不会禁用这些数据库的计算，但是如果计算变得太复杂，就有可能出现查询错误。至此，我们结束了这篇关于Tableau中LOD的文章。</p><p id="ae08" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你想查看更多关于人工智能、DevOps、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="0811" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请留意这个系列中的其他文章和视频，它们会帮助你理解Tableau的各种概念。</p><blockquote class="ml mm mn"><p id="b4a4" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">1.<a class="ae mk" rel="noopener" href="/edureka/tableau-tutorial-37d2d6a9684b"> Tableau教程</a></p><p id="8c15" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">2.<a class="ae mk" rel="noopener" href="/edureka/what-is-tableau-1d9f4c641601">什么是画面？</a></p><p id="026c" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">3.<a class="ae mk" rel="noopener" href="/edureka/tableau-functions-ce794b10e588"> Tableau函数</a></p><p id="2084" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">4.<a class="ae mk" rel="noopener" href="/edureka/tableau-dashboards-3e19dd713bc7"> Tableau仪表盘</a></p><p id="51dc" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">5.<a class="ae mk" rel="noopener" href="/edureka/tableau-charts-111758e2ea97">表格图表</a></p><p id="ded6" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">6.<a class="ae mk" rel="noopener" href="/edureka/tableau-tips-and-tricks-a18bf8991afc"> Tableau提示和技巧</a></p><p id="b2de" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">7.<a class="ae mk" rel="noopener" href="/edureka/tableau-public-942228327953">循序渐进指导学习Tableau公共</a></p><p id="2113" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">8.<a class="ae mk" rel="noopener" href="/edureka/tableau-desktop-vs-tableau-public-vs-tableau-reader-fbb2a3aa0bac"> Tableau桌面vs Tableau公共vs Tableau阅读器</a></p><p id="0c72" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">9.<a class="ae mk" rel="noopener" href="/edureka/parameters-in-tableau-ac552e6b0cde-ac552e6b0cde">如何在Tableau中创建和使用参数？</a></p><p id="f855" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">10.Tableau中的布景是什么，如何创建它们</p><p id="d20d" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">11.<a class="ae mk" rel="noopener" href="/edureka/tableau-lod-2f650ca1503d">数据混合</a></p><p id="7db2" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">12 .<a class="ae mk" rel="noopener" href="/edureka/donut-chart-in-tableau-a2e6fadf6534">Tableau中的圆环图</a></p><p id="e9da" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">13.<a class="ae mk" rel="noopener" href="/edureka/tableau-interview-questions-and-answers-4f80523527d">2020年你必须准备的50大Tableau面试问题</a></p><p id="5ca4" class="il im jj in b io ip iq ir is it iu iv mo ix iy iz mp jb jc jd mq jf jg jh ji ha bi translated">14.<a class="ae mk" rel="noopener" href="/edureka/tableau-charts-111758e2ea97">如何以及何时使用不同的Tableau图表</a></p></blockquote></div><div class="ab cl mr ms go mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ha hb hc hd he"><p id="9a8b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jj">原载于2019年2月20日https://www.edureka.co</em><a class="ae mk" href="https://www.edureka.co/blog/tableau-lod/" rel="noopener ugc nofollow" target="_blank"><em class="jj"/></a><em class="jj">。</em></p></div></div>    
</body>
</html>