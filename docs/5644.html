<html>
<head>
<title>Determine the Language of a Document from the Letter Frequency — using Levenshtein Distance between sequences</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用序列之间的Levenshtein距离，根据字母频率确定文档的语言</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/determine-the-language-of-a-document-from-the-letter-frequency-using-levenshtein-distance-c230db714fce?source=collection_archive---------0-----------------------#2019-08-21">https://medium.com/oracledevs/determine-the-language-of-a-document-from-the-letter-frequency-using-levenshtein-distance-c230db714fce?source=collection_archive---------0-----------------------#2019-08-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/6f452914086f3ef2fe11d7a317ef76ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/0*bfcpTsAqtMNt6o6y.png"/></div></figure><p id="826d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">尽管许多语言共享相同或非常相似的字母表，但是在用这些语言编写的文档中，字母的使用是非常不同的。字母“e”非常流行，但不是每种语言中使用最多的字母。事实上，字母频率对于一种语言来说是非常特定的——可以用一种简单而快速的方式来确定文档的语言。</p><p id="00b2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">非常简单的步骤是:</p><ul class=""><li id="9de5" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated">计算文档中字母的出现次数</li><li id="ede0" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">将字母按出现的次数排列成一个字符串(最先出现的字母)(例如:<em class="jx">eiaonlrtscdupmgvfhqbzé；JXêy</em>)</li><li id="5bad" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">将字母序列与所有语言的已知字母出现序列进行比较，并找到最接近的匹配；它给出了文档的语言</li></ul><p id="a53d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为此，我们需要两件重要的事情:</p><ol class=""><li id="0d62" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jy jp jq jr bi translated">我们想要测试的所有语言的字母频率序列—可在http://letterfrequency.org/letter-frequency-by-language/<a class="ae jz" href="http://letterfrequency.org/letter-frequency-by-language/" rel="noopener ugc nofollow" target="_blank">的</a>获得</li><li id="5c21" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jy jp jq jr bi translated">一种比较两个序列相似性的方法——一个很好的候选方法是Levenshtein距离——在这里举例介绍:<a class="ae jz" href="https://stackabuse.com/levenshtein-distance-and-text-similarity-in-python/" rel="noopener ugc nofollow" target="_blank">https://stack abuse . com/Levenshtein-Distance-and-text-similarity-in-python/</a></li></ol><p id="d913" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<a class="ae jz" href="https://github.com/lucasjellema/language-determination-analytics/blob/master/Letter%20Frequency%20Analysis%20-%20Determine%20Language%20of%20Document%20based%20on%20Letter%20Frequency.ipynb" rel="noopener ugc nofollow" target="_blank">这本Jupyter笔记本</a>中，我创建了一个基于Python的小程序来计算文档中的字母数，根据出现次数创建字母序列，并将该序列与二十种不同语言的已知序列进行比较。这个GitHub repo包含代码和文档示例:<a class="ae jz" href="https://github.com/lucasjellema/language-determination-analytics" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/lucasjellema/language-determination-analytics</a>。</p><h1 id="25b8" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">走过引路</h1><p id="1f5b" class="pw-post-body-paragraph il im hh in b io ky iq ir is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ha bi translated"><em class="jx"> 1。将字母频率数据读入Pandas数据帧</em></p><p id="f1f9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将带有20多种语言字母序列的CSV数据(取自<a class="ae jz" href="http://letterfrequency.org/letter-frequency-by-language/" rel="noopener ugc nofollow" target="_blank">http://letterfrequency.org/letter-frequency-by-language/</a>)从文本文件加载到Pandas数据框中，并为可视化和进一步处理做准备。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/978f184ea4721c5b73eda4228b6918b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*2twxwSM9C_9yvofM.png"/></div></figure><p id="684e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jx"> 2。创建一个函数，从文件中加载文档并计算字母的出现次数</em></p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/50ab7834a71ab40430b9b0cd7e76b1de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zc6BY_j3hOCh4IJa.png"/></div></div></figure><p id="a037" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jx"> 3。运行特定文件的功能</em></p><p id="05c5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">文档<em class="jx"> text-file-italian.txt </em>已处理—此文档摘自古腾堡项目现场(【https://www.gutenberg.org】T5)——剧透提示:来自一本意大利书。由此产生的字母计数结果从dict转换成Pandas数据帧，并呈现为:</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ln"><img src="../Images/3017a86ae9dce7653a93a299e400e5b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wYSu5uemzYu7z6B7.png"/></div></div></figure><p id="ba37" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jx"> 4。导出有序字母序列，与各种语言的已知序列进行比较</em></p><p id="1c7c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">该字符串包含文档中所有不同的字母，按字母出现的顺序排列</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lo"><img src="../Images/7b844d1567a00a4a70b4e40e16d22790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UZVe5dqJCyoY1ODV.png"/></div></div></figure><p id="d1d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jx"> 5。创建一个函数来计算两个字母序列之间的距离或差异—基于Levenshtein距离</em></p><p id="a5dc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">简而言之，Levenshtein距离通过确定将一个序列转换成另一个序列所需的动作(插入、删除、替换)的数量来表达两个序列之间的相似性。如果需要很少的改变来将一个序列变形为另一个，则两个字母序列非常接近(例如<em class="jx">亮</em>和<em class="jx">暗</em>非常接近，并且<em class="jx">货运</em>也接近<em class="jx">亮</em>但是比<em class="jx">暗</em>稍微远一点)。这篇文章更详细地描述了Levenshtein距离方法和Python中的一个实现。我愉快地采用并稍微修改了Python函数。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lp"><img src="../Images/a1dd921022b9b2e300090ad840b381d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YEozLl_vIQ_STIZG.png"/></div></div></figure><p id="530a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对几个字符串尝试该函数:</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lq"><img src="../Images/23b045d335d45ca8a35c05411c0e4784.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/0*lxzNrXuoDh7a0osP.png"/></div></div></figure><p id="bd89" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">6。找出被审查文件的字母序列和所有语言的有序字母序列之间的最短距离</p><p id="0fd3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们可以计算两个距离之间的相似性得分，我们可以迭代所有语言的基于字母频率的序列，计算从我们的文档序列到这些序列中的每一个的距离，并选择距离最小的语言作为该文档最可能的语言:</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lr"><img src="../Images/7932b283802e65948ea14fa7f5e7b331.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AjbzuKkR-Iq51-aE.png"/></div></div></figure><p id="e4ec" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">运行此代码会导致:</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/00c61c0830e2f4ffe91346ff9a9f224c.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/0*8PeEAOyHfEfKW92J.png"/></div></figure><p id="41ea" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这完全正确。</p><p id="9adf" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">7。更多例子</p><p id="6e91" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这个函数可以处理任何文本文件，并显示其内容最可能的语言:</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lt"><img src="../Images/67a732e5861a3b04e723f481308f44de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*m2JD3dOB24Ukl5wc.png"/></div></div></figure><p id="7639" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我已经为一些附加文档调用了该函数。它做得非常好——而且做得非常快！它错误地将一份丹麦文件(也取自古腾堡计划)认定为瑞典文。我听说这两个很亲近？鉴于这段文字来自古腾堡遗址，它可能有些陈旧(过时),也许和今天的丹麦语有不同的字母频率？</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/9fa1335ea578605e0730ef0b7ab83768.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/0*ZU3jvm_MPh0gV5uz.png"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lv"><img src="../Images/caeb6c688219151ea1e688e47c7e1dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/0*9GGaLR9pYj5z6Ewk.png"/></div></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/2e48dc9c348606ebb9eca6dce8d518cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/0*CoV00mHEfLx7_1-o.png"/></div></figure><h1 id="e9e9" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">资源</h1><p id="5a73" class="pw-post-body-paragraph il im hh in b io ky iq ir is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ha bi translated">包含示例代码和文档的GitHub存储库:<a class="ae jz" href="https://github.com/lucasjellema/language-determination-analytics" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/lucasjellema/language-determination-analytics</a></p><p id="3f16" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">每种语言的字母频率:【http://letterfrequency.org/ T2】</p><p id="b74c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Levenshtein Distance —比较系列及其差异(Python中)—<a class="ae jz" href="https://stackabuse.com/levenshtein-distance-and-text-similarity-in-python/" rel="noopener ugc nofollow" target="_blank">https://stack abuse . com/levenshtein-Distance-and-text-similarity-in-Python/</a></p><p id="5f73" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">字母频率是特定于语言的。字母频率见维基百科本页:<a class="ae jz" href="https://en.wikipedia.org/wiki/Letter_frequency#Relative_frequencies_of_letters_in_other_languages" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Letter _ frequency # Relative _ frequency _ of _ letters _ in _ other _ languages</a>。</p></div><div class="ab cl lx ly go lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ha hb hc hd he"><p id="3ffb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jx">原载于2019年8月21日</em><a class="ae jz" href="https://technology.amis.nl/2019/08/21/determine-the-language-of-a-document-from-the-letter-frequency-using-levenshtein-distance-between-sequences/" rel="noopener ugc nofollow" target="_blank"><em class="jx">https://technology . amis . nl</em></a><em class="jx">。</em></p></div></div>    
</body>
</html>