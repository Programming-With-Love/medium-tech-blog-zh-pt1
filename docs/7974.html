<html>
<head>
<title>Native vs React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">本地vs反应本地</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/native-vs-cross-platform-322e9896e745?source=collection_archive---------0-----------------------#2021-01-25">https://medium.com/walmartglobaltech/native-vs-cross-platform-322e9896e745?source=collection_archive---------0-----------------------#2021-01-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="770d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">传统上，移动应用程序是用本地语言编写的。随着React Native的崛起，越来越多的热门移动应用(如脸书、Instagram、Pinterest、优步、Discord、SoundCloud、Skype……)正在React Native中被部分或完全改写。这就引出了一个问题:移动开发者是否应该使用React Native进行移动开发，而不是使用Java或Swift进行完全的原生开发？</p><p id="76ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">嗯，没有正确的答案，这取决于要求。在这篇文章中，我将详细比较它们。</p><h1 id="cf6d" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">本机应用程序:</h1><p id="ff7c" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">本机应用程序是为在特定平台或设备上使用而开发的应用程序。因为它是为在特定设备及其操作系统上使用而构建的，所以它能够使用特定于设备的硬件和软件。与开发为跨多个系统通用的web应用或移动云应用相比，它可以提供优化的性能，并利用最新的技术，如生物识别或增强现实。</p><h1 id="a6fe" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">反应本机应用程序:</h1><p id="ee80" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">React Native是一个使用JavaScript构建原生iOS和Android应用的框架。它使用本地组件来呈现用户界面(UI)。它提供了相同的本机外观，同时还提供了额外的可移植性和熟悉的方法。React Native是脸书创建的一个框架，旨在实现流畅、轻松的跨平台移动开发。JavaScript是React Native的主要编程语言。默认情况下，包含JSX扩展是为了方便编写声明性UI组件。</p><p id="2ed4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Android开发中，你用Kotlin或者Java写视图；在iOS开发中，你使用Swift或者Objective-C，有了React Native (RN)，你可以使用React组件用JavaScript调用这些视图。例如，一个本地TextInput将有一个相应的RN组件，它可以直接导入到JS代码中，并像任何其他React组件一样使用。因此，开发人员将像编写任何其他React web应用程序一样编写代码，但输出将是一个本机应用程序。因为React原生组件由与Android和iOS相同的视图支持，React原生应用的外观、感觉和性能与任何其他应用一样。我们称这些平台支持的组件为本地组件。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kf"><img src="../Images/9172ac89d032403218771db06153906c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHaH6BYBcbS8OM3Jk6FZRw.png"/></div></div></figure><p id="a917" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个很大的区别是，React Native在一个单独的线程中运行JavaScript代码，因此用户界面不会阻塞，动画应该流畅。</p><p id="4575" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">JavaScriptCore在iOS中是默认的。但是在Android的情况下，RN将JavaScriptCore与应用程序捆绑在一起。这增加了应用程序的大小。因此，对于Android来说，RN的Hello World应用程序大约需要3到4兆字节。脸书开源了Hermes，这是一个小型轻量级的JavaScript引擎，针对React原生Android应用进行了优化(从RN 0.60.2开始)。它带来了React Native在移动开发方面的巨大进步，因为它将给RN构建的Android应用程序带来显著的性能提升，以及更小的构建大小和更少的内存使用。</p><p id="f3ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在React Native应用程序中，JavaScript逻辑在一个专用线程中运行，而应用程序的其余部分在我们称之为“本机领域”中运行。JavaScript处理应用程序的业务逻辑，而本机领域呈现UI并管理设备交互。这两个域依靠一种叫做“桥”的东西进行通信。</p><p id="960a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">JavaScript线程和本地领域不能进行直接对话——它们不能监听、响应或取消对方发生的事件和操作。相反，它们通过异步消息队列来回传递序列化的消息。这一系统“弥合”了这一差距。例如，React Native可能会向本机领域发送一条消息，说明“呈现此按钮”收到后(即下次检查消息队列时)，本机领域完成呈现。稍后，当用户单击该按钮时，本地领域向JavaScript线程发送一条消息，通知它该操作，触发一些相关的应用程序逻辑，这将导致UI更新被推回到本地领域的队列中，等等。</p><p id="34db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于该桥的断开和异步特性，可能会出现一些性能问题。例如，队列可能会陷入困境，比方说，如果用户快速滚动一个长而复杂的列表，许多“用户已经滚动”和“绘制这个新的UI”更新会来回出现。出于类似的原因，动画也可能是一个关注点。实际上，大多数时候这些性能缺陷对用户来说是可以忽略的；然而，它们仍然是开发人员需要了解的东西，以便可以围绕它们进行设计。</p><p id="1e88" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">iOS和Android的架构都很相似，只是有细微的差别。如果我们从大的方面考虑，RN平台有<strong class="ig hi">三个部分:</strong></p><ol class=""><li id="f022" class="kr ks hh ig b ih ii il im ip kt it ku ix kv jb kw kx ky kz bi translated"><strong class="ig hi">原生代码/模块</strong>:iOS的大部分原生代码是用Objective C或者Swift编写的，而Android的则是用Java / Kotlin编写的。要不是为了编写React原生应用，我们几乎不需要为iOS或Android编写原生代码。</li><li id="74d5" class="kr ks hh ig b ih la il lb ip lc it ld ix le jb kw kx ky kz bi translated">Javascript VM :运行我们所有Javascript代码的JS虚拟机。在iOS/Android模拟器和设备上，React Native使用<strong class="ig hi"> JavaScriptCore。</strong></li><li id="9fc7" class="kr ks hh ig b ih la il lb ip lc it ld ix le jb kw kx ky kz bi translated"><strong class="ig hi">React Native Bridge</strong>:React Native Bridge是一个C++/Java桥，负责本机和Javascript线程之间的通信。自定义协议用于消息传递。下图说明了RN如何在内部工作。</li></ol><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lf"><img src="../Images/d2a7de9d00b28592299554a18d38bde3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6tvEabc2WKAICVzWvKD6g.png"/></div></div></figure><h1 id="e578" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">原生与反应原生应用</h1><p id="6e21" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated"><strong class="ig hi">为什么是本土？</strong></p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lg"><img src="../Images/0a595f9a56f6b9f8977cdfcbb85aca88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bTBUN1NE1rwlMQaVBiTWdQ.png"/></div></div></figure><h1 id="9679" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">原生应用的利与弊:</h1><p id="6b54" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">原生应用是大规模、大品牌移动服务的<strong class="ig hi">首选，如脸书、Snapchat、银行应用。由于<strong class="ig hi">高质量和卓越的</strong> <strong class="ig hi">性能</strong>，完全专用的解决方案仍然是要求苛刻的客户开发B2C或C2C应用的首选武器。如果你想在应用中开发一款法拉利，你会选择Native。不牺牲质量，不牺牲性能，绝对不牺牲成本和开发时间。下表提供了为什么native优于RN的更详细的比较。</strong></p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lh"><img src="../Images/8cc6085c907860382a237c394550cab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dC5Kraei7NAZ-ycDYllCNw.png"/></div></div></figure><p id="7fc0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">为什么反应原生？</strong></p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es li"><img src="../Images/f8005145b041129f7f55cdefbdeb5286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xDxdQ90a28QFhpobdWzDQA.png"/></div></div></figure><h1 id="6156" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">React本机开发的利弊</h1><p id="0220" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">可用的、现成的React本地框架的选择目前有些有限。</p><p id="9a10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总的来说，React Native是对本地开发的一种成熟且有价值的替代。当需要在质量和性能方面达到最高标准时，Native仍然处于领先地位。专用软件的优势在目前是毋庸置疑的。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lj"><img src="../Images/11865d6dffbb3d00f80ee05f4fa0cf7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hB3yyBSeMivKTY3KcNs6bA.png"/></div></div></figure><p id="7c09" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">移动应用中的增强现实:</strong></p><p id="c549" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae lk" href="https://arvrjourney.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi"/></a><strong class="ig hi">(</strong><a class="ae lk" href="https://arvrjourney.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">AR</strong></a><strong class="ig hi">)</strong>app越来越受到全行业的欢迎。像苹果和谷歌这样的移动平台正在继续为开发者提供新的和改进的AR工具包。谷歌为Android开发者提供ARCore，而iOS平台则提供ARKit 1.5，加载了增强的基于AR的功能，用于构建沉浸式AR应用。虽然这两个工具包看起来都很完整，并且针对各自的平台具有丰富的特性，但是它们是特定于平台的，不允许跨平台呈现。</p><p id="b53b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ViroReact是由ViroMedia创建的成熟的跨平台库。它通过利用自定义渲染器来帮助开发人员提供完美的跨平台AR应用体验，该渲染器可以分别为Android和iOS平台包装ARCore和ARKit。它也得到了团队的大力支持。但是<strong class="ig hi">我不推荐</strong>用于复杂/基于性能的应用，因为React-Native javascript线程会导致事件拥塞和延迟。因此，如果性能很重要，我会推荐全原生解决方案。</p><h1 id="97b5" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">结论</h1><p id="13f9" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">尽管如此，React Native越来越受欢迎也不应该被低估。对于某些目的，像B2B服务，这似乎是一个更好的选择。更好的价格和更短的开发时间增加了它的吸引力。虽然native将在更长时间内保持其主要地位，但React Native越来越多的方面正在描绘一幅正在崛起的失败者的画面，这可能会在未来几年令人惊讶地赶上领导者。下表提供了一个清单，看看RN部署是否适用于您的用例。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es ll"><img src="../Images/50f81a9aa145914ffd654ded10a8bfc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WEv4UURLNWSmDmyC_h2gA.png"/></div></div></figure><p id="cb98" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">原生iOS和Android将继续存在，在可预见的未来，它们将继续伴随着我们。不过React Native的未来有点不确定。诚然，React Native社区正在快速成长和扩展，但由于当前的React Native版本仍然不是1.0(撰写本文时的最新版本是0.62.2)，我们还没有看到React Native的最佳表现。</p><p id="7049" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另一个值得注意的是，脸书确实会定期更新React Native，他们对修复不直接涉及脸书应用的bug并不太感兴趣。react-native将XML编译成本机代码的方式是一个黑盒过程。因此，如果React本机组件中有某种错误，您要么必须等待脸书来修复它，要么自己修复它，这需要进入本机代码。</p><p id="d00a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">到底React Native值不值？答案是:<em class="lm">这取决于你的项目。</em></p><p id="673d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考资料:</p><p id="c0e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">https://appinventiv . com/blog/react-native-vs-native-apps/#:~:text = A % 20 native % 20 mobile % 20 application % 20 can，of%20data%20access 。</p><p id="ba99" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae lk" href="https://itcraftapps.com/blog/pros-and-cons-of-react-native-and-native-development/" rel="noopener ugc nofollow" target="_blank">https://itcraftapps . com/blog/pros-and-cons-of-react-native-and-native-development/</a></p></div></div>    
</body>
</html>