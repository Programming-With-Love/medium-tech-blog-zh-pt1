<html>
<head>
<title>Android MVP Series : Membangun Aplikasi Android dengan Arsitektur MVP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android MVP Series : Membangun Aplikasi Android dengan Arsitektur MVP</h1>
<blockquote>原文：<a href="https://medium.easyread.co/android-mvp-series-membangun-aplikasi-android-dengan-arsitektur-mvp-fbf1f77ecaec?source=collection_archive---------0-----------------------#2018-02-20">https://medium.easyread.co/android-mvp-series-membangun-aplikasi-android-dengan-arsitektur-mvp-fbf1f77ecaec?source=collection_archive---------0-----------------------#2018-02-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="07df" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Bagaimana membuat aplikasi android dengan arsitektur MVP ?</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/3dd9c7f4249f010ca2268d9b2cea2384.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*bboHygvvdJmfFDtJ2ESPHA.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Build Android Application image taken from Google Image</figcaption></figure><p id="b1f7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Halooo.. Beberapa waktu yang lalu salah seorang junior saya dikampus dulu bertanya mengenai pengembangan aplikasi Android menggunakan arsitektur MVP. Setelah memberi beberapa penjelasan singkat kepada dia, saya menjadi tertarik untuk membuat beberapa tulisan mengenai pengembangan aplikasi Android dengan arsitektur MVP. Mungkin sudah banyak sumber yang dapat kita jadikan referensi membuat aplikasi Android dengan arsitektur MVP, tetapi tidak ada salahnya saya juga menulisnya, <em class="lk"> bukan </em> ? 😃 <br/> Tulisan-tulisan yang saya buat kali ini merupakan sebuah seri yang saya beri judul <em class="lk"> “ </em> <strong class="kq io"> <em class="lk"> Android MVP Series” </em> </strong> <em class="lk"> . Nah </em> , oke mari kita mulai saja.</p><h1 id="0766" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">Apa itu MVP Arsitektur?</h1><p id="1b1f" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated"><strong class="kq io"> Model-View-Presenter </strong> atau yang biasa disingkat menjadi <strong class="kq io"> MVP </strong> adalah sebuah konsep arsitektur pengembangan aplikasi yang memisahkan antara tampilan aplikasi dengan proses bisnis yang bekerja pada aplikasi. Arsitektur ini akan membuat pengembangan aplikasi kita menjadi lebih terstuktur, mudah di- <em class="lk"> test </em> dan juga mudah di- <em class="lk"> maintain. </em></p><p id="de70" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Berikut penjelasan masing-masing layer pada <strong class="kq io"> MVP </strong> . <br/> - <strong class="kq io"> View, </strong> merupakan layer untuk menampilkan data dan interaksi ke <em class="lk"> user </em> . View biasanya berupa <em class="lk"> Activity, Fragment </em> atau <em class="lk"> Dialog </em> di Android. View ini juga yang langsung berkomunikasi dengan <em class="lk"> user </em> . <br/> - <strong class="kq io"> Model </strong> , merupakan layer yang menunjuk kepada objek dan data yang ada pada aplikasi. <br/> - <strong class="kq io"> Presenter, </strong> merupakan layer yang menghubungkan komunikasi antara Model dan View. Setiap interaksi yang dilakukan oleh <em class="lk"> user </em> akan memanggil Presenter untuk memrosesnya dan mengakses Model lalu mengembalikan responnya kembali kepada View <em class="lk"> . </em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/27dee5e2faa94f5b54885b54b230aa0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*oCd0RKoBxNJYQKSHtGkIOQ.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Model View Presenter image taken from Google Images</figcaption></figure><p id="22fb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> <em class="lk"> Nah </em> sebenarnya <em class="lk"> apasih </em> manfaat dari penerapan arsitektur seperti ini? </strong> <br/> Pada penjelasan diatas, pemisahan kode program berdasarkan fungsi dapat membuat struktur kode kita lebih rapi dan tentu saja lebih mudah di- <em class="lk"> test </em> . Seperti yang kita ketahui, berbagai View yang kita gunakan biasanya bergantung keras ( <em class="lk"> tighly-coupled </em> ) dengan <em class="lk"> library </em> Android, sehingga kita akan kesulitan untuk melakukan <em class="lk"> testing </em> pada aplikasi kita, misalnya <em class="lk"> unit testing </em> . Dengan struktur pengembangan aplikasi ini, kita dapat membuat aplikasi kita lebih <em class="lk"> maintainable </em> dan <em class="lk"> testable </em> .</p><h1 id="0d01" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">Bagaimana Implentasinya?</h1><p id="03e6" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">Pada seri tulisan saya kali ini, saya membuat sebuah proyek sederhana yang akan menjadi acuan saya dalam menulis setiap part-nya. Selain itu saya juga memakai beberapa <em class="lk"> library </em> yang memudahkan dalam membuat aplikasi Android, yaitu: <br/> - <a class="ae mj" href="http://jakewharton.github.io/butterknife/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> Butter Knife </strong> </a> , merupakan <em class="lk"> library </em> yang membantu untuk menyederhanakan penulisan komponen view di Android. Biasanya saat mendeklarasikan sebuah komponen view, maka kita akan memakai <strong class="kq io"> <em class="lk"> findViewById </em> </strong> . Dengan butter knife penulisannya akan lebih sederhana. <br/> - <a class="ae mj" href="https://google.github.io/dagger/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> Dagger </strong> </a> , merupakan <em class="lk"> library </em> yang digunakan untuk proses <strong class="kq io"> <em class="lk"> Injection </em> </strong> pada aplikasi kita. Merupakan penerapan <strong class="kq io"> <em class="lk"> Dependency Injection </em> </strong> <em class="lk"> . </em> Biasanya saat membuat sebuah objek, kita juga membutuhkan objek lain pada instansiasi objek tersebut, jika tanpa <em class="lk"> dependency injection </em> maka setiap kita melakukan instansiasi objek maka kita juga harus membuat objek-objek yang lain dibutuhkan sehingga kode kita akan kotor dan sulit dipahami.</p><p id="c3c3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Selain memakai arsitektur MVP, aplikasi Android yang saya bangun juga menerapkan <a class="ae mj" href="https://martinfowler.com/eaaCatalog/repository.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> Repository Pattern </strong> </a> . Yang dimaksud dengan <strong class="kq io"> Repository </strong> disini adalah sebuah abstraksi dari <em class="lk"> data layer </em> yang berfungsi mengatur aliran data pada aplikasi. Repository ini biasanya berupa sebuah <em class="lk"> interface </em> yang memiliki beberapa <em class="lk"> method </em> dimana <em class="lk"> class </em> yang mengimplementasikannya akan mengimplementasikan <em class="lk"> method- </em> nya juga. Repository inilah yang nantinya akan dipakai oleh presenter untuk proses pengolahan data.</p><h2 id="1370" class="mk lm in bd ln ml mm dn lr mn mo dp lv kx mp mq lx lb mr ms lz lf mt mu mb mv bi translated">Contract Class</h2><p id="d106" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated"><em class="lk"> Nah </em> , misalnya seperti contoh aplikasi yang saya bangun disini, aplikasi <em class="lk"> List Film </em> . Pada aplikasi ini kita dapat melihat daftar film yang disediakan oleh <em class="lk"> API </em> <a class="ae mj" href="https://ghibliapi.herokuapp.com/#section/Studio-Ghibli-API" rel="noopener ugc nofollow" target="_blank"> Studio-Ghibli </a> . Pertama kita dapat membuat sebuah <em class="lk"> activity </em> atau <em class="lk"> fragment </em> sebagai tampilan aplikasi kita.</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="de7b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Disini belum ada implementasi antara presenter dan view. Untuk membuatnya, mari kita deklarasikan sebuah <strong class="kq io"> <em class="lk"> Contract Class </em> </strong> yang merupakan sebuah <em class="lk"> interface </em> , dimana didalam <em class="lk"> class </em> ini kita akan membuat <em class="lk"> interface </em> Presenter dan View yang nantinya akan dipakai oleh View yang tadi. Sebelumnya saya juga membuat sebuah <em class="lk"> Base class </em> untuk Presenter dan View yang berisikan <em class="lk"> method </em> umum.</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="fedb" class="mk lm in mz b gy nd ne l nf ng">public interface BaseView&lt;T&gt; {<br/>    void setPresenter(T presenter);<br/>}</span><span id="793c" class="mk lm in mz b gy nh ne l nf ng">public interface BasePresenter {<br/>    void start();<br/>}</span></pre><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="cb95" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Kamu boleh menambahkan apa saja pada <em class="lk"> base class </em> sesuai kebutuhan kamu, begitu juga untuk setiap <em class="lk"> contract class </em> diatas, kamu boleh menambahkan <em class="lk"> method </em> atau <em class="lk"> interface </em> lain tergantung kebutuhan. Sekarang, <em class="lk"> interface </em> View yang ada pada <em class="lk"> contract class </em> tadi kita impelementasikan pada Activity atau Fragment kita yang tadi.</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="f800" class="mk lm in mz b gy nd ne l nf ng">public class FilmFeedFragment extends Fragment <strong class="mz io">implements</strong> <strong class="mz io">FilmFeedContract.View</strong> {<br/><br/>    private FilmFeedContract.Presenter presenter;<br/><br/>    @Override<br/>    public void onAttach(Context context) {<br/>        super.onAttach(context);<br/>        // instansiasi presenter<br/>        new FilmFeedPresenter(this, repository);<br/>    }</span><span id="4e19" class="mk lm in mz b gy nh ne l nf ng">    @Override<br/>    public void onResume() {<br/>        super.onResume();<br/>        // call presenter<br/>        <strong class="mz io">if (presenter != null) {<br/>            presenter.start();<br/>        }</strong><br/>    }<br/><br/>    <strong class="mz io">@Override<br/>    public void setPresenter(FilmFeedContract.Presenter presenter) {<br/>        this.presenter = presenter;<br/>    }</strong><br/><br/>    <strong class="mz io">@Override<br/>    public void setItemToView(List&lt;Film&gt; list) {</strong><br/>        //implementasi view<br/>    <strong class="mz io">}</strong><br/>}</span></pre><p id="35ed" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Sekarang Activity atau Fragment ini sudah mengimplementasikan <em class="lk"> interface </em> View yang ada pada <em class="lk"> contract class </em> dan proses pengolahan ada akan diserahkan ke presenter melalui method <code class="fe ni nj nk mz b"><strong class="kq io">presenter.start</strong></code> <strong class="kq io"> </strong> . Lalu bagaimana dengan di Presenter?</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="9852" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk"> Nah, </em> dipresenter inilah kita akan merespon setiap interaksi yang dilakukan user pada aplikasi kita. Misalnya seperti menampilkan data. Pada kode diatas, kita dapat melihat impelementasi <em class="lk"> interface </em> Presenter yang ada di <em class="lk"> contract class </em> tadi. Seperti yang dijelaskan diatas, bahwa kita menggunakan repository untuk komunikasi data, maka disini <em class="lk"> method </em> <code class="fe ni nj nk mz b"><strong class="kq io">loadData()</strong></code> <strong class="kq io"> </strong> akan memanggil repository.</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="c8aa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Selain <em class="lk"> remote </em> , kita juga dapat memiliki data dari lokal, dan tentu saja kita dapat menambahkannya pada aplikasi kita dan impelementasikan <em class="lk"> interface method </em> yang ada pada data source yang tadi. Setelah presenter memanggil repository untuk mendapatkan data, dan pada repository, akan memanggil <em class="lk"> remote data source </em> , dan dikembalikan melalui <em class="lk"> callback </em> , maka kita memperoleh data yang akan ditampilkan pada Activity atau Fragment kita</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="92fc" class="mk lm in mz b gy nd ne l nf ng">@Override<br/>public void loadData() {<br/>    repository.getFilm(new FilmDataSource.LoadDataCallback() {<br/>        @Override<br/>        public void onDataLoaded(List&lt;Film&gt; films) {<br/>            view.setItemToView(films);<br/>        }<br/>    });<br/>}</span></pre><p id="fd61" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Dapat kita lihat pada <em class="lk"> callback </em> <code class="fe ni nj nk mz b"><strong class="kq io">onDataLoaded()</strong></code> <strong class="kq io"> </strong> kita akan memanggil <code class="fe ni nj nk mz b"><strong class="kq io">view.setItemToView()</strong></code> <strong class="kq io"> </strong> yang sebelumnya sudah kita implementasikan pada Activity kita. Jadi sekarang giliran Activity kita yang akan melakukan proses rendering view dengan data yang dikembalikan oleh presenter.</p><p id="1043" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk"> Nah </em> , kira-kira begitulah gambaran dari implementasi arsitektur MVP yang saya gunakan pada aplikasi saya. Untuk pengembangan selanjutnya, dapat kamu lihat pada repo ini <a class="ae mj" href="https://github.com/eminartiys/memorize" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> memorize </strong> </a> . Semoga artikel ini bermanfaat bagi kamu yang ingin mencoba. Kamu juga dapat melihat beberapa sumber dan implementasikan sesuai yang kamu mengerti. Pada dasarnya, pengertian dari arsitektur inilah yang perlu kamu pahami, bagaimana kamu mengimplementasikannya, mungkin boleh kamu coba sendiri. <em class="lk"> Happy Learning </em> ! <em class="lk"> </em> 😃</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="5bef" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk"> If you have any questions or complains, please feel free to contact me in these social networks: </em> <a class="ae mj" href="https://twitter.com/eyseminarti" rel="noopener ugc nofollow" target="_blank"> <em class="lk"> twitter </em> </a> <em class="lk"> , </em> <a class="ae mj" href="http://linkedin.com/in/eminarti-sianturi-08a369102" rel="noopener ugc nofollow" target="_blank"> <em class="lk"> linkedin </em> </a> <em class="lk"> , or </em> <a class="ae mj" href="mailto:eminartiys@gmail.com" rel="noopener ugc nofollow" target="_blank"> <em class="lk"> email </em> </a> <em class="lk"> . I’ll try to do my best to answer if I can, otherwise we will learn together :). </em></p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><h2 id="6658" class="mk lm in bd ln ml mm dn lr mn mo dp lv kx mp mq lx lb mr ms lz lf mt mu mb mv bi translated">Referensi</h2><ol class=""><li id="a228" class="ns nt in kq b kr md ku me kx nu lb nv lf nw lj nx ny nz oa bi translated"><a class="ae mj" href="https://github.com/googlesamples/android-architecture" rel="noopener ugc nofollow" target="_blank"> https://github.com/googlesamples/android-architecture </a></li><li id="672e" class="ns nt in kq b kr ob ku oc kx od lb oe lf of lj nx ny nz oa bi translated"><a class="ae mj" href="https://caster.io/courses/mvp" rel="noopener ugc nofollow" target="_blank"> https://caster.io/courses/mvp </a></li></ol></div></div>    
</body>
</html>