<html>
<head>
<title>Create Artistic Effect by Stylizing Image Background — Part 1: Project Intro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过风格化图像背景创造艺术效果—第1部分:项目介绍</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/image-background-stylizer-part-1-project-intro-d68c4547e7e3?source=collection_archive---------0-----------------------#2020-11-24">https://medium.com/google-developer-experts/image-background-stylizer-part-1-project-intro-d68c4547e7e3?source=collection_archive---------0-----------------------#2020-11-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="b1d5" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">细分+风格转移</h2></div><p id="835e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">作者玛格丽特·梅纳德·里德，ML GDE</p><p id="dcd6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是与团队合作编写的端到端TensorFlow Lite教程的第1部分，讲述了如何通过分割图像，然后使用神经风格转移对图像背景进行风格化，来组合多个ML模型以创建艺术效果。</p><p id="a6bb" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本教程分为四个部分，您可以随意跟随或跳到您最感兴趣或最感兴趣的部分:</p><ul class=""><li id="c950" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr jx jy jz ka bi translated">第一部分:<a class="ae kb" rel="noopener" href="/@margaretmz/image-background-stylizer-part-1-project-intro-d68c4547e7e3"> <strong class="iy hi">项目简介</strong> </a> <strong class="iy hi"> </strong>(本作)<a class="ae kb" href="https://twitter.com/margaretmz" rel="noopener ugc nofollow" target="_blank">玛格丽特·梅纳德-里德</a></li><li id="0553" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">第二部分:<a class="ae kb" rel="noopener" href="/@spsayakpaul/e614af91944d"> <strong class="iy hi"> TensorFlow Lite型号</strong> </a>，<a class="ae kb" href="https://twitter.com/RisingSayak" rel="noopener ugc nofollow" target="_blank"> Sayak Paul </a></li><li id="e1b2" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">第三部分:<a class="ae kb" href="https://farmaker47.medium.com/android-part-of-create-artistic-effect-by-stylizing-an-image-segment-2a646da2d39a" rel="noopener"> <strong class="iy hi"> Android实现</strong> </a>，<a class="ae kb" href="https://www.linkedin.com/in/george-soloupis/" rel="noopener ugc nofollow" target="_blank">乔治·索洛比斯</a></li><li id="eb57" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">第4部分:<strong class="iy hi"> iOS实施</strong>(即将推出…)，Patrick Haralabidis</li></ul><p id="2b03" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">代码可以在这个<a class="ae kb" href="https://github.com/margaretmz/segmentation-style-transfer" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi"> GitHub仓库</strong> </a>中找到，在这里你可以找到关于TensorFlow Lite模型和移动实现的细节。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/4e6e7a44f7b09c7efda5ff38f9f531ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z0ZwhAYz9DUv-sWoPALDRA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Image by the author</figcaption></figure><h1 id="0ac4" class="kx ky hh bd kz la lb lc ld le lf lg lh in li io lj iq lk ir ll it lm iu ln lo bi translated">教程目标</h1><p id="d961" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">本教程的主要目标如下:</p><ul class=""><li id="a034" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr jx jy jz ka bi translated">帮助您了解如何将多个ML模型应用于<strong class="iy hi">真实世界场景</strong>以创建<strong class="iy hi">艺术效果</strong>。</li><li id="19c8" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">为您提供如何保存、转换、优化和基准测试<strong class="iy hi"> TensorFlow Lite模型</strong>的参考。</li><li id="3c65" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">通过<strong class="iy hi">分段任务API </strong>和Android Studio <strong class="iy hi"> ML模型绑定</strong>，指导您如何使用TensorFlow Lite模型轻松创建移动应用。</li><li id="0c4d" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">向您展示如何在移动应用程序中链接多个ML模型的实际实现。</li></ul><h1 id="8290" class="kx ky hh bd kz la lb lc ld le lf lg lh in li io lj iq lk ir ll it lm iu ln lo bi translated">细分+风格转移</h1><p id="07df" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">对于软件特性、专业艺术家和业余爱好者来说，使用AI/ML来辅助艺术和设计的创作变得越来越重要。Snapchat、T2、Adobe Photoshop、T4、英伟达等都有很多这样的例子。</p><p id="8fc2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">背景效果</strong></p><p id="eebf" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">背景去除或模糊有助于保护隐私或表达参与者的情绪。这是一个重要的特性，你可以在会议应用程序中找到，比如Google Hangout或者微软Teams。</p><p id="cf14" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">风格转移</strong></p><p id="445d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其他一些常见的场景包括图像风格的转换，这在定义一件艺术品或艺术家时非常重要。</p><p id="84da" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">虽然神经样式转移可以创建艺术效果，但它无法模仿特定艺术家或艺术类型的确切风格。神经样式转移的另一个缺点是，当对一些对象(如人脸或肖像)应用变换时，输出图像可能看起来不那么吸引人，尽管很有艺术感。</p><p id="f534" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，只对分段的背景进行风格化会使照片肖像的图像更加优雅。这也模仿了摄影或图形设计中改变艺术品背景纹理和/或风格的常见场景。</p><h1 id="22bd" class="kx ky hh bd kz la lb lc ld le lf lg lh in li io lj iq lk ir ll it lm iu ln lo bi translated"><strong class="ak">项目概述</strong></h1><p id="b8de" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">当将ML模型应用于现实世界的应用时，我们经常需要将多个计算机视觉模型链接在一起。在本教程中，我们将向您展示如何通过分割图像来组合多个ML模型以创建艺术效果，然后使用神经风格转移技术将图像背景风格化。</p><p id="c393" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这个项目中，我们使用了两个ML模型——一个用于细分，另一个用于风格转换。</p><h2 id="1cef" class="lu ky hh bd kz lv lw lx ld ly lz ma lh jf mb mc lj jj md me ll jn mf mg ln mh bi translated">1.细分模型</h2><p id="e2b0" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">分割模型是一个基于<a class="ae kb" href="https://github.com/tensorflow/models/tree/master/research/deeplab" rel="noopener ugc nofollow" target="_blank"> DeepLabV3 </a>的语义分割模型，它可以将图像中的每个像素与类别标签、人物、椅子等相关联。下图描述了这个想法-</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mi"><img src="../Images/7359244f0fdc29681e6e72663f59e1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aOCIO-QFTaIEGRNK"/></div></div></figure><h2 id="786b" class="lu ky hh bd kz lv lw lx ld ly lz ma lh jf mb mc lj jj md me ll jn mf mg ln mh bi translated"><strong class="ak"> 2。风格转移模型</strong></h2><p id="3d54" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">对于风格转移模型，我们使用按照本文提出的方法训练的模型— <a class="ae kb" href="https://arxiv.org/abs/1705.06830" rel="noopener ugc nofollow" target="_blank">探索实时、任意神经艺术风格化网络的结构</a>。这个模型允许我们控制我们希望在最终风格化图像中看到的样式数量。这里有一个例子-</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es mj"><img src="../Images/c8da280b44e475489271e4fd45ceb68f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BVMQXb36i-XFMVE2"/></div></div></figure><p id="b793" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">参考:<a class="ae kb" href="https://www.tensorflow.org/lite/models/style_transfer/overview" rel="noopener ugc nofollow" target="_blank">官方TensorFlow Lite文档</a></p><h2 id="3c71" class="lu ky hh bd kz lv lw lx ld ly lz ma lh jf mb mc lj jj md me ll jn mf mg ln mh bi translated">应用设计</h2><p id="0ed3" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">我们将这两个模型连接起来，产生一个风格化的图像，如下所示:</p><ol class=""><li id="603c" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr mk jy jz ka bi translated">拍摄照片或从图库中选择图像作为输入。</li><li id="7ee7" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">将分割模型应用于输入图像。</li><li id="6fd8" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">将样式转移模型应用于图像背景(内容图像)</li><li id="5029" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">将被遮罩的前景图像与风格化的背景混合，生成最终的图像。</li></ol><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es ml"><img src="../Images/73fea23de158468d823695fb822797f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ig_jO6jznr9sD_3C"/></div></div></figure><p id="c761" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">参考:<a class="ae kb" href="https://colab.research.google.com/drive/1KZpmuwBfLZM_0mzUyX2W-xcNq26jCNtn" rel="noopener ugc nofollow" target="_blank">柯拉布笔记本</a>作者:<a class="ae kb" href="https://twitter.com/khanhlvg" rel="noopener ugc nofollow" target="_blank">孔列维</a></p><p id="2c8f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">分割模型应用语义分割，语义分割将每个像素分类为一类。分割模型可以在一个图像中的多个对象上工作，尽管对于我们的示例应用程序，我们选择使用自拍或人脸肖像。所以每张图片都有肖像和背景。然后，我们将样式转换仅应用于背景。</p><p id="bc03" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从技术上来说，风格转换也可以应用到肖像上，但是图像用风格化的背景看起来更有吸引力。将背景风格化也更符合摄影中应用不同背景的真实世界场景。</p><h2 id="1b66" class="lu ky hh bd kz lv lw lx ld ly lz ma lh jf mb mc lj jj md me ll jn mf mg ln mh bi translated"><strong class="ak">用户界面/UX设计</strong></h2><p id="bed0" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">虽然这只是一个示例应用程序，但为了适应多种ML任务，需要精心设计的用户体验:</p><ol class=""><li id="92fb" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr mk jy jz ka bi translated">输入图像:首先用相机捕捉图像或从图库中选择。</li><li id="343a" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">应用分割模型去除图像背景。</li><li id="2589" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">对图像背景应用样式转换。</li><li id="4b76" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr mk jy jz ka bi translated">将前景图像与风格化的背景相结合。</li></ol><p id="956a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一个简单的设计使所有的图像和复杂的逻辑能够在第二个屏幕上显示。</p><p id="0d99" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在你对这个项目有了一个很好的想法，让我们深入到Sayak撰写的教程的第2部分，关于如何创建<a class="ae kb" rel="noopener" href="/@spsayakpaul/e614af91944d"> <strong class="iy hi"> TensorFlow Lite模型</strong> </a>的细节。</p></div><div class="ab cl mm mn go mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ha hb hc hd he"><h1 id="ebd6" class="kx ky hh bd kz la mt lc ld le mu lg lh in mv io lj iq mw ir ll it mx iu ln lo bi translated"><strong class="ak">致谢</strong></h1><p id="24bb" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">该项目是正在进行的创建端到端TensorFlow教程和示例代码的工作的一部分。这是ML GDEs和社区成员的合作。</p><p id="bcf7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">查看<a class="ae kb" href="https://github.com/ml-gde/e2e-tflite-tutorials" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi">端到端TensorFlow Lite教程</strong> </a> <strong class="iy hi"> </strong> repo，获取想法、工作进展和所需帮助的列表。</p><p id="876c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">查看<a class="ae kb" href="https://github.com/margaretmz/awesome-tflite" rel="noopener ugc nofollow" target="_blank"><strong class="iy hi">awesome-TF Lite</strong></a><strong class="iy hi"/>repo，获取TensorFlow Lite模型、样本、教程、工具和学习资源的精彩列表。</p><p id="e872" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们要感谢TensorFlow Lite团队Khanh LeViet和王陆的持续支持。</p></div></div>    
</body>
</html>