<html>
<head>
<title>Jenkins secured authentication with OKTA, SAML, and Authorization strategy.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jenkins使用OKTA、SAML和授权策略保护身份验证。</h1>
<blockquote>原文：<a href="https://medium.com/globant/jenkins-secured-authentication-with-okta-saml-and-authorization-strategy-bc8408fd8d?source=collection_archive---------0-----------------------#2021-11-09">https://medium.com/globant/jenkins-secured-authentication-with-okta-saml-and-authorization-strategy-bc8408fd8d?source=collection_archive---------0-----------------------#2021-11-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/a458c933d2450b891fabfa1fdd8183de.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*XaXWl8D-QzsiErNz_4uUVg.png"/></div></figure><p id="9c43" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当访问公共或私有应用程序时，大多数IT/云工程师的顾虑都与安全性有关。因此，身份验证过程必须尽可能安全。现在，当我们谈论CI/CD(尤其是Jenkins)时，我们可以探索市场上可用的安全登录方法和服务。</p><p id="7918" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这里，我们将介绍与使用Okta安全登录Jenkins相关的每个步骤。</p><p id="ed5d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://www.youtube.com/watch?v=c0r1Rlv3E2Q" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">什么是OKTA？</strong>T3】</a></p><p id="867c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Okta是一个旨在遵守安全认证协议和单点登录功能的平台，它通过帮助组织、客户和客户端集成现有目录(如AWS、Azure、GCP、Slack等)来提供一致的单点登录体验。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/3260bcd9505df0ce69d8ad087ae83254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3GFMBdtUDjqH_R0tbMhYQ.png"/></div></div></figure><h1 id="208f" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">秘诀</h1><ul class=""><li id="088f" class="kr ks hh in b io kt is ku iw kv ja kw je kx ji ky kz la lb bi translated">一个Okta账户。</li><li id="4558" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">詹金斯的例子。</li><li id="abee" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">詹金斯<a class="ae jj" href="https://plugins.jenkins.io/saml" rel="noopener ugc nofollow" target="_blank">安装了SAML插件</a>。</li><li id="a288" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">Jenkins <a class="ae jj" href="https://plugins.jenkins.io/role-strategy" rel="noopener ugc nofollow" target="_blank">安装了基于角色的授权策略</a>插件。</li></ul><h1 id="b63f" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">步骤:</h1><h1 id="f68a" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">在奥克塔</h1><p id="0d78" class="pw-post-body-paragraph il im hh in b io kt iq ir is ku iu iv iw lh iy iz ja li jc jd je lj jg jh ji ha bi translated">转到贵组织的管理仪表板URL<a class="ae jj" href="https://vrio-admin.okta.com/admin/dashboard" rel="noopener ugc nofollow" target="_blank">https://your-organization.okta.com/admin/dashboard</a>。</p><p id="c3d4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">从左侧菜单中选择<strong class="in hi">应用</strong>，从中间屏幕点击<strong class="in hi">浏览应用目录</strong>按钮，并在搜索框中输入<strong class="in hi"> Jenkins </strong>。您可以在那里添加Jenkins应用程序。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lk"><img src="../Images/6c5773301441b7776daf23fdc8dafa0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWODXSBQ9UYHzLzWwaboSA.png"/></div></div></figure><p id="6d59" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.设置OKTA应用程序:</p><p id="27ed" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">应用标签</strong>中:为您的Jenkins提供一个友好的命名约定。</p><p id="b936" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">基本网址</strong>中:提供你的https://my-organization.my-domain.com:8888的HTTPS·詹金斯网址<a class="ae jj" href="https://myjenkins.my-domain.com:8888" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3228" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="ll">注意</em> </strong> <em class="ll">:虽然OKTA允许你设置一个HTTP协议，但不建议这样做。如果您需要在您的Jenkins实例中配置SSL，请参考以下指南(</em><a class="ae jj" href="https://devopscube.com/configure-ssl-jenkins/" rel="noopener ugc nofollow" target="_blank"><em class="ll">re f1</em></a><em class="ll">，</em><a class="ae jj" href="https://gist.github.com/geraldvillorente/26acf3a351643c618125" rel="noopener ugc nofollow" target="_blank"><em class="ll">re F2</em></a><em class="ll">)。</em></p><p id="fa61" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">如果你想在</em><strong class="in hi"><em class="ll">AWS</em></strong><em class="ll">中配置一个</em> <strong class="in hi"> <em class="ll">自管理SSL服务</em> </strong> <em class="ll">你可以参考下面的EC2实例指南:</em></p><p id="583c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://aws.amazon.com/premiumsupport/knowledge-center/configure-acm-certificates-ec2/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">为EC2 </em> </a>托管的网站配置ACM证书</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lm"><img src="../Images/d9d03ae05da54a12ee984f421cbe80ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*84aof4Z2sH21a5v9F1hvnA.png"/></div></div></figure><p id="6f90" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.设置OKTA组:</p><p id="74dd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">从左侧菜单中选择<strong class="in hi">目录</strong>、<strong class="in hi">组、</strong>，然后点击屏幕中央的<strong class="in hi">添加</strong> <strong class="in hi">组</strong>按钮。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ln"><img src="../Images/0a4c4afcb67bb3743bd69af99e994167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbHFuM-Ekq6J3PT7yDdWAg.png"/></div></div></figure><p id="99fb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">选择您的小组，然后点击<strong class="in hi">管理人员</strong>按钮。在那里，添加您希望有权访问您的Jenkins安装的个人，然后单击<strong class="in hi">保存</strong>按钮。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lo"><img src="../Images/375cd4bb6a1e16db9dab4eeeed68f57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OiziXVFsNtRKKC7LiXsL1Q.png"/></div></div></figure><p id="ec10" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">4.设置OKTA应用程序:</p><p id="d56e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">从左侧菜单中，选择<strong class="in hi">应用</strong>、<strong class="in hi">应用、</strong>然后点击Jenkins应用。然后，点击选项卡上的<strong class="in hi">标志，并点击<strong class="in hi">编辑</strong>高亮显示的文本。</strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lp"><img src="../Images/412d99da79c57f0bfa52175f6f2d3c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GGp5i4L5Jvlcs34b-HUS5g.png"/></div></div></figure><p id="dad3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">配置SAML 2.0属性:</p><p id="7444" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">默认继电器状态</strong>:留空。</p><p id="46d2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">禁用强制认证</strong>中:默认(勾选)</p><p id="f5eb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">配置的SAML属性</strong>中:</p><ul class=""><li id="8169" class="kr ks hh in b io ip is it iw lq ja lr je ls ji ky kz la lb bi translated">分组:选择<strong class="in hi">匹配正则表达式</strong>和<strong class="in hi"> </strong>添加图案<strong class="in hi">。* </strong></li></ul><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/1b2a3344faf5be8e08c7bab634e0ec55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*O_8eoZMV7tndcOz5XSx9Og.png"/></div></figure><p id="3f6e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">点击<strong class="in hi">查看设置说明</strong>按钮，这将在<strong class="in hi">新标签</strong>中打开<strong class="in hi"> OKTA导轨</strong>，保持其打开状态，因为在下一步中将需要其中生成的值。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lu"><img src="../Images/3c34972efea1a5a3a06ce0a4ba2476cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VOp7mWHiI-UkBEM0FMFpQ.png"/></div></div></figure><p id="1cc5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">中的</strong>凭证详情:<strong class="in hi">中的<br/>申请用户名格式</strong> : Okta用户名<br/>中的<strong class="in hi">更新申请用户名于:</strong>创建并更新</p><p id="f3c6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">向下滚动到底部并点击<strong class="in hi">保存</strong>按钮。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es lv"><img src="../Images/dcbb25c04372cf18fc21aa00c50de7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KYNKh3BDnYwQzix9d0RAvQ.png"/></div></div></figure><h1 id="77ae" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">在詹金斯</h1><p id="6f8d" class="pw-post-body-paragraph il im hh in b io kt iq ir is ku iu iv iw lh iy iz ja li jc jd je lj jg jh ji ha bi translated"><strong class="in hi"> <em class="ll">相关说明:</em> </strong></p><p id="113f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">在对SAML模块进行任何修改之前，强烈建议</em><strong class="in hi"><em class="ll"/></strong><em class="ll">备份Jenkins的</em><strong class="in hi"><em class="ll">config . XML</em></strong><em class="ll">文件。在大多数Linux发行版中，这个文件可以在下面的路径中找到:</em></p><pre class="jl jm jn jo fd lw lx ly lz aw ma bi"><span id="bfb3" class="mb ju hh lx b fi mc md l me mf"><em class="ll">/var/lib/jenkins/config.xml</em></span></pre><p id="20ca" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="ll">回滚</em> </strong></p><p id="da88" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">如果事情没有按预期进行，恢复您备份的</em><strong class="in hi"><em class="ll">config . XML</em></strong><em class="ll">文件，并重新启动您的Jenkins安装。此外，确保</em><strong class="in hi"><em class="ll">config . XML</em></strong><em class="ll">文件具有适当的权限，如下所示:</em></p><pre class="jl jm jn jo fd lw lx ly lz aw ma bi"><span id="d77f" class="mb ju hh lx b fi mc md l me mf">-rw-r--r-- 1 jenkins jenkins Nov 5 16:20 /var/lib/jenkins/config.xml</span></pre><p id="9a8b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="ll">解锁你的詹金斯实例</em> </strong></p><p id="04a4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">以防您不小心忘记备份Jenkins的</em><strong class="in hi"><em class="ll">config . XML</em></strong><em class="ll">文件，并因此发现被锁定在Jenkins安装之外。您可以通过在ssh控制台中执行下面一行来恢复访问:</em></p><pre class="jl jm jn jo fd lw lx ly lz aw ma bi"><span id="dac4" class="mb ju hh lx b fi mc md l me mf">sed -i 's/&lt;useSecurity&gt;true&lt;\/useSecurity&gt;/&lt;useSecurity&gt;false&lt;\/useSecurity&gt;/g' /var/lib/jenkins/config.xml</span></pre><p id="c556" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">在执行</em> <strong class="in hi"> <em class="ll"> </em> </strong> <em class="ll">这一行</em><strong class="in hi"/><em class="ll">由于此命令将禁用Jenkins中的全局认证，任何具有您的安装URL的人都将以管理员权限进入。</em></p><p id="b03a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">执行上述命令后，进入</em> <strong class="in hi"> <em class="ll">重新启动Jenkins </em> </strong> <em class="ll">安装，使这些更改生效。然后，转到您的</em> <strong class="in hi"> <em class="ll">管理面板</em> </strong> <em class="ll">并再次设置安全，值得一提的是，这个过程应该作为最后的手段来应用。</em>T51】</p><ol class=""><li id="acd0" class="kr ks hh in b io ip is it iw lq ja lr je ls ji mg kz la lb bi translated">转到<strong class="in hi">管理詹金斯</strong> &gt; <strong class="in hi">配置全局安全性</strong>:</li></ol><p id="40ac" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">返回上一步打开的选项卡<strong class="in hi">查看设置说明。</strong>向下滚动到指南中的<strong class="in hi"> IdP元数据</strong>，复制其值并将信息粘贴到您的Jenkins <strong class="in hi"> SAML 2.0 IdP元数据</strong>字段<strong class="in hi"> : </strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mh"><img src="../Images/ad77a87e8799e6e9fe3fc7a76b5a3db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpLVjtlvDuXrSYNSFKFMxg.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mi"><img src="../Images/26196700fd1bd2d9253b511c70689516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jw1a7K7AigDXfLkorMYyrg.png"/></div></div></figure><p id="1175" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">通过从指南中的<strong class="in hi"> IdP元数据URL字段</strong>复制值，并将其粘贴到您的Jenkins <strong class="in hi"> IdP元数据URL字段，对<strong class="in hi"> </strong>过程重复相同的步骤。</strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mj"><img src="../Images/d2161559e9ebfe8856b58432bd1bc145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpIjQYTKbjsTp9crM-QLiw.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mk"><img src="../Images/eefd16a1cd744d9c9de2157c8b0e034d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aD8TODdzAPncXSMZLUC2lw.png"/></div></div></figure><p id="6b08" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">显示名称属性</strong>中:显示名称</p><p id="5205" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">组属性:</strong>组</p><p id="b884" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">用户名属性</strong>中:用户名</p><p id="a2ad" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">电子邮件属性</strong>中:电子邮件</p><p id="88e6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">用户名大小写转换</strong>中:无</p><p id="bf75" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">数据绑定方法</strong>中:HTTP-Redirect</p><p id="c69e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">注销URL </strong>中:复制并粘贴OKTA G <strong class="in hi">向导中的值。</strong></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ml"><img src="../Images/2b7c43e1664065d819a7b0686b50616f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uK9rs30xda8sbl7QL-YChA.png"/></div></div></figure><p id="b07e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.转到<strong class="in hi">管理詹金斯</strong> &gt; <strong class="in hi">管理和分配角色</strong> &gt; <br/> <strong class="in hi">分配角色</strong>:</p><p id="ac27" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">添加</strong>的用户/组中:输入之前创建的okta <strong class="in hi">组(oktagroup) </strong>。然后点击<strong class="in hi">添加</strong>按钮:</p><p id="0be9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<strong class="in hi">全局角色</strong>表中:勾选<strong class="in hi">管理</strong>角色。然后点击<strong class="in hi">保存</strong>按钮。</p><p id="6c2b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ll">注意:此处</em><strong class="in hi"><em class="ll">okta group</em></strong><em class="ll">被授予现有的</em> <strong class="in hi"> <em class="ll"> admin </em> </strong> <em class="ll">角色权限，用于测试目的，但是，您必须设置单独的角色以符合您组织的需求。具体请参见</em> <a class="ae jj" href="https://plugins.jenkins.io/role-strategy/" rel="noopener ugc nofollow" target="_blank"> <em class="ll">基于角色的授权策略</em> </a> <em class="ll">插件指南。</em></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mm"><img src="../Images/0bad18d7ffa3164cb1c9fade6a9d238a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUVTp_nrPkLxIwOO2Qx3hw.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mn"><img src="../Images/fa6a98f31d06acbf2ff40a0ae4dceb41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xcDxkt8J-7qPs6cWujiIg.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mo"><img src="../Images/1804916593344a1f6f2dd11a2d1ee6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRqHz3MUtOhdJLrRzGdXeQ.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mp"><img src="../Images/ef3beb328d10180523fc64517cf3dc8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*iNVNFnsvYhEObBHnpvRGbA.png"/></div></div></figure><p id="1825" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">注销并重新登录到您的Jenkins安装。</p><h1 id="41d1" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">验证访问</h1><p id="72da" class="pw-post-body-paragraph il im hh in b io kt iq ir is ku iu iv iw lh iy iz ja li jc jd je lj jg jh ji ha bi translated">登录回你的詹金斯网址。将重定向到您的OKTA组织:</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mq"><img src="../Images/8dd27afab9d384d9a426ab5410cbacb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*id5UYx_dq64tKb8I1P2ung.png"/></div></div></figure><p id="e5c5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">OKTA身份验证完成后，您将被重定向回Jenkins，用户SSO身份验证已经获得批准，可以访问该实例。</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mr"><img src="../Images/5971b89e1fc726e3a4a41e5f09d0e237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LPwNzrvaEe74Z3vH2AHJag.png"/></div></div></figure><p id="a594" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">让我们在詹金斯那边检查一下我们的用户</p><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ms"><img src="../Images/43d02724d037a32af5cb088faf69dccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0T0593Elh_dmnTlEAfrmFg.png"/></div></div></figure><figure class="jl jm jn jo fd ii er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es mt"><img src="../Images/46462338d6c27124961c6d137834e7a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IFh5psLph5P6oJuOetaT8A.png"/></div></div></figure><h1 id="4ed5" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论:</h1><ul class=""><li id="ff28" class="kr ks hh in b io kt is ku iw kv ja kw je kx ji ky kz la lb bi translated">从OKTA SAML 2.0到Jenkins的安全访问很容易设置。</li><li id="4444" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">OKTA中的组可以很容易地与Jenkins实例组匹配。</li><li id="2626" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">基于角色的授权策略插件和OKTA集成一起工作。</li><li id="218e" class="kr ks hh in b io lc is ld iw le ja lf je lg ji ky kz la lb bi translated">非常需要Jenkins端的HTTPS协议来遵守安全通信。</li></ul><h1 id="524b" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考</h1><p id="80d5" class="pw-post-body-paragraph il im hh in b io kt iq ir is ku iu iv iw lh iy iz ja li jc jd je lj jg jh ji ha bi translated"><a class="ae jj" href="https://www.okta.com/integrations/jenkins/#capabilities" rel="noopener ugc nofollow" target="_blank">奥克塔与詹金斯的整合</a></p><p id="a4ea" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://www.youtube.com/user/OktaInc/playlists" rel="noopener ugc nofollow" target="_blank">秋田频道</a></p><p id="5320" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://devopscube.com/configure-ssl-jenkins/" rel="noopener ugc nofollow" target="_blank">如何在Jenkins服务器上配置SSL</a></p><p id="f5a6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://aws.amazon.com/certificate-manager/faqs/" rel="noopener ugc nofollow" target="_blank"> AWS证书管理器文档(SSL自管理)</a></p><p id="c9de" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://www.jenkins.io/doc/book/managing/plugins/" rel="noopener ugc nofollow" target="_blank">詹金斯插件安装</a></p><figure class="jl jm jn jo fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/43ab3a4aa6b5ba5c45e5afe0187bc6e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/0*hCUboo5e43JzPvnB.png"/></div><figcaption class="mv mw et er es mx my bd b be z dx">Visit us at <a class="ae jj" href="https://www.globant.com/studio/cloud-ops" rel="noopener ugc nofollow" target="_blank">https://www.globant.com/studio/cloud-ops</a></figcaption></figure></div></div>    
</body>
</html>