<html>
<head>
<title>Superset: Scaling Data Access and Visual Insights at Airbnb</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">超集:在Airbnb扩展数据访问和视觉洞察</h1>
<blockquote>原文：<a href="https://medium.com/airbnb-engineering/superset-scaling-data-access-and-visual-insights-at-airbnb-3ce3e9b88a7f?source=collection_archive---------1-----------------------#2017-02-09">https://medium.com/airbnb-engineering/superset-scaling-data-access-and-visual-insights-at-airbnb-3ce3e9b88a7f?source=collection_archive---------1-----------------------#2017-02-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/9ff3654ecfb6597a6d0b56c74da8f4db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YkOxj_MGKBsYZ-BXLJ5Erg.png"/></div></div></figure><div class=""/><p id="e2b6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">由<a class="ae jn" href="https://twitter.com/alannascott" rel="noopener ugc nofollow" target="_blank">岚娜·斯科特</a>、<a class="ae jn" href="https://github.com/bkyryliuk" rel="noopener ugc nofollow" target="_blank">波格丹一世·基里柳克</a>、<a class="ae jn" href="https://twitter.com/elibrumbaugh" rel="noopener ugc nofollow" target="_blank">伊莱·布伦博</a>、<a class="ae jn" href="https://twitter.com/jtfeng" rel="noopener ugc nofollow" target="_blank">杰夫·冯</a>、<a class="ae jn" href="https://github.com/mistercrunch" rel="noopener ugc nofollow" target="_blank">马克斯·博彻明</a>和<a class="ae jn" href="https://github.com/vera-liu" rel="noopener ugc nofollow" target="_blank">薇拉·刘</a></p><h1 id="6477" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">简介</strong></h1><p id="4e97" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">在Airbnb，我们的一个基本信念是数据访问应该民主化，以赋予每个员工权力，从而做出<strong class="ir ht">基于数据的</strong>决策。我们相信，基于数据的定量洞察和定性洞察(如面对面的用户研究)的决策会产生最佳的商业决策。这适用于组织的所有部分，无论是决定推出新产品功能还是分析如何提供最佳员工体验。</p><p id="233a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">伴随数据民主而来的挑战之一是支持不同数据素养水平的用户访问数据。我们的许多用户都非常擅长编写SQL，尤其是我们的数据科学、工程和业务运营团队中的用户。编写SQL的能力为从Hadoop中的数据仓库访问数据提供了极大的灵活性。然而，在我们为每个数据用户提供支持的愿景中，SQL常常是一个过高的障碍。其次，一旦用户访问了数据，他们就面临着探索和发现见解的挑战。我们对这两个挑战的解决方案是开发<a class="ae jn" href="https://github.com/airbnb/superset" rel="noopener ugc nofollow" target="_blank">超集</a>。</p><figure class="ks kt ku kv fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es kr"><img src="../Images/c4fbe4e26ba1f1793e969d8a3909903d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DpnI0Sfg-C1LVpY3r3T17Q.png"/></div></div></figure><h1 id="d2ea" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">解决方案:超集</strong></h1><p id="497c" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">超集是一个数据探索和可视化平台，旨在可视化，直观和互动。它由两个主要界面组成:</p><ol class=""><li id="84f1" class="kw kx hs ir b is it iw ix ja ky je kz ji la jm lb lc ld le bi translated">丰富的SQL IDE (交互式开发环境)支持快速灵活的数据访问</li><li id="d5f2" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lb lc ld le bi translated"><strong class="ir ht">数据探索界面</strong>将数据表转换成丰富的视觉洞察</li></ol><p id="a563" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这两种接口的结合使用户能够以多种方式使用数据。用户可以直接可视化各种数据库中存储的表中的数据，包括Presto、Hive、Impala、Spark SQL、MySQL、Postgres、Oracle、Redshift和SQL Server。与<a class="ae jn" href="http://druid.io/" rel="noopener ugc nofollow" target="_blank"> Druid </a>的连接扩展了Superset可视化数十亿行数据的能力，这要归功于其内存中面向列的分布式架构。通过添加SQL IDE，它为高级用户提供了编写SQL查询的能力，以重新构建或减少数据或跨表联合数据的大小。此外，用户可以使用超集的可视化流程立即可视化他们的查询结果。</p><p id="f88e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们首先<a class="ae jn" rel="noopener" href="/airbnb-engineering/caravel-airbnb-s-data-exploration-platform-15a72aa610e5#.l6h0121ny">在2016年3月推出了Superset的数据探索接口</a>，作为用户对任何数据集执行快速直观的“切片和切块”的一种方式。从那以后，我们增加了许多主要的新功能，包括:</p><ul class=""><li id="7002" class="kw kx hs ir b is it iw ix ja ky je kz ji la jm lk lc ld le bi translated"><strong class="ir ht">地图和地理支持</strong>利用<a class="ae jn" href="https://www.mapbox.com/" rel="noopener ugc nofollow" target="_blank">地图框</a></li><li id="8db2" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated"><strong class="ir ht">用户资料页面</strong>，突出显示用户喜爱的仪表板/切片、创建的内容和最近的活动</li><li id="424b" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated"><strong class="ir ht">新的安全权限</strong>加上“请求访问”仪表板视图的能力</li><li id="9088" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">完全<strong class="ir ht">改进的设计</strong>，用户界面/UX和主题</li><li id="c3bf" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated"><strong class="ir ht">新的名称和标志！</strong>我们将项目名称从Caravel更改为Superset。我们被超集这个名字所吸引，因为它暗指多个数据集和数据集，同时允许用户以多种方式消费数据</li></ul><figure class="ks kt ku kv fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ll"><img src="../Images/751127dd3fa8a9fafffaa75178eb2acd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zH6VBdIop290_z52."/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Superset maps visualization leveraging Mapbox</figcaption></figure><h1 id="b6d5" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">超集SQL实验室简介</strong></h1><p id="41f3" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">今天，我们宣布引入“SQL Lab”，这是超集中新的SQL IDE。将SQL Lab集成到超集中是有利的，因为它将任意SQL的流程连接到数据可视化、仪表板和知识共享。将SQL IDE和Data Exploration接口集成在一起还有一个好处，就是可以在一个工具中管理身份验证、角色和权限。SQL Lab作为超集的一部分，使我们能够为超集支持的所有数据库提供后端查询支持(除了不是基于SQL的Druid)。</p><figure class="ks kt ku kv fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lq"><img src="../Images/8ea42c6173ffe4c0c4e4ee1b4b5496db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oa6tNGTOKgfiimWm."/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">See SQL Lab in action</figcaption></figure><p id="1dd5" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">SQL Lab打包了许多强大的特性，包括(完整列表请参见<a class="ae jn" href="http://airbnb.io/superset/" rel="noopener ugc nofollow" target="_blank">超集文档</a>):</p><ul class=""><li id="166f" class="kw kx hs ir b is it iw ix ja ky je kz ji la jm lk lc ld le bi translated">多个选项卡作为不同的工作区</li><li id="83eb" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">每个标签的查询历史，使人们能够迭代不同的查询</li><li id="e4e8" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">表和列元数据浏览，在创作查询时提供参考</li><li id="c560" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">查看和搜索您的查询结果</li><li id="17d7" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">使用超集的可视化流程从任意SQL创建丰富可视化的工作流</li><li id="bbda" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">支持长时间运行的后台sql语句，如“创建表为”</li><li id="9958" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">运行大多数数据库后端，包括Presto、Hive、Impala、Spark SQL、MySQL、Postgres、Oracle、Redshift和SQL Server</li><li id="c002" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">SQL查询搜索引擎——这使用户能够查找任何内容，从任何用户的历史查询到查看谁查询了您创建的表</li><li id="a747" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">在SQL中支持<a class="ae jn" href="http://jinja.pocoo.org/" rel="noopener ugc nofollow" target="_blank"> Jinja模板</a>语法，允许参数化查询元素和<a class="ae jn" href="http://airbnb.io/superset/sqllab.html#available-macros" rel="noopener ugc nofollow" target="_blank">调用宏</a></li><li id="a830" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">对Presto的高级支持:显示进度条，显示分区字段周围的额外元数据和最新的分区值</li></ul><p id="3239" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">计算密集型、长时间运行的查询在数据的“Pb时代”很常见，SQL Lab旨在为此用例提供一个良好的工作流。对于有异步后端可用的部署，SQL Lab将自动默认异步运行查询以支持大型查询。此外，借助Create Table As (CTAS)功能，SQL Lab允许用户将查询结果存储在新创建的表中。有了这个表，用户就可以查询和可视化刚刚创建的汇总表中的数据。</p><p id="9b57" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">SQL Lab还可以轻松管理一组员工对任何内部数据库的访问。管理员可以使用简单的流程向超集添加新的数据库，同时通过角色向用户授予权限。用户可以被授予每个数据库连接的访问权限，以及每个表的访问权限。在应用按表访问的情况下，超集会检查查询并识别SQL中引用的表。</p><h1 id="0c60" class="jo jp hs bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">下一步是什么？</strong></h1><p id="bb3c" class="pw-post-body-paragraph ip iq hs ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">Superset最初是一个黑客马拉松数据可视化项目，但是现在它是一个成熟的开源项目。自2016年3月我们推出Superset 以来，它已经发展成为最受欢迎的开源数据可视化应用之一，在GitHub上拥有超过10，000名明星和100名贡献者。Airbnb工程师和社区贡献者每周都会添加新功能和错误修复。随着SQL Lab的加入，我们相信数据用户会从这个项目中发现更多的用处。我们很高兴看到这个项目随着时间的推移不断发展和完善。近期路线图中的一些功能包括:</p><ul class=""><li id="79fa" class="kw kx hs ir b is it iw ix ja ky je kz ji la jm lk lc ld le bi translated">更流畅的“可视化流程”,智能默认值</li><li id="17c6" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">更好地支持Hive，显示进度条和链接到查询日志</li><li id="622d" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">呈现更多特定于数据库引擎的元数据</li><li id="d0a4" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">一种按需表探查器服务，可以显示表中数据的相关信息</li><li id="9706" class="kw kx hs ir b is lf iw lg ja lh je li ji lj jm lk lc ld le bi translated">社交功能:收藏夹、标签、评论、表格用户</li></ul><p id="eb29" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Airbnb喜欢开源，超集团队的所有工作都是公开的。来加入我们的Github社区吧！或者，如果你真的对我们的愿景感到兴奋，并想加入这个团队，<a class="ae jn" href="https://www.airbnb.com/careers" rel="noopener ugc nofollow" target="_blank">我们正在招聘</a>软件工程师来彻底改变数据可视化的未来。</p><p id="f92b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">加入我们的社区:【https://github.com/airbnb/superset T2】</p></div></div>    
</body>
</html>