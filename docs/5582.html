<html>
<head>
<title>Strategies &amp; Purging Log Analytics Data — Oracle Management Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">策略和清除日志分析数据— Oracle管理云</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/strategies-purging-log-analytics-data-oracle-management-cloud-41e1df7bae18?source=collection_archive---------0-----------------------#2019-03-04">https://medium.com/oracledevs/strategies-purging-log-analytics-data-oracle-management-cloud-41e1df7bae18?source=collection_archive---------0-----------------------#2019-03-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="fd12" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">作者:<a class="iw ix ge" href="https://medium.com/u/3757393c69bd?source=post_page-----41e1df7bae18--------------------------------" rel="noopener" target="_blank">mono war Mukul</a>(OCM)<a class="iw ix ge" href="https://medium.com/u/ba3f0a72ff81?source=post_page-----41e1df7bae18--------------------------------" rel="noopener" target="_blank">NASS yam Basha</a>(甲骨文王牌总监，OCM)</h2></div><h2 id="31d6" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">简介</strong></h2><p id="e936" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">清除是IT行业的标准和常规做法，通过清除旧的或不必要的日志或数据来节省存储。在本文中，我们将了解使用Oracle管理云清除日志分析数据的重要性。</p><h2 id="7455" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">为什么要清除日志分析数据？</strong></h2><p id="6f4f" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">在清除日志分析数据之前，了解我们为什么必须清除以及如果我们没有正确计划清除会有什么影响是非常重要的。OMC代理安装在目标上，它们将数据推送到Oracle管理云，这是OEM或OMC代理的常见行为。在OMC，日志分析模块将对来自代理的分析数据进行索引，索引的大小会增长，OMC的计费取决于日志分析的索引大小。因此，为了避免对旧索引数据进行过多或不必要的计费，需要准备一个更好的策略来根据客户要求并在适当测量后清除数据。</p><blockquote class="kp kq kr"><p id="d671" class="jw jx ks jy b jz kt ii kb kc ku il ke kv kw kg kh kx ky kj kk kz la km kn ko ha bi translated"><strong class="jy hi"> <em class="hh">测验— I: </em> </strong> <em class="hh">清除日志分析数据会清除源文件吗？(例如:警报日志、跟踪文件、消息文件)？</em></p><p id="218b" class="jw jx ks jy b jz kt ii kb kc ku il ke kv kw kg kh kx ky kj kk kz la km kn ko ha bi translated"><strong class="jy hi"> <em class="hh">回答:</em> </strong> <em class="hh">不会，不会碰源文件。OMC仅清除可用的索引日志数据。</em></p></blockquote><p id="0504" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated"><strong class="jy hi">请注意</strong>上述测验基于2019年2月28日举行的甲骨文在线研讨会“<strong class="jy hi"> <em class="ks">网络广播:PRO4457如何使用Oracle Log Analytics </em> </strong>对数据库和数据库云服务器进行故障排除”中的一个有趣问题。</p><blockquote class="kp kq kr"><p id="a838" class="jw jx ks jy b jz kt ii kb kc ku il ke kv kw kg kh kx ky kj kk kz la km kn ko ha bi translated"><strong class="jy hi"> <em class="hh">小测验—二:</em> </strong></p></blockquote><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/79a07db87a519844be293a8913187f75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0xdk2ADF9B7Ta6OzDFN9Jw.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Twitter Poll</figcaption></figure><h2 id="50c8" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">吹扫方法</strong></h2><p id="b5b8" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">根据数据保留的要求，日志分析索引数据可以通过两种方法清除。</p><ol class=""><li id="716b" class="lr ls hh jy b jz kt kc ku jj lt jn lu jr lv ko lw lx ly lz bi translated">按时间戳清除</li><li id="cb13" class="lr ls hh jy b jz ma kc mb jj mc jn md jr me ko lw lx ly lz bi translated">时段/时间范围基于时段</li></ol><p id="f7a2" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">我们将看到如何逐个清除索引数据。</p><h2 id="8907" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">按时间戳清除</strong></h2><p id="f703" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">在OMC控制台的基于时间的清除中，我们可以选择特定的时间，以便在该时间戳之前清除所有索引日志数据，例如(mm/dd/yyyy hh:mi:ss AM/PM)。在下面的示例中，我们将访问日志分析，然后我们将在(02/18/19 12:00 AM)之前清除所有数据。清除的好处是，它将提供从Oracle管理控制台释放的估计大小。导航至“管理云+日志分析+日志管理+存储”</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mf"><img src="../Images/1047526070bb94b028c922a092494b8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Mbx7lI-b4WdjIJdmFwNyvQ.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Navigation to Managing storage</figcaption></figure><p id="38ee" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">我们可以切换到任何清除方法，单击“按时间清除”,然后选择在指定日期和时间之前清除日志数据收集的时间戳。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es mf"><img src="../Images/62780d90be95cdfe20164b1288c2625e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*4s8MI8mRuVGNZdosteuA2w.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Purge By Time</figcaption></figure><p id="18a1" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">通过选择日期和时间，我们可以在下面看到清除后要回收的估计存储量。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mf"><img src="../Images/96dd9d8c40a6d88637d467de42699eae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*il7VfE2truuOEfXNwFd7jQ.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Purging Data — Purge by time</figcaption></figure><p id="488e" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">在清除之前最好进行双重检查，因为OMC一旦清除了分析过的数据就不能恢复原状，那么确认为"清除数据"后，OMC会提示进行双重确认才能清除数据。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mg"><img src="../Images/9a3f9d774e66f1bc4e35c8fba2ee0356.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*d8fu7BAB8ZVELRvuhIhPgA.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Confirmation to purge data</figcaption></figure><p id="1385" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">确认之后，请求将被提交，我们可以从控制台跟踪状态。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mh"><img src="../Images/3a34b448c5a88b03374939f36245bde1.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*Rp8dgdmiZiDpXlGOOhPtQw.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Purge Data status</figcaption></figure><h2 id="a225" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">用桶吹扫</strong></h2><p id="62fb" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">日志数据存储在特定时间范围的存储桶中，如果我们清除数据，则在选定的存储桶被清除之前。如果我们在下图中看到，我们可以看到时间段为“直到2019年2月18日”的存储桶清除的数据大小为2.14 GB。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mf"><img src="../Images/3b68b712c5915a5a07fe2af078580b6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*dznncCm20tUnnA84ls_8Kw.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Purge By Bucket Range</figcaption></figure><p id="a9e2" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">选择下面突出显示的期间，OMC将提示确认清除该期间的数据。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mi"><img src="../Images/1c3a1bb79fd7fa648e156b8f8183365a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*RHbTNqfaVn0Z0wEn17K0Zg.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Purge Bucket based</figcaption></figure><p id="032e" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated">清除后，我们可以看到清除操作已提交的状态。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es mf"><img src="../Images/63e75f1f7d84be7ad0a9501bc0c42d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*ZS9qTn_s-1uaj8mBquzD5w.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx">Request Submitted — status</figcaption></figure><h2 id="752f" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">总结</strong></h2><p id="f103" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated">我们已经看到了清除数据以避免不必要的计费的重要性，以及各种可用于执行清除操作的方法，并提供了一些与清除和许可相关的有趣问答。</p><h2 id="da8a" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">作者简介</strong></h2><p id="8fbf" class="pw-post-body-paragraph jw jx hh jy b jz ka ii kb kc kd il ke jj kf kg kh jn ki kj kk jr kl km kn ko ha bi translated"><strong class="jy hi"> <em class="ks"> Nassyam Basha </em> </strong>是数据库管理员。他有大约十年的Oracle数据库管理员工作经验，目前是eprosed KSA公司的数据库专家。他拥有马德拉斯大学的计算机应用硕士学位。他是Oracle 11g认证大师和Oracle ACE总监。他以超级英雄的身份积极参与甲骨文相关论坛，如OTN，甲骨文支持被授予“大师”称号，并担任OTN版主，与OTN一起撰写了大量关于Toad World的文章。他维护着一个与甲骨文技术相关的博客，<a class="ae mj" href="http://www.oracle-ckpt.com/" rel="noopener ugc nofollow" target="_blank">www.oracle-ckpt.com</a>，可以通过<a class="ae mj" href="https://www.linkedin.com/in/nassyambasha/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/nassyambasha/</a>找到他</p><p id="4079" class="pw-post-body-paragraph jw jx hh jy b jz kt ii kb kc ku il ke jj kw kg kh jn ky kj kk jr la km kn ko ha bi translated"><strong class="jy hi"> <em class="ks"> Monowar Mukul </em> </strong>目前担任首席Oracle数据库专家。我是Oracle认证大师(Oracle 12c认证大师管理、Oracle 12c认证大师MAA和Oracle 11g认证大师管理)。他在Oracle MAA空间担任了17年的Oracle数据库管理员顾问，负责数据库云服务器和非数据库云服务器系统、Oracle云空间和SOA中间件。他曾在澳大利亚的多个商业领域工作，包括高等教育、能源、政府、采矿和运输。作为一名首席Oracle数据库专家，他展示了高度发展的批判性思维和分析技能。你可以在https://www.linkedin.com/in/monowarmukul/<a class="ae mj" href="https://www.linkedin.com/in/monowarmukul/" rel="noopener ugc nofollow" target="_blank">找到更多关于他和他的工作成就的细节</a></p><h2 id="2c47" class="iy iz hh bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv bi translated"><strong class="ak">参考文献</strong></h2><div class="mk ml ez fb mm mn"><a href="https://docs.oracle.com/en/cloud/paas/management-cloud/logcs/purge-log-data.html" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab dw"><div class="mp ab mq cl cj mr"><h2 class="bd hi fi z dy ms ea eb mt ed ef hg bi translated">使用Oracle日志分析</h2><div class="mu l"><h3 class="bd b fi z dy ms ea eb mt ed ef dx translated">Oracle Log Analytics允许您清除由代理或按需上传加载的日志事件，以减少索引…</h3></div><div class="mv l"><p class="bd b fp z dy ms ea eb mt ed ef dx translated">docs.oracle.com</p></div></div></div></a></div></div></div>    
</body>
</html>