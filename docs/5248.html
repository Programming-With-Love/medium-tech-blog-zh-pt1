<html>
<head>
<title>JavaScript code linting using ESLint on Oracle Developer Cloud Service</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Oracle开发者云服务上使用ESLint的JavaScript代码林挺</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/javascript-code-linting-using-eslint-on-oracle-developer-cloud-service-9f2676f84cdd?source=collection_archive---------5-----------------------#2017-06-04">https://medium.com/oracledevs/javascript-code-linting-using-eslint-on-oracle-developer-cloud-service-9f2676f84cdd?source=collection_archive---------5-----------------------#2017-06-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="b606" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个博客将帮助你理解如何为林挺JavaScript代码执行ESLint工具。本博客将介绍ESLint工具以及Oracle Developer Cloud Service所需的配置，以便在推送到开发者云服务上的Git存储库的代码上执行已配置的规则。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/cc3b38ea2f9da5eec49bdf5918622d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:302/format:webp/1*r-5TwaQl-LzCBVHcGu1Xsg.png"/></div></figure><p id="98f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">什么是林挺代码？</p><p id="f027" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">林挺是检查源代码中程序错误和风格错误的过程。</p><p id="d38b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">为什么使用ESLint: </strong></p><p id="a450" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下是ESLint是JavaScript静态代码分析的一个好选择的原因:</p><ol class=""><li id="5ff5" class="jk jl hh ig b ih ii il im ip jm it jn ix jo jb jp jq jr js bi translated">高度灵活的规则集</li><li id="cd68" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated">良好的ES6支持</li><li id="e5aa" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated">功能上可以通过各种插件进行扩展。</li><li id="3135" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated">JSX支持</li><li id="f649" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated">清除警告和错误消息</li></ol><p id="2db6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请参考此<a class="ae jy" href="http://eslint.org/" rel="noopener ugc nofollow" target="_blank">链接</a>了解更多关于ESLint的详情。</p><p id="6b53" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">项目结构</strong>:典型的Nodejs REST web服务应用:</p><p id="f276" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Nodejs项目包含:</strong></p><ol class=""><li id="29e8" class="jk jl hh ig b ih ii il im ip jm it jn ix jo jb jp jq jr js bi translated"><strong class="ig hi"> main.js </strong> —服务的Nodejs源代码</li><li id="0a0b" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated"><strong class="ig hi">test . js</strong>—main . js中服务的测试脚本</li><li id="8872" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated"><strong class="ig hi">grunt file . js</strong>—grunt配置JavaScript文件。</li><li id="2955" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated"><strong class="ig hi"> package.json </strong> —包含定义的依赖模块</li><li id="be87" class="jk jl hh ig b ih jt il ju ip jv it jw ix jx jb jp jq jr js bi translated"><strong class="ig hi"> manifest.json </strong> —用于项目执行(ESLint不需要工作)。</li></ol><p id="8eea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">代码分析将只在Javascript文件上运行，即main.js、test.js和Gruntfile.js</p><p id="45d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">ESLint的配置文件:</strong></p><p id="1876" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> .eslintrc.json </strong> —这是一个json文件，包含ESLint引用的代码分析规则。</p><p id="126d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要执行ESLint工具，需要包含一些特定的配置。以下是突出显示的文件和配置:</p><p id="e166" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> .eslintrc.json </strong></p><p id="dc86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下是我为了在博客中展示而设定的一些规则。如下所示，规则被设置为一个json对象。</p><p id="bd0b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">可在. eslintsrc.json中设置的完整规则列表可在以下链接中找到:</p><p id="4bc8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jy" href="https://gist.github.com/cletusw/e01a85e399ab563b1236#file-eslintrc-L54" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/cletusw/e 01 a 85 e 399 ab 563 b 1236 # file-eslintrc-L54</a></p><p id="ddc5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jy" href="https://gist.github.com/cletusw/e01a85e399ab563b1236#file-eslintrc-L54" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/cletusw/e 01 a 85 e 399 ab 563 b 1236 # file-eslintrc-L54</a></p><pre class="jd je jf jg fd jz ka kb kc aw kd bi"><span id="6339" class="ke kf hh ka b fi kg kh l ki kj">{<br/>    "rules": {<br/>        "semi": ["error", "always"],<br/>        "quotes": ["warn", "double"],<br/>        <br/>        <br/>        "no-cond-assign": 2,          // disallow assignment in conditional expressions<br/>        "no-console": 1,              // disallow use of console (off by default in the node environment)<br/>        <br/>        <br/>        //////////Node.js //////////<br/>        <br/>        "handle-callback-err": 2,   // enforces error handling in callbacks<br/>        "no-mixed-requires": 2,     // disallow mixing regular variable and require declarations<br/>        "no-new-require": 2,        // disallow use of new operator with the require function<br/>        "no-path-concat": 2,        // disallow string concatenation with __dirname and __filename<br/>        "no-process-exit": 2,       // disallow process.exit()<br/>        "no-restricted-modules": 2, // restrict usage of specified node modules<br/>        "no-sync": 2              // disallow use of synchronous methods<br/>    }<br/>}</span></pre><p id="3f86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> package.json </strong></p><p id="5467" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ESLint框架模块应作为开发依赖项包括在内，npm测试将使用该模块来执行“eslint *”。js '命令在'脚本'中执行。*.js用于确保执行命令的文件夹中的所有JavaScript文件都被工具分析。</p><pre class="jd je jf jg fd jz ka kb kc aw kd bi"><span id="f264" class="ke kf hh ka b fi kg kh l ki kj">{   <br/>  "name": "LintingTest",   <br/>  "version": "0.0.1",   <br/>  "scripts": <br/>  {     <br/>     "start": "node main.js",     <br/>     "test": "eslint *.js"   <br/>  },   <br/>  "dependencies": <br/>  {     <br/>     "body-parser": "^1.13.2",<br/>     "express": "^4.13.1",<br/>     "grunt": "^0.4.5",<br/>     "grunt-contrib-compress": "^1.3.0",<br/>     "grunt-hook": "^0.3.1",<br/>     "load-grunt-tasks": "^3.5.2",<br/>     "request": ""<br/>  },<br/>  "devDependencies": <br/>  {     <br/>      "mocha": "^3.3.0",     <br/>      "eslint": "^2.13.1"<br/>  }<br/>}</span></pre><p id="e88f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">推送到开发者云Git库的项目结构:</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kk"><img src="../Images/1847995eb7557d332309fbe5313f7090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TIWZZS198p0uRDr_.png"/></div></div></figure><p id="1511" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">构建用于执行ESLint工具的作业配置，以分析项目文件夹中的所有JavaScript文件:</strong></p><p id="c7c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为构建作业选择一个名称。对于这个博客，我把它命名为“EslintJob”。因为这是针对Nodejs应用程序的，所以可以将JDK保留为默认值。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kp"><img src="../Images/72b13efc05f25b5adaa2fbb251dba7d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YeuZdMEdja6JSTFx.png"/></div></div></figure><p id="4715" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择已经上载了Nodejs应用程序代码的存储库。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kp"><img src="../Images/e09982126903b82da121dad3c19656f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K9eTVCtaV9Wm_vgR.png"/></div></div></figure><p id="1623" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里我们将SCM轮询设置为触发器。这确保了每次我们将代码上传到Git存储库时，都会触发EslintJob。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kq"><img src="../Images/5b682ccca17954232c565d2113f203d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GX0ROaS49aPLMBNs.png"/></div></div></figure><p id="0812" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们也将在这里使用执行shell构建步骤。我们将文件夹更改为“LintingTest”。我们将安装ESLint模块作为开发依赖项，并使用npm测试来触发' eslint *。js '命令在package.json中的执行，作为脚本的一部分提到。这将执行eslint工具，对LintingTest文件夹中的所有JavaScript文件进行代码分析。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kr"><img src="../Images/ea2a70c77eb990ad48d2bb1162d24152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FJlyXUq6Vwwt0zgm.png"/></div></div></figure><p id="4092" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是EslintJob控制台上生成的代码分析工具报告。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es ks"><img src="../Images/9ae307d82a6f4c975427ccb4c2705117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gcxNyy4WT59gKpL2.png"/></div></div></figure><p id="1f35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是我们如何在Oracle Developer Cloud Service的构建过程中轻松进行基于规则的静态代码分析。</p><p id="0c9b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">编码快乐！</p><p id="7008" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">* *本文表达的观点是我个人的观点，不一定代表甲骨文的观点。</p></div><div class="ab cl kt ku go kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ha hb hc hd he"><p id="e11f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="la">原载于2017年6月4日</em><a class="ae jy" href="https://community.oracle.com/community/oracle-cloud/platform/developer/blog/2017/06/04/javascript-code-linting-using-eslint-on-oracle-developer-cloud-service" rel="noopener ugc nofollow" target="_blank"><em class="la">community.oracle.com</em></a><em class="la">。</em></p></div></div>    
</body>
</html>