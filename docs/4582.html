<html>
<head>
<title>3 Ways of Rendering on The Web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在网络上呈现的3种方式</h1>
<blockquote>原文：<a href="https://medium.com/compendium/3-ways-of-rendering-on-the-web-4363864c859e?source=collection_archive---------1-----------------------#2021-04-07">https://medium.com/compendium/3-ways-of-rendering-on-the-web-4363864c859e?source=collection_archive---------1-----------------------#2021-04-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/fa1153fba06149182989466478a22be5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7dBNjQdeJMqmTNVI8eqX5A.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Illustration: Colored pixels being painted on a background</figcaption></figure><h2 id="38e0" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">介绍</h2><p id="edff" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">渲染一个网站有几种方法。一个常见的挑战是何时选择哪种类型。</p><p id="aa83" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">在开始一个新项目之前探索这些选项可以防止我们重构部分代码或整个技术栈。要看在谷歌获得好的排名是否至关重要。或者内容是否应该更具交互性、更具动态性，并平滑地淡出用户的视野。或者性能和卓越的用户体验对您的业务目标更为重要。</p><p id="1404" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">所有的网站都有不同的需求，对网络渲染有一些基本的了解会让你节省金钱、时间和挫折。</p><h1 id="85ea" class="kr iu hh bd iv ks kt ku iz kv kw kx jd ky kz la jh lb lc ld jl le lf lg jp lh bi translated">概念和术语</h1><p id="6ec3" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">首先，我们将了解一些基本的技术概念和术语。了解一点它们将帮助我们在网站的渲染选项上做出更好的决定。</p><p id="eb8a" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">这些概念我们可以分为两类:性能和渲染。</p><h2 id="542c" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">表演</h2><ul class=""><li id="bb13" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated"><strong class="jt hi">水合</strong>是JavaScript将静态HTML(从服务器返回)转换成浏览器中动态交互元素的技术。通常也称为客户端水合或再水合。补水的时候JavaScript(比如事件处理程序，监听器等。)链接到静态HTML，使其具有交互性。</li><li id="89dd" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated"><strong class="jt hi">预渲染</strong>是一种在构建时提前渲染<em class="lw">HTML的技术。对于应该被搜索引擎抓取和排名的公共页面，预渲染是必不可少的。服务器端和静态端应用程序使用这种技术。</em></li></ul><h2 id="9196" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">翻译</h2><ul class=""><li id="5896" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated"><strong class="jt hi"> First Paint </strong> (FP)是用户导航到页面后呈现的第一步。它是在屏幕和浏览器窗口中绘制的第一个像素，浏览器窗口中视觉上与导航之前不同的所有内容都在第一次绘制中处理。</li><li id="ce52" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated"><strong class="jt hi">第一次内容丰富的绘制</strong> (FCP)是浏览器第一次向DOM呈现某些东西，比如文本、图像或SVG。在这个过程中，浏览器会告诉用户“有事发生了”。</li><li id="3d9d" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated"><strong class="jt hi">互动时间</strong> (TTI)。此时，浏览器已经呈现了整个网站内容，用户可以与页面上的元素进行交互。这可能是按下按钮或点击文本字段，给用户一些反馈。</li></ul><h1 id="935b" class="kr iu hh bd iv ks kt ku iz kv kw kx jd ky kz la jh lb lc ld jl le lf lg jp lh bi translated">客户端渲染(CSR)</h1><p id="e650" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">客户端渲染的网站“自己”做所有的事情例如从API中检索数据、管理逻辑以及直接在浏览器中的页面之间进行路由。访问者访问的每个页面及其相应的URL都是动态创建的。</p><p id="3bfb" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated"><em class="lw">我们可以把客户端渲染想象成包裹递送，由三个包裹组成。每个包裹会以不同的顺序在不同的时间出现，但是你不知道确切的时间。你将得到第一个包裹，然后是第二个，最后是第三个。</em></p><p id="24ef" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">客户端应用程序通常具有快速的FP和FCP。他们使用水合作用，这会导致缓慢的<em class="lw">交互</em>时间，因为浏览器需要“启动”JavaScript代码，再水合，然后将HTML加载回浏览器窗口。水合过程可能随时间而变化，这取决于您的应用程序包含多少JavaScript。</p><p id="a71a" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">一个缓慢的TTI对<em class="lw">搜索引擎优化</em> (SEO)不是很好。大多数需要为SEO抓取和优化内容的客户端应用程序都必须实现预渲染才能正常工作。</p><p id="b61d" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">客户端呈现是JavaScript应用程序的默认设置。像React、Angular和Vue等流行的前端框架都使用这种渲染类型。</p><h2 id="5d86" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">优点:</h2><ul class=""><li id="185c" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">给予用户快速的反馈和流畅的用户体验，例如快速的第一次满意的绘画。</li><li id="2ab3" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">服务器负载低，因为所有内容都在客户端/用户浏览器中处理和呈现。</li><li id="2786" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">比服务器端呈现的应用程序成本更低。</li></ul><h2 id="4222" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">缺点:</h2><ul class=""><li id="f525" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">可能会导致用户体验不佳。潜在地，让用户等待内容，直到所有内容都完全加载到浏览器中，导致用户离开网站。</li><li id="7a04" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">客户端应用程序使得搜索引擎机器人很难看到网站内容，这导致没有或很差的索引。</li><li id="973d" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">如果JavaScript在用户浏览器中被禁用，则JavaScript页面将不可见。</li></ul><h1 id="354c" class="kr iu hh bd iv ks kt ku iz kv kw kx jd ky kz la jh lb lc ld jl le lf lg jp lh bi translated">服务器端呈现(SSR)</h1><p id="1067" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">服务器端渲染(SSR)是按需发生的，也称为及时<em class="lw"/>(JIT)。每次客户端请求页面时，服务器都会为该请求生成HTML。然后将HTML返回给客户机，完全呈现出来，准备显示。</p><p id="a1cc" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">我们可以把服务器上的渲染想象成包裹递送，就像客户端渲染一样。你可以在同一时间收到所有的包裹，而不是在不同的时间收到。</p><p id="93c6" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">服务器端呈现比静态端呈现慢，因为HTML完全是根据每个请求生成的。但是在将整个结果返回给用户时，它比客户端呈现的应用程序要快。</p><p id="3465" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">像Vue和React这样的JavaScript框架使用<em class="lw">水合</em>来生成从服务器发送的交互代码。</p><h2 id="8a28" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">优点:</h2><ul class=""><li id="8b29" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">适合以SEO为主的网站。</li><li id="0baa" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">通过按需交付所有内容，为用户提供出色的用户体验。</li></ul><h2 id="b7a3" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">缺点:</h2><ul class=""><li id="ebc3" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">可能很贵。除了前端代码之外，还需要设置和管理服务器或服务器代码。</li><li id="65d9" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">如果服务器关闭，网站也会关闭。</li><li id="0af4" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">除了前端开发人员之外，可能还需要后端/全栈开发人员。</li></ul><h1 id="bb7c" class="kr iu hh bd iv ks kt ku iz kv kw kx jd ky kz la jh lb lc ld jl le lf lg jp lh bi translated">静态侧渲染</h1><p id="2148" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">静态呈现发生在构建时。每个页面都提前编译并呈现为静态HTML文件<em class="lw">(AOT)。</em>文件生成AOT意味着我们将为每个文件生成一个带有单独URL的HTML文件。静态网站的优秀之处在于，它们可以上传到CDN，并在需要时轻松地转移到另一个来源，而无需做太多工作。</p><p id="c66c" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">我们可以想象静态渲染一个应用程序，就像在服务器上一样，只是它的速度非常快。包裹不需要事先包装；它们会立刻运送给你。</p><p id="07ef" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">静态呈现的网站有一些显著的优势。它们速度更快，可靠性更好，并且改进了SEO。静态生成的网站有快速FP、FCP和TTI。</p><p id="827b" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">几个月前，我写了一篇文章，讨论拥有静态生成的网站可以带来哪些好处。欢迎你来阅读:<a class="ae lx" href="https://marius-ibsen.medium.com/benefits-of-static-websites-5fb187d1ffe6" rel="noopener">静态网站的好处。</a></p><h2 id="c552" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">优点:</h2><ul class=""><li id="1792" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">完美的搜索引擎优化为重点的网站。</li><li id="7fea" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">可靠、性能卓越、安全且可扩展</li><li id="1c99" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">成本低；它可以在内容交付网络(CDN)上“生存”</li><li id="5ebe" class="li lj hh jt b ju lr jy ls je lt ji lu jm lv kl ln lo lp lq bi translated">易于在主机提供商之间转移</li></ul><h2 id="1db4" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">缺点:</h2><ul class=""><li id="bf4e" class="li lj hh jt b ju jv jy jz je lk ji ll jm lm kl ln lo lp lq bi translated">您依赖于部署整个网站以防发生变化，例如为电子商务商店推送新闻文章或产品。</li></ul><h1 id="63fd" class="kr iu hh bd iv ks kt ku iz kv kw kx jd ky kz la jh lb lc ld jl le lf lg jp lh bi translated">让我们结束吧</h1><p id="251b" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb je kc kd ke ji kf kg kh jm ki kj kk kl ha bi translated">如果你问自己，“什么时候应该对渲染类型的选择至关重要？”当一个网站包含JavaScript时，这才是相关的。</p><p id="a08e" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">CSR可以为用户提供更快的响应(FCP)。当内容需要更新而不需要联系服务器时，它的交互性更强，也更完美。另一方面，假设你用全JavaScript建立一个网站。在这种情况下，一些JavaScript框架，如React、Vue或Angular，在大多数情况下只会呈现一个空的HTML页面。在完全呈现之前，搜索引擎爬虫会将这些站点视为完全空白。</p><p id="23a2" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">过去几年流行的许多JavaScript框架都内置了静态站点生成(SSG)和服务器端呈现，如GatsbyJS和NextJS，同时支持SSR和SSG。</p><p id="e7ce" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">SSR和SSG更适合SEO。两者都可以更快地显示页面内容。它们提供了更好的用户体验，搜索引擎机器人将更容易对你的页面进行排名。假设你有一个只包含HTML的静态网站。在这种情况下，您根本不需要关注或担心SEO优化或过多的服务器负载。</p><p id="7176" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">在我最近做的项目中，我们已经结合使用了客户端和静态渲染好几年了。这样做是必不可少的，因为我为之工作的客户有一个网站，它既是一个新闻页面，也包含一些页面，用户可以在这些页面上看到一些安全页面背后的客户关系。</p><p id="3bb8" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">如果你和我上面描述的情况一样，我不建议你完全只做服务器端或者客户端。知道什么时候使用不同的渲染类型，你将会制作出非常棒的网站，给用户很好的用户体验。</p><p id="b8ed" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated">感谢您的阅读！</p><p id="aa05" class="pw-post-body-paragraph jr js hh jt b ju km jw jx jy kn ka kb je ko kd ke ji kp kg kh jm kq kj kk kl ha bi translated"><em class="lw">代号为</em></p></div></div>    
</body>
</html>