<html>
<head>
<title>Replicate Data Cross-Region between Two Autonomous Databases using OCI Marketplace GoldenGate 19c Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OCI市场GoldenGate 19c微服务在两个自治数据库之间跨区域复制数据</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/replicate-data-between-2-oracle-autonomous-database-using-oci-marketplace-goldengate-19c-948882296c93?source=collection_archive---------2-----------------------#2021-02-10">https://medium.com/oracledevs/replicate-data-between-2-oracle-autonomous-database-using-oci-marketplace-goldengate-19c-948882296c93?source=collection_archive---------2-----------------------#2021-02-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="478b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Oracle自治数据库</strong>现在支持使用提取功能捕获源数据，并将其应用到另一个地区的自治数据库。以前使用Goldengate，您只能将自治数据库复制为目标数据库，但使用最近发布的功能，您现在可以在源位置捕获事务，并将其复制到另一个自治数据库。所以自治数据库现在可以充当上游数据库。</p><p id="b4af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这在您需要使用自治数据库和Goldengate构建地理上分散的应用程序的场景中非常有用。Goldengate不仅仅是一个复制工具，它还可以帮助您构建云原生复杂数据分布拓扑。</p><p id="e8ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">建筑</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/dd5ecfe5cca3eb4215f4c1a26b2078e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ttVjHzVFhU8H14FmLv4RCQ.png"/></div></div></figure><p id="9b9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">步骤</strong></p><p id="b53b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 1。提供两个事务处理自治数据库，一个在悉尼，另一个在阿什本。您可以使用下面的Github repo快速配置该演示的基础架构。请注意，我们正在创建面向公众的服务，但理想情况下，自治数据库和Goldengate Hub应该在私有子网</strong></p><p id="50b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">澳大利亚东部(悉尼)——资料来源:ProjectSYD <br/>美国东部(阿什本)——目标:ProjectDR</p><p id="6999" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> SYD地形代号:</strong><a class="ae jo" href="https://github.com/shadabshaukat/OCI_GG_DEMO/tree/main/GoldenGate%20ADB%20Demo/DemoGG.ATP1.SYD" rel="noopener ugc nofollow" target="_blank">https://github . com/shadabshaugat/OCI _ GG _ DEMO/tree/main/golden gate % 20 ADB % 20 DEMO/DemoGG。ATP1.SYD </a></p><p id="0ca0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> IAD Terraform代码:</strong><a class="ae jo" href="https://github.com/shadabshaukat/OCI_GG_DEMO/tree/main/GoldenGate%20ADB%20Demo/DemoGG.ATP2.IAD" rel="noopener ugc nofollow" target="_blank">https://github . com/shadabshaugat/OCI _ GG _ DEMO/tree/main/golden gate % 20 ADB % 20 DEMO/DemoGG。ATP2.IAD </a></p><p id="0c6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 2。为Oracle调配Goldengate 19c Marketplace微服务版本，并选择部署作为源和目标19c，不要选择部署2自主选项</strong></p><p id="d42f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参见:<a class="ae jo" href="https://www.youtube.com/watch?v=dQbcrH8wVDs" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=dQbcrH8wVDs</a></p><p id="070a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">代码:</strong><a class="ae jo" href="https://github.com/shadabshaukat/OCI_GG_DEMO/tree/main/GoldenGate%20ADB%20Demo/Demo_OracleGoldenGate_Microservices_19.1.0.0.201013_v1.2" rel="noopener ugc nofollow" target="_blank">https://github . com/shadabshaukat/OCI _ GG _ DEMO/tree/main/golden gate % 20 ADB % 20 DEMO/DEMO _ OracleGoldenGate _ micro services _ 19 . 1 . 0 . 0 . 2010 13 _ v 1.2</a></p><p id="1c9d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 3。登录金门计算虚拟机，获取凭证</strong></p><p id="6454" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ cat ~/ogg-credentials . JSON<br/>{ " username ":" ogg admin "，" credential ":" D * * * * * * * * * * pI " }</p><p id="4505" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用上面显示的凭证登录https:// <public-ip>。</public-ip></p><p id="b560" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以查看golden gate deployments &gt; service manager &gt;<br/>golden gate Config Home参数/u02/deployments/service manager/etc/conf</p><p id="6a77" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 4。检查显示源和目标目录结构</strong>的部署配置文件</p><p id="b402" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ cat/u02/deployments/service manager/etc/conf/deployment registry . dat</p><blockquote class="jp jq jr"><p id="3938" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">" Source ":{<br/>" environment ":[<br/>{<br/>" name ":" TNS _ ADMIN "，<br/>" value ":"/u02/deployments/Source/etc "<br/>}<br/>]<br/>}</p><p id="69e6" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">"目标":{ <br/>"环境":[ <br/> { <br/>"名称":" TNS_ADMIN "，<br/>" value ":"/u02/deployments/Target/etc "<br/>}<br/>]<br/>}</p></blockquote><p id="b44e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 5。将钱包从源和目标自治数据库复制到TNS_ADMIN位置目录，如上面的命令</strong>所示</p><p id="2378" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">-rw-r—r—@ 1 shadab staff 20K 7 Jan 13:02 Wallet _ projects yd . zip<br/>-rw-r—r—@ 1 shadab staff 20K 7 Jan 13:26 Wallet _ projectdr . zip</p><p id="7e18" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ sftp-I " my demo _ vcn . priv " OPC @<public-ip/></p><p id="e207" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">sftp &gt;将Wallet_ProjectSYD.zip <br/>上传Wallet_ProjectSYD.zip到/home/OPC/Wallet _ projects yd . zip<br/>Wallet _ projects yd . zip 100% 20KB 1.2 MB/s 00:00</p><p id="4cab" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">sftp &gt;将Wallet_ProjectDR.zip <br/>上传Wallet_ProjectDR.zip到/home/OPC/Wallet _ project dr . zip<br/>Wallet _ project dr . zip</p><p id="8067" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">6。解压缩源目录和目标目录中的两个WALLET，并更改sqlnet.ora文件WALLET_LOCATION参数以指向各自的TNS_ADMIN目录</p><p id="df35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ CP-p Wallet _ project syd . zip/u02/deployments/Source/etc<br/>$ CP-p Wallet _ project dr . zip/u02/deployments/Target/etc</p><p id="26b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ CD/u02/deployments/Source/etc<br/>$ unzip Wallet _ projects yd . zip<br/>存档:Wallet_ProjectSYD.zip <br/>展开:README <br/>展开:cwallet.sso <br/>展开:tnsnames.ora <br/>展开:truststore.jks <br/>展开:ojdbc.properties <br/>展开:sqlnet.ora <br/>展开:ewallet.p12 <br/>展开:keystore.jks</p><p id="48ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ CD/u02/deployments/Target/etc<br/>$ unzip Wallet _ project dr . zip<br/>存档:Wallet_ProjectDR.zip <br/>展开:README <br/>展开:cwallet.sso <br/>展开:tnsnames.ora <br/>展开:truststore.jks <br/>展开:ojdbc.properties <br/>展开:sqlnet.ora <br/>展开:ewallet.p12 <br/>展开:keystore.jks</p><p id="3295" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如:Source<br/>VI/u02/deployments/Source/etc/sqlnet . ora</p><p id="6b28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">WALLET _ LOCATION =(SOURCE =(METHOD = file)(METHOD _ DATA =(DIRECTORY = "/u02/deployments/SOURCE/etc "))<br/>SSL _ SERVER _ DN _ MATCH = yes</p><p id="07b0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">VI/u02/deployments/Target/etc/sqlnet . ora</p><p id="93e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">WALLET _ LOCATION =(SOURCE =(METHOD = file)(METHOD _ DATA =(DIRECTORY = "/u02/deployments/Target/etc "))<br/>SSL _ SERVER _ DN _ MATCH = yes</p><p id="2d6f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 7。SYD ATP中的来源设置</strong></p><p id="4dbe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> a .创建需要复制的模式和表</strong><br/>$ CD/u02/deployments/Source/etc</p><p id="f0c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/SQL/nolog</p><p id="38d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">set cloud config/u02/deployments/Source/etc/Wallet _ projects yd . zip<br/>show tns</p><p id="af30" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">连接admin/* * * * * * @ project syd _ high</p><blockquote class="jp jq jr"><p id="03de" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">创建由PassW0rd_#21标识的用户goldengateusr默认表空间数据配额对数据无限制；<br/>创建表goldengateusr.accounts (id号主键，名称varchar 2(100))；<br/>插入到goldengateusr.accounts值(1，' Shadab ')；<br/>提交；<br/>select * from golden gateusr . accounts；</p></blockquote><p id="9a40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> b .解锁ggadmin用户并启用补充日志数据</strong></p><blockquote class="jp jq jr"><p id="3496" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">更改由PassW0rd_#21帐户解锁标识的用户ggadmin<br/>修改可插拔数据库添加补充日志数据；<br/>从dba_supplemental_logging中选择minimal</p><p id="453f" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">从v $数据库中选择to _ char(current _ SCN)；<br/> 16767325762804</p></blockquote><p id="0b69" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> c .创建提取参数文件</strong></p><p id="5afc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ mkdir/u02/trails/dirdat<br/>$ VI/u02/deployments/Source/etc/conf/ogg/ext 1 . PRM</p><blockquote class="jp jq jr"><p id="b01c" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">提取ext 1<br/>USERID gg admin @ project syd _ high，密码PassW0rd_#21 <br/> EXTTRAIL。/dirdat/sy <br/> ddl包含映射的<br/>表goldengateusr。*;</p></blockquote><p id="0fb1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> d .将提取内容添加到source</strong><br/>$/u01/app/ogg/Oracle 19/bin/admin client</p><blockquote class="jp jq jr"><p id="f9a5" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">连接<a class="ae jo" href="https://localhost/" rel="noopener ugc nofollow" target="_blank"> https://localhost/ </a>部署源作为oggadmin密码DFA9zOjlh0GY % GpI！</p><p id="363d" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">ALTER CREDENTIALSTORE添加用户ggadmin@projectsyd_high密码PassW0rd_#21别名projectsyd_high</p><p id="3754" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">DBLOGIN USERIDALIAS项目syd_high</p><p id="28e2" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">添加提取ext1，集成TRANLOG，SCN 16767325762804 <br/>注册提取ext1数据库<br/>添加EXTTRAIL。/dirdat/sy，提取ext1</p><p id="5f1c" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">开始提取ext1 <br/>信息提取ext1，细节</p></blockquote><p id="b11c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">状态应该是“正在运行”</p><p id="16c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> e .在源表中插入行</strong></p><blockquote class="jp jq jr"><p id="8d97" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">/*在源表中插入另一行*/ <br/>插入到goldengateusr.accounts值中(2，“John Doe”)；<br/>插入到goldengateusr.accounts值中(3，' Mary Jane ')；提交；</p></blockquote><p id="0fdb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> f .对模式进行数据泵备份，直到SCN到内部目录‘DATA _ PUMP _ DIR’</strong></p><p id="990d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">'导出ORACLE _ HOME = '/u01/app/client/ORACLE 19 '<br/>导出TNS _ ADMIN = '/u02/deployments/Source/etc '</p><p id="0780" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/ex PDP ADMIN/* * * * * * * @ projects yd _ high directory = DATA _ PUMP _ DIR dump file = export 01 . DMP log file = export . log schemas = golden gate usr FLASHBACK _ SCN = 16767325762804</p><p id="bbc0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> g .创建存储桶、用于访问的身份验证令牌以及将导出备份复制到客户存储桶的DBMS_CLOUD凭据</strong> <br/>在您的租赁中创建一个名为“datapump”的存储桶，并为您的OCI用户创建一个对该存储桶具有读/写权限的身份验证令牌</p><p id="d608" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/sqlplus admin/* * * * * * @ project syd _ high</p><blockquote class="jp jq jr"><p id="11ab" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">开始<br/> DBMS_CLOUD。CREATE _ CREDENTIAL(<br/>CREDENTIAL _ name =&gt;' LOAD _ DATA '，<br/>username =&gt;' oracleidentitycloudservice/shadab . Mohammad @<a class="ae jo" href="http://oracle.com" rel="noopener ugc nofollow" target="_blank">oracle.com</a>'，<br/>password =&gt;' CR * * * * * * * * * * Pgsn)；'<br/>)；<br/>结束；<br/> /</p><p id="643c" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">—BEGIN<br/>—DBMS _ cloud . drop _ credential(credential _ name =&gt;' LOAD _ DATA ')；<br/> —结束；<br/> — /</p><p id="1460" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">开始<br/> DBMS_CLOUD。PUT_OBJECT ('LOAD_DATA '，'<a class="ae jo" href="https://objectstorage.ap-sydney-1.oraclecloud.com/n/ocicpm/b/datapump/" rel="noopener ugc nofollow" target="_blank">https://OBJECT storage . AP-Sydney-1 . Oracle cloud . com/n/OCI CPM/b/DATA PUMP/'，' DATA_PUMP_DIR '，' export 01 . DMP</a>')；<br/>结束；<br/> /</p><p id="3c71" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">select object_name，bytes from DBMS _ cloud . list _ objects(' LOAD _ DATA '，'<a class="ae jo" href="https://objectstorage.ap-sydney-1.oraclecloud.com/n/ocicpm/b/datapump/" rel="noopener ugc nofollow" target="_blank">https://object storage . AP-Sydney-1 . Oracle cloud . com/n/OCI CPM/b/DATA pump/</a>')；</p></blockquote><p id="8ec7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 8。IAD ATP中的目标设置</strong></p><p id="a60d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> a .在目标</strong>CD/u02/deployments/Target/etc/上创建DBMS_CLOUD凭证</p><p id="5c20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">export ORACLE _ HOME = '/u01/app/client/ORACLE 19 '<br/>export TNS _ ADMIN = '/u02/deployments/Target/etc/'</p><p id="1b4b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/sqlplus admin/* * * * * * * * @ project dr _ high</p><blockquote class="jp jq jr"><p id="00fa" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">BEGIN <br/> DBMS_CLOUD。' CREATE _ CREDENTIAL(<br/>CREDENTIAL _ name =&gt;' LOAD _ DATA '，<br/>username =&gt;' oracleidentitycloudservice/shadab . Mohammad @<a class="ae jo" href="http://oracle.com" rel="noopener ugc nofollow" target="_blank">oracle.com</a>'，<br/>password =&gt;' CR * * * * * * * * gsn)；'<br/>)；<br/>结束；<br/> /</p><p id="3a5a" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">select object_name，bytes from DBMS _ cloud . list _ objects(' LOAD _ DATA '，'<a class="ae jo" href="https://objectstorage.ap-sydney-1.oraclecloud.com/n/ocicpm/b/datapump/" rel="noopener ugc nofollow" target="_blank">https://object storage . AP-Sydney-1 . Oracle cloud . com/n/OCI CPM/b/DATA pump/</a>')；</p></blockquote><p id="eb73" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> b .解锁目标上的ggadmin用户并启用补充日志数据</strong></p><blockquote class="jp jq jr"><p id="071d" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">更改由PassW0rd_#21帐户解锁标识的用户ggadmin<br/>修改可插拔数据库添加补充日志数据；<br/>从dba_supplemental_logging中选择minimal</p></blockquote><p id="112a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> c .将数据泵备份从客户桶导入目标ADB </strong></p><p id="aa83" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/impdp admin/* * * * * * * * * * @ project dr _ high credential = LOAD _ DATA schemas = golden gate usr directory = DATA _ PUMP _ DIR dump file =<a class="ae jo" href="https://objectstorage.ap-sydney-1.oraclecloud.com/n/ocicpm/b/datapump/o/export01.dmp" rel="noopener ugc nofollow" target="_blank">https://object storage . AP-Sydney-1 . Oracle cloud . com/n/OCI CPM/b/DATA PUMP/o/export 01 . DMP</a>log file = import . log</p><p id="ceed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> d .创建replicat参数文件</strong></p><p id="d47a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$ VI/u02/deployments/Target/etc/conf/ogg/repl 1 . PRM</p><p id="42bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">replicat repl 1<br/>USERID gg admin @ project dr _ high，密码PassW0rd _ # 21<br/>map golden gateusr。*，目标goldengateusr。*;</p><p id="2196" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> e .在目标ADB中创建副本</strong></p><p id="18e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/ogg/Oracle 19/bin/admin client</p><blockquote class="jp jq jr"><p id="8583" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">连接<a class="ae jo" href="https://localhost deployment" rel="noopener ugc nofollow" target="_blank"> https://localhost部署</a>目标作为oggadmin密码DFA9zOjlh0GY % GpI！<br/> ALTER CREDENTIALSTORE添加用户ggadmin@projectdr_high密码PassW0rd_#21别名project dr _ high<br/>dblog in USERIDALIAS project dr _ high</p><p id="a934" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">ADD check point table gg admin . chkpt<br/>ADD Replicat repl 1 ext trail。/dirdat/sy检查点表ggadmin.chkpt</p><p id="a8b1" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">开始复制副本副本1 <br/>信息复制副本1，细节</p></blockquote><p id="c3f3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">状态应为“正在运行”</p><p id="1521" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 9。现在复制已经开始，在源表中插入一些记录，您应该能够在目标数据库中看到它们。查看/u02/deployments/Target/var/log/gg serr . log中与复制相关的任何错误</strong></p><p id="d16b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> —来源— </strong> <br/>导出ORACLE _ HOME = '/u01/app/client/ORACLE 19 '<br/>导出TNS _ ADMIN = '/u02/deployments/Source/etc/'</p><p id="fa38" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/sqlplus admin/* * * * * * * * @ project syd _ high</p><blockquote class="jp jq jr"><p id="dc6b" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">select * from golden gateusr . accounts；</p><p id="df14" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">插入到goldengateusr.accounts值中(4，“Foo Bar”)；<br/>插入goldengateusr.accounts值(5，'虚拟值')；<br/>提交；</p></blockquote><p id="5539" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> —目标— </strong> <br/>导出ORACLE _ HOME = '/u01/app/client/ORACLE 19 '<br/>导出TNS _ ADMIN = '/u02/deployments/Target/etc/'</p><p id="3d19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">$/u01/app/client/Oracle 19/bin/sqlplus admin/* * * * * * * * @ project dr _ high</p><p id="d227" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">select * from golden gateusr . accounts；</p><p id="e7b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在应该能够看到目标DR数据库中的新记录。</p><p id="ca80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 10。因为我们已经在提取中包含了DDL，所以我们也可以在Source中创建一个表，它会自动地复制到目标中</strong></p><blockquote class="jp jq jr"><p id="a5e1" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">— Source — <br/>创建表golden gateusr . carpender(身份证号主键，卡号varchar 2(30))；</p><p id="ef99" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">插入goldengateusr .持卡人值(1，' 1234–5677–9876–8765 ')；<br/>提交；</p><p id="3ac0" class="ie if js ig b ih ii ij ik il im in io jt iq ir is ju iu iv iw jv iy iz ja jb ha bi translated">—目标— <br/> desc金卡持卡人；<br/> select * from goldengateusr .持卡人；</p></blockquote><p id="ab41" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">参考资料:</strong><br/><strong class="ig hi">————————</strong><br/>【1】<a class="ae jo" href="https://blogs.oracle.com/dataintegration/free-goldengate-software-on-oci-marketplace" rel="noopener ugc nofollow" target="_blank">https://blogs . Oracle . com/data integration/free-golden gate-software-on-OCI-market place</a><br/>【2】<a class="ae jo" href="https://docs.oracle.com/en/cloud/paas/autonomous-data-warehouse-cloud/tutorial-getting-started-autonomous-db/index.html" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/en/cloud/PAAs/autonomous-data-warehouse-cloud/tutorial-getting-started-autonomouse-db/index . html</a><br/>【3】<a class="ae jo" href="https://docs.oracle.com/en/middleware/goldengate/core/19.1/oracle-db/configure-autonomous-database-capture-replication.html#GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C" rel="noopener ugc nofollow" target="_blank">https://https</a></p></div></div>    
</body>
</html>