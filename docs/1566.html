<html>
<head>
<title>API Design Using Feedback Loops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用反馈循环的API设计</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/api-design-using-feedback-loops-37048d3d131e?source=collection_archive---------0-----------------------#2018-05-22">https://medium.com/capital-one-tech/api-design-using-feedback-loops-37048d3d131e?source=collection_archive---------0-----------------------#2018-05-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5d1272dd0add0f9764ec84f28cdd4e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SqRhHoV2KQn3DJ-FP_tikA.jpeg"/></div></div></figure><p id="f47f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们通常认为API定义是从描述文件开始的。这种方法的挑战在于，API生产者在实际确定API需要什么功能之前，经常会忽略资源名称和方法。这可能会在设计确切的接口时造成很多混乱，因为细节和高级概念是同时讨论的。</p><p id="0dfa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">许多组织选择通过向市场发布一个“MVP”来快速、轻松地取胜，目的是从那里建立那些概念。虽然这可能对传统产品有效(我认为这是有问题的，但已经成为一种被接受的方法)，但对于API来说，这是一个更大的挑战，因为它们在依赖于它们的应用程序中扮演着重要的角色。如果你要提供一个既令人满意又稳定的API，你需要确保你的初始API版本是功能性的、可靠的和可用的。API的丧钟是不断发布突破性的变化或更新，要求应用程序开发人员返工他们的应用程序。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jn"><img src="../Images/f3e113c7b233e6b0fb6accd89fc7db24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uWGDlFgYEL6EGPqV."/></div></div><figcaption class="js jt et er es ju jv bd b be z dx"><em class="jw">Minimum Viable Product: Build a slice across, instead of one layer at a time. Diagram courtesy of Jussi Pasanen, with acknowledgements to Aarron Walter, Ben Tollady, Ben Rowe, Lexi Thorn and Senthil Kugalur.</em></figcaption></figure><p id="5f6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">更有效的方法是使用精益方法中的一些相同原则来鼓励持续(和早期)学习。这允许您在深入研究如何实现这些功能的细节之前，细化所需的和期望的功能。通过一些调整来适应API空间，您可以应用类似的原则来实现相同的最终目标——理解对客户的价值，并根据反馈循环不断地重新调整。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jx"><img src="../Images/990743d261f4bb3ac7a53cdfb8961e7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ouv9IEu-Txx9oVEB."/></div></div></figure><h1 id="7cbe" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">反馈回路的好处</h1><p id="a0ab" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">在提交代码或路线图之前，花时间在市场上测试您的产品想法可能是一项巨大的时间和金钱投资。但是这种投资在很多方面都有回报。让我们来看看这种方法的一些好处:</p><ul class=""><li id="b8a5" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">首先规划功能允许您战略性地考虑您的发布计划和您的潜在合作伙伴。当您首先致力于API的内部工作时，您会被技术而不是策略所束缚。</li><li id="877a" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">通过收集关于您的路线图和功能的反馈，您可以更灵活地改变这两者，因为您还没有致力于API设计和代码。您还可以对API接口的寿命更有信心，因为您已经做了很多前瞻性的思考。</li><li id="2b89" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">您的潜在API消费者对您的版本更感兴趣，因为他们提供了方向和战略思想来帮助您形成产品。你正在建立他们所要求的，他们知道这一点。</li></ul><h1 id="576a" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">建立反馈回路的风险</h1><p id="01af" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">如果我们不承认在你的产品准备好之前把你的API概念放在那里是有风险的，这是不诚实的。根据您的组织对风险的厌恶程度，这些是应该认真考虑的风险。</p><ul class=""><li id="56a1" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">你必须接受一定程度的透明度。当你在重复这个概念并收集反馈时，你必须向公众展示你的想法。我们将进一步讨论降低这种风险的方法。</li><li id="1c3a" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">如果您要求对您的API概念进行反馈，您需要准备好对反馈做出反应。在这个阶段，你的产品经理需要敏捷的思维，你的组织需要对计划的变化做出反应。</li><li id="0e8d" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">为了质量，你可能不得不牺牲速度。我们将讨论收集反馈并对其做出反应的各种方法，但它们都需要时间，并且有可能花费比您所能接受的更长的时间来发布。但是你也可以放心，你将把一个开发者真正想要的API推向市场。</li></ul><h1 id="f7ff" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">建立反馈回路的技术</h1><p id="9cda" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">根据API的复杂性和发布的紧迫性，您可以使用任意数量的技术来获得对API的反馈。理想的情况是，给定时间和资源，您将结合多种技术，每种技术都旨在更深入地阐明和巩固您的API概念。</p><p id="d951" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请记住，反馈回路正是——它旨在成为迭代设计周期的一部分。让我们来看看一些反馈循环，它们可以帮助您为您的消费者设计具有正确价值的正确API。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jx"><img src="../Images/ca5d36462cc02448beb3207080627116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AMM3--WIwfR0syDw."/></div></div></figure><h1 id="95db" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">开发者焦点小组</h1><p id="f9b3" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">当你在“试探”一个想法时，这些对话是非常宝贵的。你可以在构思周期的任何时候主持这些——你的API概念可能只是一个想法的萌芽，没有关于方法或限制的真正细节。事实上，最好不要展示任何已知的限制，这样你就可以更自由地交谈。以下是组织开发人员焦点小组的一些技巧:</p><ul class=""><li id="8d78" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">为了保持对话，这种聚会的理想规模是不超过30人。</li><li id="318a" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">确保你包括各种各样的参与者——企业开发人员、初创企业开发人员、产品经理，他们都来自各种垂直行业。</li><li id="334f" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">准备好展示你的概念，鼓励诚实的反馈。不说服，不辩解；这是一个听力练习。用问题、问题和更多问题来探索反馈。</li><li id="215c" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">带一个记录员——你想把注意力集中在谈话上；让其他人做笔记。</li><li id="24b2" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">根据反馈评估和重新评估你的目标市场(例如，也许初创企业对这种能力更感兴趣，所以他们不必自己构建)。</li><li id="5dd7" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">倾听信息提炼——哪些措辞/词语最有助于参与者理解该功能？他们对你的描述和定位的第一情绪反应是什么？这不仅仅是一个获得对您想要构建的API的反馈的机会，也是一个如何在以后定位它的机会。</li></ul><h1 id="109d" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">公开可用的原型</h1><p id="1249" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">理想情况下，在焦点小组会议之后，你会看到你认为的API的第一个版本，但是是原型形式。这个原型的目标是通过在操场环境中公开API接口和一些模拟数据，从概念走向现实。让开发人员调用API，鼓励对界面设计和有效载荷构造的反馈。当您使API原型可用时，需要考虑一些事情:</p><ul class=""><li id="7677" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">你的API设计应该尽可能的简洁。虽然您不想在接口上投入太多时间以至于不愿意改变它，但是您也希望确保您没有暴露内部路径或资源名称，并且您已经提供了足够的安全性来增强对您设计API的能力的信心。</li><li id="56b2" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">提供一些健壮的模拟数据。开发人员希望看到您的API在错误条件下以及正常条件下的表现。他们希望看到一个完整的有效负载，让他们真正了解如何在真实的开发环境中使用API。</li><li id="61ce" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">如果您有协作工具，请使用它们。市场上有几个工具允许人们对你的API描述进行评论，并参与论坛讨论。通过一个工具从你的观众那里收集信息意味着你可以把所有的反馈保存在一个地方并且永久保存。如果您可以通过提供API描述的更新版本供开发人员试验来迭代工具本身，那就更好了。</li><li id="3979" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">将您的草稿文档与原型一起发布。API文档不是一个单独的交付物，它是API本身的一部分。在原型开发阶段，您可以获得对您提供的文档的实时审查，这样您也可以对其进行迭代。如果您可以在GitHub上提供文档，您甚至可以鼓励您的消费者提交带有文档更正和增强的PRs。</li><li id="ec9e" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">观看它的运行。现在是时候举办一些非正式的黑客大会和更多的焦点小组了。每当您迭代原型以整合反馈时，您可以召集一组人来验证方向。</li></ul><h1 id="d7cb" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">测试版/仅限受邀者</h1><p id="13e3" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">好了，在你写一行代码之前，你已经从焦点小组那里得到了关于这个概念的反馈。您构建了实现虚拟API和第一稿文档的原型，并根据消费者的反馈迭代这些原型。</p><p id="724c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在是生产的时候了。这才是你真正需要评估自己风险承受能力的地方。如果您的API不涉及安全信息或关键任务功能，您可以将其部署到生产环境中，并将其开放供一般用途。</p><p id="3545" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，如果你在一个更加厌恶风险的环境中，你可以通过向有限的受众提供API来继续你的缓慢进展。这为您提供了另一个机会来收集反馈，并在更广泛地使用之前进行改进。以下是邀请阶段的一些通用指南，可以帮助您确保您的API是可靠的，并且符合市场需求:</p><ul class=""><li id="5231" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">对你允许访问的API消费者要有选择性。到目前为止，您已经测试了概念、界面设计和市场定位。你知道你的目标市场和路线图。预先确定您希望提供访问的开发人员社区的规模，并保持警惕，以确保它保持在该范围内。</li><li id="2a3b" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">决定您想要如何构建这个社区——您想要联系参与早期迭代的特定开发人员吗？或者，您是否希望有一个公开的注册表单，用于选择您的初始社区？</li><li id="27d3" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">准备好在第一次真实世界试验的基础上做出改变。你可能会觉得你已经做了足够多的迭代。但是请记住，这是开发人员第一次尝试使用您的API构建有意义的生产就绪应用程序。他们会发现以前没有发现的事情— Oauth问题、文档不准确、速率限制、性能问题等。开诚布公，考虑他们的反馈。</li><li id="f564" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">为此阶段设置预定义的时间范围。处于测试阶段会上瘾。对于许多API提供者来说，这很容易做到。但是你已经做了你的功课——你已经做了焦点小组，原型，现在是测试版。确保您有一个全面发布的目标日期，并与您的社区充分接触，为满足该日期做好准备。</li></ul><h1 id="c308" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">版本控制</h1><p id="4591" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">不要。开玩笑的。</p><p id="b565" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">严肃地说，您预先进行迭代工作的原因之一是为了避免过多的版本控制。关于这一点有许多哲学，你可以决定你自己的版本策略。但是当你计划这个的时候，有一些重要的事情要考虑。开发人员在业务上依赖于您的API。当你对你的API进行版本控制时，你就冒着迫使他们对他们的应用程序进行版本控制的风险，他们可能有时间也可能没有资源去做。遵循一些简单的原则，让他们轻松一些:</p><ul class=""><li id="4573" class="lb lc hh ir b is it iw ix ja ld je le ji lf jm lg lh li lj bi translated">交流，交流，交流。在你实施版本变更之前给出足够的警告，并且非常清楚更新他们的应用程序的要求。对你的新版本的基本原理保持透明。</li><li id="21c2" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">确保为那些不能立即(或永远)升级的开发人员提供向后兼容的选项。</li><li id="8961" class="lb lc hh ir b is lk iw ll ja lm je ln ji lo jm lg lh li lj bi translated">保持对以前版本的支持。</li></ul><h1 id="bf1b" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">API质量很重要，但并不容易</h1><p id="296f" class="pw-post-body-paragraph ip iq hh ir b is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji la jk jl jm ha bi translated">API已经成为开发堆栈的重要组成部分。拥有一个规范的产品管理方法来定义、设计和部署它们是至关重要的。不要害怕提前花时间用正确的界面构建正确的功能，从长远来看，这将增强您的产品。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><a href="https://medium.com/capital-one-tech/api/home"><div class="er es lp"><img src="../Images/c6c5bb1f3967049ba012aebf5757e08d.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*x8RfN3y_bm7aDVs1vHMfkg.jpeg"/></div></a></figure></div><div class="ab cl lq lr go ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ha hb hc hd he"><p id="0c73" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lx">披露声明:这些观点是作者的观点。除非本帖中另有说明，否则Capital One不属于所提及的任何公司，也不被其认可。使用或展示的所有商标和其他知识产权都是其各自所有者的所有权。本文为2018首都一。</em></p></div></div>    
</body>
</html>