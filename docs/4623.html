<html>
<head>
<title>Curry or Partial Application?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">库里还是局部申请？</h1>
<blockquote>原文：<a href="https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8?source=collection_archive---------2-----------------------#2015-07-20">https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8?source=collection_archive---------2-----------------------#2015-07-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="ea9f" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated"><br/>局部应用和库里的区别</h2></div></div><div class="ha hb hc hd he"><p id="cfd1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">许多初学函数式编程的人对部分应用程序和currying之间的区别感到困惑。事实上，直到最近，在JavaScript中很少看到真正使用curry，许多自称为<em class="js"> `curry()` </em>的实用函数根本不是curry函数。它们是部分应用程序功能！</p><p id="72d6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你对这两者的区别感到困惑，下面的内容应该能帮你理清思路，但首先，让我们先了解一些词汇:</p><h1 id="88c5" class="jt ju hh bd jv jw jx jy jz ka kb kc kd in ke io kf iq kg ir kh it ki iu kj kk bi translated">定义</h1><p id="842d" class="pw-post-body-paragraph iw ix hh iy b iz kl ii jb jc km il je jf kn jh ji jj ko jl jm jn kp jp jq jr ha bi translated"><strong class="iy hi">应用:</strong><em class="js">将</em>函数应用于其<em class="js">参数</em>以产生返回值的过程。</p><p id="34c8" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">局部应用:</strong>将一个函数应用到<em class="js">它的一些参数</em>的过程。部分应用的函数被返回供以后使用。换句话说，<strong class="iy hi">取多参数</strong>的函数，<strong class="iy hi">返回少参数的函数。</strong>部分应用<em class="js">修复</em>(将函数部分应用于)返回函数内部的一个或多个参数，返回函数将剩余参数作为参数，以完成函数应用。</p><p id="5626" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi"> Curry: </strong>一个函数，<strong class="iy hi">将一个多参数的函数</strong>作为输入，<strong class="iy hi">返回一个只有一个参数的函数</strong>。</p><h1 id="1de7" class="jt ju hh bd jv jw jx jy jz ka kb kc kd in ke io kf iq kg ir kh it ki iu kj kk bi translated">为什么这很重要？</h1><p id="306b" class="pw-post-body-paragraph iw ix hh iy b iz kl ii jb jc km il je jf kn jh ji jj ko jl jm jn kp jp jq jr ha bi translated">詹姆斯·科格兰做了一个很棒的演讲，将有助于解释为什么你应该关心:</p><figure class="kq kr ks kt fd ku"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="27ad" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">James谈到的特性依赖于函数类型的一致性。函数有类型。例如，采用函数和数组并返回数组的函数(例如Function.prototype.map()):</p><pre class="kq kr ks kt fd kx ky kz la aw lb bi"><span id="08f1" class="lc ju hh ky b fi ld le l lf lg">(fn, array) -&gt; array</span></pre><ul class=""><li id="8519" class="lh li hh iy b iz ja jc jd jf lj jj lk jn ll jr lm ln lo lp bi translated">部分应用程序<strong class="iy hi">可能有也可能没有可预测的返回类型</strong> <em class="js">。</em></li><li id="fd70" class="lh li hh iy b iz lq jc lr jf ls jj lt jn lu jr lm ln lo lp bi translated">在应用了所有参数之前，一个curried函数总是返回另一个arity为1的函数。</li></ul><p id="69b0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">詹姆斯谈论的所有酷的东西都依赖于<strong class="iy hi">函数类型一致性。例如，他谈到了承诺是如何帮助抽象你的程序逻辑对时间的依赖性的。</strong></p><p id="fc7e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">承诺这样做是因为它们<strong class="iy hi">提升了</strong>你正在调用的任何函数，因此返回类型总是统一的:所有返回承诺的函数都返回相同的类型，这意味着你可以以标准化的方式使用它们。詹姆斯谈到了许多许诺帮助的方式。</p><p id="ae3e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这种情况下，承诺是<em class="js">容器</em>，就像<strong class="iy hi">函子</strong>(一个有趣的词，基本意思是“可以映射的东西”，例如数组。参见:<strong class="iy hi">应用函子</strong>，可以提供一种标准化的方法来处理容器内的数据，而不管数据的类型。</p><blockquote class="lv lw lx"><p id="77d7" class="iw ix js iy b iz ja ii jb jc jd il je ly jg jh ji lz jk jl jm ma jo jp jq jr ha bi translated"><strong class="iy hi">警告:</strong>谷歌搜索函数式编程术语可能会令人生畏——这比学者们说的要容易得多。</p></blockquote><p id="efb7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过处理<strong class="iy hi">容器</strong>而不是容器中的<strong class="iy hi">值，你可以创建许多通用的<strong class="iy hi">函数，这些函数对于使用<strong class="iy hi">容器的接口</strong>的任何东西都通用</strong>。</strong></p><p id="3a91" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">像承诺一样，<strong class="iy hi"> curried函数返回共享相同接口的容器</strong>。在这种情况下，<strong class="iy hi">返回的函数是容器</strong>。你只需不断调用返回的函数，直到你用尽了所有的参数，最终的值被返回。</p><p id="1241" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">换句话说，<strong class="iy hi">curried函数是一个可以提升所有参数的函数</strong>，这样你就可以用一种标准化的方式来处理这些参数。</p><p id="a6e3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这种提升最常见的用例是<a class="ae mb" rel="noopener" href="/javascript-scene/master-the-javascript-interview-what-is-function-composition-20dfb109a1a0">功能组合</a>，例如<code class="du mc md me ky b">c(x) = f(g(x))</code>。函数组合接受一个函数的返回值，并将其作为参数传递给另一个函数。因为函数只能返回一个值，所以应用于返回值的函数必须是一元的。</p><p id="ae0b" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">此外，<strong class="iy hi"> curried函数有一个内置的迭代器机制</strong>:一个curried函数将一次部分地应用一个参数，永远不会做比单个参数更多的工作。调用返回的函数具有告诉函数应用应用程序中的下一步的效果。</p><p id="cfbf" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">比如柯里化函数a(b)(c)；不必马上调用c应用程序。它可以这样分解:</p><pre class="kq kr ks kt fd kx ky kz la aw lb bi"><span id="adf2" class="lc ju hh ky b fi ld le l lf lg">const next = a(b);<br/>doSomeStuff().then(() =&gt; next(c));</span></pre><p id="e0a8" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您应该更清楚地了解部分应用程序和curry之间的区别，以及为什么您想要curry您的函数。</p><p id="743a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在函数式编程中，currying最常见的用途是使函数的组合更容易。关于这个话题的更多信息，请阅读<a class="ae mb" rel="noopener" href="/javascript-scene/master-the-javascript-interview-what-is-function-composition-20dfb109a1a0">“掌握JavaScript面试:什么是函数组合？”</a></p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><blockquote class="mm"><p id="1ea9" class="mn mo hh bd mp mq mr ms mt mu mv jr dx translated"><a class="ae mb" href="https://ericelliottjs.com" rel="noopener ugc nofollow" target="_blank">跟随Eric Elliott </a>学习函数式JavaScript <br/></p></blockquote></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><p id="9f81" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi"> <em class="js">埃里克·艾略特</em> </strong> <em class="js">著有</em> <a class="ae mb" href="http://pjabook.com" rel="noopener ugc nofollow" target="_blank"> <em class="js">【编程JavaScript应用】</em> </a> <em class="js">(奥赖利)，以及</em> <a class="ae mb" href="https://leanpub.com/learn-javascript-react-nodejs-es6/" rel="noopener ugc nofollow" target="_blank"> <em class="js">【学习JavaScript通用App开发用节点，ES6，&amp;【React】</em></a><em class="js">。他为Adobe Systems</em><strong class="iy hi"><em class="js"/></strong><em class="js"/><strong class="iy hi"><em class="js">尊巴健身</em></strong><em class="js"/><strong class="iy hi"><em class="js">华尔街日报</em></strong><em class="js"/><strong class="iy hi"><em class="js">【ESPN</em></strong><em class="js"/><strong class="iy hi"><em class="js">BBC</em></strong><em class="js">等顶级录音师贡献了软件经验</em></p><p id="61a2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">他大部分时间都在旧金山湾区和世界上最美丽的女人在一起。</p></div></div>    
</body>
</html>