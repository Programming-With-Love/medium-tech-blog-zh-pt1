# Python 列表理解

> 原文：<https://medium.com/quick-code/python-list-comprehension-b0dd894f776a?source=collection_archive---------0----------------------->

## Python 列表理解的快速简单介绍

![](img/5e15c2c5a784b0bf2830dbecd7cb860a.png)

Photo by [Amanda Jones](https://unsplash.com/@amandagraphc?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# 介绍

在本文中，我想向您展示 Python 语言的一个非常有用的特性:**列表理解**。阅读后，您将能够更有效、更优美地编写代码。

列表理解是一种基于现有列表或迭代对象来定义和创建列表的优雅方式。

# 例子

## 基本用法

让我们想象一下，我们需要创建一个从 0 到 10 的平方数列表。我想如果你不熟悉列表理解，你会像下面的代码一样去做。

但是等等，我们可以利用 Python 语言的力量，让它变得更加优雅:

如果您在程序结束时检查 *arr* 值，您会看到相同的值。但是有了列表理解，代码看起来更紧凑，也更容易阅读。

## 结构

该操作的主要结构有以下形式:

```
[*some_processed_variable* for *some_variable* in *iterable_object*]
```

## 如果条件

让我们更深入一点，为这个结构添加额外的功能。假设我们需要一个只有奇数的列表。现在，我们可以像下面的代码一样进行操作。

我们在结构的末尾添加了一个附加的“if”条件(当然，我们可以通过设置 range 参数来实现，比如 range(1，10，2))。

## 嵌套循环

我们可以在列表理解中编写一个嵌套循环。为此，我们一个接一个地写两个循环——第二个循环将被嵌套。让我们用一个常见的例子来检验它——创建一副牌，其中每张牌都有花色和价值。

正如您所看到的，我们有两个循环:主循环和嵌套循环，主循环迭代西装，嵌套循环迭代值列表。

我们可以编写更多的嵌套循环，但是如果它变得难以阅读和理解，最好不要。

另一个有理解力的嵌套循环的好例子是创建一个乘法表。下面我们用“数字 1 x 数字 2=数字 1 *数字 2”的格式创建一个列表。其中数字 1 和 2 是从 1 到 9 的数字。

## 真实的例子

我在其中一场[卡格尔](https://www.kaggle.com/)比赛中遇到的最后一个例子。有一张桌子有很多列。其中一些格式为“x < some_number >”。我想得到所有这些列名，以备将来处理。有了列表理解，这很容易。在下一个代码单元中有一个关于这个任务及其解决方案的小例子。

# 结论

在本文中，我们重点讨论了 Python 中的列表理解机制。主要概念是它易于使用和理解。但是，我们需要小心在结构中添加更多的嵌套循环和困难条件——这可能会开始变得混乱。

除了列表理解，Python 还有字典理解和集合理解。它们与列表理解之间的主要区别在于使用了{}括号而不是[]。对于字典，我们需要用值来指定键。