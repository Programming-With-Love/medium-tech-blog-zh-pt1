<html>
<head>
<title>20 PERFORMANCE TIPS FOR MENDIX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MENDIX的20个性能提示</h1>
<blockquote>原文：<a href="https://medium.com/mendix/performance-tips-for-mendix-eaebffbc7669?source=collection_archive---------6-----------------------#2020-11-16">https://medium.com/mendix/performance-tips-for-mendix-eaebffbc7669?source=collection_archive---------6-----------------------#2020-11-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/275ae094be698869de5e2364fe9dbed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRVcZWk9PSe_7qztZiao9w.png"/></div></div></figure><div class=""/><p id="716a" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">几年前的2016年，我为Mendix 写过一篇<a class="ae jz" href="https://www.mansystems.com/blog/mendix/top-10-performance-improvement-tips-for-mendix" rel="noopener ugc nofollow" target="_blank">十大性能提示。该列表包含了Mendix开发人员创建高性能应用程序的技巧，至今仍然有效！在这篇博客中，我会给你另外10个提升你的Mendix应用性能的好建议。</a></p><h1 id="3bb5" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#11.使用工具分析问题</h1><p id="1cfa" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">这样你就可以找到需要修理的地方，而不是在黑暗中工作。也尽量不要过早优化。</p><p id="2401" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">谷歌Chrome开发者工具可以测量页面的加载量，并显示时间是花在许多小查询上还是只是大量数据上。</p><h1 id="2fb7" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated"><strong class="ak"> #12。了解平台细节</strong></h1><p id="e8a8" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">了解运行时设置。通过Mendix支持我了解到Mendix 8有一个运行时选项(DataStorage。UseNewQueryHandler)来生成Mendix 7风格的查询，这样会快很多。这在Mendix 8.15中已经成为默认。</p><p id="3353" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">还要理解xpath，实体访问XPath是如何应用的，继承是如何应用的，以及建模对性能的影响。</p><p id="a77a" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">例如，理解页面加载和listviews中数据视图的使用。有时，它们会向服务器发出大量单独的请求。这使得浏览器和Mendix运行时之间的有线协议非常繁琐，尤其是在低(额)延迟的情况下，这严重降低了性能。</p><h1 id="12b2" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#13.尽量减少往返行程</h1><p id="72b9" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">为了最小化数据库往返，例如在循环外提交，在循环前查询查找列表，并在循环内使用find。</p><p id="c20e" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">为了最小化本地移动设备上的客户端服务器往返，使用具有适当同步的离线数据。</p><p id="17f3" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">在客户端逻辑中使用纳米流，当然动作不做服务器调用。</p><h1 id="4d62" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#14.防止长期交易和/或大额交易</h1><p id="3ea3" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">经验告诉我们，Mendix在大型长时间运行的事务上会变慢。因此，使用community commons模块中可用的特殊java操作来批量提交事务。</p><p id="00dc" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">防止长时间执行事务的另一个原因是，事务中已修改的数据被锁定，以便在数据库中进行进一步的修改，因此您有因锁定而超时的风险。</p><p id="ef99" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">同样好的建议是在微流结束时提交，使锁的持续时间尽可能短。</p><p id="0d65" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">并且总是以相同的顺序提交不同的实体，因此不会出现死锁。</p><h1 id="b087" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#15.应用模型-视图-控制器模式</h1><p id="3571" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">为页面创建一个非持久的实体，只收集显示的数据，尽量减少发送给客户端的数据。当然，您现在需要管理数据，包括安全性，以匹配底层数据模型。</p><p id="250c" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">当然，这个技巧使模型变得更加复杂，但是和往常一样，架构选择需要优化，有时性能超过了可维护性。</p><h1 id="a7e2" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#16.使用异步模式</h1><p id="643f" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">如果用户不必等待结果，则在后台异步执行操作。如果用户确实想得到结果，但仍然需要很长时间才能得到，那么使用一种模式，用户可以看到进度，然后导航离开，再返回来查看进度。</p><h1 id="c1ac" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#17.分离数据</h1><p id="51e4" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">Mendix在使用实体时加载引用和引用集ID。所以使用你自己的键或中间实体创建一个软链接，而不是一个引用集，这样引用就在另一边，只在你需要的时候加载。</p><h1 id="e01a" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#18.预计算数据</h1><p id="d657" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">如果可能的话，当突变的数量很低(足够)时，你可以预先计算数据。</p><p id="9133" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">这有时可以应用于替换计算属性。</p><p id="0a75" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">此外，智能数据模型可以设置为从配置模型中计算出运行时模型，目的是优化和简化查询。</p><h1 id="593e" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#19.使用并行</h1><p id="2fdb" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">如果您需要处理大量数据，并且记录之间没有依赖关系，您可以考虑并行处理数据。这里有一些App store模块可以提供帮助。本质上是创建处理记录的workers和管理workers的池，因为您不希望同时处理所有记录。</p><h1 id="61b4" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">#20.使用高代码可能性</h1><p id="b18f" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">即使在低级代码工具中，有时也需要高级代码扩展，例如对逻辑有更好控制和更快循环的java代码。此外，在某些情况下，使用OQL进行复杂的查询，甚至使用SQL来使用数据库细节或更复杂的查询都会有所帮助。</p><p id="e5e4" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">这被视为最后的手段，因此也是这个附加列表中的最后一个技巧。</p><h1 id="5cee" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">结论</h1><p id="3f2d" class="pw-post-body-paragraph jc jd if bd b je ky jg jh ji kz jk jl jm la jo jp jq lb js jt ju lc jw jx jy hn dt translated">我希望这个列表能帮助你创建更快的应用程序。学习如何解决性能问题和站在其他开发人员的肩膀上的其他资源可以在互联网上找到。</p><p id="8f40" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">例如，搜索“Mendix performance ”,您可以找到:</p><ul class=""><li id="7388" class="ld le if bd b je jf ji jj jm lf jq lg ju lh jy li lj lk ll dt translated"><a class="ae jz" href="https://www.mansystems.com/blog/mendix/top-10-performance-improvement-tips-for-mendix" rel="noopener ugc nofollow" target="_blank">https://www . man systems . com/blog/mendix/top-10-performance-improvement-tips-for-mendix</a></li><li id="37d1" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://www.mansystems.com/blog/how-to-speed-up-your-mendix-app-part-1" rel="noopener ugc nofollow" target="_blank">https://www . man systems . com/blog/how-to-speed-your-mendix-app-part-1</a></li><li id="e296" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://www.mansystems.com/blog/how-to-speed-up-your-mendix-app-part-2" rel="noopener ugc nofollow" target="_blank">https://www . man systems . com/blog/how-to-speed-your-mendix-app-part-2</a></li><li id="40ce" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://www.mansystems.com/blog/how-to-speed-up-your-mendix-app-part-3" rel="noopener ugc nofollow" target="_blank">https://www . man systems . com/blog/how-to-speed-your-mendix-app-part-3</a></li><li id="0b27" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://www.mansystems.com/blog/performance-management/just-in-time-performance-management" rel="noopener ugc nofollow" target="_blank">https://www . man systems . com/blog/performance-management/just-in-time-performance-management</a></li><li id="f8db" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" rel="noopener" href="/mendix/five-tips-for-working-with-large-database-tables-in-mendix-170210f6f6fd">https://medium . com/mendix/five-tips-for-working-with-large-database-tables-in-mendix-170210 F6 F6 FD</a></li><li id="9389" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://docs.mendix.com/howto/general/community-best-practices-for-app-performance" rel="noopener ugc nofollow" target="_blank">https://docs . mendix . com/how to/general/community-best-practices-for-app-performance</a></li><li id="86fb" class="ld le if bd b je lm ji ln jm lo jq lp ju lq jy li lj lk ll dt translated"><a class="ae jz" href="https://docs.mendix.com/howto/monitoring-troubleshooting/detect-and-resolve-performance-issues" rel="noopener ugc nofollow" target="_blank">https://docs . mendix . com/how to/monitoring-trouble shooting/detect-and-resolve-performance-issues</a></li></ul><p id="e20a" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">还有更多…</p><p id="a2e1" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">编码快乐！</p></div><div class="ab cl lr ls hb lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hn ho hp hq hr"><p id="c0b2" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ly">来自发布者- </em></p><p id="43d2" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ly">如果你喜欢这篇文章，你可以在我们的</em> <a class="ae jz" href="https://medium.com/mendix" rel="noopener"> <em class="ly">媒体页面</em> </a> <em class="ly">或我们自己的</em> <a class="ae jz" href="https://developers.mendix.com/community-blog/" rel="noopener ugc nofollow" target="_blank"> <em class="ly">社区博客网站</em> </a> <em class="ly">找到更多类似的内容。</em></p><p id="8c12" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ly">希望入门的创客，可以注册一个</em> <a class="ae jz" href="https://developers.mendix.com/meetups/#meetupsNearYou" rel="noopener ugc nofollow" target="_blank"> <em class="ly">免费账号</em> </a> <em class="ly">，通过我们的</em> <a class="ae jz" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="ly">学苑</em> </a> <em class="ly">获得即时学习权限。</em></p><p id="f56b" class="pw-post-body-paragraph jc jd if bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">有兴趣加入我们的社区吗？你可以加入我们的 <a class="ae jz" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="ly"> slack社区频道</em> </a> <em class="ly">或者那些想要更多参与的人，看看加入我们的</em> <a class="ae jz" href="https://developers.mendix.com/meetups/#meetupsNearYou" rel="noopener ugc nofollow" target="_blank"> <em class="ly">聚会</em> </a> <em class="ly">。</em></p></div></div>    
</body>
</html>