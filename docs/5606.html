<html>
<head>
<title>Lifecycle of OCE React Site</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OCE反应站点的生命周期</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/lifecycle-of-oce-react-site-4c31370dee36?source=collection_archive---------7-----------------------#2019-05-03">https://medium.com/oracledevs/lifecycle-of-oce-react-site-4c31370dee36?source=collection_archive---------7-----------------------#2019-05-03</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/1cf205ecae1bc9533f02807d7771b595.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*D9GPQyUh8Knb5cdOAj2Czg.png"/></div></figure><h1 id="3aa8" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">概观</h1><p id="6fac" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">入门网站CLI是开始React开发Oracle内容和体验(OCE)云的快捷方式。使用Starter Site CLI，可以在React中生成一个起始站点。React站点不同于使用站点生成器构建的站点。React站点是用React编码的，它是一个可独立运行的应用程序。它是根据您的内容资产的模型从头开始生成的。您可以在开发模式下通过迭代开发来使用React站点，其中的内容资产可以在本地提供。然后，您可以在生产模式下运行站点，内容资产来自OCE。</p><p id="8a10" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这篇博客演示了使用Starter Site CLI的安装、开发和生产阶段。下面是我们将要做的事情的概要:</p><p id="79fa" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">安装和设置站点工具包</p><p id="d1d6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">发展:</p><ul class=""><li id="de2c" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">获取内容模板</li><li id="cf59" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">从内容模板创建一个React站点</li><li id="2c9f" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">构建开发站点</li><li id="1864" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">运行开发网站</li><li id="bc9e" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">执行迭代开发</li></ul><p id="4cab" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">生产:</p><ul class=""><li id="e3c1" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">将模板部署到OCE</li><li id="1222" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">更新网站。cec _属性</li><li id="7855" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">建立一个生产站点</li><li id="4b52" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">运行生产站点</li><li id="8052" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">测试生产现场</li></ul><h1 id="80f6" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">安装和设置站点工具包</h1><p id="0eb2" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">Sites工具包可以直接从GitHub获得。前往<a class="ae la" href="https://github.com/oracle/content-and-experience-toolkit" rel="noopener ugc nofollow" target="_blank">https://github.com/oracle/content-and-experience-toolkit</a>点击<strong class="jl hi">克隆下载</strong>。选择<strong class="jl hi">下载ZIP，</strong>和<strong class="jl hi">内容和体验工具包master.zip </strong>将被下载。解压文件content-and-experience-toolkit-master . zip，输入<strong class="jl hi"><em class="lb">CD content-and-experience-toolkit-master/react-starter-site</em></strong><em class="lb"/>进入目录。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/4182b26bb2fb021fa683aae625f4fa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*j4NCETLGZ-MTpXcXJu1nLw.png"/></div></figure><p id="6726" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">要设置启动站点CLI，请继续从<a class="ae la" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/install-starter-site-cli.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hi">的步骤4开始安装启动站点CLI </strong> </a>。安装Starter Site CLI后，您应该能够调用cecss的帮助。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="0300" class="ll im hh lh b fi lm ln l lo lp">content-and-experience-toolkit-master/react-starter-sites$ <strong class="lh hi">cecss -h<br/></strong>Usage: cecss &lt;command&gt; [options]</span><span id="99c3" class="ll im hh lh b fi lq ln l lo lp">Run 'cecss &lt;command&gt; -h' to get the detailed help for the command.</span><span id="78af" class="ll im hh lh b fi lq ln l lo lp">Commands:<br/>  cecss create-site &lt;name&gt;               Creates the Site &lt;name&gt; for the content from local or from CEC server.<br/>  cecss export-server-content &lt;channel&gt;  Create content template based on the channel &lt;channel&gt;, then export and download the archive from CEC server.<br/>  cecss list-server-content-types        List all content types from server.<br/>  cecss list-server-channels             List all channels from server.<br/>  cecss develop                          Start development server. Watches files, rebuilds, and hot reloads if something changes.<br/>  cecss build                            Build a CEC starter site.<br/>  cecss serve                            Serve previously build CEC starter site.</span><span id="d735" class="ll im hh lh b fi lq ln l lo lp">Options:<br/>  --help, -h     Show help                                                                                                                             [boolean]<br/>  --version, -v  Show version number</span></pre><p id="932c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后<a class="ae la" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/do-one-time-gradle-setup.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hi">做一次Gradle设置</strong> </a>来设置gradle.properties</p><p id="2769" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">最后，在用户的主目录下创建一个名为<strong class="jl hi">的新文件。cec_properties </strong> (~/。cec_properties)并输入OCE服务器的值。例如:</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="ae57" class="ll im hh lh b fi lm ln l lo lp">cec_url=<em class="lb">&lt;server-name.example.com&gt;</em><br/>cec_username=<em class="lb">&lt;username&gt;</em><br/>cec_password=<em class="lb">&lt;password&gt;</em><br/>cec_env=pod_ec</span></pre><h1 id="3394" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">开发:获取内容模板</h1><p id="253f" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">内容模板是内容资产(即内容项目和内容类型)的打包。给定发布渠道，可以使用Starter站点CLI从OCE生成内容模板包。除了打包之外，内容模板的目的之一是作为创建React站点的内容模型。其次，当您在开发阶段生成要在本地使用的数据时，内容模板可以作为一个示例。</p><p id="8055" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">对于这个博客，提供了一个示例内容模板，<a class="ae la" href="http://www.oracle.com/webfolder/PublicBlogs/OCE/ReactSiteBlog/coffee_channel_export.zip" rel="noopener ugc nofollow" target="_blank"><strong class="jl hi">coffee _ channel _ export . zip</strong></a>。</p><p id="014a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">但是，如果需要从OCE生成内容模板，可以使用<strong class="jl hi"><em class="lb">cecss export-server-content&lt;channel&gt;</em></strong>命令。例如:</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="2a56" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="lh hi">cecss export-server-content coffee_channel<br/></strong> - validate channel coffee_channel (id: CC2F6DD98FC4D082F349DF0301F6580B16DFDE295DCF)<br/> - get CSRF token<br/> - submit export job<br/> - download export file<br/> - save export to ~/content-and-experience-toolkit-master/react-starter-sites/coffee_channel_export.zip</span></pre><h1 id="a481" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">开发:从内容模板创建一个React站点</h1><p id="8c45" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">可以使用以下命令从内容模板创建React站点:<strong class="jl hi">cecss create-site&lt;site&gt;-c&lt;内容模板&gt; -n &lt;导航内容类型&gt; </strong>。使用以下命令创建了站点CoffeeSite。确保内容模板coffee_channel_export.zip位于content-and-experience-toolkit-master/react-starter-sites目录中。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="bfed" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="lh hi">cecss create-site CoffeeSite -c coffee_channel_export.zip -n coffee_origin,coffee_green_bean</strong><br/> - unzip content template file<br/> - unzip site template<br/> - add content to site<br/> - set up files for site runtime<br/> - create component file ./CoffeeSite/src/coffee_green_bean/coffee_green_bean.js<br/> - create component file ./CoffeeSite/src/coffee_origin/coffee_origin.js<br/> - finish processing js files<br/> *** site created, please run npm install to build</span></pre><h1 id="6a3e" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">开发:构建开发站点</h1><p id="3a6e" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">在开发阶段，可以使用命令npm install构建React站点。转到站点目录CoffeeSite并进行<strong class="jl hi"> npm安装</strong>。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="0171" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="lh hi">cd CoffeeSite</strong><br/>~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">npm install</strong></span><span id="a67e" class="ll im hh lh b fi lq ln l lo lp">&gt; fsevents@1.2.7 install ~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/node_modules/fsevents<br/>&gt; node install</span><span id="9557" class="ll im hh lh b fi lq ln l lo lp">node-pre-gyp WARN Using request for node-pre-gyp https download <br/>[fsevents] Success: "~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64/fse.node" is installed via remote</span><span id="7758" class="ll im hh lh b fi lq ln l lo lp">&gt; puppeteer@1.7.0 install ~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/node_modules/puppeteer<br/>&gt; node install.js</span><span id="390f" class="ll im hh lh b fi lq ln l lo lp">Downloading Chromium r579032 - 80.8 Mb [====================] 100% 0.0s <br/>Chromium downloaded to ~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/node_modules/puppeteer/.local-chromium/mac-579032<br/>npm notice created a lockfile as package-lock.json. You should commit this file.<br/>added 898 packages from 637 contributors and audited 7480 packages in 43.691s<br/>found 0 vulnerabilities</span></pre><p id="9079" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">如果npm有网络问题，请检查您是否在防火墙后面。您可能需要在~/.npmrc中指定代理。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="ba79" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="lh hi">cat ~/.npmrc</strong> <br/>proxy=<em class="lb">&lt;proxy-name.example.com&gt;</em><br/>https-proxy=<em class="lb">&lt;https-proxy-name.example.com&gt;</em><br/>registry=https://registry.npmjs.org</span></pre><h1 id="e468" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">开发:运行开发站点</h1><p id="c84d" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">要在开发模式下运行站点，您可以使用<strong class="jl hi"> cecss develop </strong>。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="6fd4" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">cecss develop</strong><br/>[0] CEC configure file: ~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/.cec_properties<br/>[0] Configured server={"url":"","username":"","password":"","oauthtoken":"","env":"pod_ec","content":"server","contentStatus":"","channelToken":""}<br/>[0] Node env: dev<br/>[0] NodeJS running...:<br/>[0] Site page: http://localhost:8080<br/>[1] Listening at http://localhost:9090<br/>[1] webpack built 3f6d98a12c8f527e007c in 2425ms</span></pre><p id="b363" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">将浏览器指向<a class="ae la" href="http://localhost:9090." rel="noopener ugc nofollow" target="_blank"><strong class="jl hi">http://localhost:9090</strong>。</a></p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/55edf4f788ab52233ec3b3e830dd7a25.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*u5lKlv0AbF3t_2VtqhKtmA.png"/></div></figure><p id="ae40" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">点击中美洲下方的<strong class="jl hi">详细信息</strong>链接。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/f0b6dd7a71ce1d994e3dd6777f817d7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*BgfbxYaAFs4H7NZ1R33Hig.png"/></div></figure><p id="fe19" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">它展示了来自中美洲的咖啡豆。点击<strong class="jl hi">coffee _ green _ bean:Guatemala Finca Rosma</strong>的咖啡绿豆。它显示了咖啡豆的特征。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ie"><img src="../Images/c84fac7a35ec71e78c5b82527cf50d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*_7gBXEV0qViJunqswdslKg.png"/></div></div></figure><p id="d0f8" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">应该注意的是，内容资产在开发阶段是在本地提供的。</p><h1 id="197f" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">开发:执行迭代开发</h1><p id="9d8b" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">下一步是在网站上进行迭代开发。示例修改已经完成，您可以将文件<a class="ae la" href="http://www.oracle.com/webfolder/PublicBlogs/OCE/ReactSiteBlog/coffee_sample_development.zip" rel="noopener ugc nofollow" target="_blank"><strong class="jl hi">coffee _ sample _ development . zip</strong></a>解压缩到<strong class="jl hi"> CoffeeSite </strong>目录。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="2cad" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">unzip coffee_sample_development.zip</strong> <br/>Archive:  coffee_sample_development.zip<br/>replace src/Constants.js? [y]es, [n]o, [A]ll, [N]one, [r]ename: <strong class="lh hi">A</strong><br/>  inflating: src/Constants.js        <br/>  inflating: src/common/ItemMultiValues.js  <br/>  inflating: src/coffee_green_bean/coffee_green_bean.js  <br/>  inflating: src/coffee_origin/coffee_origin.js</span></pre><p id="06a8" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">以下是对修改的高级描述:</p><p id="5e7d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">CoffeeSite/src/Constants.js</p><ul class=""><li id="9ab0" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">将网站名称从“CoffeeSite”更改为“CoffeeBean4You”</li></ul><p id="5915" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">咖啡网站/src/coffee _ origin/coffee _ origin . js</p><ul class=""><li id="e4b1" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">更改coffee_origin类的render()，将“coffee_origin”替换为“Coffee Bean By Origin”</li><li id="3b31" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">更改coffee_originSummary类的render()以移除<hr/></li><li id="239e" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">更改coffee_originSummary类的render()，将硬编码的“Details”替换为coffee_originSummary类的render()的“{item.fields['origin']}”</li><li id="7338" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">更改coffee_originDetail类的render()</li></ul><p id="d7f2" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">coffee site/src/coffee _ green _ bean/coffee _ green _ bean . js</p><ul class=""><li id="a63c" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">更改coffee_green_beanDetail类的render()</li></ul><p id="04d1" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">coffee site/src/common/item multivalues . js</p><ul class=""><li id="cc24" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">更改ItemMultiValues类的render()</li></ul><p id="b9f6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">解压文件后，不反弹服务器，再次将浏览器指向<a class="ae la" href="http://localhost:9090/" rel="noopener ugc nofollow" target="_blank"> http://localhost:9090/ </a>。下面是使用修改示例修改站点后的相同屏幕。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/38d00fc22bd6d575d04319e8e038e1e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*efJU-a0lYBRHefM9jVoPLw.png"/></div></figure><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/2bdcc0016323cbc555a4db1747c88f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*D61O96zOf-5wLdSu5jrgEA.png"/></div></figure><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/608468bbc1865de2e89ed994da6c904f.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*lEDKRwbECW_wg4I22MeTCQ.png"/></div></figure><h1 id="1509" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">生产:将模板部署到OCE</h1><p id="6e39" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">在开发阶段之后，该网站将在生产模式下运行，内容资产由OCE提供。但是我们必须首先将模板中的内容资产放入OCE。不幸的是，实现这一点的唯一方法是导入包含内容资产的站点模板，并基于该模板创建一个站点，以根据发布渠道具体化内容资产。更好的是能够通过使用cecss CLI导入资产的服务器内容。但这计划在未来的OCE版本中实现。</p><p id="35f3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">让我们导入站点模板。模板包是<a class="ae la" href="http://www.oracle.com/webfolder/PublicBlogs/OCE/ReactSiteBlog/coffee_template.zip" rel="noopener ugc nofollow" target="_blank"><strong class="jl hi"><em class="lb">coffee _ template . zip</em></strong></a><strong class="jl hi"><em class="lb">。</em> </strong>上传到OCE。转到<strong class="jl hi">开发者&gt;模板</strong>并导入模板包。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/c71d9e5ea14e647145a983a67f3a42ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*4Uxtc3PgiM097B_gvdpzFA.png"/></div></figure><p id="606e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">您可能会看到一个解决冲突对话框。选择<strong class="jl hi">创建新组件</strong>。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/ecd31eacd21a21f98e9d5c491eaa1668.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*4vNPK5cIhw-RPrbt003LXQ.png"/></div></figure><p id="01bb" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">导入模板后，coffee_template就创建好了。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/be37efc6bb8980a8e611fa2185980314.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*h5AScSmNoIN5wTUajsdTcw.png"/></div></figure><p id="80a2" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在Assets (Administration) &gt; Assets中，创建一个名为<strong class="jl hi"> coffee_repository </strong>的新存储库，以及内容类型<strong class="jl hi"> coffee_origin </strong>和<strong class="jl hi"> coffee_green_bean </strong>。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/02bdabec0f3b26fbe83e39061f65ad0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*OFFn0bWpRYKa3WuKB89kgw.png"/></div></figure><p id="26c7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在站点中，使用<strong class="jl hi"> coffee_template创建一个新站点。</strong>调用站点<strong class="jl hi"> coffee_site </strong>并使用仓库<strong class="jl hi"> coffee_repository </strong>。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/0f2c2f682c45461d5defbe7e4db8ab24.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*V4BHw-DRn7cgD0DblwbXPQ.png"/></div></figure><p id="f16f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">创建站点后，coffee_site应该出现在站点中。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/457cb4e927b01f0108cbce6ea3a387bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*vZp5OpqI-n4om0GqJrkTzA.png"/></div></figure><p id="991c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">转到<strong class="jl hi">资产</strong>并选择<strong class="jl hi">咖啡_仓库</strong>。选择<strong class="jl hi">选择所有</strong>和<strong class="jl hi">发布</strong>所有内容项。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/ca5a5705a35736236942bf59cd87d211.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*PJ_ngpgXdMYLgOmjt198-g.png"/></div></figure><h1 id="f325" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">制作:更新网站。cec _属性</h1><p id="efc5" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">在控制台中，运行<strong class="jl hi"> cecss列表-服务器-频道</strong>。该命令返回通道和令牌的列表。记下您看到的coffee_site的令牌。例如:</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="a7eb" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">cecss list-server-channels</strong><br/> - CEC config: ~/.cec_properties<br/> - Channels:<br/> Name                             Token                             <br/> coffee_site                      <strong class="lh hi">7264753c4ef2f3d11855ed4d499433cb</strong></span></pre><p id="a0ee" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">打开<strong class="jl hi">content-and-experience-toolkit-master/react-starter-sites/coffee site/。编辑器中的cec_properties </strong>文件。像下面一样填充所有字段，包括使用上面的令牌填充<strong class="jl hi"> cec_channel_token </strong>。例如:</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="43e0" class="ll im hh lh b fi lm ln l lo lp">cec_url=<strong class="lh hi"><em class="lb">&lt;server-name.example.com&gt;</em></strong><br/>cec_username=<strong class="lh hi"><em class="lb">&lt;userid&gt;</em></strong><br/>cec_password=<strong class="lh hi"><em class="lb">&lt;password&gt;</em></strong><br/>cec_env=<strong class="lh hi">pod_ec</strong><br/>cec_content=<strong class="lh hi">server</strong><br/>cec_content_status=<br/>cec_channel_token=<strong class="lh hi">7264753c4ef2f3d11855ed4d499433cb</strong></span></pre><h1 id="e68c" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">生产:建立一个生产站点</h1><p id="f3dc" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">要构建生产站点，只需运行<strong class="jl hi"> cecss build </strong>。例如:</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="9428" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">cecss build</strong><br/>Hash: bae365e77aa7881b4418<br/>Version: webpack 4.16.0<br/>Time: 8450ms<br/>Built at: 04/02/2019 1:59:22 PM<br/>      Asset       Size  Chunks                    Chunk Names<br/>  bundle.js    510 KiB       0  [emitted]  [big]  app<br/>favicon.ico   1.12 KiB          [emitted]         <br/> index.html  652 bytes          [emitted]         <br/>Entrypoint app [big] = bundle.js<br/>  [2] (webpack)/buildin/global.js 489 bytes {0} [built]<br/>  [5] ./node_modules/history/esm/history.js + 4 modules 31.3 KiB {0} [built]<br/>      |    5 modules<br/> [10] ./src/Constants.js 383 bytes {0} [built]<br/> [13] ./node_modules/react-redux/es/index.js + 23 modules 43 KiB {0} [built]<br/>      |    24 modules<br/> [16] ./node_modules/react-router/es/index.js + 10 modules 32.2 KiB {0} [built]<br/>      |    11 modules<br/> [21] ./src/common/queryItems.js 3.71 KiB {0} [built]<br/> [62] ./src/assets/app.css 1.05 KiB {0} [built]<br/> [63] ./src/assets/PageNotFound.png 15 KiB {0} [built]<br/> [64] ./src/common/LocaleSwitcher.js 3.84 KiB {0} [built]<br/> [65] ./src/coffee_origin/coffee_origin.js 8.74 KiB {0} [built]<br/> [95] ./src/coffee_green_bean/coffee_green_bean.js 9.17 KiB {0} [built]<br/> [96] ./src/app/App.js 9.43 KiB {0} [built]<br/>[100] ./src/common/queryReducer.js 3.77 KiB {0} [built]<br/>[123] ./src/index.js 1.38 KiB {0} [built]<br/>[124] multi ./src/index.js 28 bytes {0} [built]<br/>    + 111 hidden modules</span><span id="c88f" class="ll im hh lh b fi lq ln l lo lp">WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).<br/>This can impact web performance.<br/>Assets: <br/>  bundle.js (510 KiB)</span><span id="e77c" class="ll im hh lh b fi lq ln l lo lp">WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.<br/>Entrypoints:<br/>  app (510 KiB)<br/>      bundle.js</span><span id="f888" class="ll im hh lh b fi lq ln l lo lp">WARNING in webpack performance recommendations: <br/>You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.<br/>For more info visit https://webpack.js.org/guides/code-splitting/<br/>Child html-webpack-plugin for "index.html":<br/>     1 asset<br/>    Entrypoint undefined = index.html<br/>    [0] (webpack)/buildin/module.js 497 bytes {0} [built]<br/>    [1] (webpack)/buildin/global.js 489 bytes {0} [built]<br/>    [3] ./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 763 bytes {0} [built]<br/>        + 1 hidden module</span></pre><h1 id="09b2" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">生产:运行生产站点</h1><p id="d506" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">要运行生产站点，请执行<strong class="jl hi"> cecss服务</strong>。如果开发站点正在运行，则必须停止，否则生产站点将无法运行。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="9ef9" class="ll im hh lh b fi lm ln l lo lp">~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite$ <strong class="lh hi">cecss serve</strong><br/>CEC configure file: ~/content-and-experience-toolkit-master/react-starter-sites/CoffeeSite/.cec_properties<br/>Configured server={"url":"<em class="lb">&lt;server-name&gt;.example.com:8080</em>","username":"<em class="lb">&lt;username&gt;</em>","password":"<em class="lb">&lt;password&gt;</em>","oauthtoken":"","env":"dev_ec","content":"server","contentStatus":"","channelToken":""}<br/>Node env: production<br/>Logged in to remote server: http://swebcli-oracle.slc07jio.osn.oraclecorp.com:8080<br/>Server is listening on port: 8080<br/>NodeJS running...:<br/>Site page: http://localhost:8080</span></pre><h1 id="f555" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">生产:测试生产现场</h1><p id="5d31" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">生产站点将在<a class="ae la" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>上运行。将您的浏览器指向该URL进行尝试。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/5b6b06acc7b50a9c98075ede80025c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*gte4S7yMFfLaNzoyYQsAzg.png"/></div></figure><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/77432cdf34f48ee0b4f84d531dafa582.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*3bWm2cE82ZNt-UenALik9g.png"/></div></figure><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/9edb8f4cf718cafb7aa5e81ad3fd6055.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*54UfT4FpGpRdmP1CScs24g.png"/></div></figure><p id="e8b3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">入门网站CLI是开始React开发Oracle内容和体验(OCE)云的简单方法。对于React开发人员来说，开发和生产阶段使它变得完整。</p></div></div>    
</body>
</html>