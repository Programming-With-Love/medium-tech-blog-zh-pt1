<html>
<head>
<title>Android Project Structure — alternative way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android项目结构——替代方式</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/android-project-structure-alternative-way-29ce766682f0?source=collection_archive---------0-----------------------#2016-03-24">https://medium.com/google-developer-experts/android-project-structure-alternative-way-29ce766682f0?source=collection_archive---------0-----------------------#2016-03-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="248b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们都知道android项目结构的样子——把所有的图片放在这个文件夹中，所有的布局放在那个文件夹中。但是……在项目开发过程中，文件数量迅速增长，导航和搜索所需文件变得很困难。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a397928b16bab13c63227e3b41ae3018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VbZ-FXtEPpcsCZMdDXof3A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Typical android project structure</figcaption></figure><h1 id="bf35" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">资源文件夹—每个屏幕</h1><p id="f03f" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">如果你的屏幕包含了大量的布局、可绘制性和尺寸，为每个屏幕创建单独的资源文件夹是有意义的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kw"><img src="../Images/04a6a8207bb84d70af772403f0ae169a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qBwnEgU3Mmjwfy9yIM4NiQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Resource folder — per screen android project structure</figcaption></figure><p id="b1bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如你在上面的图片中看到的，我们在<em class="jc">主</em>文件夹中有两个根文件夹:</p><ul class=""><li id="083f" class="kx ky hh ig b ih ii il im ip kz it la ix lb jb lc ld le lf bi translated"><em class="jc"> res-main </em>包含在多个屏幕上使用的所有公共资源。</li><li id="bf40" class="kx ky hh ig b ih lg il lh ip li it lj ix lk jb lc ld le lf bi translated"><em class="jc"> res-screen </em>包含每个屏幕的资源文件夹，例如<em class="jc">关于</em>、<em class="jc">聊天</em>、<em class="jc">事件详情</em>、<em class="jc">事件列表</em>、<em class="jc">主页</em>、<em class="jc">登录</em></li></ul><p id="d8d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们看看<em class="jc">聊天</em>屏幕资源文件夹中有什么。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ll"><img src="../Images/11e5ab77125130f70d0fac3b7245ad72.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*ZF5Qi_OuNPHglNg21RYGaA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Resource folder</figcaption></figure><p id="2c28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">聊天本身由几个<em class="jc"> xml布局</em>文件组成，所以我们创建了<em class="jc">聊天布局</em>文件夹，并将所有这些文件移到这里。它也有很多<em class="jc">。仅在聊天屏幕上使用的png </em>图像，因此我们将所有这些图像文件移动到<em class="jc">聊天drawable-hdpi </em>、<em class="jc"> drawable-xhdpi </em>、<em class="jc"> drawable-xxhdpi </em>和<em class="jc"> drawable-xxxhdpi </em>文件夹中。</p><p id="7270" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当实现<em class="jc">聊天</em>的横向布局或平板版本时，我们将在<em class="jc">聊天</em>屏幕资源文件夹中制作<em class="jc">布局-陆地</em>和<em class="jc">布局-sw720dp </em>文件夹。</p><h1 id="b05b" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">如何声明屏幕资源文件夹？</h1><p id="e67d" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">打开<em class="jc"> app.gradle </em>文件，在<em class="jc"> android </em>部分声明<em class="jc"> sourceSets </em>。更多关于资源合并<a class="ae lm" href="http://tools.android.com/tech-docs/new-build-system/resource-merging" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="093d" class="ls ju hh lo b fi lt lu l lv lw">sourceSets {<br/>    main {<br/>        res.srcDirs = [<br/>                'src/main/res-main',<br/>                'src/main/res-screen/about',<br/>                'src/main/res-screen/chat',<br/>                'src/main/res-screen/event-detail',<br/>                'src/main/res-screen/event-list',<br/>                'src/main/res-screen/home',<br/>                'src/main/res-screen/login',<br/>        ]<br/>    }<br/>}</span></pre><p id="b6e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不用显式声明所有资源文件，您可以编写简单的脚本，将给定文件夹的所有子文件夹添加到<em class="jc"> srcDirs。</em></p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="63ec" class="ls ju hh lo b fi lt lu l lv lw">sourceSets {<br/>    main {<br/>        file('src/main/res-screen')<br/>                .listFiles()<br/>                .each { res.srcDirs += it.path }<br/>    }<br/>}</span></pre><blockquote class="lx ly lz"><p id="20ec" class="ie if jc ig b ih ii ij ik il im in io ma iq ir is mb iu iv iw mc iy iz ja jb ha bi translated"><strong class="ig hi">注意:</strong>以上仅在项目视图中有效</p></blockquote><h1 id="0dba" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="2962" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">如果你有一个大项目，并希望安排你的文件夹，迅速看到哪些布局，可画，价值等。属于哪个屏幕试着使用<em class="jc">资源文件夹——per screen</em>Android项目结构。</p><h1 id="ba7f" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">常见问题解答</h1><p id="e435" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">我有以下错误:“URI没有注册”</p><ul class=""><li id="7e0d" class="kx ky hh ig b ih ii il im ip kz it la ix lb jb lc ld le lf bi translated">在Android Studio / Intellij IDEA中，点击<em class="jc">菜单—文件—无效缓存/重启… </em></li><li id="bd18" class="kx ky hh ig b ih lg il lh ip li it lj ix lk jb lc ld le lf bi translated">等到项目被编入索引</li></ul></div></div>    
</body>
</html>