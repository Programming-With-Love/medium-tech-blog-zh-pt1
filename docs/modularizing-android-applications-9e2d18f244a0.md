# æ¨¡å—åŒ– Android åº”ç”¨

> åŸæ–‡ï¼š<https://medium.com/google-developer-experts/modularizing-android-applications-9e2d18f244a0?source=collection_archive---------0----------------------->

![](img/98ae6c41c3ad7a83e96401a40038c453.png)

æˆ‘ä»¬éƒ½ç»å†è¿‡ã€‚å•æ¨¡å— android åº”ç”¨ç¨‹åºâ€”â€”åœ¨æˆ‘ä»¬ Android å¼€å‘ç”Ÿæ¶¯çš„æŸä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å¯èƒ½å·²ç»æˆ–æ­£åœ¨å¼€å‘ä¸€ä¸ªç”±å•ä¸ªæ¨¡å—ç»„æˆçš„é¡¹ç›®ã€‚ç°åœ¨ï¼Œè¿™ä¸€ç‚¹éƒ½æ²¡æœ‰é”™ï¼Œè€Œä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå•ä¸ªæ¨¡å—æœ€æœ‰å¯èƒ½å®Œæˆè¿™é¡¹å·¥ä½œã€‚

ä½†åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯èƒ½å¢é•¿çš„æƒ…å†µä¸‹ï¼Œæˆ–è€…æˆ‘ä»¬å¯èƒ½å¸Œæœ›åˆ©ç”¨è°·æ­Œçš„æ–°åˆ†å‘åŠŸèƒ½(å³æ—¶åº”ç”¨ç¨‹åºã€åº”ç”¨ç¨‹åºæ†ç»‘åŒ…)ï¼Œæˆ–è€…ç”šè‡³åªæ˜¯åˆ›å»ºä¸€ä¸ªæ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä»¥ä½¿æˆ‘ä»¬çš„é¡¹ç›®æ›´å®¹æ˜“å·¥ä½œâ€”â€”æ¨¡å—åŒ–æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°æ‰€æœ‰è¿™äº›äº‹æƒ…ã€‚å› ä¸º Google çš„ä¸€äº›æ–°å·¥å…·æ˜¯é’ˆå¯¹æ¨¡å—åŒ–çš„åº”ç”¨ç¨‹åºï¼Œè°çŸ¥é“å°†æ¥ä¼šæœ‰ä»€ä¹ˆæ ·çš„åº”ç”¨ç¨‹åºä»¥è¿™ç§æ–¹å¼æ„å»ºã€‚

æœ€è¿‘ï¼Œæˆ‘ä¸€ç›´åœ¨ç©å³æ—¶åº”ç”¨ç¨‹åºå’Œæ–°çš„åº”ç”¨ç¨‹åºåŒ…ï¼Œè¿™æ„å‘³ç€ç°åœ¨æœ‰æ›´å¤šçš„æ–¹æ³•æ¥æ¨¡å—åŒ–æˆ‘ä»¬çš„é¡¹ç›®â€”â€”å¯¹è¿™äº›å¤šäº†è§£ä¸€ç‚¹å¯ä»¥å¸®åŠ©æˆ‘ä»¬çŸ¥é“é…ç½®é¡¹ç›®çš„æ­£ç¡®æ–¹æ³•ã€‚ä¹Ÿè®¸ä½ æƒ³æ¨¡å—åŒ–ä½ çš„åº”ç”¨ç¨‹åºï¼Œæˆ–è€…ä½ æƒ³æ›´æ¸…æ¥šåœ°äº†è§£æˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„é¡¹ç›®åˆ›å»ºçš„ä¸åŒæ¨¡å—ä¹‹é—´çš„å·®å¼‚â€”â€”åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¿«é€Ÿæµè§ˆä¸€ä¸‹æˆ‘ä»¬å¯ä»¥åˆ›å»ºçš„ä¸åŒç±»å‹çš„æ¨¡å—ï¼Œä»¥åŠè¿™äº›æ¨¡å—å¯ä»¥ä¸ºæˆ‘ä»¬çš„ android åº”ç”¨ç¨‹åºåšäº›ä»€ä¹ˆã€‚

# åº”ç”¨æ¨¡å—

æˆ‘ä»¬å°†ä»è¿™é‡Œå¼€å§‹ï¼Œå› ä¸ºå®ƒå¯èƒ½æ˜¯æ‚¨åœ¨èŒä¸šå‘å±•è¿‡ç¨‹ä¸­å·²ç»é‡åˆ°æˆ–ä½¿ç”¨è¿‡çš„æ¨¡å—ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆè¿™æ˜¯æœ€é‡è¦çš„å¼€å§‹ï¼è¿™åŸºæœ¬ä¸Šæ˜¯åº”ç”¨ç¨‹åºçš„ä¸»è¦æ¨¡å—ï¼Œé€šå¸¸ä½äº **app** æ¨¡å—ä¸‹ï¼Œä½¿ç”¨æ¨¡å— build.gradle æ–‡ä»¶ä¸­çš„åº”ç”¨ç¨‹åºæ’ä»¶æ¥è¡¨ç¤º:

```
apply plugin: 'com.android.application'
```

ç°åœ¨ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªå•ä¸€æ¨¡å—çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆè¿™å°†æ˜¯ä½ åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„å”¯ä¸€æ¨¡å—ç±»å‹çš„æ’ä»¶ã€‚åœ¨å•æ¨¡å—é¡¹ç›®ä¸­ï¼Œè¿™ä¸ªåŸºç¡€æ¨¡å—å°†åŒ…å«æ‚¨çš„æ‰€æœ‰åº”ç”¨ç¨‹åºèŒè´£ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç•Œé¢ã€ç½‘ç»œã€ç¼“å­˜ã€æ•°æ®æ“ä½œï¼Œåªè¦æ‚¨æŒ‡å®šï¼Œå®ƒå°±ä¼šå­˜åœ¨ã€‚

![](img/32c6397e334b1db2e818ebdf17f6492d.png)

å¦‚æœæ‚¨æ­£åœ¨æ„å»ºä¸€ä¸ªå¤šæ¨¡å—åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºæ¨¡å—å°†ä»ç„¶æ˜¯å·²å®‰è£…çš„æ¨¡å—ï¼Œä½†æ˜¯è¿™ä¸ª**åº”ç”¨ç¨‹åº**æ¨¡å—çš„æ“ä½œæ–¹å¼å°†æ ¹æ®æ‚¨æ­£åœ¨æ„å»ºçš„å†…å®¹è€Œæœ‰æ‰€ä¸åŒ:

*   å¦‚æœä½ çš„å¤šæ¨¡å—é¡¹ç›®åªæ˜¯å°†ä½ çš„åº”ç”¨ç¨‹åºçš„æ•°æ®èŒè´£æŠ½è±¡åˆ°**æ•°æ®**æ¨¡å—ä¸­ï¼Œé‚£ä¹ˆ**åº”ç”¨ç¨‹åº**æ¨¡å—çš„æ“ä½œæ–¹å¼å°†ä¸ä½ åœ¨å•åº”ç”¨ç¨‹åºæ¨¡å—ä¸­ä½¿ç”¨å®ƒçš„æ–¹å¼ç›¸åŒï¼Œåªæ˜¯å…³æ³¨ç‚¹çš„åˆ†ç¦»æ›´åŠ æ¸…æ™°ã€‚
*   å¦‚æœæ‚¨çš„å¤šæ¨¡å—é¡¹ç›®æ”¯æŒåŠ¨æ€ç‰¹æ€§æ¨¡å—ï¼Œé‚£ä¹ˆè¿™ä¸ªåº”ç”¨ç¨‹åºæ¨¡å—çš„è¡Œä¸ºå°†ä¸å•æ¨¡å—åº”ç”¨ç¨‹åºéå¸¸ç›¸ä¼¼ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œæ¨¡å—éœ€è¦ä¸ºåº”ç”¨ç¨‹åºå®ä¾‹æ”¯æŒçš„åŠ¨æ€ç‰¹æ€§å®šä¹‰æ¨¡å—å¼•ç”¨ã€‚
*   å¦‚æœæ‚¨çš„å¤šæ¨¡å—é¡¹ç›®æ˜¯é’ˆå¯¹å³æ—¶åº”ç”¨ç¨‹åºçš„ï¼Œé‚£ä¹ˆè¿™ä¸ª**åº”ç”¨ç¨‹åº**æ¨¡å—å°†ç®€å•åœ°ç”¨äºå®šä¹‰å³æ—¶åº”ç”¨ç¨‹åºçš„åŠŸèƒ½æ¨¡å—ä¾èµ–å…³ç³»ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ„å»ºå³æ—¶åº”ç”¨ç¨‹åºæ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºæ¨¡å—ä¸åŒ…å«ä»»ä½•åº”ç”¨ç¨‹åºä»£ç ï¼Œå› ä¸ºå®ƒçš„èŒè´£åªæ˜¯ä½¿ç”¨å£°æ˜çš„åŠŸèƒ½æ¨¡å—ã€‚

# æ ¸å¿ƒæ¨¡å—

æœ¬è´¨ä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å—æ¥åˆ†éš”é¡¹ç›®çš„ç›¸å…³åŒºåŸŸï¼Œä»¥ä¾¿å®ƒä»¬ä¸é¡¹ç›®çš„ä¸»æ¨¡å—åˆ†ç¦»ã€‚è¿™äº›æ¨¡å—å¹¶æ²¡æœ‰ä¸€ä¸ªæ–°çš„æœ¯è¯­ï¼Œä½†æˆ‘ä»¬ç§°ä¹‹ä¸º**æ ¸å¿ƒ**æ¨¡å—ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ªåŒæ—¶æ”¯æŒ Android wear å’Œ Android æ‰‹æœºçš„é¡¹ç›®ï¼Œä½ å¯èƒ½æœ‰ä¸€ä¸ªç”¨äº Wear UI å±‚çš„æ¨¡å—ï¼Œæ‰‹æœº UI å±‚åè·Ÿä¸€ä¸ª**æ ¸å¿ƒ**æ¨¡å—ã€‚è¿™ä¸ªæ ¸å¿ƒæ¨¡å—å°†åŒ…å«ä¸¤ä¸ª UI æ¨¡å—ä½¿ç”¨çš„æ‰€æœ‰å…±äº«ä¸šåŠ¡é€»è¾‘ã€æ•°æ®æ“ä½œã€ç¼“å­˜ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨æ­£åœ¨ä¿ƒè¿›ä»£ç é‡ç”¨ï¼Œå› ä¸ºæ‰€æœ‰è¿™äº›æ–¹é¢éƒ½å¯ä»¥åœ¨ä¸¤ä¸ª UI æ¨¡å—ä¹‹é—´å…±äº«ã€‚

![](img/daa7a82b5c46fce6fc11b91caf4a1c31.png)

é‡ç”¨å¹¶ä¸æ˜¯ä½ åˆ›å»ºè¿™ç§æ¨¡å—çš„å”¯ä¸€åŸå› ã€‚åˆ†ç¦»æ ¸å¿ƒé€»è¾‘ä¹Ÿæœ‰åŠ©äºåˆ›å»ºæ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä½¿æ‚¨çš„ä»£ç åœ¨æ•´ä¸ªå›¢é˜Ÿä¸­æ›´å®¹æ˜“ç†è§£ã€æµ‹è¯•å’Œç»´æŠ¤â€”â€”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨è¿˜å¯ä»¥å—ç›Šäºæ„å»ºæ—¶é—´çš„æ”¹è¿›ã€‚

ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰ä¸€ä¸ªå¤§å‹åº”ç”¨ç¨‹åºï¼Œå®ƒæœ‰ä¸€ä¸ªå¤æ‚çš„æ•°æ®å±‚ï¼Œæ—¢ä¸è¿œç¨‹æ•°æ®æºé€šä¿¡ï¼Œåˆä¸ç¼“å­˜æ•°æ®æºé€šä¿¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†è¿™äº›é€»è¾‘éƒ¨åˆ†åˆ†ç¦»åˆ°å®ƒä»¬è‡ªå·±çš„ç‰¹å®šè´£ä»»æ¨¡å—ä¸­ï¼Œå¯ä»¥è®©æ‚¨å®ç°è¿™äº›äº‹æƒ…ã€‚è¿™å¯èƒ½å¯¼è‡´æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªæ•°æ®æ¨¡å—(å¤„ç†æ•°æ®å’Œæ•°æ®æºçš„è·å–)ã€è¿œç¨‹æ¨¡å—(å¤„ç†è¿œç¨‹æ•°æ®æºé€šä¿¡)å’Œç¼“å­˜æ¨¡å—(å¤„ç†æœ¬åœ°æ•°æ®æŒä¹…æ€§)ï¼Œä»¥åŠä¸€ä¸ªè¡¨ç¤ºæ¨¡å—æ¥å¤„ç†åº”ç”¨ç¨‹åºä¸­é¢å‘ç”¨æˆ·çš„éƒ¨åˆ†ã€‚

![](img/fc023c5ab8f135ef99847b0f7544cbf9.png)

å¯¹äºè¿™äº›æ ¸å¿ƒæ¨¡å—åº”è¯¥åŒ…å«å“ªäº›å†…å®¹ï¼Œå¹¶æ²¡æœ‰ä¸¥æ ¼çš„æŒ‡å¯¼åŸåˆ™ã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼Œä¸è¦ä¸ºäº†æŠŠä¸œè¥¿ç§»å…¥æ¨¡å—è€ŒæŠŠå®ƒç§»å‡ºï¼Œä½†æ˜¯å¦‚æœä½ è§‰å¾—è¿™å¯¹ä½ çš„å›¢é˜Ÿæœ‰å¥½å¤„(å°±åƒä¸Šé¢æåˆ°çš„é‚£äº›)ï¼Œé‚£ä¹ˆæŠŠè´£ä»»ç§»å…¥æ¨¡å—å¯ä»¥å¸®åŠ©ä½ å®ç°æ¨¡å—åŒ–çš„ä¸€äº›å¥½å¤„ã€‚

åŒ…å« android æ¡†æ¶å¼•ç”¨çš„æ ¸å¿ƒæ¨¡å—å°†éœ€è¦ä½¿ç”¨åº“æ’ä»¶:

```
apply plugin: 'com.android.library'
```

è€Œå¦ä¸€æ–¹é¢ï¼Œä¸å¼•ç”¨ android æ¡†æ¶çš„æ ¸å¿ƒæ¨¡å—å¯ä»¥ç®€å•åœ°æ˜¯çº¯ kotlin / java æ¨¡å—:

```
apply plugin: 'kotlin'
```

# æŠ½è±¡æ¨¡å—

æ ¸å¿ƒæ¨¡å—å¯èƒ½ç»å¸¸è¢«ç”¨æ¥ç§»åŠ¨å…±äº«é€»è¾‘å—æˆ–ç‹¬ç«‹èŒè´£ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¯èƒ½æƒ³ä»æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­æŠ½è±¡å‡ºä¸€äº›ç¬¬ä¸‰æ–¹èŒè´£ã€‚è¿™é€šå¸¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™æ ·æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°±ä¸ä¼šç´§å¯†è€¦åˆåˆ°æŸä¸ªç‰¹å®šçš„å®ç°â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€é€šè¿‡åº”ç”¨ç¨‹åºå’ŒæŠ½è±¡æ¨¡å—ä¹‹é—´çš„æ¥å£è¿›è¡Œé€šä¿¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨éœ€è¦æ—¶è½»æ¾åœ°å°†å®ç°åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå®ç°ã€‚å› æ­¤ï¼Œå¦‚æœæŸä¸ªåº“è¢«å¼ƒç”¨ï¼ŒæŸä¸ªæœåŠ¡å…³é—­ï¼Œæˆ–è€…å‡ºäºä»»ä½•åŸå› ï¼Œæ‚¨éœ€è¦æ›´æ”¹å®ç°ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨å°½é‡ä¸ä¸­æ–­ä»£ç çš„æƒ…å†µä¸‹è¿™æ ·åšã€‚

![](img/abf57894c4326189a27791d6bb431167.png)

åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ çš„æŠ½è±¡æ¨¡å—è¦ä¹ˆä½¿ç”¨ android åº“æ’ä»¶ï¼Œè¦ä¹ˆå°±æ˜¯æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„çº¯ kotlin / java æ¨¡å—(å–å†³äºåº“çš„ä¾èµ–æ€§)ã€‚

# åŠŸèƒ½æ¨¡å—

é™¤äº†è¿™ç§å°†åç«¯ç›¸å…³ä»»åŠ¡åˆ†å‰²æˆæ ¸å¿ƒæ¨¡å—çš„æ–¹æ³•ï¼Œä½ è¿˜å¯ä»¥å¯¹åº”ç”¨ç¨‹åºä¸­é¢å‘ç”¨æˆ·çš„åŠŸèƒ½è¿›è¡ŒåŒæ ·çš„æ“ä½œâ€”â€”æˆ‘ä»¬ç§°è¿™äº›**åŠŸèƒ½**æ¨¡å—ã€‚è¿™äº›åŠŸèƒ½æ¨¡å—å°†åŒ…å«æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„ç‰¹å®šåŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬å†æ¬¡åˆ†ç¦»ä¸åŒçš„èŒè´£ï¼Œä»¥è·å¾—ä¸æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ç›¸åŒçš„å¥½å¤„ã€‚ç°åœ¨ï¼Œå®šä¹‰å®ƒä»¬çš„æ–¹å¼å°†å–å†³äºæ‚¨æ­£åœ¨æ„å»ºçš„å¤šé¡¹ç›®åº”ç”¨ç¨‹åºçš„ç±»å‹ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸åŒçš„åœºæ™¯:

## æ ‡å‡†åº”ç”¨

åœ¨ä¸ä½¿ç”¨å³æ—¶åº”ç”¨æˆ–åŠ¨æ€äº¤ä»˜çš„â€œæ ‡å‡†â€åº”ç”¨ä¸­ï¼Œæ‚¨å¯èƒ½ä»ç„¶å¸Œæœ›å°†å•ä¸ªåŠŸèƒ½æ‹†åˆ†æˆæ¨¡å—ï¼Œä»¥è·å¾—æ¨¡å—åŒ–çš„ä¸€äº›å¥½å¤„ï¼ŒåŒæ—¶ä¹Ÿä¸ºæ‚¨çš„åº”ç”¨æ²¿ç€å³æ—¶/åŠ¨æ€æ–¹å‘ç§»åŠ¨åšå¥½å‡†å¤‡ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ‚¨åªéœ€å°†ä¸€ä¸ªç‰¹æ€§æ‰“åŒ…åˆ°ä¸€ä¸ª android åº“æ¨¡å—ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºæ¨¡å—ä¸­ã€‚

```
apply plugin: 'com.android.library'
```

![](img/ced5d111aac1165c45f0e32cfeb3c2e1.png)

å¦‚æœæ‚¨ä¸æ”¯æŒå³æ—¶åº”ç”¨ç¨‹åºï¼Œæˆ–è€…è¿˜æ²¡æœ‰å‡†å¤‡å¥½(æˆ–éœ€è¦)æ”¯æŒåŠ¨æ€äº¤ä»˜ï¼Œé‚£ä¹ˆé€šè¿‡åº“æ¨¡å—æ¥å®ç°ä»ç„¶å¯ä»¥å¸®åŠ©æ‚¨åˆ†ç¦»ä»£ç åº“ï¼Œå¹¶å®ç°æ¨¡å—åŒ–çš„å…¶ä»–å¥½å¤„ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ç®€å•åœ°ä½¿ç”¨åº“æ’ä»¶å°†æ¨¡å—å£°æ˜ä¸ºåº“æ¨¡å—ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºä¸€ä¸ªä¾èµ–é¡¹æ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºæ¨¡å—ä¸­ã€‚

## å³æ—¶æ”¯æŒåº”ç”¨ç¨‹åº

å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ”¯æŒå³æ—¶æ’­æ”¾ï¼Œé‚£ä¹ˆæ‚¨å°†éœ€è¦ä¸ºæ‚¨æƒ³è¦çš„åŠŸèƒ½æ¨¡å—ä½¿ç”¨åŠŸèƒ½æ’ä»¶:

```
apply plugin: â€˜com.android.featureâ€™
```

![](img/ca7759f069030f781fa8b2cb36409f8a.png)

æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½éœ€è¦æœ‰ä¸€ä¸ªå¯¹ä½ çš„**åŸºç¡€**æ¨¡å—çš„å¼•ç”¨(åœ¨è¿™ä¸ªå›¾ä¸­ï¼Œæ˜¯**åº”ç”¨**æ¨¡å—)â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŠŸèƒ½æ¨¡å—å°†åªåŒ…å«å®ç°è¯¥åŠŸèƒ½æ‰€éœ€çš„ä»£ç ï¼Œä½ çš„åº”ç”¨æ ¸å¿ƒæ‰€éœ€çš„ä»»ä½•ä»£ç éƒ½å°†ä»åŸºç¡€æ¨¡å—å¼•ç”¨ä¸­è·å¾—ã€‚

## åŠ¨æ€æ”¯æŒåº”ç”¨

è¿™äº›æ¨¡å—å¯ç”¨äºå°†åº”ç”¨çš„ç‰¹å®šåŠŸèƒ½å’Œèµ„æºåˆ†ç¦»åˆ°å®ƒä»¬è‡ªå·±çš„æ¨¡å—ä¸­ï¼Œç„¶åä½œä¸ºæ–°çš„åº”ç”¨æ†ç»‘åŒ…æ ¼å¼çš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸æˆ‘ä»¬åŠ¨æ€åœ°å‘ç”¨æˆ·æä¾›å•ç‹¬çš„åŠŸèƒ½ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å‡å°‘åº”ç”¨ç¨‹åºçš„åˆå§‹å®‰è£…è§„æ¨¡ï¼Œè€Œä¸æ˜¯å…è®¸ç”¨æˆ·åœ¨è¿è¡Œæ—¶æŒ‰éœ€ä¸‹è½½ç‰¹å®šçš„åŠŸèƒ½ã€‚

![](img/68b4cc34a139319215a7893a75a2e834.png)

å°±åƒå³æ—¶åº”ç”¨ç¨‹åºé›†ä¸­çš„åŠŸèƒ½æ¨¡å—ä¸€æ ·ï¼Œè¿™äº›åŠ¨æ€åŠŸèƒ½æ¨¡å—å°†åŒ…å«çº¯åŠŸèƒ½å®ç°ï¼ŒåŒæ—¶ä»ç„¶å¼•ç”¨åº”ç”¨ç¨‹åºçš„åŸºæœ¬æ¨¡å—ã€‚è¿™ä¸ªæ¨¡å—ä¸­å”¯ä¸€çš„åŒºåˆ«æ˜¯å…¶ä¸­åŒ…å«çš„æ¸…å•æ–‡ä»¶æœ‰ä¸€äº›å…³äºè¿™ä¸ªæ¨¡å—åˆ†å‘çš„é™„åŠ ä¿¡æ¯ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢æä¾›çš„æ’ä»¶å°†ä¸€ä¸ªæ¨¡å—å®šä¹‰ä¸ºåŠ¨æ€ç‰¹å¾æ¨¡å—:

```
apply plugin: 'com.android.dynamic-feature'
```

**æ³¨æ„:**æœªæ¥çš„åº”ç”¨æ†ç»‘åŒ…å°†æä¾›å¯¹å³æ—¶åº”ç”¨çš„æ”¯æŒã€‚

# å³æ—¶åº”ç”¨æ¨¡å—

æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œå¦‚æœä½ ç°åœ¨æƒ³è¦æ”¯æŒå³æ—¶åº”ç”¨ï¼Œé‚£ä¹ˆä½ çš„åº”ç”¨éœ€è¦æä¾›ä¸€ä¸ª**å³æ—¶**æ¨¡å—ã€‚

![](img/ca7759f069030f781fa8b2cb36409f8a.png)

è¿™ä¸ªæ¨¡å—çš„å†…å®¹å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯ç©ºçš„â€”â€”è¿™æ˜¯å› ä¸º**å³æ—¶æ¨¡å—**çš„èŒè´£æ˜¯åœ¨è¯·æ±‚æ—¶ç®€å•åœ°æ„å»ºå³æ—¶åº”ç”¨ã€‚å› æ­¤ï¼Œå®ƒçš„å”¯ä¸€ç›®çš„æ˜¯ä½¿ç”¨è¢«ä½œä¸ºä¾èµ–é¡¹å¼•ç”¨çš„åŠŸèƒ½æ¨¡å—ã€‚å®šä¹‰å³æ—¶æ¨¡å—æ—¶ï¼Œæ‚¨éœ€è¦ä½¿ç”¨æ¨¡å— build.gradle æ–‡ä»¶ä¸­çš„å³æ—¶åº”ç”¨æ’ä»¶:

```
apply plugin: â€˜com.android.instantappâ€™
```

æœ¬æ–‡çš„ç›®çš„æ˜¯ç®€è¦æ¦‚è¿° android é¡¹ç›®å¯ç”¨çš„ä¸åŒæ¨¡å—ï¼Œå¹¶ä¸ºå¦‚ä½•åœ¨åº”ç”¨ä¸­å®ç°æ¨¡å—åŒ–åŸ‹ä¸‹ä¼ç¬”ã€‚å¦‚æœæ‚¨å¯¹æ¨¡å—åŒ–æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·è”ç³»æˆ‘ä»¬ğŸ™‚

[](https://twitter.com/hitherejoe) [## ä¹”Â·ä¼¯å¥‡(@hitherejoe) |æ¨ç‰¹

### ä¹”ä¼¯å¥‡çš„æœ€æ–°æ¨æ–‡(@hitherejoe)ã€‚Android ä¸»ç®¡å’Œé«˜çº§å·¥ç¨‹å¸ˆã€‚@ç¼“å†²ã€‚è°·æ­Œå¼€å‘ä¸“å®¶â€¦

twitter.com](https://twitter.com/hitherejoe) [![](img/e8dd46ab2c119165e7a212299a73013e.png)](http://eepurl.com/dIKgiT)

> æ„Ÿè°¢[å”æ©Â·è´¹å°”å…‹](https://medium.com/u/e75f3da9f41a?source=post_page-----9e2d18f244a0--------------------------------) & [å®‰å¦®ä¸Â·æˆ´ç»´æ–¯](https://medium.com/u/9f96e9614042?source=post_page-----9e2d18f244a0--------------------------------)å¯¹è¿™ç¯‡æ–‡ç« çš„æ ¡å¯¹ğŸ™ŒğŸ»