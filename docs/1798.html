<html>
<head>
<title>Ah, So That’s What’s in My Wallet!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">啊，原来这就是我钱包里的东西！</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/ah-so-thats-what-s-in-my-wallet-63e11fc02c4c?source=collection_archive---------3-----------------------#2021-06-14">https://medium.com/capital-one-tech/ah-so-thats-what-s-in-my-wallet-63e11fc02c4c?source=collection_archive---------3-----------------------#2021-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="de29" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">软件工程师对EMV芯片技术的分析</h2></div><h2 id="ff0b" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">由Sahana Arya和Alana Alfeche创作</h2><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/edac44301ba073d76f3125c7b7728f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fNX6bJzYMGN_g75b.jpg"/></div></div></figure><p id="1faf" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">信用卡是Capital One的主要实物产品，整个公司的团队都致力于支持这一产品，无论是以产品开发、软件工程、设计等形式。例如，Alana是一名数据工程师，负责为外部合作伙伴开发奖励应用程序，而Sahana则致力于支持数据科学家开发机器学习模型，用于从信用卡客户来电中获取洞察力。像Capital One的许多其他人一样，我们知道需要做些什么来支持信用卡计划，但我们很好奇实体信用卡实际上是如何工作的！</p><p id="fbac" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">我们的好奇心驱使我们更深入地挖掘和了解这项技术。我们对我们所了解的物理信用卡技术非常着迷，并认为其他软件工程师也会对学习同样的技术感兴趣。</p><p id="0ff8" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">我们汇编了我们对EMV芯片信用卡的所有研究，并在公司最大的内部软件工程会议(SECON)上与我们的Capital One同事分享。我们很兴奋地看到全公司的软件工程师都从我们的演讲中学习，我们的演讲将EMV的技术概念分解成易于理解的组件。今天，我们的EMV技术介绍视频仍然是所有SECON 2020视频中观看次数最多、获得最多支持的视频。</p><p id="d213" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">现在，通过这篇博文，我们想更进一步，与软件工程社区的其他人分享这些概念。</p><h1 id="75ac" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">EMV信用卡技术介绍</h1><p id="5300" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated"><strong class="ki hi"><em class="lp">TL；DR —您的钱包内有一台迷你电脑，运行迷你应用程序，在销售点安全地处理交易。</em> </strong></p><p id="8f42" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">EMV代表欧洲支付、万事达卡和维萨卡。这三个国际支付系统于1999年<a class="ae lq" href="https://www.emvco.com/about/overview/" rel="noopener ugc nofollow" target="_blank"/>合并成立了名为EMVCo的有限责任公司。EMVCo负责管理EMV芯片规范，并支持测试流程，帮助基于卡的支付产品在全球范围内无缝、安全地协同工作。</p><p id="7b7e" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">EMV卡包含一个嵌入的芯片，这是一个完全运行的计算机系统。它具有存储器，并且当在销售点由终端供电时可以执行小的功能。在<a class="ae lq" href="https://en.wikipedia.org/wiki/Magnetic_stripe_card" rel="noopener ugc nofollow" target="_blank">磁条卡</a>中，磁条卡只是一个数据存储器，终端执行所有必要的处理，而在EMV交易中，芯片处理信息并应用发行银行在芯片卡中定义的规则。</p><p id="f5d3" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">当您的卡在芯片激活终端时，它:</p><ul class=""><li id="8817" class="lr ls hh ki b kj kk km kn jh lt jl lu jp lv ky lw lx ly lz bi translated">生成仅供一次性使用的一次性代码。</li><li id="d736" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">如果首选验证不可用，提供备用持卡人验证方法。例如，它允许持卡人在不支持PIN的终端上签名完成交易。</li><li id="5baa" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">确定交易是否必须联机以获得额外授权。</li></ul><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es mf"><img src="../Images/4e31f7dff5db3ff0b25e4a2381fd44e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7gtSg1qK2yKNkNyq4uhFeQ.png"/></div></div></figure><h1 id="392f" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">磁条技术—它是如何工作的？</h1><p id="d8c7" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated">在我们深入研究EMV芯片技术之前，让我们先谈谈磁条技术。磁条是EMV芯片的前身，因此了解它们的工作原理以及与这些卡相关的一些安全问题是有帮助的，这些问题后来被EMV芯片解决了。</p><p id="8522" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">磁条包含识别卡用户的数据，这些信息嵌入在塑料薄膜的铁颗粒中。铁颗粒具有磁性，当刷卡时，电子阅读器会处理磁场，并将其与用户的账户信息进行匹配。</p><p id="e2ef" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">条带本身包含三个水平堆叠的磁道，每个磁道可以保存不同数量和类型的数据(如下图所示)。通常，信用卡使用前两个磁道来获取信息，如帐号、持卡人姓名、到期日期等。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es mg"><img src="../Images/e51874564d4a3af9dbc81584eaff79a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EgPOwmROb4fxS9IZfjU2tw.png"/></div></div></figure><h1 id="bf0b" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">磁条技术与安全性</h1><p id="c2b2" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated">因为磁条上的数据是静态的，所以比EMV芯片更容易从卡上“提取”信息。您可能听说过欺诈者使用称为“skimmers”的设备，这种设备能够略读和复制磁条上的数据，以创建重复的信用卡或访问用户的在线帐户。</p><p id="c4e9" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">还有，磁条卡没有加密。该卡只是一个数据存储器，由支付终端按原样读取。在终端读取卡之后，终端与发卡行和/或支付系统合作执行所有的处理，并且卡不再参与其余的处理。</p><h1 id="6f5e" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">EMV芯片技术与安全</h1><p id="1bf8" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated">现在我们已经讨论了一些与磁条卡相关的安全问题，让我们来谈谈EMV芯片如何解决这些问题。</p><p id="6a3a" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">在EMV芯片中，对物理芯片组件的访问和操作是一项复杂的任务，需要昂贵的高科技设备。与磁条上的静态数据不同，EMV芯片上的数据是不断变化的，这使得很难分离和提取。此外，EMV芯片具有内置加密的优势。当芯片卡被蘸取时，它与终端建立加密连接，以执行写在芯片上的交易规则。然后，卡和终端共同决定交易的结果。</p><h1 id="e476" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">EMV芯片是如何工作的？</h1><p id="49da" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated">想象一下，你在最近的杂货店排队结账。您的收银员扫描完您的所有商品后，会询问您是用现金还是信用卡付款。你选择了一张卡，终端灯亮了，并显示插入你的信用卡的指令。你将卡的金属芯片朝上，将芯片插入终端。几秒钟内，付款被批准！</p><p id="9979" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">但是在这几秒钟内到底发生了什么呢？下面是销售点交易过程中发生的步骤:</p><h2 id="e3f3" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">1.终端+ EMV芯片应用选择</h2><ul class=""><li id="db4a" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">终端有一个它配置支持的所有EMV应用程序的列表。</li><li id="9abe" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">终端和芯片“同意”一个共同的应用程序，这样卡就可以为交易提供正确的数据记录。在某些情况下，如果有多个支持的应用程序，持卡人可能必须选择一个应用程序。</li></ul><h2 id="0700" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">2.读取应用程序数据</h2><ul class=""><li id="3bfc" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">终端从卡中读取应用程序数据记录，包括PAN、到期日期和用于交易处理的其他信息。</li></ul><h2 id="9b4e" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">3.数据认证</h2><ul class=""><li id="05c3" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">仅在线的终端不需要支持离线数据认证。通过这些终端，交易总是被在线发送给发行方进行验证。</li><li id="46d6" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">所有其他终端根据卡和终端的功能执行三种离线数据验证方法之一(见下表):</li></ul><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es mk"><img src="../Images/c3c13ea9930d2b20c489cd6a943ab8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2n8a0qO6hxnwBOU7DR0kkQ.png"/></div></div></figure><h2 id="fce2" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">4.处理限制</h2><ul class=""><li id="a0a6" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">检查以确认芯片被允许进行所请求的交易。</li><li id="62ca" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">验证芯片和终端之间的应用兼容性。</li></ul><h2 id="60d7" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">5.持卡人验证方法</h2><ul class=""><li id="60f8" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">签名</li><li id="288c" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">在线PIN</li><li id="d9d0" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">离线加密PIN</li><li id="caeb" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">脱机明文PIN</li><li id="460d" class="lr ls hh ki b kj ma km mb jh mc jl md jp me ky lw lx ly lz bi translated">不需要持卡人验证方法(CVM)</li></ul><h2 id="cfb3" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">6.终端风险管理</h2><ul class=""><li id="9f55" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">终端执行若干检查，例如下限，以确定交易是否需要在线处理。</li></ul><h2 id="a40c" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">7.终端动作分析</h2><ul class=""><li id="0afb" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">基于前面的步骤，终端然后请求离线批准、离线拒绝或进一步在线处理的结果。</li></ul><h2 id="e970" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">8.卡片动作分析</h2><ul class=""><li id="2038" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">基于发卡方定义的规则和限制，芯片将响应离线批准、离线拒绝或进一步在线处理的结果。</li></ul><h2 id="76c1" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">9.在线处理和发行者认证</h2><ul class=""><li id="c508" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">如果芯片请求进一步的在线处理，终端向发行者发送授权和在线卡认证的请求。</li></ul><h2 id="d694" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">10.交易完成</h2><ul class=""><li id="8ac0" class="lr ls hh ki b kj lk km ll jh mh jl mi jp mj ky lw lx ly lz bi translated">最后，交易完成，卡被移除。</li></ul><h1 id="41fe" class="kz ix hh bd iy la lb lc jc ld le lf jg in lg io jk iq lh ir jo it li iu js lj bi translated">EMV芯片技术毕竟没有那么复杂！</h1><p id="e3ba" class="pw-post-body-paragraph kg kh hh ki b kj lk ii kl km ll il ko jh lm kq kr jl ln kt ku jp lo kw kx ky ha bi translated">当我们开始了解EMV技术时，我们被这项技术复杂而优雅的设计深深吸引。诚然，这些概念起初对我们来说很难理解，但随着我们继续研究并就此技术咨询内部主题专家，我们能够将这些概念分解为易于理解的组件，从而巩固我们对Capital One主要产品的理解。我们希望这次EMV芯片技术的分解有助于我们深入了解推动今天全球80.1%的信用卡交易的迷人技术！</p><p id="b0a6" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated">【标题图片】是一张 <a class="ae lq" href="https://www.freepik.com/photos/background" rel="noopener ugc nofollow" target="_blank"> <em class="lp">背景图片</em> </a> <em class="lp">由</em><a class="ae lq" href="https://www.freepik.com/jcomp" rel="noopener ugc nofollow" target="_blank"><em class="lp">jcomp</em></a><em class="lp">——</em><a class="ae lq" href="http://www.freepik.com" rel="noopener ugc nofollow" target="_blank"><em class="lp">www.freepik.com</em></a></p></div><div class="ab cl ml mm go mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ha hb hc hd he"><p id="f2cf" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated"><em class="lp">披露声明:2021资本一。观点是作者个人的观点。除非本帖中另有说明，否则Capital One不隶属于所提及的任何公司，也不被这些公司认可。使用或展示的所有商标和其他知识产权是其各自所有者的财产。</em></p><p id="c8ce" class="pw-post-body-paragraph kg kh hh ki b kj kk ii kl km kn il ko jh kp kq kr jl ks kt ku jp kv kw kx ky ha bi translated"><em class="lp">原载于</em><a class="ae lq" href="https://www.capitalone.com/tech/software-engineering/how-emv-chips-in-credit-cards-work/" rel="noopener ugc nofollow" target="_blank"><em class="lp">https://www.capitalone.com</em></a><em class="lp">。</em></p></div></div>    
</body>
</html>