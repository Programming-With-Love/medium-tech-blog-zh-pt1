<html>
<head>
<title>Java Train #1 — JDK9 — Modularization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java系列1 — JDK9 —模块化</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/java-train-1-jdk9-modularization-88174cd5bf95?source=collection_archive---------2-----------------------#2020-01-15">https://medium.com/oracledevs/java-train-1-jdk9-modularization-88174cd5bf95?source=collection_archive---------2-----------------------#2020-01-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/9b9bb5bb6b030e2baa28a4de53feffdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQ3AZD5v7WbnGtuav6wqmA.jpeg"/></div></div></figure><p id="6efa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如这里宣布的<a class="ae jn" rel="noopener" href="/@eldermoraes/i-want-to-catch-the-java-train-bb2556480465"/>，我现在正在做这个系列，其中将涵盖每个JDK版本的主要特性。所以…让我们开始吧！这是我们旅程的第一段。</p><h1 id="7ec8" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">JDK 9</h1><p id="c39a" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">一些Java版本是特殊的。我几乎可以肯定，你会同意JDK 9号是其中之一。如果我问你“为什么”，你可能会回答:</p><ul class=""><li id="82bb" class="kr ks hh ir b is it iw ix ja kt je ku ji kv jm kw kx ky kz bi translated">模块系统，或项目拼图</li><li id="e733" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">它花了3.5年才变得可用(从版本8开始)</li></ul><p id="5616" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你(大部分)是对的！但是……就这些？Java上的模块化快4年了？</p><p id="d916" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当然不是。这个发布是巨大的！OpenJDK 9的<a class="ae jn" href="https://openjdk.java.net/projects/jdk9/" rel="noopener ugc nofollow" target="_blank">发布页面</a>上正好提到了91个特性。</p><p id="8804" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以……我们来深究一下这个版本。当然这91个特点我就不一一细说了。我在这里的重点是帮助你改进你的代码、项目和职业。因此，我将涵盖/提及直接影响这三个领域之一(或全部)的特性。</p><p id="f05d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这篇文章中，我将介绍Java平台的模块化。</p><h1 id="bc15" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">拼图项目</h1><p id="28db" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">好吧，我不能不提到拼图游戏就谈论JDK 9。但是因为它已经被广泛地研究过了，所以我会给你一些特别的亮点。</p><p id="e631" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">竖锯计划由许多jep组成:</p><ul class=""><li id="b1c9" class="kr ks hh ir b is it iw ix ja kt je ku ji kv jm kw kx ky kz bi translated">200:模块化JDK</li><li id="d2b0" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">201:模块化源代码</li><li id="dde4" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">220:模块化运行时映像</li><li id="347a" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">253:为模块化准备JavaFX UI控件和CSS APIs</li><li id="be2d" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">261:模块系统</li><li id="82f2" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">275:模块化Java应用程序打包</li></ul><p id="79cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过查看这些jep，你会注意到一件事，JDK本身现在是模块化的。这不仅仅是代码/包装组织的问题。这是一个重要的注意事项，因为它应该促使您改变对Java平台的看法。</p><p id="9765" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">模块化系统在<a class="ae jn" href="https://openjdk.java.net/projects/jigsaw/spec/" rel="noopener ugc nofollow" target="_blank"> JSR 376 </a>下指定并受到影响:</p><ul class=""><li id="b576" class="kr ks hh ir b is it iw ix ja kt je ku ji kv jm kw kx ky kz bi translated">Java语言规范</li><li id="088b" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">Java虚拟机规范</li><li id="743d" class="kr ks hh ir b is la iw lb ja lc je ld ji le jm kw kx ky kz bi translated">美国石油学会技术规格</li></ul><p id="9f4f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以让我们看一个简单的例子，看看如何创建你的第一个模块。</p><h1 id="49d4" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">咖啡应用</h1><p id="26db" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">使用模块时，路径非常重要。所以，在我们开始之前，创建这个结构:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/d45a9a883b3a8219326bbc6db3216c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*gV9DVAodnY76sbqy"/></div></figure><p id="f40c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将为您节省大量时间，并防止出现问题。</p><p id="90d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们编辑src/coffee . module/coffee/module/coffee . Java文件:</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="0460" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后像这样编辑src/coffee . module/module-info . Java:</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="95a3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们给咖啡店编码。编辑src/coffee . shop/coffee/shop/coffee shop . Java:</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="a33d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后是这个模块的module-info.java(在src/coffee . shop/module-info . Java下):</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lk ll l"/></div></figure><p id="3386" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，在与src文件夹相同的级别中，创建以下文件夹结构:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es lm"><img src="../Images/d2cf8f6f0d07c29e6f8943cda32922e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/0*2o6EAOLOZB0jCYE0"/></div></figure><p id="c77f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您的最终树必须是这样的:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/f944b53952a700a60e4a6961b4714344.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/0*9N8hBkBwZmiAdcAW"/></div></figure><p id="ed56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果不是，就回去修！</p><p id="ea52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您已经准备好编译和运行您的Coffee应用程序了。严格按照这个顺序运行下面的命令。</p><p id="8d95" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">首先，我们编译我们的咖啡模块:</p><pre class="lg lh li lj fd lo lp lq lr aw ls bi"><span id="3a07" class="lt jp hh lp b fi lu lv l lw lx">javac -d mods/coffee.module src/coffee.module/module-info.java src/coffee.module/coffee/module/Coffee.java</span></pre><p id="0b2d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后我们编译CoffeShope模块，注意对Coffe模块的引用:</p><pre class="lg lh li lj fd lo lp lq lr aw ls bi"><span id="326e" class="lt jp hh lp b fi lu lv l lw lx">javac --module-path mods -d mods/coffee.shop src/coffee.shop/module-info.java src/coffee.shop/coffee/shop/CoffeeShop.java</span></pre><p id="bbd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">模块路径模块告诉编译器在哪里可以找到编译这个模块所需的模块。</p><p id="c918" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在是时候点一杯咖啡了！</p><pre class="lg lh li lj fd lo lp lq lr aw ls bi"><span id="0c2d" class="lt jp hh lp b fi lu lv l lw lx">java --module-path mods -m coffee.shop/coffee.shop.CoffeeShop</span></pre><p id="8028" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果您收到消息“享受您的[CoffeeType]”，那么您的模块工作成功！</p><p id="6822" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以在这里查看这个例子的完整源代码:<a class="ae jn" href="https://github.com/eldermoraes/javatrain/tree/master/01" rel="noopener ugc nofollow" target="_blank">https://github.com/eldermoraes/javatrain/tree/master/01</a></p><p id="47ea" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">不要忘记留下你的问题和/或其他评论。下次见！</p></div></div>    
</body>
</html>