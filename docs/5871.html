<html>
<head>
<title>Getting Started With Ruby (and Ruby on Rails) on OCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨OCIä¸Šå¼€å§‹ä½¿ç”¨Ruby(å’ŒRuby on Rails)</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/oracledevs/getting-started-with-ruby-and-ruby-on-rails-on-oci-3ce2d4c65833?source=collection_archive---------0-----------------------#2022-01-28">https://medium.com/oracledevs/getting-started-with-ruby-and-ruby-on-rails-on-oci-3ce2d4c65833?source=collection_archive---------0-----------------------#2022-01-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/7263752a669a6b79efb00b89b7fa95df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ePLJeRgqrw3qZ-GwbevVw.jpeg"/></div></div></figure><p id="a627" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">ç…§ç‰‡ç”±</em> <a class="ae jo" href="https://www.pexels.com/@divinetechygirl?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <em class="jn">å…‹é‡Œæ–¯è’‚å¨œÂ·è«é‡Œæ´›</em> </a> <em class="jn">å‘è‡ª</em> <a class="ae jo" href="https://www.pexels.com/photo/black-and-gray-laptop-computer-turned-on-doing-computer-codes-1181271/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <em class="jn"> Pexels </em> </a></p><p id="972e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æˆ‘å–œæ¬¢çº¢å®çŸ³ã€‚æˆ‘å¾ˆé«˜å…´åœ¨å„ç§åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œå¹¶ä¸”éå¸¸å–œæ¬¢å®ƒçš„é€‚åº”æ€§ã€‚å®ƒé¢å‘å¯¹è±¡çš„ä¼˜ç‚¹éå¸¸æ£’â€”â€”èƒ½å¤Ÿåœ¨æˆ‘éœ€è¦çš„æ—¶å€™å¿«é€Ÿè½»æ¾åœ°å¯¹æˆ‘éœ€è¦çš„åŠŸèƒ½è¿›è¡ŒçŒ´å­å¼ä¿®è¡¥ï¼Œè¿™æ—¢æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œä¹Ÿæ˜¯ä¸€ä»¶åäº‹ã€‚å¤§é‡çš„çµæ´»æ€§(æœ‰äº›äººâ€”â€”ä¸æ˜¯æˆ‘â€”â€”å¯èƒ½ä¼šäº‰è®ºå¤ªå¤š)å¯èƒ½ä¼šé˜»æ­¢ä¸€äº›æ½œåœ¨çš„é‡‡ç”¨è€…ï¼Œä½†å¯¹æˆ‘ä»¬å…¶ä»–äººæ¥è¯´ï¼Œè¿™å¾ˆå¥½ã€‚</p><p id="10c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ä¹Ÿå°±æ˜¯è¯´ï¼ŒRubyä¸åƒä»¥å‰é‚£æ ·å—æ¬¢è¿äº†ã€‚Pythonçš„å‡ºç°æŠ¢å°½äº†é£å¤´(è‡³å°‘å°±é«˜çº§è¿è¡Œæ—¶è¯­è¨€è€Œè¨€)ã€‚ç‰¹åˆ«æ˜¯åœ¨Python 3ä¸­åŒ…å«äº†é¢å‘å¯¹è±¡çš„æ”¯æŒï¼ŒPythonæ˜¯ä¸€ç§å¾ˆå¥½çš„è¯­è¨€ã€‚ä¸ç®¡æ€æ ·ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢éœ²æ¯”ã€‚éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œæˆ‘å¹¶ä¸æ˜¯ä¸€ä¸ªåªä¼šä¸€æ‹›çš„å°é©¬â€”â€”æˆ‘ç”¨Cã€C++ã€ASMã€PHPã€Pythonå’Œè®¸å¤šå…¶ä»–è¯­è¨€è¿›è¡Œè¿‡ç¼–ç¨‹ã€‚å°½ç®¡å¦‚æ­¤ï¼Œé²æ¯”åœ¨æˆ‘å¿ƒä¸­å æœ‰ç‰¹æ®Šçš„ä½ç½®ã€‚</p><p id="1f0e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è¿™ç¯‡æ–‡ç« è¯ç”Ÿäºå¸®åŠ©åœ¨OCIä¸Šä½¿ç”¨Rubyå˜å¾—æ›´å®¹æ˜“çš„æ„¿æœ›ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸åŸºæœ¬çš„è¯é¢˜ï¼Œæœ‰äº›ç”¨æˆ·å¯èƒ½ä¸éœ€è¦/ä¸æƒ³è¦ï¼Œä½†æˆ‘ä»¬ä¸­çš„è®¸å¤šäººå¯èƒ½ä¼šæ‰¾åˆ°æœ‰ç”¨çš„å‚è€ƒã€‚äº‹ä¸å®œè¿Ÿï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£å¦‚ä½•ä¸ºRuby(å’ŒRuby on Rails)å¼•å¯¼ä¸€ä¸ªOCIå®ä¾‹ã€‚</p><h1 id="c308" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">å—¯â€¦â€¦è¿™å¾ˆç®€å•ã€‚ä¸ºä»€ä¹ˆæ˜¯è¿™ç¯‡æ–‡ç« ï¼Ÿ</h1><p id="d3ca" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">æ˜¯å•Šï¼Œæˆ‘çŸ¥é“ã€‚è¿™æ˜¯æˆ‘æœ€åˆçš„ååº”ã€‚æœ‰å‡ ä¸ªå˜é‡ä½¿å¾—è¿™ä¸ªç‰¹å®šçš„åœºæ™¯æ¯”æˆ‘æœ€åˆçš„ååº”ç¨å¾®ä¸é‚£ä¹ˆç®€å•:</p><p id="edab" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">aarch64</p><p id="3867" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jo" href="https://github.com/rbenv/rbenv" rel="noopener ugc nofollow" target="_blank"> rbenv </a></p><p id="4330" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">aarch64æ¶æ„ä¸åº”è¯¥æ˜¯ä¸€ä¸ªæƒŠå¤©åŠ¨åœ°çš„å¹³å°ã€‚æ¯•ç«Ÿï¼Œå•æ˜¯è¿‡å¤šçš„Raspberry Pi(å’Œå…¶ä»–åµŒå…¥å¼/ç‰©è”ç½‘)è®¾å¤‡(æ›´ä¸ç”¨è¯´ä¼ä¸šä¸­åŸºäºRISCçš„å¹³å°çš„å¤å…´)å°±æ„å‘³ç€aarch64ä¸å†æ˜¯å‡ å¹´å‰çš„é™Œç”Ÿé‚»å±…äº†ã€‚é—æ†¾çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å¼€å‘äººå‘˜éƒ½è·Ÿä¸Šäº†æ—¶ä»£çš„æ­¥ä¼ï¼Œæ‰€ä»¥å¶å°”ä¼šæœ‰ä¸€äº›åº“å’Œ/æˆ–å·¥å…·åœ¨aarch64ä¸Šä¸èƒ½æ­£å¸¸å·¥ä½œã€‚è¿™å°†ä¼šæ”¹å˜ã€‚è¿™æ˜¯å¿…ç„¶çš„ã€‚æ—¶é—´å’ŒæŠ€æœ¯æ— æƒ…åœ°å‘å‰è¿ˆè¿›ï¼Œæ‰€ä»¥è¿™åªæ˜¯æ—¶é—´é—®é¢˜ã€‚æ— è®ºå¦‚ä½•ï¼Œæˆ‘å¯¹æ­¤æ„Ÿåˆ°éå¸¸å…´å¥‹ï¼Œå¹¶å°½æˆ‘æ‰€èƒ½åœ¨æˆ‘çš„è§£å†³æ–¹æ¡ˆä¸­å°½å¯èƒ½åœ°å¤šè¯­ç§åŒ–(åˆ©ç”¨AMD64å’Œaarch64 ),é€šå¸¸é»˜è®¤ä¸ºaarch64ã€‚</p><p id="928b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jo" href="https://github.com/rbenv/rbenv" rel="noopener ugc nofollow" target="_blank"> rbenv </a>ç¡®å®æ˜¯è¿™é‡Œæœ€å¤§çš„å› ç´ ä¹‹ä¸€ï¼Œå› ä¸ºRubyå¯ä»¥é€šè¿‡<em class="jn"> dnf install ruby </em>è·å¾—:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="c601" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ dnf info ruby<br/>Oracle Linux 8 BaseOS Latest (aarch64)                                                   77 kB/s | 3.6 kB     00:00<br/>Oracle Linux 8 BaseOS Latest (aarch64)                                                   44 MB/s |  38 MB     00:00<br/>Oracle Linux 8 Application Stream (aarch64)                                             103 kB/s | 3.9 kB     00:00<br/>Oracle Linux 8 Application Stream (aarch64)                                              46 MB/s |  27 MB     00:00<br/>Oracle Linux 8 Addons (aarch64)                                                          69 kB/s | 3.0 kB     00:00<br/>Available Packages<br/>Name         : ruby<br/>Version      : 2.5.9<br/>Release      : 107.module+el8.4.0+20203+c00aa653<br/>Architecture : aarch64<br/>Size         : 87 k<br/>Source       : ruby-2.5.9-107.module+el8.4.0+20203+c00aa653.src.rpm<br/>Repository   : ol8_appstream<br/>Summary      : An interpreter of object-oriented scripting language<br/>URL          : <a class="ae jo" href="http://ruby-lang.org/" rel="noopener ugc nofollow" target="_blank">http://ruby-lang.org/</a><br/>License      : (Ruby or BSD) and Public Domain and MIT and CC0 and zlib and UCD<br/>Description  : Ruby is the interpreted scripting language for quick and easy<br/>             : object-oriented programming.  It has many features to process text<br/>             : files and to do system management tasks (as in Perl).  It is simple,<br/>             : straight-forward, and extensible.</span><span id="621a" class="lb jq hh kx b fi lg ld l le lf">[opc@ruby ~]$</span></pre><p id="af54" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¤§å¤šæ•°ä¸¥è‚ƒçš„Rubyå¼€å‘éƒ½éœ€è¦å¯¹Rubyè¿è¡Œæ—¶çš„æ§åˆ¶(æ›´ä¸ç”¨è¯´Railså’Œå…¶ä»–å¯èƒ½ç”¨åˆ°çš„gemäº†)ã€‚è¿™å°±æ˜¯<a class="ae jo" href="https://github.com/rbenv/rbenv" rel="noopener ugc nofollow" target="_blank"> rbenv </a>çš„äº®ç‚¹ã€‚æ˜¯çš„ï¼Œè¿™ç¯‡æ–‡ç« æœ¬æ¥å¯ä»¥ç”¨<em class="jn"> sudo dnf install ruby </em>æ¥ç»•è¿‡ï¼Œä½†é‚£ä¼šå®‰è£…yum repoä¸­å½“æ—¶å¯ç”¨çš„ç‰¹å®šç‰ˆæœ¬â€¦è¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚åœ¨æœ¬æ•™ç¨‹ä¸‹é¢ï¼Œä½ ä¼šæ³¨æ„åˆ°æˆ‘é€‰æ‹©å®‰è£…3.0.1ï¼Œè€Œyum repoç‰ˆæœ¬(ä¸Šé¢)æ˜¯2.5.9ã€‚ä¹Ÿè®¸å¯¹ä½ æ¥è¯´è¿™ä¸æ˜¯ä¸–ç•Œæœ«æ—¥ï¼Œä½†æˆ‘æƒ³è¦ä¸€äº›æ›´æœ‰æ§åˆ¶åŠ›çš„ä¸œè¥¿ã€‚æˆ‘æ€€ç–‘å¾ˆå¤šå…¶ä»–çš„Rubyå¼€å‘è€…ä¹Ÿä¼šæƒ³è¦è¿™ç§çº§åˆ«çš„æ§åˆ¶ã€‚</p><h1 id="dcfe" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">å…³äºOCIçš„ä¸€äº›æƒ…å†µ</h1><p id="7bb2" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">åœ¨ç»§ç»­ä¹‹å‰ï¼Œæœ‰å¿…è¦åœä¸‹æ¥äº†è§£ä¸€ä¸‹å‘ç”Ÿçš„èƒŒæ™¯:Oracleäº‘åŸºç¡€è®¾æ–½(OCI)ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰ä¸€ä¸ªOCIå¸æˆ·ï¼Œä½ çœŸçš„åº”è¯¥å¾—åˆ°ä¸€ä¸ªï¼</p><p id="169a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ä¸ºä»€ä¹ˆä½ åº”è¯¥æœ‰ä¸€ä¸ªOCIå¸æˆ·ï¼Ÿï¼</p><p id="60bb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¾ˆé«˜å…´ä½ é—®äº†ã€‚æœ‰äº†OCIæ°¸è¿œå…è´¹è´¦æˆ·ï¼Œä½ å¯ä»¥å…è´¹ä½¿ç”¨è®¡ç®—ã€å­˜å‚¨ã€æ•°æ®åº“å’Œè®¸å¤šå…¶ä»–OCIäº‘æœåŠ¡ã€‚æ°¸è¿œã€‚æ˜¯å•Šâ€¦æ²¡é”™ã€‚æ°¸è¿œï¼è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šåœ¨è¿™é‡Œå·¥ä½œï¼Œå¯¹å—ï¼Ÿï¼åœ¨è¿™é‡Œæ³¨å†Œä¸€ä¸ªè´¦æˆ·<a class="ae jo" href="https://www.oracle.com/cloud/free/#always-free?source=:ex:tb:::::WWMK220126P00007&amp;SC=:ex:tb:::::WWMK220126P00007&amp;pcode=WWMK220126P00007" rel="noopener ugc nofollow" target="_blank"/>ã€‚æƒ³è¦æœ‰ä¸€æ¬¡æ²¿ç€é»„ç –è·¯çš„ç¾å¥½ç»å†ï¼Œçœ‹çœ‹æˆ‘å°Šæ•¬çš„åŒäº‹å…‹é‡Œæ–¯å†™çš„ä¼Ÿå¤§çš„<a class="ae jo" rel="noopener" href="/oracledevs/create-an-oracle-always-free-cloud-account-bc6aa82c1397">å¦‚ä½•åš</a>ã€‚</p><h1 id="42aa" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">å…¥é—¨æŒ‡å—</h1><p id="2dd0" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">é¦–å…ˆåˆ›å»ºå¹¶ç™»å½•æ‚¨çš„OCIè®¡ç®—å®ä¾‹ã€‚å¦‚æœä½ ä¸ç¡®å®šå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼ŒChrisç¢°å·§ä¸ºæ­¤å†™äº†å¦ä¸€ä¸ª<a class="ae jo" href="https://chrisbensen.medium.com/create-an-oci-compute-instance-493d10e2e6a6" rel="noopener">æ•™ç¨‹</a>â€”â€”ç°åœ¨æ˜¯æµè§ˆå®ƒçš„å¥½æ—¶æœºã€‚æˆ‘é€‰æ‹©ä½¿ç”¨åŸºäºA1çš„å½¢çŠ¶(<em class="jn"> VMã€‚Standard.A1.Flex </em>)è¿è¡Œå½“æ—¶å¯ç”¨çš„æœ€æ–°Oracle Linux 8æ˜ åƒã€‚æˆ‘é€‰æ‹©ä¸ºæˆ‘çš„å®ä¾‹ä½¿ç”¨arm CPUï¼Œå°½ç®¡æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨åŸºäºamd64çš„CPUã€‚åœ¨åšä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å‡çº§ç³»ç»Ÿ:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4a80" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo dnf update -y &amp;&amp; sudo dnf upgrade -y</span></pre><p id="88e0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æˆ‘ä»é›¶å¼€å§‹â€”â€”ä¸€ä¸ªå…¨æ–°çš„ä¾‹å­ã€‚ç°åœ¨è®©ä¹è¶£å¼€å§‹å§ï¼å®‰è£…rbenvæœ‰å‡ ä¸ªé€‰é¡¹ï¼Œä½†æ˜¯æˆ‘ä½¿ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨<a class="ae jo" href="https://github.com/rbenv/rbenv-installer#rbenv-installer" rel="noopener ugc nofollow" target="_blank"> rbenvå®‰è£…è„šæœ¬</a>ã€‚è®©æˆ‘ä»¬ç°åœ¨å°±å¼€å§‹å§:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="3694" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ curl -fsSL <a class="ae jo" href="https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer" rel="noopener ugc nofollow" target="_blank">https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer</a> | bash</span><span id="b2ed" class="lb jq hh kx b fi lg ld l le lf">[opc@ruby ~]$ echo 'PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bashrc<br/>[opc@ruby ~]$ source ~/.bashrc<br/>[opc@ruby ~]$ echo 'eval "$(rbenv init - bash)"' &gt;&gt; ~/.bash_profile<br/>[opc@ruby ~]$ source ~/.bash_profile</span></pre><p id="febe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è€¶ï¼æˆ‘ä»¬ç°åœ¨å·²ç»è®¾ç½®å¥½äº†rbenvã€‚æˆ‘ä»¬éœ€è¦å®‰è£…å¼€å‘å·¥å…·å’Œä¸€å †å…¶ä»–çš„åŒ…(åº“)ï¼Œè¿™æ ·Rubyå°±å¯ä»¥åœ¨æˆ‘ä»¬çš„æœºå™¨ä¸Šæœ¬åœ°æ„å»ºå’Œå®‰è£…äº†(æ›´å¤šä¿¡æ¯è§<a class="ae jo" href="https://github.com/rbenv/ruby-build/wiki#suggested-build-environment" rel="noopener ugc nofollow" target="_blank">æœ¬é¡µ</a>):</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="61ee" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo dnf config-manager --set-enabled ol8_codeready_builder<br/>[opc@ruby ~]$ sudo dnf groupinstall -y 'Development Tools'<br/>[opc@ruby ~]$ sudo dnf install -y openssl-devel libffi-devel readline-devel gdbm-devel ncurses-devel libyaml-devel</span></pre><p id="29d2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å€¼å¾—ä¸€æçš„æ˜¯ï¼Œlibyaml-develåŒ…åœ¨<em class="jn">ol8 _ codeready _ builder</em>yum repoä¸­(å‚è§<a class="ae jo" href="https://serverfault.com/questions/1050246/oracle-linux-8-3-cant-find-libyaml-devel" rel="noopener ugc nofollow" target="_blank">æœ¬é¡µ</a>äº†è§£æ›´å¤šä¿¡æ¯)ï¼Œè¿™ä¹Ÿæ˜¯å¯ç”¨å®ƒçš„åŸå› ã€‚ä¸Šé¢çš„å‘½ä»¤å°†å®‰è£…ç›¸å½“å¤šçš„åŒ…ï¼Œæ‰€ä»¥åœ¨å®ƒå®Œæˆå®ƒçš„å·¥ä½œæ—¶ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥æ„å»ºRubyè¿è¡Œæ—¶äº†ï¼Œè®©æˆ‘ä»¬å®‰è£…æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªRubyè¿è¡Œæ—¶ã€‚</p><h1 id="5cbb" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">ä½¿ç”¨rbenvå®‰è£…Ruby</h1><p id="8d9f" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">æ³¨æ„ç³»ç»Ÿä¸Šè¿˜æ²¡æœ‰å®‰è£…Rubyè¿è¡Œæ—¶:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="bd14" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ ruby -v<br/>-bash: ruby: command not found<br/>[opc@ruby ~]$</span></pre><p id="1e7f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚rbenvå…è®¸è®¾ç½®ä¸€ä¸ªå…¨å±€çš„(ç³»ç»ŸèŒƒå›´çš„ï¼Œé»˜è®¤çš„)Rubyè¿è¡Œæ—¶ï¼Œä»¥åŠä¸ºä¸€ä¸ªç»™å®šçš„ç›®å½•(æ¯”å¦‚é¡¹ç›®/åº”ç”¨ç¨‹åº)å®‰è£…ä¸€ä¸ªç‰¹å®šçš„Rubyè¿è¡Œæ—¶çš„é€‰é¡¹ã€‚å¯¹äºæˆ‘ä»¬çš„éœ€æ±‚ï¼Œè®©æˆ‘ä»¬åªè®¾ç½®ä¸€ä¸ªå•ä¸€çš„ï¼Œå…¨å±€çš„è¿è¡Œæ—¶ã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦ç¡®å®šå¯ç”¨çš„æœ€æ–°è¿è¡Œæ—¶ç‰ˆæœ¬:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="120a" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rbenv install -l<br/>2.6.9<br/>2.7.5<br/>3.0.3<br/>3.1.0<br/>jruby-9.3.3.0<br/>mruby-3.0.0<br/>rbx-5.0<br/>truffleruby-22.0.0.2<br/>truffleruby+graalvm-22.0.0.2</span><span id="8f08" class="lb jq hh kx b fi lg ld l le lf">Only latest stable releases for each Ruby implementation are shown.<br/>Use 'rbenv install --list-all / -L' to show all local versions.<br/>[opc@ruby ~]$</span></pre><p id="ce08" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è¿™äº›æ˜¯æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶å¯ç”¨çš„å†…å®¹â€”â€”åœ¨æ‚¨çš„æœºå™¨ä¸Šè¿è¡Œæ—¶ï¼Œæ‚¨å¯èƒ½ä¼šçœ‹åˆ°ä¸åŒçš„è¾“å‡ºã€‚å¯¹æˆ‘æ¥è¯´ï¼Œæˆ‘æ‰“ç®—å®‰è£…3.1.0(ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬)ã€‚</p><blockquote class="lh li lj"><p id="f995" class="ip iq jn ir b is it iu iv iw ix iy iz lk jb jc jd ll jf jg jh lm jj jk jl jm ha bi translated">è­¦å‘Š:ç‰ˆæœ¬ä¸æ–­å˜åŒ–ã€‚ä¸ºæ‚¨çš„ç¯å¢ƒé€‰æ‹©æ­£ç¡®çš„ç‰ˆæœ¬(å¯èƒ½ä¸æœ¬æ–‡ä¸­æ˜¾ç¤ºçš„ç‰ˆæœ¬ä¸åŒ)ã€‚</p></blockquote><h1 id="46d4" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">æ³¨æ„:dtrace</h1><p id="2099" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">åœ¨ç»§ç»­ä¹‹å‰â€¦å¦‚æœæ‚¨åªæ˜¯å°è¯•è¿è¡Œ<em class="jn"> rbenv install </em>æ‚¨å¯èƒ½ä¼šé‡åˆ°æˆ‘é‡åˆ°çš„é˜»ç¢ï¼Œdtraceä¼šå¤±è´¥:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="d845" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rbenv install 3.1.0<br/>Installing ruby-3.1.0...</span><span id="42b4" class="lb jq hh kx b fi lg ld l le lf">BUILD FAILED (Oracle Linux Server 8.5 using ruby-build 20220125)</span><span id="7f39" class="lb jq hh kx b fi lg ld l le lf">Inspect or clean up the working tree at /tmp/ruby-build.20220126152117.391237.wsPH1J<br/>Results logged to /tmp/ruby-build.20220126152117.391237.log</span><span id="29bf" class="lb jq hh kx b fi lg ld l le lf">Last 10 log lines:<br/>compiling vm_backtrace.c<br/>compiling vm_dump.c<br/>compiling vm_sync.c<br/>compiling vm_trace.c<br/>compiling yjit.c<br/>assembling coroutine/arm64/Context.S<br/>processing probes in object files<br/>dtrace: failed to link script ./probes.d: an error was encountered while processing array.o<br/>DTrace 2.0.0 [Pre-Release with limited functionality]<br/>make: *** [Makefile:469: probes.o] Error 1<br/>[opc@ruby ~]$</span></pre><p id="8fd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">åœ¨ç½‘ä¸Šåšäº†ä¸€ä¸ªå¿«é€Ÿæœç´¢ï¼Œæˆ‘æ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« è¯´è¦ç¦ç”¨dtraceã€‚</p><h1 id="7ef4" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">å‘å‰å‘å±•â€¦</h1><p id="ab22" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">æœ‰äº†å¿…è¦çš„ä¸Šä¸‹æ–‡æ³¨é‡Šï¼Œè®©æˆ‘ä»¬ç»§ç»­å®‰è£…å§ï¼ä½ ä¼šæ³¨æ„åˆ°è¿™å°±æ˜¯æˆ‘è®¾ç½®<em class="jn"> RUBY_CONFIGURE_OPTS </em>ç¯å¢ƒå˜é‡çš„åŸå› ï¼Œè¯¥å˜é‡åœ¨è¿è¡Œ<em class="jn">æ—¶ä¼ é€’<em class="jn"> â€” disable-dtrace </em>å‚æ•°ã€‚/é…ç½®</em>ã€‚</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="e827" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ RUBY_CONFIGURE_OPTS="--disable-dtrace" rbenv install -v 3.1.0</span></pre><p id="a0bb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç°åœ¨ï¼Œrbenvéœ€è¦å°†å…¶è®¾ç½®ä¸ºå…¨å±€Rubyè¿è¡Œæ—¶:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="417f" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rbenv global 3.1.0</span></pre><p id="b7db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ­£å¸¸å·¥ä½œçš„Rubyè¿è¡Œæ—¶ï¼çœ‹çœ‹è¿™ä¸ª:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="bdc1" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ ruby -v<br/>ruby 3.1.0p0 (2021-12-25 revision fb4df44d16) [aarch64-linux]<br/>[opc@ruby ~]$</span></pre><p id="8291" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è€¶ï¼è®©æˆ‘ä»¬ç¨å¾®é‡æ„ä¸€ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ªæ›´çŸ­çš„<em class="jn"> rbenv </em>å‘½ä»¤(ä¸ºshellé»˜è®¤è®¾ç½®RUBY_CONFIGURE_OPTSå˜é‡):</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="9121" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ echo 'export RUBY_CONFIGURE_OPTS="--disable-dtrace"' &gt;&gt; ~/.bashrc<br/>[opc@ruby ~]$ source ~/.bashrc</span></pre><p id="9e4e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨æ›´çŸ­çš„å‘½ä»¤è¿è¡Œrbenv:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="9b05" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rbenv install 2.7.5</span></pre><p id="457a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç§å•Šã€‚æˆåŠŸäº†ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»å°†â€œdisable dtraceâ€æ ‡å¿—è®¾ç½®ä¸ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥æ„‰å¿«åœ°å¿½ç•¥å®ƒ(å®ƒä¸€ç›´å­˜åœ¨)ã€‚è¿™æ˜¯ä¸€æ®µæ—…ç¨‹ï¼Œä½†ä¸æ˜¯ç–¯ç‹‚çš„çºªå¿µã€‚ä¸è¿‡ï¼Œå±•ç¤ºåœ¨OCIä¸Šä½¿ç”¨Oracle Linuxå¿«é€Ÿè¿›è¡ŒRubyå¼€å‘çš„â€œç®€å•é€”å¾„â€æ˜¯å€¼å¾—çš„ã€‚</p><h1 id="233c" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">å®‰è£…å¯¼è½¨</h1><p id="a8cb" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">Rubyè¶…çº§æ£’â€¦â€¦ä½†æ˜¯å¦‚æœä½ åœ¨åšä¸€ä¸ªwebåº”ç”¨ï¼Œä½ å¯èƒ½ä¼šæƒ³è¦ä½¿ç”¨Rails(åˆåRuby on Railsï¼Œç¼©å†™ä¸ºRoR)æ¡†æ¶ã€‚æœ‰äº†Rubyçš„å®‰è£…ï¼Œè¿™å…¶å®çœŸçš„å¾ˆç®€å•ï¼éµå¾ª<a class="ae jo" href="https://guides.rubyonrails.org/getting_started.html" rel="noopener ugc nofollow" target="_blank">å¯¼è½¨å®‰è£…è¯´æ˜</a>ï¼Œä»¥ä¸‹æ˜¯éœ€è¦çš„å†…å®¹:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4fde" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo dnf install -y nodejs</span></pre><p id="25bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">éœ€è¦å®‰è£…çº±çº¿(æŒ‰ç…§<a class="ae jo" href="https://yarnpkg.com/getting-started/install" rel="noopener ugc nofollow" target="_blank">å®‰è£…è¯´æ˜</a>):</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="1453" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo npm i -g corepack</span></pre><p id="0476" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è®©æˆ‘ä»¬å®‰è£…ä¸€äº›gems Railsæ‰€éœ€è¦çš„åŒ…å’Œåº“:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="848e" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo dnf install sqlite-devel<br/>[opc@ruby ~]$ bundle config set force_ruby_platform true</span></pre><p id="edd9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¦‚æœä¸æä¾›ç¬¬äºŒä¸ªå‘½ä»¤ï¼Œnokogiriå®‰è£…å°†ä¼šå¤±è´¥:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="fd7e" class="lb jq hh kx b fi lc ld l le lf">...<br/>ERROR: It looks like you're trying to use Nokogiri as a precompiled native gem on a system with glibc &lt; 2.17:</span><span id="8730" class="lb jq hh kx b fi lg ld l le lf">/lib64/libm.so.6: version `GLIBC_2.29' not found (required by /home/opc/.rbenv/versions/3.1.0/lib/ruby/gems/3.1.0/gems/nokogiri-1.13.1-aarch64-linux/lib/nokogiri/3.1/nokogiri.so) - /home/opc/.rbenv/versions/3.1.0/lib/ruby/gems/3.1.0/gems/nokogiri-1.13.1-aarch64-linux/lib/nokogiri/3.1/nokogiri.so</span><span id="7775" class="lb jq hh kx b fi lg ld l le lf">If that's the case, then please install Nokogiri via the `ruby` platform gem:<br/>      gem install nokogiri --platform=ruby<br/>  or:<br/>      bundle config set force_ruby_platform true</span><span id="8a0b" class="lb jq hh kx b fi lg ld l le lf">Please visit <a class="ae jo" href="https://nokogiri.org/tutorials/installing_nokogiri.html" rel="noopener ugc nofollow" target="_blank">https://nokogiri.org/tutorials/installing_nokogiri.html</a> for more help.<br/>...</span></pre><p id="ea56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">çœ‹èµ·æ¥æˆ‘ä»¬æœ‰glibc 2.28:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="732c" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ ldd --version<br/>ldd (GNU libc) 2.28<br/>Copyright (C) 2018 Free Software Foundation, Inc.<br/>This is free software; see the source for copying conditions.  There is NO<br/>warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br/>Written by Roland McGrath and Ulrich Drepper.<br/>[opc@ruby ~]$</span></pre><p id="d8a0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å› æ­¤ï¼Œæˆ‘ä»¬æŒ‰ç…§æŒ‡ç¤ºï¼Œå‘Šè¯‰bundlerä½¿ç”¨Rubyå¹³å°ã€‚æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°Railså®‰è£…æŒ‡å—ä¸­çš„ä¸€äº›å†…å®¹è¢«è·³è¿‡äº†â€¦è¿™æ˜¯å› ä¸ºç³»ç»Ÿå·²ç»æœ‰äº†å®ƒã€‚ç»§ç»­å®‰è£…Rails gem:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="edde" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ gem install rails</span></pre><p id="c945" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æµ‹è¯•ä»¥ç¡®ä¿å¯ä»¥çœ‹åˆ°è½¨é“:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="8893" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rails --version<br/>Rails 7.0.1<br/>[opc@ruby ~]$</span></pre><p id="3890" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è¦åˆ›å»ºæ–°çš„Railsé¡¹ç›®:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="b021" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ rails new my_app</span></pre><p id="7480" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æˆ‘ä»¬ç‚¹ç«äº†ï¼è¿™å¤ªæ£’äº†â€”â€”æˆ‘ä»¬ç°åœ¨å¯ä»¥å¼€å‘ä¸€ä¸ªRailsåº”ç”¨ç¨‹åºäº†ã€‚å¯èƒ½è¿˜éœ€è¦ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ï¼Œè¿™å–å†³äºä½ æƒ³åšä»€ä¹ˆ(æ¯”å¦‚ä½¿ç”¨Redisæˆ–è€…ç±»ä¼¼çš„ä¸œè¥¿ï¼Œç”¨äºturboæµï¼Œç­‰ç­‰ã€‚).ä½ å¯ä»¥ä»è¿™é‡Œæ¥æ‰‹ã€‚å¯ä»¥è¯´ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªåšå®çš„å¹³å°æ¥æ„å»ºä¸‹ä¸€ä¸ªä¼˜ç§€çš„Railsåº”ç”¨ç¨‹åºï¼ï¼ï¼</p><h1 id="0387" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">è‡ªåŠ¨åŒ–è¿™é¡¹å·¥ä½œ</h1><p id="175e" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">è¿™å¯ä»¥ä½œä¸ºè®¡ç®—å®ä¾‹çš„äº‘åˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†è‡ªåŠ¨å®Œæˆã€‚è¿™å¯ä»¥åœ¨å¯åŠ¨è®¡ç®—å®ä¾‹æ—¶ç›´æ¥å¤åˆ¶å¹¶ç²˜è´´åˆ°OCIæ§åˆ¶å°ä¸­ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚åˆ›å»ºè®¡ç®—å®ä¾‹æ—¶ï¼Œåœ¨å•å‡»â€œåˆ›å»ºâ€æŒ‰é’®ä¹‹å‰ï¼Œè¯·å•å‡»â€œæ˜¾ç¤ºé«˜çº§é€‰é¡¹â€(ä½äºå±å¹•åº•éƒ¨):</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/8d47eacd4b307ab698c485d8708e15d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*bRCfh6PXPm-oTDs6dzq5PA.png"/></div></figure><p id="b027" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ç„¶ååœ¨â€œç®¡ç†â€é€‰é¡¹å¡ä¸­ï¼Œé€‰æ‹©â€œç²˜è´´äº‘-åˆå§‹åŒ–è„šæœ¬â€å•é€‰æŒ‰é’®(åœ¨â€œåˆå§‹åŒ–è„šæœ¬â€æ ‡é¢˜ä¸‹):</p><figure class="ks kt ku kv fd ii er es paragraph-image"><div class="er es lo"><img src="../Images/c748de1f2c03c39f4fae9dc812a241fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*lxVO3mO_MIprmWER9BRzXw.png"/></div></figure><p id="425c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¹¶å°†ä»¥ä¸‹æ–‡æœ¬ç²˜è´´åˆ°æ–‡æœ¬æ¡†ä¸­:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="d527" class="lb jq hh kx b fi lc ld l le lf">#cloud-config</span><span id="3566" class="lb jq hh kx b fi lg ld l le lf">runcmd:<br/>  - dnf config-manager --set-enabled ol8_codeready_builder<br/>  - dnf update -y &amp;&amp; dnf upgrade -y<br/>  - dnf groupinstall -y 'Development Tools'<br/>  - dnf install -y openssl-devel libffi-devel readline-devel gdbm-devel ncurses-devel libyaml-devel<br/>  - su - opc -c "curl -fsSL <a class="ae jo" href="https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer" rel="noopener ugc nofollow" target="_blank">https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer</a> | bash"<br/>  - su - opc -c "echo 'PATH=\$HOME/.rbenv/bin:\$PATH' &gt;&gt; ~/.bashrc"<br/>  - su - opc -c "echo 'export PATH' &gt;&gt; ~/.bashrc"<br/>  - su - opc -c "echo 'eval \"\$(rbenv init - bash)\"' &gt;&gt; ~/.bash_profile"<br/>  - su - opc -c "echo 'export RUBY_CONFIGURE_OPTS=\"--disable-dtrace\"' &gt;&gt; ~/.bashrc"<br/>  # update this to whatever version of Ruby you'd like installed (this will be outdated and potentially unsafe very quickly)<br/>  - su - opc -c "rbenv install 3.1.0"<br/>  - su - opc -c "rbenv global 3.1.0"<br/>  # begin Rails part - remove if not needed<br/>  - dnf install -y nodejs sqlite-devel<br/>  - npm i -g corepack<br/>  - su - opc -c "bundle config set force_ruby_platform true"<br/>  - su - opc -c "gem install rails"<br/>  # let us know things are all done<br/>  - su - opc -c "echo '1' &gt;&gt; ~/cloud-init-status.txt"</span></pre><p id="ecbd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è¿™ä¼šå°†ä¸Šè¿°å†…å®¹ä¼ é€’ç»™å®ä¾‹ã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥å°†å…¶åµŒå…¥åˆ°è®¡ç®—å®ä¾‹çš„Terraformèµ„æºå®šä¹‰ä¸­:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="d354" class="lb jq hh kx b fi lc ld l le lf">resource "oci_core_instance" "my_compute" {<br/>  ...<br/>  metadata {<br/>      ...<br/>      user_data = "${base64encode(file("ror.tpl"))}"<br/>      ...<br/>  }<br/>  ...<br/>}</span></pre><p id="3c2a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ä¸‹é¢æ˜¯<em class="jn"> ror.tpl </em>æ–‡ä»¶ä¸­çš„å†…å®¹(æ³¨æ„ï¼Œå®ƒä¸ä¸Šé¢çš„å†…å®¹ç›¸åŒâ€”â€”æˆ‘ä»¬åœ¨åˆ›å»ºå®ä¾‹æ—¶ä¼šå°†å®ƒå¤åˆ¶åˆ°OCIæ§åˆ¶å°ä¸­):</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="ec4f" class="lb jq hh kx b fi lc ld l le lf">#cloud-config</span><span id="7500" class="lb jq hh kx b fi lg ld l le lf">runcmd:<br/>  - dnf config-manager --set-enabled ol8_codeready_builder<br/>  - dnf update -y &amp;&amp; dnf upgrade -y<br/>  - dnf groupinstall -y 'Development Tools'<br/>  - dnf install -y openssl-devel libffi-devel readline-devel gdbm-devel ncurses-devel libyaml-devel<br/>  - su - opc -c "curl -fsSL <a class="ae jo" href="https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer" rel="noopener ugc nofollow" target="_blank">https://github.com/rbenv/rbenv-installer/raw/HEAD/bin/rbenv-installer</a> | bash"<br/>  - su - opc -c "echo 'PATH=\$HOME/.rbenv/bin:\$PATH' &gt;&gt; ~/.bashrc"<br/>  - su - opc -c "echo 'export PATH' &gt;&gt; ~/.bashrc"<br/>  - su - opc -c "echo 'eval \"\$(rbenv init - bash)\"' &gt;&gt; ~/.bash_profile"<br/>  - su - opc -c "echo 'export RUBY_CONFIGURE_OPTS=\"--disable-dtrace\"' &gt;&gt; ~/.bashrc"<br/>  # update this to whatever version of Ruby you'd like installed (this will be outdated and potentially unsafe very quickly)<br/>  - su - opc -c "rbenv install 3.1.0"<br/>  - su - opc -c "rbenv global 3.1.0"<br/>  # begin Rails part - remove if not needed<br/>  - dnf install -y nodejs sqlite-devel<br/>  - npm i -g corepack<br/>  - su - opc -c "bundle config set force_ruby_platform true"<br/>  - su - opc -c "gem install rails"<br/>  # let us know things are all done<br/>  - su - opc -c "echo '1' &gt;&gt; ~/cloud-init-status.txt"</span></pre><p id="e8f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">æœ€ç»ˆç»“æœæ˜¯ä¸€æ ·çš„:æ‚¨å¾—åˆ°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€éšæ—¶å¯ç”¨çš„OCIè®¡ç®—å®ä¾‹ï¼ŒRubyã€rbenvå’ŒRailséƒ½å·²å‡†å¤‡å°±ç»ªã€‚å¦‚æœä½ ä¸æƒ³è¦Railsï¼Œçœç•¥è¿™éƒ¨åˆ†â€¦ä½ æ˜ç™½äº†ã€‚</p><p id="b6a5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¦‚æœæ‚¨ä»¥å‰æ²¡æœ‰ç»å¸¸ä½¿ç”¨å®ƒï¼Œè¯·çŸ¥é“cloud-initåœ¨åå°è¿è¡Œ(å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯é™é»˜çš„)ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å®Œæˆæ‰€æœ‰æ“ä½œåä¼šå†™å…¥æ–‡ä»¶ã€‚å®ƒä¼šå¾ˆé«˜å…´åœ°åœ¨åå°è¿è¡Œä¸€æ®µæ—¶é—´ã€‚å¦‚æœä½ æƒ³ç›‘è§†å®ƒåœ¨åšä»€ä¹ˆï¼Œè¯•è¯•è¿™ä¸ª:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="4ad9" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ sudo tail -f /var/log/cloud-init-output.log</span></pre><p id="d8df" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">è¿™ä¼šå‘Šè¯‰ä½ å®ƒåœ¨åšä»€ä¹ˆã€‚åœ¨ä¹‹åï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ<em class="jn">æ¥å®Œæˆå®ä¾‹çš„åˆ›å»ºã€‚è€å¿ƒæ˜¯å…³é”®ï¼Œä½†æ˜¯è¯·æ”¾å¿ƒï¼Œæ‚¨å°†åœ¨å‡ åˆ†é’Ÿå†…è·å¾—ä¸€ä¸ªç°æˆçš„å®ä¾‹ã€‚å¦‚æœåœ¨</em> cloud-initå®Œå…¨å®Œæˆåï¼Œæ‚¨æ²¡æœ‰æ‰“å¼€ä¸€ä¸ª<em class="jn">æ–°çš„</em> shellä¼šè¯<em class="jn">ï¼Œè¯·ä¸è¦å¿˜è®°è¿è¡Œ:</em></p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="c57c" class="lb jq hh kx b fi lc ld l le lf">[opc@ruby ~]$ source ~/.bash_profile</span></pre><p id="a1c7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">å¦åˆ™ï¼Œæ‚¨å¯ä»¥é€€å‡ºæ‚¨çš„shell(å¯èƒ½æ˜¯SSH)ä¼šè¯å¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œæ­¤æ—¶æ‚¨åº”è¯¥å¯ä»¥è®¿é—®Rubyå¹¶å‡†å¤‡å¥½è¿è¡Œäº†ï¼</p><h1 id="4192" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">ç»“è®º</h1><p id="c252" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">æˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº†ä¸€ä¸ªå¾ˆå¥½çš„Rubyå¼€å‘å¹³å°ã€‚æˆ‘ä»¬ä¸ä»…å¯ä»¥æ‰‹åŠ¨è®¾ç½®ï¼Œè€Œä¸”æœ‰ä¸€ç§å…¨è‡ªåŠ¨çš„æ–¹å¼æ¥å®ç°è¿™ä¸€ç‚¹ã€‚å¤šé…·å•Šã€‚ï¼ç›´åˆ°ä¸‹ä¸€æ¬¡ï¼Œå¿«ä¹ç¼–ç ï¼Œä¿æŒä½æµï¼</p><h1 id="b117" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">åŠ å…¥å¯¹è¯ï¼</h1><p id="1746" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">å¦‚æœä½ å¯¹ç”²éª¨æ–‡å¼€å‘äººå‘˜åœ¨ä»–ä»¬çš„è‡ªç„¶æ –æ¯åœ°å‘ç”Ÿçš„äº‹æƒ…æ„Ÿåˆ°å¥½å¥‡ï¼Œè¯·åŠ å…¥æˆ‘ä»¬çš„<a class="ae jo" href="https://oracledevrel.slack.com/join/shared_invite/zt-uffjmwh3-ksmv2ii9YxSkc6IpbokL1g#/shared-invite/email" rel="noopener ugc nofollow" target="_blank">å…¬å…±ä¼‘é—²é¢‘é“</a>ï¼æˆ‘ä»¬ä¸ä»‹æ„æˆä¸ºä½ çš„é±¼ç¼¸ğŸ </p></div></div>    
</body>
</html>