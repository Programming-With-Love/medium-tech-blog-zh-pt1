# 为什么 Java 服务器端开发者不采用 Kotlin？

> 原文：<https://medium.com/google-developer-experts/why-are-java-server-side-developers-not-adopting-kotlin-8eb53e06ee99?source=collection_archive---------0----------------------->

![](img/aab8d167a5d8f0b815764b34f0541f6a.png)

Image by Victor Rodriguez via Unsplash

*TL；DR——我在野外看到的是，Kotlin 在服务器端的采用很慢，这是由于自满、职业自我保护和缺乏 Kotlin 可见性的混合因素。然而，在某些特定情况下，避免收养是完全合理的。*

在使用 Java 超过 15 年后，我写下了我的第一行 Kotlin，现在已经过去了将近 5 年。

我们的团队没有遵循典型的 Java 剧本:我们使用了[终极版](https://github.com/bodar/utterlyidle)而不是 Spring，并采用了[完全乏味的](https://totallylazy.com/)函数式编程方法。我们是 IntelliJ 的忠实粉丝，并试图充分利用它为 Java 提供的工具。

那个时候，我们已经在把目光投向 Java 之外了。一些团队对 Scala 有些兴趣，我们已经在里面写了一些服务。但是复杂性、与 Java 代码库一起工作的痛苦以及缓慢的构建时间使得这种语言对我们大多数人没有吸引力。

当谷歌[宣布](https://blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/) Kotlin 将在 2017 年成为 Android 开发的官方语言时，另一个与我们关系密切的团队评估了他们服务器端开发的语言。最终，我们大多数人都尝试了一下。

我被 Kotlin 对我们代码库的影响震惊了。它感觉起来更有效率，更安全，而且工具虽然没有 Java 的成熟，但也足够好，值得采用。

从一种感觉陈旧冗长的语言中走出来，发现什么样的编码风格非常适合 Kotlin 的特性，这也是一件很有趣的事情。与 Java 出色的互操作性意味着我们可以依赖现有的生态系统，并逐步过渡系统，而不会对完成工作造成重大干扰。

很快，我对 Kotlin 的兴趣导致了我与他人合作创建了 [http4k](https://http4k.org) ，这是一个用于 Kotlin HTTP 应用程序的功能性工具包，并开办了[真实世界 Kotlin 开发研讨会](http://web.archive.org/web/20191105124733/https://skillsmatter.com/courses/602-real-world-kotlin-development-workshop)来帮助其他试图进行相同转变的团队。

最终，我转到了其他职位，但很幸运地看到 Kotlin 在各种其他项目中被用于服务器端。我也亲身经历了很多团队非常不愿意采用 Kotlin 的原因。

奇怪的是，阻力并不总是来自实际语言的优点。那么为什么 Java 服务器端社区没有更多地采用 Kotlin 呢？

以下是我和同事们遇到的一些原因:

## "我们没有时间学习一门新语言。"

这是我们在软件项目中常见的“忙着砍柴，没时间磨斧子”的一种变体。这通常是更深层次问题的迹象，如不断增加的技术债务和一般生产力问题。

健康的软件项目总是包含大量的学习。一个有能力的 Java 开发人员可以在几个小时内掌握 Kotlin 的基础知识，并且在几天内就能达到相当高的生产率。

这是一项值得的投资，因为有了新的语言，当他们编写更简单的代码和处理更少的问题时，生产率就会提高。

## " Java 的每个版本都在变得越来越好."

这是真的:Java 正在变得更好。发行速度也越来越快。另一方面，在处理可空性等简单的事情上，它仍然落后于 Kotlin。

也许 Java 社区已经习惯了这种语言的发展速度。尽管如此，Kotlin 提供了一种方法，可以在他们的项目中充分利用这些特性(甚至更多),而不是等到明天。

## “作为 Java 开发人员，我们很开心。”

这种阻力是最棘手的。如果一个程序员把自己的职业身份和一门编程语言联系在一起，那就没什么可做的了。

一方面，如果 Java 开发人员不想冒险进入一种新语言的未知领域，我理解。或者他们想成为一个长期的专家。这很公平。

另一方面，我还没有看到一个 Java 开发人员因为使用 Kotlin 而“落后”。相反，这表明他们一直在为自己的工作寻找最好的工具，这是一种积极的品质，至少对我帮助招聘的人来说是这样。

## "科特林语是一种被炒作的语言，前途不明."

这是我们在 2017 年左右看到的常见异议。那一年，谷歌将 Kotlin 作为 Android 开发的一级语言，让我们确信大玩家对该语言的寿命感兴趣。

今天，这可能不太常见，因为像 [Spring](https://spring.io/guides/tutorials/spring-boot-kotlin/) 和 [Micronaut](https://guides.micronaut.io/creating-your-first-micronaut-app-kotlin/guide/index.html) 这样的流行框架似乎已经接受了这种新语言。

希望这能给这种语言足够的可见性，让更多的服务器端人员尝试一下。

## "我正在使用 Eclipse，不想切换到 IntelliJ . "

公平地说，Kotlin 在 Eclipse 中的体验可能不符合 JetBrains 的想法。

这是可以理解的，因为 JetBrains 的商业模式包括销售他们的开发工具。这种情况不太可能很快改变。

对于这些，唯一的希望是 Kotlin 达到一个临界质量，证明对 Eclipse 支持的进一步投资是正确的。在此之前，Kotlin 开发人员的最佳开发体验仍将是 JetBrains 产品。

我非常有偏见的观点是，不管怎样，IntelliJ 已经是一个更好的 Java，所以也值得尝试一下。

## "科特林的开发者太贵了，而且很难找到."

这一点很难评估:看看[薪资网站](https://www.itjobswatch.co.uk/default.aspx?q=kotlin%2C+java)，人们可以得出结论，科特林的薪资总体上略高。

如果我们只想考虑服务器端开发人员，这是一个很难进行的比较。总的来说，那是 Java 领域付出最高的，Kotlin 这边没有足够的数据来比较。

有趣的是，我们在实践中看到，高级 Java 开发人员往往是第一批采用 Kotlin 的人，这可能会给人一种 Kotlin 开发人员很昂贵的印象。

在招聘方面，我们还没有看到吸引 Kotlin 开发人员的问题。我们很清楚这项工作需要使用新的语言，并接受开发人员将在工作中学习它。

这似乎让 Java 开发人员感到轻松，并吸引了那些热衷于学习新事物的人，这也是潜在契合度的一个良好指标。

## “科特林太复杂了。”

Kotlin 成为 Scala 等语言的令人信服的替代品的原因之一是，它在开发人员易用性和高级功能之间取得了良好的平衡，使 Java 的可操作性和流行框架的采用成为可能。

在实践中，这种异议往往与单个团队的技能、风格和惯例有关。

初学者倾向于像写 Java 一样开始写 Kotlin。随着他们对这种语言越来越熟悉，他们可能会将一些特性(例如扩展和内联函数)推得太远，使得代码库对新手来说难以理解。

在一个团队完全胜任新语言之前，我们强烈建议尽可能长时间地使用 Boring Kotlin(TM)。最终，团队中的大多数人会在选择酷的语言特性和让整个团队都能访问代码之间找到平衡。

## "在一个代码库中有两种语言是令人困惑的."

这是没有在实际项目中尝试过 Kotlin 的人的普遍恐惧。

实际上，只要团队参与进来，并注意到新的 Kotlin 代码首先需要与 Java 共存，在一个项目中使用这两种语言不会带来很大的痛苦。

一个有帮助的规则是:“如果一个改变涉及到两种语言，首先从将旧代码转换成 Kotlin 开始”。

这样，团队可以避免大爆炸式的重写，并增量地迁移他们需要添加新价值的区域。

如果一些代码保留在 Java 中，那也没关系。最有可能的是，这是因为代码有效，而且没有重构它的迫切需要。

## “我们在 Java 中更加得心应手。”

在实践中，可能是给定的环境不需要新的语言。一切都运转良好；该团队正在以可接受的速度完成工作，并很好地掌握了 Kotlin 将帮助解决的问题。

然而，根据我们的经验，这是例外而不是规律。通常，这种抵触情绪源于普遍缺乏时间或对学习的兴趣，而不是缺乏需要改进的地方。

在尝试真正的项目之前，很难体验到 Kotlin 的好处，引入一种新语言，即使是作为一种实验，也会引起很多焦虑。

在这种情况下，我们推荐[“在职学习”](https://deming.org/institute-training-on-the-job/)(以编码 dojos、自带午餐会议等形式。)来创造一个可以进行这种实验的安全环境。

这种方法允许团队评估他们对 Java 的使用，以及是否值得投资 Kotlin。

## "我看不出科特林会带来什么好处。"

有时候，Java 开发人员没有意识到语言的局限性，或者已经习惯了。其他时候，他们会拒绝任何让他们质疑当前语言选择的选择。

不涉及细节，我们可以说 Kotlin 的简洁和安全是其[的主要优势](https://kotlinlang.org/#why-kotlin)。然而，有些人会声称他们没有发现 Java 冗长的问题，并且已经写出了安全的代码。

在尝试之前很容易忽略 Kotlin，当面临选择时，少数人会继续寻找不尝试的理由。

## 最后的想法

采用一种新的编程语言，尤其是在正在进行的项目中，对大多数团队来说都是一个挑战。接受这一点也很重要:对变化的抵制是高度具体的，来自项目需求和个人原因，以及语言本身。

话虽如此，我仍然鼓励更多从事 Java 服务器端工作的开发人员，如果有机会的话，试试 Kotlin。如果没有别的，它可能会突出代码之外的其他改进领域。

感谢[尤伯托·巴尔比尼](https://twitter.com/ramtop)、[德米特里·坎达洛夫](https://twitter.com/dmitrykandalov)、[大卫·丹顿](http://dentondav.id/)和[凯文·丹佛](https://github.com/ToastShaman)对这篇文章的额外想法和评论。

在 Twitter[上告诉我你对这个话题的想法。你也可以在](https://twitter.com/s4nchez)[我的网站](https://isanchez.net/posts)找到这篇和我之前的文章。

 [## 想要加快 Kotlin 的采用速度吗？

顽强编织者-3175.ck.page](https://dogged-knitter-3175.ck.page/54c019f057)