# è§’åº¦â€”å°†è¿åŠ¨åŸç†åº”ç”¨äºåˆ—è¡¨

> åŸæ–‡ï¼š<https://medium.com/google-developer-experts/angular-applying-motion-principles-to-a-list-d5cdd35c899e?source=collection_archive---------0----------------------->

å¦‚ä½•ä½¿ç”¨è§’åº¦åŠ¨ç”»åº”ç”¨è¿åŠ¨åŸç†

![](img/22e1c814f151fe1e7081bee99e5368a7.png)

Image by thedotisblack. [Credits](https://twitter.com/DavidMrugala)

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æè¿°å¦‚ä½•å°†è¿åŠ¨åŸç†åº”ç”¨åˆ°ä¸åŒçš„äº¤äº’ä¸­ï¼Œå¹¶ä»¥ä¸€ç³»åˆ—é¡¹ç›®ä¸ºåŸºç¡€ã€‚æˆ‘ä»¬å°†æ¶µç›–:

*   [ä¾èµ–é¡¹è®¾ç½®](#e845)å’Œæœ€ç»ˆ[è§£å†³æ–¹æ¡ˆ](#e2fe)
*   [è®¾è®¡æè´¨æŒ‰é’®](#8347)å¹¶å¼•å…¥[è§’åº¦åŠ¨ç”»](#85e0)
*   æ–½åŠ åŠ¨ä½œ:[æ·»åŠ ](#fe4c)ã€[ç§»é™¤](#bb36)å’Œ[åˆå§‹æ˜¾ç¤º](#e813)ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥æµè§ˆæºä»£ç :

[åˆèµ›](https://stackblitz.com/edit/angular-motion-initial) | [å†³èµ›](https://stackblitz.com/edit/angular-motion)

åœ¨ [@gerardsans](https://twitter.com/intent/user?screen_name=gerardsans) æ‰¾åˆ°æˆ‘çš„æœ€æ–°è§‚ç‚¹ã€‚

> è¿™ä¸ªä¾‹å­æ˜¯ä¸€ä¸ªæ¼”ç¤ºçš„ä¸€éƒ¨åˆ†ï¼Œä»¥æ”¯æŒåœ¨ [**ä¼¦æ•¦**](https://www.meetup.com/Women-Who-Code-London/events/242089054/) è¿›è¡Œçš„ä¸€æ¬¡æ¼”è®²ã€‚åœ¨è¿™æ¬¡æ¼”è®²ä¸­ï¼Œæˆ‘ä»‹ç»äº†æˆ‘å°†åœ¨è¿™é‡Œä½¿ç”¨çš„ç›¸åŒåŸç†ã€‚è¯·éšæ„æŸ¥çœ‹å¹»ç¯ç‰‡ä¸­çš„ä»‹ç»ã€‚

[](http://slides.com/gerardsans/wwc-motion-angular) [## Gerard Sans ä»¥è§’åº¦(4.3+ç‰ˆ)å®ç°è¿åŠ¨

### åœ¨è¿™æ¬¡æ¼”è®²ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€äº›å®ä¾‹æ¥è®²è¿° UX åŠ¨è®®èƒŒåçš„ 12 é¡¹åŸåˆ™ã€‚æˆ‘ä»¬å°†ä¸“æ³¨äºâ€¦

slides.com](http://slides.com/gerardsans/wwc-motion-angular) 

# ç›¸å…³æ€§è®¾ç½®

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡ï¼Œç¡®ä¿æ‰€æœ‰çš„ä¾èµ–é¡¹éƒ½åˆ°ä½ã€‚ä½¿ç”¨**è§’åº¦åŠ¨ç”»**ï¼Œæˆ‘ä»¬éœ€è¦:`@angular/animations`å’Œ`@angular/platform-browser/animations`ã€‚å¯¹äº**è§’æ–™** : `@angular/material`å’Œ`@angular/cdk`ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å°†å¯¼å…¥**é›ç²‰è‰²ä¸»é¢˜**å’Œ**æè´¨å›¾æ ‡**(ç”¨äºæŒ‰é’®)ã€‚è§ä¸‹æ–‡ã€‚

```
// style.css [@import](http://twitter.com/import) '[https://unpkg.com/@angular/material/prebuilt-themes/indigo-pink.css](https://unpkg.com/@angular/material/prebuilt-themes/indigo-pink.css)';
[@import](http://twitter.com/import) '[https://fonts.googleapis.com/icon?family=Material+Icons'](https://fonts.googleapis.com/icon?family=Material+Icons');
```

åœ¨æˆ‘ä»¬çš„æ ¹æ¨¡å—ä¸Šï¼Œæˆ‘ä»¬å°†åƒè¿™æ ·æ·»åŠ ä¸Šé¢çš„æ¨¡å—:

```
import { **BrowserAnimationsModule** } from '[@angular/platform-browser](http://twitter.com/angular/platform-browser)/animations';
import { **MaterialModule**, **MdButtonModule** } from '[@angular/material](http://twitter.com/angular/material)';[@NgModule](http://twitter.com/NgModule)({
  imports: [ BrowserModule, **BrowserAnimationsModule**, **MaterialModule**, **MdButtonModule** ],
  declarations: [ App ],
  bootstrap: [ App ]
})
export class AppModule { }
```

æ›´å¤šå…³äºå¦‚ä½•è®¾ç½® [**è§’åº¦æè´¨**](https://material.angular.io/) çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ Loiane Groner [@loiane](https://twitter.com/loiane) çš„[æ•™ç¨‹](https://loiane.com/2017/07/getting-started-with-angular-material-2/)ã€‚

# è§£å†³åŠæ³•

ä¸‹å›¾äº¤æ›¿æ˜¾ç¤ºäº†æ²¡æœ‰åŠ¨ç”»çš„ç‰ˆæœ¬å’Œæœ€ç»ˆç‰ˆæœ¬ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åˆ—è¡¨æœ€åˆæ˜¯å¦‚ä½•æ˜¾ç¤ºé¢„å…ˆå­˜åœ¨çš„é¡¹ç›®çš„ï¼Œä»¥åŠæ·»åŠ å’Œåˆ é™¤é¡¹ç›®çš„æ•ˆæœã€‚

![](img/8aaab51ee1644ac212dbec7d8cd7f04a.png)

Initial version followed by final version.

æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåŸºæœ¬çš„åˆ—è¡¨è®¾ç½®ï¼Œä½¿ç”¨ **ngFor** æ¥åº”ç”¨æˆ‘ä»¬çš„åŠ¨ç”»ã€‚

```
[@Component](http://twitter.com/Component)({
  selector: 'my-app',
  template: `
    <div class="buttons-container">...</div>
    <div class="list-container">
      <div class="box" ***ngFor="let item of list"**></div>
    </div>`
})
export class App {
  list = [1,2,3,4];
}
```

è¿™å°†å‘ˆç°ä¸€ä¸ªåŒ…å« 4 ä¸ªå…ƒç´ çš„åˆ—è¡¨ã€‚å¯¹äºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„å¸ƒå±€:**æŒ‰é’®-å®¹å™¨**ï¼Œ**åˆ—è¡¨-å®¹å™¨**å’Œ**æ¡†**ã€‚

```
.buttons-container, .list-container {
  display: flex;
  align-items: center;
  justify-content: center;  
}

.buttons-container {
  flex-direction: row;  
}

.list-container {
  flex-direction: column;
}

.box {
  width: 100px;
  height: 50px;
  background-color: #9c27b0;
  margin: 5px;
}
```

æˆ‘ä»¬ä½¿ç”¨ flex æ¥è®¾è®¡æˆ‘ä»¬çš„å®¹å™¨ã€‚æŒ‰é’®åˆ†åˆ«ä½¿ç”¨`row`(ä»å·¦åˆ°å³)å’Œ`column`(ä»ä¸Šåˆ°ä¸‹)`flex-direction`ã€‚ä¸ºäº†æ ·å¼åŒ–è¿™äº›é¡¹ç›®ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†**ç›’å­**ç±»ã€‚

# **é€ å‹ææ–™æŒ‰é’®**

ä¸ºäº†æ ·å¼åŒ–æˆ‘ä»¬çš„**æ·»åŠ **å’Œ**ç§»é™¤**æŒ‰é’®ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸‹é¢çš„ä»£ç ã€‚

```
<button **md-fab**>
  **<i class="material-icons">&#xE147;</i>**
</button>
<button **md-fab** [disabled]="list.length===0">
  **<i class="material-icons">&#xE872;</i>**
</button>
```

æˆ‘ä»¬é€‰æ‹©çš„ **md-fab** æ˜¯å¸¦ä»°è§’çš„åœ†å½¢æŒ‰é’®ã€‚å¯¹äºå›¾æ ‡ï¼Œæˆ‘ä»¬æœç´¢äº†[å›¾æ ‡åº“](https://material.io/icons/#ic_add_circle)ï¼Œå¹¶ä½¿ç”¨è¯¥ç‰ˆæœ¬æ¥æœ€å¤§åŒ–æµè§ˆå™¨ä¸ IE9 æˆ–æ›´ä½ç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚æ³¨æ„å½“åˆ—è¡¨ä¸­æ²¡æœ‰æ›´å¤šé¡¹ç›®æ—¶ï¼Œç¦ç”¨**ç§»é™¤**æŒ‰é’®çš„ä»£ç ã€‚

# è§’åº¦åŠ¨ç”»

ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹è§’åº¦åŠ¨ç”»ã€‚Angular åŸºäº [Web Animations API](https://w3c.github.io/web-animations/) ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**è§¦å‘å™¨**æ¥å®šä¹‰ä¸€ç³»åˆ—çš„**çŠ¶æ€**å’ŒçŠ¶æ€ä¹‹é—´çš„**è½¬æ¢**ã€‚æˆ‘ä»¬ä½¿ç”¨**æ ·å¼**æ¥å¸®åŠ©æˆ‘ä»¬ä½¿ç”¨ **CSS å±æ€§**æ„å»ºæƒ³è¦çš„æ•ˆæœã€‚

åŠ¨ç”»èƒŒåçš„**ä¸»è¦åŸç†**æ˜¯ï¼Œä¸€æ—¦æˆ‘ä»¬ä½¿ç”¨æ ·å¼è®¾ç½®äº†**åˆå§‹çŠ¶æ€**å’Œ**æœ€ç»ˆçŠ¶æ€**ï¼Œæµè§ˆå™¨å°±ä¼šä¸ºæˆ‘ä»¬è®¡ç®—ä¸­é—´çŠ¶æ€ã€‚

![](img/a1c64796a972afca59026db928d38b4e.png)

Who else better to explain animations than the party parrot!? ğŸ˜ƒ

æˆ‘ä»¬å¯ä»¥ç”¨ç§’æˆ–æ¯«ç§’æ¥è®¾ç½®åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€‚ä¾‹å¦‚:1 ç§’ï¼Œ1.2 ç§’ï¼Œ200 æ¯«ç§’ã€‚æœ‰æ—¶æˆ‘ä»¬å¯èƒ½è¿˜æƒ³æ§åˆ¶**è®¡æ—¶åŠŸèƒ½**ï¼Œå®ƒè®¾ç½®è®¡ç®—ä¸­é—´æ­¥é•¿**è¡¥é—´**çš„é€Ÿåº¦ã€‚é»˜è®¤å®šæ—¶ä¸º`ease`ï¼›å…¶ä»–å¸¸è§çš„å€¼æœ‰`linear`æˆ–`ease-in-out`ã€‚

ç”±äº **Angular v4.2+** æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨**åºåˆ—**å’Œ**ç»„**ä¸€ä¸ªæ¥ä¸€ä¸ªæˆ–å¹¶è¡Œè¿è¡ŒåŠ¨ç”»ï¼›å¹¶ä¸”**æŸ¥è¯¢**æ¥è®¿é—®å­å…ƒç´ ï¼Œ**äº¤é”™**æ¥åˆ›å»ºè‰¯å¥½é“¾æ¥çš„ç¼–æ’ã€‚

# ä¸ºæ–°é¡¹ç›®åˆ¶ä½œåŠ¨ç”»

è®©æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹æ·»åŠ æ–°é¡¹ç›®æ‰€æ¶‰åŠçš„ä»£ç :

```
[@Component](http://twitter.com/Component)({
  template: `
    <div class="top-buttons">
      <button md-fab **(click)="add()"**></button>
    </div>
    <div class="list-container">...</div>`
})
export class App {
  **counter = 5;**
  list = [1,2,3,4];

  add(){
    **this.list.push(this.counter++);**
  }
}
```

æˆ‘ä»¬ä½¿ç”¨ç»‘å®šåˆ°ç¬¬ä¸€ä¸ªæŒ‰é’®çš„äº‹ä»¶æ¥è°ƒç”¨`click`ä¸Šçš„`add`æ–¹æ³•ã€‚è¿™å°†ä½¿ç”¨`counter`ä»æˆ‘ä»¬ç¦»å¼€çš„åœ°æ–¹å¼€å§‹æ·»åŠ ä¸€ä¸ªæ–°å·ç ã€‚

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™å°†ç«‹å³æ˜¾ç¤ºæ–°çš„é¡¹ç›®ï¼Œè¿™å¯èƒ½æ„Ÿè§‰æœ‰ç‚¹ç²—ç³™ã€‚ä¸ºäº†æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å°†åº”ç”¨ä»¥ä¸‹åŸåˆ™:é¢„æœŸã€å¤¸å¼ å’Œåˆæˆã€‚

## é¢„æœŸåŸåˆ™

è¿™ä¸€åŸåˆ™å¢åŠ äº†çœŸå®æ€§ï¼Œå¹¶åœ¨è¡ŒåŠ¨å‘ç”Ÿä¹‹å‰è®©è§‚ä¼—åšå¥½å‡†å¤‡ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è¿™äº›é¡¹ç›®å‡­ç©ºå‡ºç°ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸é€æ˜çš„æ·¡å…¥æ•ˆæœæ¥å¸®åŠ©é¢„æœŸã€‚

## å¤¸å¼ åŸåˆ™

å¤¸å¼ åŸåˆ™å°±æ˜¯è®©åŠ¨ä½œæ„Ÿè§‰æ›´æç«¯ã€‚è¿™æ ·ä¼šå¢åŠ å¸å¼•åŠ›ï¼Œå¢å¼ºè¡ŒåŠ¨åŠ›ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†å°è¯•æ·»åŠ é¡¹ç›®çš„å¤§å°ã€‚æˆ‘ä»¬èƒ½åšçš„æ˜¯ä½¿ç”¨ä¸€ä¸ª**ä¸‰æ¬¡è´å¡å°”**è®¡æ—¶å‡½æ•°å°†å®ƒæ”¾å¤§å’Œç¼©å°åˆ°æ­£å¸¸å¤§å°ã€‚è¿™é€šå¸¸éœ€è¦ä¸€äº›ä¿®æ”¹ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Lea Verou çš„åœ¨çº¿å·¥å…·ã€‚

## æ„å›¾åŸç†

è¿™ä¹Ÿè¢«ç§°ä¸º[äºŒæ¬¡æˆ–åˆ†å±‚åŠ¨ç”»](https://twitter.com/jrcanest/status/788441769864073216)ã€‚è¿™æ˜¯å°†å•ç‹¬çš„åŠ¨ç”»åˆå¹¶æˆä¸€ä¸ªåŠ¨ç”»çš„ç»“æœã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠå‰é¢çš„ä¸¤ä¸ªåŠ¨ç”»åˆæˆä¸€ä¸ªï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åŒæ—¶å‘ç”Ÿã€‚

è®©æˆ‘ä»¬æŠŠè¿™äº›åŠ¨ç”»æ·»åŠ åˆ°æˆ‘ä»¬çš„åˆ—è¡¨ä¸­å§ï¼

```
<div class="list-container">
  <div **@items** class="box" *ngFor="let item of list"></div>
</div>
```

é¦–å…ˆæˆ‘ä»¬å°†æ·»åŠ è§¦å‘å™¨`@items`æ¥å‘Šè¯‰ Angular æˆ‘ä»¬æƒ³è¦å¤„ç†å½±å“åˆ—è¡¨ä¸­æ¯ä¸ª **div** é¡¹ç›®çš„åŠ¨ç”»ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†è§¦å‘å™¨å®šä¹‰æ·»åŠ åˆ°`animations`ç»„ä»¶å…ƒæ•°æ®ä¸­ã€‚è¿™ä¸¤ä¸ªéœ€è¦ä½¿ç”¨åŒ¹é…çš„åç§°ã€‚

```
[@Component](http://twitter.com/Component)({
  **animations:** [
    trigger('**items**', [
      transition('**:enter**', [
        style(**{ transform: 'scale(0.5)', opacity: 0 }**),  // initial
        animate('1s cubic-bezier(.8, -0.6, 0.2, 1.5)', 
          style(**{ transform: 'scale(1)', opacity: 1 }**))  // final
      ])
    ])
  ]
})
```

å¯¹äºæˆ‘ä»¬çš„è§¦å‘å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨`:enter`å®šä¹‰äº†ä¸€ä¸ªè½¬æ¢æ¥æ•è·æ·»åŠ åˆ°è§†å›¾ä¸­çš„æ–° DOM å…ƒç´ ã€‚åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„è®¡æ—¶å‡½æ•°ã€‚è¿™å°±æ˜¯æˆ‘ä»¬çš„**è´å¡å°”æ›²çº¿** [çœ‹èµ·æ¥](http://cubic-bezier.com/#.8,-0.6,.2,1.5)çš„æ ·å­ã€‚å½“ä½¿ç”¨è¶…å‡º 0â€“1 åŒºé—´çš„ä¸‰æ¬¡è´å¡å°”å€¼æ—¶ï¼Œæˆ‘ä»¬å…è®¸ CSS æ ·å¼è¶…å‡ºæˆ‘ä»¬ç”¨äºåˆå§‹å’Œç»“æŸçŠ¶æ€çš„å€¼ã€‚å¯¹äºæˆ‘ä»¬çš„è§¦å‘å™¨æ¥è¯´ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†å¾—åˆ°æ¯”`scale(0.5)`å°ä¸€ç‚¹å’Œæ¯”`scale(1)`å¤§ä¸€ç‚¹çš„å€¼ï¼Œäº§ç”Ÿä¸€ä¸ªå¾®å°çš„åå¼¹æ•ˆæœã€‚

# åŠ¨ç”»ç§»é™¤é¡¹ç›®

è®©æˆ‘ä»¬çœ‹çœ‹ä»åˆ—è¡¨ä¸­åˆ é™¤é¡¹ç›®çš„ä»£ç ã€‚

```
[@Component](http://twitter.com/Component)({
  template: `
    <div class="top-buttons">
      <button md-fab **(click)="remove(0)"**></button>
    </div>
    <div class="list-container">
      <div [@items](http://twitter.com/items) class="box" **(click)="remove(i)"**
        *ngFor="let item of list; **let i=index;**">
      </div>
    </div>`
})
export class App {
  remove(index) {
    if(!this.list.length) return;
    **this.list.splice(index, 1);**
  }
}
```

ä¸ä¹‹å‰ç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨äº‹ä»¶ç»‘å®šæ¥è°ƒç”¨ç´¢å¼•ä¸º`0`çš„ remove æ–¹æ³•ã€‚æ¯æ¬¡ç‚¹å‡»æ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨**æ‹¼æ¥**å¹¶ä¼ é€’ç´¢å¼•`0`æ¥ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™ç§æ–°æ–¹æ³•æ¥åˆ é™¤å•ä¸ªé¡¹ç›®ã€‚ä¸ºäº†è·å¾—åˆ—è¡¨ä¸­çš„å½“å‰ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿å˜é‡`i`ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™`remove`ã€‚å¯¹äºç¬¬ä¸€ä¸ª divï¼Œç»“æœä»£ç å°†æ˜¯`(click)="remove(0)"`ç­‰ç­‰ã€‚

è¿™å°†ç«‹å³åˆ é™¤é¡¹ç›®ã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„ï¼Œæˆ‘ä»¬å°†åº”ç”¨ä»¥ä¸‹åŸåˆ™:é¢„æœŸã€å¤¸å¼ å’Œæ„å›¾ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„çŠ¶æ€ï¼Œä½†é¡ºåºç›¸åã€‚

```
transition('**:leave**', [
  style({ transform: 'scale(1)', opacity: 1, **height: '*'** }),
  animate('1s cubic-bezier(.8, -0.6, 0.2, 1.5)', 
   style({ 
     transform: 'scale(0.5)', opacity: 0, 
     **height: '0px', margin: '0px'** 
   })) 
])
```

å¯¹äºè¿™ä¸ªè½¬æ¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†`:leave`æ¥æ•æ‰ä»è§†å›¾ä¸­ç§»é™¤çš„ DOM å…ƒç´ ã€‚è¿™ä¸€æ¬¡ï¼Œé™¤äº†`height`å’Œ`margin`ï¼Œå…¶ä»–æ‰€æœ‰ä¸œè¥¿çœ‹èµ·æ¥éƒ½å¾ˆç†Ÿæ‚‰ã€‚è¿™æ˜¯ä¸ºäº†è§£å†³åŠ¨ç”»åœ¨å…ƒç´ æ‰€åœ¨çš„ä½ç½®ç•™ä¸‹ä¸€ä¸ªé—´éš™ï¼Œç„¶åä¸‹é™ä»¥å¼¥åˆä¸å…¶ä½™é¡¹ç›®çš„é—´éš™çš„é—®é¢˜ã€‚è§ä¸‹æ–‡:

![](img/4d54d3802f27606584f211a3003b133a.png)

Animations without handling â€œheightâ€ and â€œmarginâ€.

height ä¸­çš„æ˜Ÿå·å‘Šè¯‰ Angular ä½¿ç”¨ DOM å…ƒç´ çš„å½“å‰å€¼ä½œä¸ºè¿™ä¸ªå±æ€§çš„å€¼ã€‚

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **50px** è€Œä¸æ˜¯ ***** ï¼Œä½†æ˜¯åè€…å°†å…è®¸æˆ‘ä»¬æ›´æ”¹ CSS å€¼ï¼Œè€Œä¸å¿…æ‹…å¿ƒåŠ¨ç”»ä¸­çš„å€¼ã€‚

# ä¸ºåˆ—è¡¨çš„åˆå§‹æ˜¾ç¤ºåˆ¶ä½œåŠ¨ç”»

æˆ‘ä»¬å·®ä¸å¤šå®Œæˆäº†ã€‚è¿˜æœ‰æœ€åä¸€ä»¶äº‹è¦åšã€‚å½“åˆ—è¡¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ—¶ï¼Œæ‰€æœ‰é¢„å…ˆå­˜åœ¨çš„é¡¹ç›®ä¼šåŒæ—¶æ˜¾ç¤ºã€‚é‚£ä¸å¤ªå¥½ï¼Œæ˜¯å—ï¼Ÿè®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼

```
<div [**@list**](http://twitter.com/list) class="list-container">
  <div [@items](http://twitter.com/items) class="box" *ngFor="let item of list"></div>
</div>
```

è¿™æ¬¡æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ§åˆ¶ä¸€ä¸ªåˆ—è¡¨è€Œä¸æ˜¯ä¸€ä¸ª DOM å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†**è§¦å‘å™¨**æ·»åŠ åˆ°çˆ¶å¯¹è±¡ä¸­ï¼Œå¹¶ä½¿ç”¨**æŸ¥è¯¢**æ¥åˆ†åˆ«åŠ¨æ€åœ°åˆ¶ä½œæ¯ä¸ªé¡¹ç›®çš„åŠ¨ç”»ã€‚

```
trigger('**list**', [
  transition('**:enter**', [
    query('[@items](http://twitter.com/items)', **stagger(300, animateChild())**)
  ]),
])
```

æ­£å¦‚æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ï¼Œå½“ div ç¬¬ä¸€æ¬¡è¢«æ·»åŠ åˆ°è§†å›¾ä¸­æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†`:enter`æ¥æ•æ‰ã€‚æ³¨æ„ï¼Œè¿™ä¸ªè§¦å‘å™¨é€‚ç”¨äºå¸¦æœ‰**åˆ—è¡¨å®¹å™¨**ç±»çš„ divã€‚**æŸ¥è¯¢**å‘½ä»¤ä½¿ç”¨ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ä¸€ä¸ªè§¦å‘å™¨é€‰æ‹©å™¨ï¼Œå®ƒå°†ä½¿ç”¨`@items`è§¦å‘å™¨åŒ¹é…å­èŠ‚ç‚¹ã€‚è¯¥æŸ¥è¯¢è¿åŒ **stagger** å’Œ **animateChild** å°†äº§ç”Ÿé¢„å…ˆå­˜åœ¨çš„ 4 ä¸ª div é¡¹ç›®çš„åˆ—è¡¨ï¼Œä»¥ 300 æ¯«ç§’çš„å»¶è¿Ÿè¿è¡Œå®ƒä»¬å„è‡ªçš„åŠ¨ç”»ã€‚ä½ å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°æœ€ç»ˆçš„åŠ¨ç”»ã€‚

![](img/cc56127a9068ca4602ce5a82c0917593.png)

ä»…æ­¤è€Œå·²ï¼è§‰å¾—æˆ‘é”™è¿‡äº†ä»€ä¹ˆå—ï¼Ÿé€šè¿‡ [@gerardsans](https://twitter.com/intent/user?screen_name=gerardsans) æˆ– gerard.sans_at_gmail.com è”ç³»æˆ‘ï¼Œæ„Ÿè°¢é˜…è¯»ï¼

# è¿›ä¸€æ­¥é˜…è¯»

*   [**ç”¨è¿åŠ¨åˆ›é€ å¯ç”¨æ€§:UX è¿åŠ¨å®£è¨€**](/ux-in-motion/creating-usability-with-motion-the-ux-in-motion-manifesto-a87a4584ddc) ä½œè€…ä¼Šè¨æ‹‰Â·å¨ä¼¦æ–¯ç§‘è«[**@**UX _ è¿åŠ¨](https://twitter.com/UX_in_Motion)
*   [**Loiane Groner**](https://loiane.com/2017/07/getting-started-with-angular-material-2/)**[@ Loiane](https://twitter.com/loiane)è§’åº¦ç´ æå…¥é—¨ 2** ã€‚

[](http://www.meetup.com/AngularZone/) [## å®‰å¤æ‹‰å®—ç¤¾åŒº

### æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ç¤¾åŒºã€‚æˆ‘ä»¬çš„æ¿€æƒ…æ˜¯æœ‰æ£±è§’çš„ã€‚åŠ å…¥æˆ‘ä»¬å§ï¼ğŸš€](http://www.meetup.com/AngularZone/) [![](img/abefda0aa7864742686ec7f7fdffe2b5.png)](https://twitter.com/intent/user?screen_name=gerardsans)![](img/262c25a72e2000a1a8c4e796fcbb254f.png)