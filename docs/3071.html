<html>
<head>
<title>How to write your first Smart Contract?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何写你的第一份智能合同？</h1>
<blockquote>原文：<a href="https://medium.com/edureka/write-your-first-smart-contract-1cd624780768?source=collection_archive---------4-----------------------#2019-07-15">https://medium.com/edureka/write-your-first-smart-contract-1cd624780768?source=collection_archive---------4-----------------------#2019-07-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/6482254236893529b16fa77313c26b96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*7x-wYOKuQoTZQPVgDJBE1A.png"/></div></figure><p id="3d0c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在本文中，您将学习如何构建您的第一个智能合同。我将使用Remix IDE开发和测试智能合同。</p><p id="f80c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">本智能合同开发教程涵盖以下主题:</p><ul class=""><li id="69b0" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated">构建您的第一份智能合同</li><li id="7eed" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">智能合同的结构</li><li id="616a" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">杂注指令</li><li id="d119" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">合同声明</li><li id="7aa3" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">存储与合同相关的数据</li><li id="eefb" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">引入变量</li><li id="1bf0" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">值类型</li><li id="91a7" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">参考类型</li><li id="36fc" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">向合同添加数据</li><li id="f5c8" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">定义构造函数</li><li id="9f68" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">添加功能</li><li id="18d6" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">获取功能</li><li id="56a4" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">Setter函数</li><li id="30d2" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">部署智能合同</li><li id="850e" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">部署选项</li><li id="cc7f" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">与已部署的合同交互</li><li id="ad35" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">结论</li></ul><h1 id="ae35" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">构建您的智能合同</h1><p id="9f49" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">作为这个博客系列的一部分，将开发一个简单的采购订单智能合同。随着本系列的进展以及solidity编程语言新概念的引入，采购订单智能合同将会发展和改进。</p><h1 id="6be3" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">智能合同的结构</h1><p id="6d65" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">本质上，可靠智能合同是以下内容的集合</p><ul class=""><li id="4350" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated"><strong class="in hi">数据</strong>——维护合同的当前状态</li><li id="1af1" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated"><strong class="in hi">功能</strong> —应用逻辑转换合同状态</li></ul><p id="e5f8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">可靠智能合约遵循标准结构。任何智能合约都以下面的语句开始</p><h1 id="c054" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">杂注指令</h1><p id="5aa1" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">“pragma”关键字可用于启用某些编译器功能或检查。下面的语句定义了源文件(智能合约)不能用0.4.0之前的编译器和0.6.0之后的编译器版本进行编译。该声明确保在引入新的编译器版本时不会引入意外的行为。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="fdf8" class="lj jy hh lf b fi lk ll l lm ln">pragma solidity &gt;=0.4.0 &lt;=0.6.0</span></pre><h1 id="7c6c" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">合同声明</h1><p id="80c3" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">使用关键字“合同”来声明合同。这声明了一个名为“PurchaseOrder”的空协定。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="cf3c" class="lj jy hh lf b fi lk ll l lm ln">contract PurchaseOrder{ }</span></pre><h1 id="474f" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">存储与合同相关的数据</h1><p id="9a30" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">每一个合同或者一般来说每一个程序都可能需要存储一些数据。向程序添加数据为它提供了一定程度的灵活性。从程序中的硬编码值转移到用户提供的值是一个重要的特性。变量允许您存储数据、标记数据、检索数据和操作数据。</p><h1 id="e4f3" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">智能合同开发:引入变量</h1><p id="773d" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">在固体中，变量有两种类型</p><ol class=""><li id="4433" class="jj jk hh in b io ip is it iw jl ja jm je jn ji lo jp jq jr bi translated"><strong class="in hi">值类型:</strong>这些类型的变量通过值传递，也就是说，当它们被用作函数参数或在赋值中使用时，它们总是被复制。例如:整数、布尔地址等。</li><li id="687f" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated"><strong class="in hi">引用类型:</strong>这些类型变量类型复杂，通过引用传递，这些变量不适合256位，必须小心管理，因为复制它们的开销很大。</li></ol><h2 id="a0eb" class="lj jy hh bd jz lp lq lr kd ls lt lu kh iw lv lw kl ja lx ly kp je lz ma kt mb bi translated">将数据添加到智能合同</h2><p id="f20b" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">让我们给合同增加一些数据变量。对于每个采购订单，都必须有一定数量的产品与之相关联。让我们添加一个数据类型为整数或数字的变量product_quantity。</p><p id="8079" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们现在引入的变量是一个无符号整数，用uint256表示，这里的256表示256位存储。</p><ul class=""><li id="49f6" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated">U —(意味着该类型只能表示正整数，不能表示正负整数)</li><li id="7979" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">INT —整数</li><li id="2bfd" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">大小为256–256位</li><li id="d288" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">可以分配给uint256的最小值是0</li><li id="b600" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">uint256可以分配的最大值是2 ⁵⁶-1[一个非常大的数字]</li></ul><p id="a324" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">产品数量只是一个正值，目前的假设是我们将迎合一个非常大的产品数量值。</p><p id="711a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">声明的“product_quantity”变量是契约状态的一部分，因此被持久化或存储在契约空间中。目前，该变量的默认值为0。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="1a51" class="lj jy hh lf b fi lk ll l lm ln">contract PurchaseOrder{ uint256 product_quantity; }</span></pre><h1 id="a9ae" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">定义构造函数</h1><p id="5936" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">部署协定时调用构造函数。构造函数用一些值初始化协定。在当前场景中，当部署合同时，产品数量设置为100。也可以通过传递一个变量并使用传入的值初始化product_quantity来创建参数化的构造函数。</p><p id="68b7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这里要注意的关键点是与构造函数相关联的访问修饰符“public”。Public关键字指定任何人都可以访问这个函数，这不是一个受限制的函数。</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="f782" class="lj jy hh lf b fi lk ll l lm ln">constructor() public{ product_quantity = 100; }</span></pre><h1 id="eace" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">添加功能</h1><p id="b362" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">现在让我们添加一些功能来使我们程序具有交互性。功能是可以添加到程序中的受控能力。任何函数前面都有关键字function。总的来说函数声明看起来是这样的"<strong class="in hi">函数&lt;函数名&gt; &lt;访问修改后的&gt; &lt;状态赋值器&gt; &lt;返回值&gt; </strong>"。</p><h2 id="ed25" class="lj jy hh bd jz lp lq lr kd ls lt lu kh iw lv lw kl ja lx ly kp je lz ma kt mb bi translated">获取功能</h2><p id="bce0" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">对于任何程序来说，最常见的需求之一是读取存储的值。在下面的合同中，我们将需要读取“product_quantity”值。为了提供这种能力，添加了read函数或get函数。在这个函数中，我们不对存储值进行任何操作，我们只是检索存储值。</p><p id="9bd5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在让我们来分解我们的get函数(get_quantity)</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mc"><img src="../Images/1b7916d105f4cbe805b6a79c6a44f1c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*em4gCFVmQuZbrDeVyvoDrg.png"/></div></div></figure><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="69db" class="lj jy hh lf b fi lk ll l lm ln">function get_quantity() public view returns(uint256){ return product_quantity; }</span></pre><h1 id="e8c5" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">Setter函数</h1><p id="5986" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">读取数据是必要的，我们在上一节中已经完成了，但是大多数场景还需要写入/更新数据的能力。这种特定的功能是通过添加setter函数来提供的。该函数以输入参数的形式从用户处获取一个值。使用用户提供给函数的值，变量“产品数量”的值被写入/更新。</p><p id="4ca3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在让我们分解我们的集合函数(update_quantity)</p><p id="6779" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">添加更新产品数量值的函数</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mh"><img src="../Images/87bd6ea4da4a23fbabdb4417f693a3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nq5JLDtbwN8HyaVvKeYCVw.png"/></div></div></figure><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="e4d0" class="lj jy hh lf b fi lk ll l lm ln">function update_quantity(uint256 value) public { product_quantity = product_quantity + value; }</span></pre><p id="aca6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将所有这些放在一起，这就是整个合同的样子。</p><p id="4548" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">pragma solidity &gt;=0.4.0 &lt;=0.6.0;<br/> <br/>合同采购订单{<br/>uint 256 product _ quantity；//状态变量<br/><br/>/*用契约调用部署并初始化值*/<br/>constructor()public {<br/>product _ quantity = 100；<br/> } <br/> <br/> // Get函数<br/>函数Get _ quantity()public view returns(uint 256){<br/>return product _ quantity；<br/> } <br/> <br/> //设置函数<br/>函数更新_数量(uint256值)公共{ <br/>产品_数量=产品_数量+值；<br/> } <br/> }</p><h1 id="6189" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">部署智能合同</h1><p id="7f99" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">是时候测试智能合约了。为了测试这个智能合约，我们将使用<a class="ae mi" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix Online IDE </a>。</p><p id="1c31" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Remix是<a class="ae mi" href="https://www.edureka.co/blog/ethereum-smart-contract-project" rel="noopener ugc nofollow" target="_blank">以太坊智能合约</a>的在线游乐场。混音是完全基于浏览器的。Remix为您提供了一个在线IDE(集成开发环境)，您可以在其中编写您的智能合约。Remix为你提供了一个在线可靠的编译能力。Remix IDE中的智能合约可以使用特定的编译器版本无缝编译。</p><p id="8973" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Remix还提供了快速测试智能合约的能力。</p><p id="89d0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Remix提供了一个完整的工具集来开始智能合约的开发和智能合约的单元测试，而无需在本地机器上进行任何安装。这对于从可靠性开始非常有用，因为开发人员只需要专注于编写智能合同，而不是担心基础设施。</p><p id="8221" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">有了Remix IDE，你只需要一个浏览器和一个互联网连接就可以开始智能合约开发了。智能合同创意的快速开发、测试和验证。</p><p id="b49f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Remix最近升级了他们的UI。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mj"><img src="../Images/b3e89de61ac77a66855ce6b4331ac160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/0*T3usLhfq2WaXy42T.png"/></div></figure><p id="7825" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">单击上图中突出显示的文件图标，文件资源管理器将打开。</p><ol class=""><li id="53d8" class="jj jk hh in b io ip is it iw jl ja jm je jn ji lo jp jq jr bi translated">单击加号图标，可以创建一个新文件，将文件命名为PurchaseOrder.sol</li><li id="c6c3" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">这将创建一个名为PurchaseOrder.sol的空文件，单击并打开该文件。</li><li id="ae34" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">让我们把整个合同复制粘贴在采购订单上</li><li id="f5e8" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">点击第二个图标，在文件图标下面的左侧菜单中，应该会出现solidity编译器选项。</li><li id="ab6b" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">在编译器标签下，选择编译器版本。当前选择的版本是0.5.8。</li><li id="f18a" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">选择编译器版本后，点击“编译PurchaseOrder.sol”。这将编译智能合同。</li></ol><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/f43deaa8bb95e6b4e0a352da1159b898.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*coPQqo7I6jMPwwi3.png"/></div></figure><p id="3286" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">7.智能合同编译成功后，单击“编译详细信息”按钮，应该会出现以下详细信息。编译后，可以获得两个关键信息</p><ul class=""><li id="607b" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated">ABI —应用程序二进制接口。这是一个json文件，它详细描述了智能契约中公开的所有方法以及这些方法的元数据。这方面的更多内容将在随后的博客中讨论。</li><li id="2e7c" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">字节码——EVM(以太坊虚拟机)操作码，智能契约逻辑在编译时被转换成字节码。</li></ul><p id="d8d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">8.为了测试智能合约，需要部署智能合约。要部署智能合同，请单击左侧菜单中编译图标下方的下一个图标。将出现以下屏幕。为了测试智能合约，需要部署智能合约。要部署智能合同，请单击左侧菜单中编译图标下方的下一个图标。将出现以下屏幕。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/ad024318732142ab59dbfc37211fe479.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*MLdihlHoQ9IYxb2L.png"/></div></figure><h1 id="69ef" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">部署选项</h1><p id="22fb" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">部署屏幕提供了几个选项，让我们逐一查看。</p><ul class=""><li id="94a8" class="jj jk hh in b io ip is it iw jl ja jm je jn ji jo jp jq jr bi translated">环境:这可以被认为是一种选择，类似于选择从亚马逊、Flipkart、新蛋(所有这些都是在线零售商)购买笔记本电脑，你可以根据自己的需求选择从哪里购买。类似地，在Remix的情况下，我们可以选择在哪里部署智能合约并测试智能合约。环境标签旁边的下拉菜单提供了三个选项</li><li id="7dab" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">JavaScript VM——本地以太坊单个节点在浏览器内存中启动，并提供5个可用于交易(部署、调用功能)的预先资助的测试帐户</li><li id="c4df" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">注入的Web3提供—这依赖于元掩码。Metamask就像一个经纪人或中间人，它允许web应用程序与智能合约进行交互。Metamask提供了管理身份的功能，还可以对发送到以太网的交易进行签名。这个中间人或第三方帮助您确定智能合同将部署到的区块链网络。</li><li id="2cd0" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">Web3 Provider —如果您正在运行本地以太坊节点，并且RPC端点可用，则可以使用此选项。智能合约将被部署到本地以太坊节点。</li><li id="7f0d" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">帐户:此信息是根据所选的环境填充的。比如说。JavaScript VM提供5个预先资助的测试账户。在Web3提供商和注入Web3的情况下，不提供预先资助的测试帐户。</li><li id="6740" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">气体限制:这定义了发起者愿意为任何交易花费的气体的最大数量。这是防止无限循环和在无限循环情况下耗尽账户所有资金的地方。</li><li id="0e07" class="jj jk hh in b io js is jt iw ju ja jv je jw ji jo jp jq jr bi translated">Value:部署智能合约时可能需要发送的值。这是一个可选值。</li></ul><p id="3606" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了部署合同，选择JavaScript VM选项，从accounts下拉列表中选择第一个帐户，注意帐户的余额(100 ether)。</p><p id="00d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">确保显示的智能合同名称为PurchaseOrder，单击deploy。将要发生的关键行动</p><ol class=""><li id="072e" class="jj jk hh in b io ip is it iw jl ja jm je jn ji lo jp jq jr bi translated">帐户余额从100以太变为99.999999以太，扣除的金额是部署智能合约的交易成本。</li><li id="dfe9" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">在已部署的契约下，将出现一个新的智能契约磁贴，它还将提供新智能契约的地址，类似于(0x 692 a70 D2 e 424 a 56 D2 c6c 27 aa 97 D1 a 86395877 B3 a)</li><li id="14d1" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">在控制台窗口中会出现以下信息<br/>事务哈希——唯一标识合同部署<br/>事务成本<br/>合同地址</li></ol><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/b885e2d3dea331d1d9ecdf9f4887b353.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/0*HQV_QPK6E8xNGfwK.png"/></div></figure><h1 id="b691" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">与已部署的合同交互</h1><ol class=""><li id="0552" class="jj jk hh in b io kv is kw iw mn ja mo je mp ji lo jp jq jr bi translated">在已部署的合同下，有以下两种交互方法可用:update_quantity和get_quantity。</li><li id="931e" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">这两种交互方法都是在“采购订单”契约中定义的公共方法。</li><li id="6c69" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">更新数量“update_quantity”方法需要一个输入参数，因此需要输入框。</li><li id="3fbf" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">获取数量“get_quantity”方法检索product_quantity的值。</li><li id="20f2" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">让我们看看调用get_quantity时发生了什么，显示了返回值100，这是在构造函数中初始化的。这不会导致交易发生</li><li id="1de2" class="jj jk hh in b io js is jt iw ju ja jv je jw ji lo jp jq jr bi translated">让我们调用update_quantity并提供30作为输入。这导致交易发生</li></ol><p id="d503" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">简而言之，任何导致对契约状态的写操作(即，改变契约变量)的操作都将导致事务。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/dc188ebc80352d1f9f03cf8f6547f86c.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/0*PFRxEq3j1CA33u0l.png"/></div></figure><p id="716a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">任何只是读取契约状态的操作都不会导致事务。</p><h1 id="8e60" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">智能合同开发结论</h1><p id="a6d6" class="pw-post-body-paragraph il im hh in b io kv iq ir is kw iu iv iw kx iy iz ja ky jc jd je kz jg jh ji ha bi translated">有了这个，我们刚刚创建了我们的第一个智能合同，只是触及了坚实的表面。我们刚刚看到了测试智能合约从部署智能合约到启动交易的整个过程。</p><p id="af37" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在下一篇博客中，这是智能合约开发系列的继续，我们将更深入地讨论可靠性基础，更深入地研究智能合约部署。</p><p id="74f0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">至此，我结束了这个<em class="mr">智能合同</em>开发博客。我希望你喜欢阅读这个博客，并发现它的信息量。</p><p id="f7f1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="mr">如果您希望学习智能合约，在区块链领域建立职业生涯，并获得以太坊编程方面的专业知识，请在这里注册在线直播的</em> <strong class="in hi"> <em class="mr"> Edureka区块链认证培训</em> </strong> <em class="mr">，它将提供24*7支持，在整个学习期间为您提供指导。</em></p><p id="fb27" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你想查看更多关于人工智能、DevOps、道德黑客等市场最热门技术的文章，那么你可以参考<a class="ae mi" href="https://www.edureka.co/blog/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=smart-contract-development" rel="noopener ugc nofollow" target="_blank"> Edureka的官方网站</a>。</p><p id="df5e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请留意本系列中解释区块链其他各方面的其他文章。</p><blockquote class="ms mt mu"><p id="9c75" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 1。</em> <a class="ae mi" rel="noopener" href="/edureka/ethereum-tutorial-with-smart-contracts-db7f80175646"> <em class="hh">以太坊教程</em> </a></p><p id="210b" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 2。</em> <a class="ae mi" rel="noopener" href="/edureka/ethereum-private-network-tutorial-22ef4119e4c3"> <em class="hh">以太坊专用网络</em> </a></p><p id="d2ab" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 3。</em> <a class="ae mi" rel="noopener" href="/edureka/smart-contracts-301d39565b76"> <em class="hh">什么是智能合约？</em> </a></p><p id="172e" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 4。</em> <a class="ae mi" rel="noopener" href="/edureka/solidity-tutorial-ca49906bdd47"> <em class="hh">坚实度教程</em> </a></p><p id="39dd" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 5。</em> <a class="ae mi" rel="noopener" href="/edureka/developing-ethereum-dapps-with-truffle-7533289c8b2"> <em class="hh">松露以太坊教程</em> </a></p><p id="5ff9" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 6。</em> <a class="ae mi" rel="noopener" href="/edureka/ethereum-development-tools-7175503a1ac7"> <em class="hh">最好的以太坊开发工具</em> </a></p><p id="cccc" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated"><em class="hh"> 7。</em> <a class="ae mi" rel="noopener" href="/edureka/hyperledger-fabric-184667460-edc184667460"> <em class="hh">超帐面料</em> </a></p><p id="7b82" class="il im mr in b io ip iq ir is it iu iv mv ix iy iz mw jb jc jd mx jf jg jh ji ha bi translated">8。 <a class="ae mi" rel="noopener" href="/edureka/hyperledger-vs-ethereum-bdc868e10817"> <em class="hh">超凸vs以太坊</em> </a></p></blockquote></div><div class="ab cl my mz go na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ha hb hc hd he"><p id="f230" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="mr">原载于2019年7月15日</em><a class="ae mi" href="https://www.edureka.co/blog/smart-contract-development/" rel="noopener ugc nofollow" target="_blank"><em class="mr">https://www.edureka.co</em></a><em class="mr">。</em></p></div></div>    
</body>
</html>