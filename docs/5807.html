<html>
<head>
<title>How to Use Network Load Balancer to Connect to OCI Instances</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用网络负载平衡器连接到OCI实例</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/how-to-use-network-load-balancer-to-connect-to-oci-instances-697c484bf196?source=collection_archive---------0-----------------------#2021-08-17">https://medium.com/oracledevs/how-to-use-network-load-balancer-to-connect-to-oci-instances-697c484bf196?source=collection_archive---------0-----------------------#2021-08-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h1 id="ba12" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">甲骨文云网络负载平衡器特性</strong></h1><p id="ccef" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">Oracle网络负载平衡器是一个非代理负载平衡解决方案，它执行第3层和第4层(TCP/UDP/ICMP)负载的直通负载平衡。此外，它还提供了一个可弹性扩展的区域VIP地址，可以根据客户端流量扩大或缩小，没有最小或最大带宽配置要求。</p><p id="8432" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">它还提供了流高可用性、源和目的IP地址以及端口保留的好处。它旨在处理多变的流量模式和数百万的流量，在保持超低延迟的同时提供高吞吐量。这种适用于延迟敏感型工作负载的理想负载平衡解决方案包括实时流、VoIP、物联网和交易平台。网络负载平衡器针对几天或几个月的长时间运行的连接进行了优化，这使它最适合您的数据库或WebSocket类型的应用程序。</p><p id="421a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">网络负载平衡器在连接级别运行，并根据IP协议数据平衡传入客户端到健康后端服务器的连接。负载平衡策略使用哈希算法来分发客户端流。默认的负载平衡分布策略基于源和目标IP地址、端口和IP协议信息的5元组散列。这种5元组散列策略在给定的TCP或UDP会话中提供会话关联性，其中同一会话中的分组被定向到网络负载平衡器后面的同一后端服务器。此外，您可以使用三元组(源IP、目标IP和协议)或二元组(源IP和目标IP)负载平衡策略来提供超出给定会话生存期的会话相关性。</p><p id="4792" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><em class="km">注意:如果您还没有注册，您可以今天就</em> <a class="ae kn" href="https://signup.cloud.oracle.com/?language=en&amp;sourceType=:ex:tb:::::Medium_useNetworkLoadBalancerToConnect&amp;SC=:ex:tb:::::Medium_useNetworkLoadBalancerToConnect&amp;pcode=" rel="noopener ugc nofollow" target="_blank"> <em class="km">注册甲骨文云免费层账户</em> </a> <em class="km">。</em></p><h1 id="3cc6" class="il im hh bd in io ko iq ir is kp iu iv iw kq iy iz ja kr jc jd je ks jg jh ji bi translated">网络负载平衡器的优势</h1><p id="eb58" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">第4层负载平衡器在不检查数据包内容的情况下向上游服务器转发网络数据包，这使它们更加安全。他们不需要解密数据包的内容；他们只能转发。在客户端和服务器之间仅流式传输一个连接，以便网络负载平衡器可以服务最大数量的连接。总的来说，网络负载平衡器是为速度和效率而构建的。</p><h1 id="f10a" class="il im hh bd in io ko iq ir is kp iu iv iw kq iy iz ja kr jc jd je ks jg jh ji bi translated"><strong class="ak">采用Oracle云网络负载平衡器</strong></h1><p id="8cd5" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated"><strong class="jl hi">第四层负载均衡</strong>:是</p><p id="f2bf" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">哈:是的</p><p id="095c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">带宽</strong>:灵活</p><p id="464b" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">客户端头保存</strong>:是</p><blockquote class="kt ku kv"><p id="9b7f" class="jj jk km jl b jm kh jo jp jq ki js jt kw kj jw jx kx kk ka kb ky kl ke kf kg ha bi translated">注意:不建议将SSH、RDP和DB端口的端口大开(对互联网0.0.0.0/0上的任何IP开放)。请参考下面的安全指南和最佳实践。</p><p id="38ef" class="jj jk km jl b jm kh jo jp jq ki js jt kw kj jw jx kx kk ka kb ky kl ke kf kg ha bi translated"><a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/Security/Reference/configuration_security.htm" rel="noopener ugc nofollow" target="_blank">甲骨文云安全最佳实践指南</a>，</p><p id="acae" class="jj jk km jl b jm kh jo jp jq ki js jt kw kj jw jx kx kk ka kb ky kl ke kf kg ha bi translated"><a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/Security/Concepts/security_guide.htm" rel="noopener ugc nofollow" target="_blank">甲骨文云基础设施安全指南</a>，</p><p id="15f2" class="jj jk km jl b jm kh jo jp jq ki js jt kw kj jw jx kx kk ka kb ky kl ke kf kg ha bi translated"><a class="ae kn" href="https://docs.oracle.com/en/solutions/oci-best-practices/#GUID-5F2D2745-934E-409A-A7BA-D0976F727845" rel="noopener ugc nofollow" target="_blank">Oracle云基础设施最佳实践框架</a></p></blockquote><h1 id="2a89" class="il im hh bd in io ko iq ir is kp iu iv iw kq iy iz ja kr jc jd je ks jg jh ji bi translated">步伐</h1><ol class=""><li id="9e91" class="kz la hh jl b jm jn jq jr ju lb jy lc kc ld kg le lf lg lh bi translated">在网络部分选择负载平衡器下创建网络负载平衡器。<em class="km">确保您到达了您想要的OCI地区和车厢。</em></li></ol><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es li"><img src="../Images/fac4a5bb396b25fda2af337e5508c69e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOwatytqee1FFexIoKynTw.png"/></div></div></figure><p id="4ba4" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2.点击<strong class="jl hi">创建负载平衡器</strong>。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lu"><img src="../Images/16345c65b9a0334a22736cce3d5a03f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7XESMGTl4JowvgsN1-lbxA.png"/></div></div></figure><p id="e1fc" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2a。选择<strong class="jl hi">网络负载平衡器</strong>。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lv"><img src="../Images/e8c546e4772e0a7fea6ca3dca9b75c86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQzewGx0O1EBpHAoSuJ2AQ.png"/></div></div></figure><p id="1c1d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2b。提供负载平衡器名称和可见性类型Public。公共IP可以是<a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/Network/Tasks/managingpublicIPs.htm" rel="noopener ugc nofollow" target="_blank">临时IP地址</a>或<a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/Network/Tasks/managingpublicIPs.htm#overview" rel="noopener ugc nofollow" target="_blank">保留IP地址</a>。</p><p id="355a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">选择VCN和子网，即公共子网。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lw"><img src="../Images/1400839b888bdf87393c7f4229e2f23a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g9p7EgUma044uMITpTQiQA.png"/></div></div></figure><p id="b7f0" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2c。选择网络安全组。</p><p id="2b9a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">网络安全组允许负载平衡器的入口和出口。使用网络负载平衡器，我们可以将您的企业网络公共IP列入白名单，只允许访问负载平衡器</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lx"><img src="../Images/8034fb34ed83dfaf2bddfd9df606b124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qv3gomgoLlUcNf4RmO5OFQ.png"/></div></div></figure><p id="18e5" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2d。为我们需要SSH连接的虚拟机创建后端。</p><p id="922f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">取消选中保留源IP。</p><p id="39b3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">为TCP指定端口号22上的健康检查选项。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ly"><img src="../Images/57f5adc8cf36f1e849a4f1a64d0241f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB66O9caZoh5avJGKtxg9g.png"/></div></div></figure><p id="a280" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2e。添加希望SSH连接到的后端服务器。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lz"><img src="../Images/77bbebdbbc94089ca2de37b4a95a6c57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SN4p4E2QA5EUmp4SqhOIkw.png"/></div></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ma"><img src="../Images/170947f310635d3a0a90052c14599406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GHWqO11ioJvpUF1Ocl59vQ.png"/></div></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mb"><img src="../Images/4050c3c34ab65489dbc833d27812762a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5jTKCervkaddxbXWgGEoQ.png"/></div></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mc"><img src="../Images/c421165f58a7cd6ddaa9adc72f9c5c00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-dmgqD_US3KbiAHrzKztw.png"/></div></div></figure><p id="b70c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">创建网络负载平衡器后，LBaaS和运行状况应该为绿色。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es md"><img src="../Images/1330d2d4d2345413409d8d8ca531d8ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FNsKTYcIq-t5keAEsAENyQ.png"/></div></div></figure><p id="ecc3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">使用LBaaS公共IP，您可以访问Linux虚拟机。</p><p id="4953" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">确保您已经在网络负载平衡器的网络安全组中将您的公共IP(公司或互联网公共IP)列入白名单。</p><p id="e9b4" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">还要配置从网络安全组到特定IP的出口。</p><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es me"><img src="../Images/5e1180a3a5e9af976122a9b6a4760239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eor_WdQnCmminKSn_rEieg.png"/></div></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div class="er es mf"><img src="../Images/9ad02e3b66f11a8d0d2e1d552bca0a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*y8Is1F_xCwJNCNYme_8ynw.png"/></div></figure><figure class="lj lk ll lm fd ln er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mg"><img src="../Images/0830471ef06aaf5080d997dbf924cf44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_3pKT88_CuNjqef8oMkneA.png"/></div></div></figure><p id="9d0b" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们还可以使用网络负载平衡器连接到Windows RDP、数据库端口或任何TCP或UDP端口。</p><p id="aa41" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><em class="km">甲骨文云网络负载平衡器服务不收费。</em></p><h1 id="4b4f" class="il im hh bd in io ko iq ir is kp iu iv iw kq iy iz ja kr jc jd je ks jg jh ji bi translated"><strong class="ak">总结</strong></h1><p id="359d" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">有关更多信息，请参见OCI文档中的<a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/NetworkLoadBalancer/overview.htm?source=:so:tw:or:awr:ocl" rel="noopener ugc nofollow" target="_blank"> OCI网络负载平衡器</a>或<a class="ae kn" href="https://docs.oracle.com/en-us/iaas/Content/Balance/Concepts/balanceoverview.htm?source=:so:tw:or:awr:ocl" rel="noopener ugc nofollow" target="_blank"> OCI负载平衡器</a>。我们希望您体验Oracle云基础架构提供的这些新特性和所有企业级功能。</p><p id="0a4d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><em class="km">注意——自由级用户可能会体验到其帐户所含服务的变化。</em></p></div></div>    
</body>
</html>