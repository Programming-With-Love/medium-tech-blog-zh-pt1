<html>
<head>
<title>Architecture of Selenium and Playwright</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">硒建筑与剧作家</h1>
<blockquote>原文：<a href="https://medium.com/version-1/playwright-vs-selenium-which-is-faster-and-more-stable-c41ba1a89c0a?source=collection_archive---------1-----------------------#2022-07-26">https://medium.com/version-1/playwright-vs-selenium-which-is-faster-and-more-stable-c41ba1a89c0a?source=collection_archive---------1-----------------------#2022-07-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h2 id="70f2" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">一般注意事项</strong></h2><p id="de81" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd ha bi translated">在本文中，我将解释两个流行的测试工具Selenium和剧作家的架构，以更好地理解哪种工具对于测试执行更稳定。</p><h2 id="462f" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">什么是剧作家？</h2><p id="93e1" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd ha bi translated">剧作家是一个用于web自动化测试的开源工具，由<a class="ae ke" href="https://www.version1.com/about-us/our-technology-partnerships/microsoft/" rel="noopener ugc nofollow" target="_blank">微软</a>于2020年开发。剧作家是为web应用程序的端到端自动化测试而设计的。它非常快速地执行测试，这对测试复杂的测试项目非常有帮助。</p><p id="4126" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">浏览器支持:</strong></p><p id="4f3d" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">剧作家支持多种浏览器如:<br/> Chromium，Firefox，Web Kit。</p><p id="651d" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">语言支持:</strong></p><p id="7090" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">剧作家支持Java，Python，。Net C#和JavaScript。</p><h2 id="b066" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">硒是什么？</strong></h2><p id="b5fc" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd ha bi translated">Selenium是一个流行的开源自动化测试工具，用于跨不同浏览器验证web应用程序。</p><p id="3dd0" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">浏览器支持:</strong></p><p id="c879" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">Selenium支持多种浏览器如:<br/> Chrome，Firefox，Internet Explorer，Safari。</p><p id="96d9" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">语言支持:</strong></p><p id="b6de" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">Selenium支持Python、Java、JavaScript、C#、Ruby、Php</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="81b4" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">硒与剧作家的建筑</strong></p><h1 id="53cc" class="kk im hh bd in kl km kn ir ko kp kq iv kr ks kt iz ku kv kw jd kx ky kz jh la bi translated"><strong class="ak">硒架构:</strong></h1><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lb"><img src="../Images/0fda31fc1a43bbea84d311da67d88eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLMvD71OCmwq0XH-RTIHyQ.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Selenium architecture</figcaption></figure><p id="7eb6" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">Selenium基于HTTP连接协议工作。这意味着在您触发测试之后，我们(客户端)编写的完整Selenium代码将被转换为JSON格式。生成的JSON通过HTTP协议发送给浏览器驱动(服务器)。</p><h1 id="17b3" class="kk im hh bd in kl km kn ir ko kp kq iv kr ks kt iz ku kv kw jd kx ky kz jh la bi translated"><strong class="ak">剧作家建筑:</strong></h1><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lr"><img src="../Images/277534f05eec320ec2964a3ea52dcc37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DCG_MeoBHWU015bS2l5Nhg.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">Playwright architecture</figcaption></figure><p id="43d7" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">当剧作家工作在Web socket连接协议上时，这意味着一旦你将触发测试，代码将被转换成JSON格式，并将使用Web socket协议发送到服务器。</p><p id="1d7d" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">所以现在我们将看到Web socket连接协议和HTTP连接协议的区别:</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es ls"><img src="../Images/95afaf104e8426d3319ffe6395d17365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QbZvZYJVvTTQbKOFupkBSQ.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx">HTTP VS Web Sockets Connection Diagram</figcaption></figure><p id="28d4" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">Selenium将每个命令作为单独的HTTP请求发送，并接收JSON响应。因此，每一个动作，比如打开浏览器、单击元素或在文本框中发送键，都作为一个单独的HTTP请求发送。此外，在每个请求完成后，服务器和客户端之间的连接将被终止，这需要为下一个请求重新建立。</p><p id="a1f0" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">每个请求后的连接终止会导致较慢的执行速度，从而导致分层。</p><p id="0598" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated"><strong class="jl hi">另一方面，剧作家</strong>通过一个单一的Web socket连接来传递所有的请求，这个连接一直保持到测试执行完成。这减少了故障点，并允许在单个连接上快速发送命令。</p><h2 id="fe45" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">结论</h2><p id="14f1" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt iw ju jv jw ja jx jy jz je ka kb kc kd ha bi translated">从架构图中，我们清楚地了解到Selenium需要在每个请求之前建立连接，因此有些请求可能会花费更多时间来建立连接，从而导致碎片化。而剧作家通过web套接字连接，因此连接将一直保持到所有测试用例执行完成，这使得剧作家成为比Selenium更稳定的工具。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lt"><img src="../Images/579af50ae3df25117c2afecdab739aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sMfeRIO_uCFD2UjuNNEdOw.jpeg"/></div></div></figure><p id="ae39" class="pw-post-body-paragraph jj jk hh jl b jm kf jo jp jq kg js jt iw kh jv jw ja ki jy jz je kj kb kc kd ha bi translated">作者简介: <br/> Shubham Pandey是第一版的测试工程师。</p></div></div>    
</body>
</html>