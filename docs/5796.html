<html>
<head>
<title>Oracle Analytics Cloud with Private Access Channel — OCI Automated Deployment Process</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有私有访问通道的Oracle分析云— OCI自动化部署流程</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/oracle-analytics-cloud-with-private-access-channel-oci-automated-deployment-process-de7434e02d00?source=collection_archive---------4-----------------------#2021-07-05">https://medium.com/oracledevs/oracle-analytics-cloud-with-private-access-channel-oci-automated-deployment-process-de7434e02d00?source=collection_archive---------4-----------------------#2021-07-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="76d2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated">racle最近发布了带有私人访问频道(PAC)的OAC。PAC用于连接OAC和私有数据源，例如托管在私有网络(如OCI私有子网、内部企业网络和其他云)中的数据库。</p><p id="86e7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">目前，没有任何自动化工具可用于在OCI部署OAC，这意味着要设置OAC实例，需要手动步骤。但是，有一个解决方案可以自动执行这些步骤，并使用基于Terraform的自动部署流程在OAC(私有)和OCI部署PAC，您可以使用此工具在将来创建和删除越来越多的OAC环境。这不仅可以通过部署Terraform脚本来处理手动步骤，还可以根据需要一致地部署额外的OAC实例。</p><p id="a53b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">自动部署工具将执行以下任务。</p><p id="da5a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">1.OAC PE(专用端点)环境的OCI网络资源设置。</p><p id="6efe" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.部署过程将创建一个VCN、一个用于堡垒主机的公共子网和两个用于数据库和OAC的单独的私有子网。</p><p id="736f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.将使用给定的配置预配Oracle数据库。</p><p id="0d0f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">4.具有专用访问通道的OAC实例将被提供所提供的配置。</p><p id="1a00" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">5.PAC出口IP将在数据库专用子网的安全列表中配置。</p><p id="006e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">6.将设置堡垒主机来访问DBCS和OAC等地的专用子网资源。</p><p id="df9a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">7.将配置所有路由规则和安全列表，以便环境可以用于迁移。</p><p id="21a0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated"><span class="l jk jl jm bm jn jo jp jq jr di">O</span><strong class="in hi">T5】交流架构T7】</strong></p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/70a39e6de6f7dc7f84aa62a74d371cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*prBMkKG5tnMnd7Yc_-MZuA.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx">OAC(Private Endpoint) Architecture in OCI</figcaption></figure><p id="79da" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated"><span class="l jk jl jm bm jn jo jp jq jr di">F</span>T10】特性</p><p id="ac28" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">1.PaaS和网络的两个独立部分将在逻辑上分离PaaS资源和网络资源。</p><p id="ef14" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.一个VCN在配置文件中提供了CIDR。</p><p id="6eca" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.所有必需的网关，例如互联网网关、服务网关和Nat网关。</p><p id="f140" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">4.一个公共子网用于Bastion主机(以及其他具有公共端点的PaaS资源)。</p><p id="05f9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">5.一个专用子网用于数据源，如DBCS。</p><p id="db96" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">6.OAC等应用程序的一个专用子网。</p><p id="7c30" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">7.一台Bastion主机将设置在公共子网中，以访问DB私有子网和App私有子网中的资源，例如本例中的DBCS和OAC。</p><p id="d8e9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">8.将为OAC配置专用端点。</p><p id="3840" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated"><span class="l jk jl jm bm jn jo jp jq jr di">D</span><strong class="in hi"><em class="js">e deploy工件</em> </strong></p><p id="4fef" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Variable . TF-terra form变量文件包含所有变量定义。</p><p id="739c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Config.tf — Terraform配置文件包含所有变量值，变量分为不同的类别，例如VCN、子网、DBCS等。并且不言自明。</p><p id="48e1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">deployment . TF—OIC环境的Terraform资源文件，该文件将设置所有网络资源(包括VCN)并供应所有PaaS组件(数据库、OAC、RDG、堡垒)。</p><p id="9388" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated"><span class="l jk jl jm bm jn jo jp jq jr di">H</span><strong class="in hi">T3】如何使用这个部署流程T5】</strong></p><p id="49a3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">先决条件Terraform应安装在您计划执行此流程的计算机上。</p><p id="4971" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="js">部署OAC环境</em></p><p id="7cfd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">1.在您的机器上创建一个安装Terraform的目录。</p><p id="7293" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.复制目录中的Variable.tf、Config.tf和Deployment.tf文件。</p><p id="35e8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.在Config.tf中为提供商、VCN、子网和PaaS提供所有值。</p><p id="64a0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">4.将Resource_suffix_dev设置为“dev”、“Test”，因为这将用于所有资源名称，例如Dev_Public_Subnet。</p><p id="e5dd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">5.执行“terra form plan-var-file = config . TF vars”</p><p id="cabc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">6.执行“terra form apply-var-file = config . TF vars”</p><p id="4f89" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">输出:将为非生产环境部署所有网络资源VCN、互联网网关、服务网关、Nat网关、子网、路由表、安全列表和所有PaaS组件DBCS、OAC、PAC和Bastion主机。</p><p id="e7e5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi jj translated"><span class="l jk jl jm bm jn jo jp jq jr di">D</span>T10<em class="js">部署脚本</em>T13】</p><p id="efd4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">您可以从这个GitHub存储库中下载部署过程工件。</p><p id="debb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">(config.sh中提到的值只是示例)</p><p id="12e0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae kj" href="https://github.com/amittyagi27/OAC-PAC.git" rel="noopener ugc nofollow" target="_blank">https://github.com/amittyagi27/OAC-PAC.git</a></p></div></div>    
</body>
</html>