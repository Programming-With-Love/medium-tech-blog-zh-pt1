<html>
<head>
<title>Your first Web Scraping script with Python and Beautiful Soup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你的第一个用Python和美汤编写的网页抓取脚本</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/your-first-web-scraping-with-beautiful-soup-fae32e53edb6?source=collection_archive---------0-----------------------#2019-08-23">https://medium.com/quick-code/your-first-web-scraping-with-beautiful-soup-fae32e53edb6?source=collection_archive---------0-----------------------#2019-08-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/bdfe04f3db32796f60d29c5ad2a3d7a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*acyf03rvPqZTOySGDktk1Q.png"/></div></figure><p id="c61e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">今天我们将学习如何使用名为Beautiful Soup的Python库来废弃音乐网络商店。通过简单易读的代码，我们将从我们最喜欢的乐队中提取所有专辑的数据，并将其存储到一个. csv文件中。</p><p id="f236" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">它简单，容易，甚至更好，是有效的。而且很有意思！</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="jn jo l"/></div><figcaption class="jp jq et er es jr js bd b be z dx"><em class="jt">If you prefer it, here’s the video version</em></figcaption></figure></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="3119" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">介绍</h1><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/9ce733da31f2282fd38f7e11fff886f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*IaDoKjc3LRtuG1pj"/></div></figure><p id="61b0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你知道什么是Python，美汤和网页抓取，跳到<a class="ae kz" href="https://letslearnabout.net/python/beautiful-soup/your-first-web-scraping-with-beautiful-soup/#importing-libraries" rel="noopener ugc nofollow" target="_blank">下一部分</a></p><p id="4fa4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你不知道，让我给你一个简单明了的解释:</p><ul class=""><li id="0a4e" class="la lb hh in b io ip is it iw lc ja ld je le ji lf lg lh li bi translated"><strong class="in hi"> Python </strong>:一种简单易学的编程语言。它是最常用的编程语言之一，因为它容易学习，因为它可以像英语一样阅读。</li><li id="c1a6" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated"><strong class="in hi">Beautiful Soup</strong>:Beautiful Soup是一个库(一组预先写好代码)，它给我们提供了通过网络抓取从网站中提取数据的方法</li><li id="252e" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">网页抓取:一种从网站中提取数据的技术。</li></ul><p id="fe1d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">考虑到这一点，我们将安装Beautiful Soup to scrap网站，<a class="ae kz" href="https://www.best-cd-price.co.uk/" rel="noopener ugc nofollow" target="_blank"> Best CD Price </a>来获取数据并将其存储到一个. csv文件中。我们走吧！</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="8e7f" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">做好准备</h1><p id="2fbd" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">如果您以前使用过Python，请打开您最喜欢的IDE，并在项目的文件夹中创建一个新环境。</p><p id="8d54" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你以前没用过Python，我说的听起来很奇怪，不要慌。如果你不想安装，你不需要安装任何东西。只需打开<a class="ae kz" href="https://repl.it/" rel="noopener ugc nofollow" target="_blank"> repl.it </a>，点击'+ next repl '，选择Python作为项目的语言，你就可以开始了:</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/dc66286f9e3141918c45fb19a49098af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*BUoYGuK1_dHb4tAI"/></div></figure><p id="955e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在此图中，中间有一个白色的列，您将在其中编写代码，在您的右侧，一个黑色的终端将在其中显示输出，在您的左侧，一个列列出了所有Python文件。这个脚本只有一个文件。</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="5357" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">导入库</h1><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/244120420e2db24221026a744409a95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/0*z3-WxdfTIaZCUgDU"/></div></figure><p id="272b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果我们必须只用Python编写所有代码，那将花费我们几天的时间，而不是不到30分钟。我们需要导入一些库来帮助我们。编写以下代码来导入它们:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="8a7e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们正在进口:</p><ul class=""><li id="d310" class="la lb hh in b io ip is it iw lc ja ld je le ji lf lg lh li bi translated"><a class="ae kz" href="https://2.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank">请求</a>获取HTML文件</li><li id="4ea2" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated"><a class="ae kz" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>从HTML文件中提取数据</li><li id="3690" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated"><a class="ae kz" href="https://pypi.org/project/lxml/" rel="noopener ugc nofollow" target="_blank"> lxml </a>将HTML解析(或翻译)为Python</li><li id="4296" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">熊猫可以操作我们的数据，打印并保存到一个文件中</li></ul><p id="311c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果我们点击“运行”,它将下载并安装所有的库。别担心，它只会在第一次安装它们。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/14147725f6952eab2edc6c15d068e1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*vOo7AnmMNGYiKuu9"/></div></figure></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="e8fc" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">获取URL</h1><p id="e0ec" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">从URL中抓取数据的第一步？正在获取那个URL。</p><p id="8f01" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">让我们简单点:去<a class="ae kz" href="http://www.best-cd-price.co.uk/" rel="noopener ugc nofollow" target="_blank"> Best CD Price </a>搜索一个乐队，然后复制结果URL。这是我的:<a class="ae kz" href="http://www.best-cd-price.co.uk/search-Keywords/1-/229816/sex+pistols.html" rel="noopener ugc nofollow" target="_blank">http://www . best-CD-price . co . uk/search-Keywords/1-/229816/sex+pistols . html</a></p><p id="3e5e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">导入代码后，键入以下内容:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="3246" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">运行代码，你会看到“一切都很酷！”消息。</p><p id="e585" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们已将我们的URL存储在“search_url”中。使用请求，我们使用“get”方法获取URL，如果一切正常，我们的URL被成功获取，并带有200状态代码(成功)，我们打印“一切正常！”在我们的终点站。</p><p id="8c76" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Python需要理解代码。要做到这一点，我们必须翻译它，或解析它。用以下代码替换最后一次打印:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="cb3b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们用“lxml”解析器解析页面的文本，并打印结果。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es lv"><img src="../Images/d980745827d19376321028178644c1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/0*UJn5oknzLqALZyNS"/></div></div></figure><p id="bfe6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">听起来很熟悉？</p><p id="d85c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们将整个URL存储在“bs”变量中。现在，让我们拿我们需要的部分。</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="cbda" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">从URL中选择元素</h1><p id="b08e" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">现在有趣的部分开始了！</p><p id="9c66" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对我来说，网络抓取很有趣，尤其是因为这个过程的这一部分。我们就像犯罪现场的侦探，寻找可以追踪的线索。</p><p id="7241" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">复制搜索URL并将其粘贴到浏览器中。虽然推荐使用Chrome，但这不是强制性的。右键单击网站的任意位置，然后选择“检查”。侧面的抽屉会打开。确保单击“元素”选项卡。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/5c61b37fbd509de58d9a24268462452e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*TNCjK0bYjLL99O0M"/></div></figure><p id="5738" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">你看到的是网站的骨架:HTML代码。</p><p id="fe08" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">你可以将光标移动到一个HTML标签上，网站的这一部分就会被选中。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/1c394cceca3a03b2605b79fb96341b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*zkYPeDVc--FsANys"/></div></figure><p id="ef6f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这相当于侦探放大镜。通过悬停在HTML标签上，我们可以知道我们需要选择哪一部分。</p><p id="ab79" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我发现了第一条线索。每张CD都包装在一个li标签(列表项)和一个ul标签(无序列表)中。那我们把他们都抓起来吧！</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="5ae4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们将我们的网站存储在“bs”变量中。我们使用“findAll”方法来查找每个“li”标签。但是由于有192个li元素，我们需要缩小范围。</p><p id="a159" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们将获取每个也有一个类“ResultItem”的li标签，然后打印所有标签和列表的长度。</p><p id="2b8e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们得到整个列表和“10”，因为在我们的页面中有10个项目。看起来不错！</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="8934" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">得到我们的第一张专辑</h1><p id="03f4" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">我们列出了10张(或更少，取决于乐队)专辑。让我们得到一个，看看我们如何提取所需的数据。然后，按照同样的过程，我们会得到其余的。</p><p id="e722" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">删除以前的打印内容，并键入以下内容:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="e52d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">选择所有cd后，我们将第一张CD存储到“CD”中并打印出来:</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/e0363aa06f6cce673b118feb0067f502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/0*udCZ0nMCJqXWEInd"/></div></figure><p id="d183" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">您也可以在网站上查看相同的结构:</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es mc"><img src="../Images/4c6f593cae3f37ec0c399949e090a876.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/0*bL6Jo_0SsYj1Ud05"/></div></figure><p id="1bd6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">让我们抓住这张光盘的信息！</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="4e02" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">按照与前面相同的技术，我们使用类“ProductImage”搜索“img”标记。现在方法是“find ”,因为我们只需要第一个实例，而不是每个实例</p><p id="9309" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">嗯，我们有元素，真的。但是我们只需要图像的URL，它存储在“src”属性中。作为一个Python元素，我们可以使用['src']将其提取为一个普通属性</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="e416" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">很好，我们提取了图像。让我们继续:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="8c9a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">酷！只要几行字，我们就什么都有了！</p><p id="fc5c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们不断提取我们需要的价值。如果元素是标签的属性，如“src”或“href”，我们使用[“href”]来提取它。如果它是开始和结束标签之间的文本，我们使用。'文本'。</p><p id="141b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">由于不是每个相册都有相同的属性，我们首先尝试获取值，然后，如果它存在，我们尝试查找值。如果没有，我们就返回一个空字符串:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="6427" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">有些值有我们不需要的额外文本，如format_album或release_date。我们用“replace”函数删除多余的文本，用一个空字符串替换该文本。</p><p id="6d5e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这是代码中最复杂的部分，但我相信你已经搞定了。</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="5b48" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">得到所有的专辑</h1><p id="de84" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">我们可以从一张CD上获取信息，现在让我们对每张CD做同样的事情，并将它存储到一个对象中。</p><p id="0823" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">将“if page.status_code…”语句中的内容替换为</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="e77b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">“数据”是我们的对象结构。我们将添加每个键中的每个值。相册的名称，数据['名称']，封面数据['图像']，等等。现在我们只需要循环遍历每一项，并将获取的值存储到数据对象中。</p><p id="87c2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对于list_all_cds中的每个元素，我们将把它命名为“cd ”,并在For循环中运行代码。</p><p id="c1f7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">获得每个值后，我们将数据值追加(或“添加”)到:</p><p id="255c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">数据['图像']。附加(图像)</p><p id="c71b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，印刷品。信息摆在那里，不错！</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/f9cd41fb5fc37b7acc37aee10db32241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*odxiikcOgRi12olk"/></div></figure><p id="ac38" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">但是很难看，很难读…</p><p id="1d34" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">还记得我们安装了“熊猫”图书馆吗？这将有助于我们显示数据和其他内容。</p></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="97d1" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">将相册存储在文件中</h1><p id="5112" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">让我们用熊猫图书馆吧！将它复制到文件的末尾，在for循环之外:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="d530" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Pandas(或pd)给了我们一个“DataFrame”函数，我们在其中传递数据和列列表。就是这样。这足以创建一个漂亮的表。</p><p id="b6ff" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">“table.index = table.index +1”将第一个索引设置为“1”而不是“0”。</p><p id="0871" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">下一行创建一个. csv文件，用逗号作为分隔符，并将编码设置为“UTF-8”。我们不想存储索引，所以我们将它设置为false。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/be13d949a89d4319328c6c49c1a5251e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*3A3Ib-e3v77hyTKQ"/></div></figure><p id="ff11" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">更好看！</p><p id="7de0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">但是现在检查你的左栏。您有一个“my_albums.csv”文件。所有东西都存放在那里！</p><p id="6b5f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">恭喜你，你已经用Python写了你的第一个抓取脚本</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es md"><img src="../Images/5e06f88a2533fbf8ace05ac985912775.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/0*tFnXOKhx3Rrl4i-f"/></div></figure></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="8db9" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">加分！</h1><p id="7b16" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">您成功创建了自己的第一个抓取机器人。你可以通过切换网址刮任何乐队…</p><p id="a772" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">但是我们可以做得更好，对吗？</p><p id="ab58" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为什么不询问用户一个乐队的名字并搜索它。这能做到吗？</p><p id="e962" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当然了。</p><p id="163d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">用新代码替换旧代码:</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="abd7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这里我们要求用户输入一个波段，我们通过用“+”符号替换空格来格式化名称。这个网站搜索的时候就这样，所以我们也要这样。例:<a class="ae kz" href="http://www.best-cd-price.co.uk/search-Keywords/1-/229816/sex+pistols.html" rel="noopener ugc nofollow" target="_blank">http://www . best-CD-price . co . uk/search-Keywords/1-/229816/sex+pistols . html</a></p><p id="3f1c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，我们的搜索URL使用格式化的乐队名称</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="498f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这不是强制性的，但是在代码的开头使用URL来替换它是一种更好的做法。</p><figure class="jj jk jl jm fd ii"><div class="bz dy l di"><div class="lu jo l"/></div></figure><p id="c2eb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在这个文件有了每个乐队的名字，所以我们可以创建任意数量的文件，而不用重写它！让我们运行代码。</p><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es me"><img src="../Images/183ae77e690de91c0089bf28c32a5dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/0*DQ49ZAzA5-71c9Ft"/></div></figure><figure class="jj jk jl jm fd ii er es paragraph-image"><div class="er es ie"><img src="../Images/47d752ed12ca89968774f85598c8e315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*3N_Wg5m8GHIZ_lw0"/></div></figure></div><div class="ab cl ju jv go jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="ha hb hc hd he"><h1 id="28e8" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">结论</h1><p id="5e3f" class="pw-post-body-paragraph il im hh in b io lo iq ir is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji ha bi translated">在短短几分钟内，我们学会了如何:</p><ul class=""><li id="be36" class="la lb hh in b io ip is it iw lc ja ld je le ji lf lg lh li bi translated">获取网站</li><li id="2658" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">本地化我们要废弃的元素</li><li id="f2f5" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">分析我们需要点击什么HTML标签和类来检索值</li><li id="67be" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">如何将检索到的值存储到对象中</li><li id="82b4" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">如何使用该对象创建文件</li><li id="714a" class="la lb hh in b io lj is lk iw ll ja lm je ln ji lf lg lh li bi translated">我们改进了代码，让我们的用户输入乐队的名字，并将其存储到一个文件中，以乐队的名字作为文件名。</li></ul><p id="0e6d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我真的为你感到骄傲，直到本教程结束。</p><p id="4372" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你发现代码有任何问题，记得和我的<a class="ae kz" href="https://repl.it/@DavidMM1707/Best-CD-Price" rel="noopener ugc nofollow" target="_blank">回复代码</a>进行比较，或者在Twitter 上问我<a class="ae kz" href="https://twitter.com/DavidMM1707" rel="noopener ugc nofollow" target="_blank"/></p><p id="b6dc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">记住，你可以在我的<a class="ae kz" href="https://letslearnabout.net/tutorials-py/python-tutorials/" rel="noopener ugc nofollow" target="_blank"> Python教程</a>中了解更多关于Python的知识，或者在这里阅读<a class="ae kz" href="https://letslearnabout.net/" rel="noopener ugc nofollow" target="_blank">我的博客</a></p></div></div>    
</body>
</html>