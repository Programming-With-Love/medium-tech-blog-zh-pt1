<html>
<head>
<title>How to Build a CRUD Application Using Node.js and MySQL?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js和MySQL构建一个CRUD应用？</h1>
<blockquote>原文：<a href="https://medium.com/edureka/node-js-mysql-tutorial-cef7452f2762?source=collection_archive---------0-----------------------#2019-05-21">https://medium.com/edureka/node-js-mysql-tutorial-cef7452f2762?source=collection_archive---------0-----------------------#2019-05-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/f0f2c2083aa37263fe84d787ee522923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Tngo0yGXP1W9jVjTqZio-A.png"/></div><figcaption class="il im et er es in io bd b be z dx">Node.js MYSQL Tutorial — Edureka</figcaption></figure><p id="76f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">MySQL是开发人员最喜欢的数据库之一，因为它是开源的并且高效。这就是为什么大多数著名的编程语言，如Java、Python、Node.js等，都提供了访问和执行MySQL事务的驱动程序。在本文中，我将演示如何通过几个简单易行的步骤建立与MySQL的连接并执行各种CRUD操作。</p><p id="2812" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是本文将要讨论的主题的详细列表</p><ul class=""><li id="d3b2" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">为什么要用MySQL搭配Node.js？</li><li id="67b2" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">MySQL安装</li><li id="c317" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">使用Node.js和MySQL创建CRUD应用程序</li></ul><p id="7645" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我从解决最基本的问题开始这篇文章，即我们为什么使用MySQL。</p><h1 id="012d" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">为什么要用MySQL搭配Node.js？</h1><p id="130c" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">简单来说，<a class="ae le" href="https://www.edureka.co/blog/what-is-mysql?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=node-js-mysql-tutorial" rel="noopener ugc nofollow" target="_blank"> MySQL </a>是一个开源的关系数据库管理系统，可以在各种平台上运行。它是一种Oracle产品，提供多用户访问以支持许多存储引擎。不仅如此，MySQL还有许多有趣的特性，这些特性将应用程序的性能提升了一个档次。下面我列出了其中的一些:</p><ul class=""><li id="8699" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi"><em class="lf"/></strong>—非常容易下载，那也是免费的。它提供了一个事件调度器的功能，您可以使用它来自动调度任务。</li><li id="1e74" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">健壮的事务支持</em> </strong> —它拥有ACID(原子性、一致性、隔离性、持久性)属性，并提供分布式多版本支持。</li><li id="e7a6" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">高性能</em> </strong> —它还提供快速加载实用程序，具有独特的内存缓存和表索引分区。</li><li id="93f2" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">总拥有成本低</em> </strong> —总体上降低了许可成本和硬件支出。</li><li id="fc28" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">安全数据保护</em> </strong> —它通过实施强大的机制来提供高安全性，这些机制只允许授权用户访问数据库。</li><li id="d07a" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">高可用性</em> </strong> —它可以运行高速主/从复制配置，还提供集群服务器。</li><li id="48f3" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> <em class="lf">可扩展性&amp;灵活性</em> </strong> —它可以用来运行深度嵌入式应用程序，并创建容纳海量数据的数据仓库。</li></ul><p id="53bf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我想现在你已经非常熟悉MySQL在市场上被大量使用的原因了。接下来，让我们看看如何在您的本地系统中安装并开始使用MySQL。</p><h1 id="1c27" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">MySQL安装</h1><p id="e224" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">有多种方法可以在你的系统中安装MySQL。安装MySQL最简单的方法是使用MySQL安装程序。可以从<a class="ae le" href="https://dev.mysql.com/downloads/installer/" rel="noopener ugc nofollow" target="_blank"> <strong class="ir hi"> MySQL官方网站</strong> </a>下载。</p><p id="129a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我为什么使用它是因为MySQL安装程序是一个独立的应用程序，它简化了安装和配置MySQL产品的复杂性。</p><p id="aaf4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们已经完成了安装，让我们尝试将MySQL与Node.js应用程序集成起来。</p><h1 id="2cd5" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">使用Node.js和MySQL创建CRUD应用程序</h1><p id="94a7" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">在这里，我将使用Node.js创建一个简单的CRUD应用程序，并将其与MySQL数据库相链接，以在其中存储学习者的数据。因为我的主要目的是演示来自数据库的数据事务，所以我将主要关注控制器。一旦您对控制器有了足够的了解，您就可以向它添加视图了。</p><p id="c44c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，让我们专注于我们的项目。该项目将具有以下项目结构:</p><p id="1853" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> SampleNodeMySQL </strong></p><ol class=""><li id="2b11" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm lg jt ju jv bi translated">package.json</li><li id="d595" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lg jt ju jv bi translated">script.js</li></ol><p id="99a5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，让我们通过为项目创建一个目录来开始应用程序开发。完成后，打开命令提示符并导航到您的项目目录。现在您需要为此设置项目配置，键入以下命令并提供必要的详细信息:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="874e" class="lq kc hh lm b fi lr ls l lt lu">npm init</span></pre><p id="4ca5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，您需要安装所需的软件包。在这个项目中，我使用以下软件包:</p><ul class=""><li id="c82f" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi"> express.js: </strong>它是一个web框架。</li><li id="f359" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">MySQL:</strong>MySQL的Node.js驱动程序</li><li id="e7e8" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> body-parser: </strong>帮助将POST数据转换成请求体。</li><li id="5f84" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> nodemon: </strong>有助于在代码改变时自动重启服务器。</li></ul><p id="58e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了安装这些软件包，请键入以下命令:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="3f88" class="lq kc hh lm b fi lr ls l lt lu">npm i --s express express-handlebars mongoose body-parser</span></pre><p id="ea9a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因为我想安装nodemon，以便它可以访问目录中的任何文件，所以我将使用全局命令来安装它:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="4c8d" class="lq kc hh lm b fi lr ls l lt lu">npm i -g nodemon</span></pre><p id="773d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">完成软件包的安装后，最终的JSON文件应该类似于下面的文件:</p><p id="12d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> package.json </strong></p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="c045" class="lq kc hh lm b fi lr ls l lt lu">"name": "samplenodemysql",<br/>"version": "1.0.0",<br/>"description": "Edureka Demo for creating a CRUD application using Node.js and MySQL",<br/>"main": "script.js",<br/>"scripts": {<br/>"test": "echo "Error: no test specified" &amp;&amp; exit 1"<br/>},<br/>"author": "Edureka",<br/>"license": "ISC",<br/>"dependencies": {<br/>"body-parser": "^1.19.0",<br/>"express": "^4.16.4",<br/>"mysql": "^2.17.1"<br/>}<br/>}</span></pre><p id="bbfe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如您所看到的，在dependencies部分，所有已安装的软件包都已成功列出。现在，让我们创建将在本演示中使用的数据库。为此，在MySQL Workbench中推出了一个新的连接。进入后，创建一个名为“学习者”的新数据库。现在，在该数据库中，创建一个名为“learnerdetails”的新表，并包含以下各列:</p><ol class=""><li id="3df8" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm lg jt ju jv bi translated">learner_id (INT) —主键</li><li id="dd61" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lg jt ju jv bi translated">学习者姓名(VARCHAR)</li><li id="99c5" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lg jt ju jv bi translated">学员_电子邮件(VARCHAR)</li><li id="1bc5" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm lg jt ju jv bi translated">course_Id (INT)</li></ol><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es lv"><img src="../Images/10dd3b770b270660626429496fe97ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ef0znG3rWzNjeo11J7V_gA.png"/></div></div></figure><p id="52d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在表中添加一些值，以便我们可以从Node.js应用程序中访问和测试它们。</p><p id="614d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">回到应用程序，下一步是创建<strong class="ir hi"> script.js </strong>文件，这将有助于从新创建的数据库中检索数据。Script.js是根文件，也是这个应用程序的入口点。它将包含所有的路由器和驱动程序。除此之外，它还负责调用服务器并建立连接。</p><p id="a8c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要创建该文件，可以使用任何代码编辑器或IDE。我正在使用Webstorm IDE开发这个应用程序。首先，您需要在应用程序中导入所需的包，为此，您需要键入以下代码:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="c5d1" class="lq kc hh lm b fi lr ls l lt lu">const mysql = require('mysql');<br/>const express = require('express');<br/>const bodyparser = require('body-parser');<br/>var app = express();<br/>//Configuring express server<br/>app.use(bodyparser.json());</span></pre><p id="da60" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，您需要建立与MySQL数据库的连接。为此，您必须使用createConnection()函数并提供所需的详细信息，如主机、用户、密码和数据库。输入详细信息时要非常小心，否则MySQL不会授权连接。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="4109" class="lq kc hh lm b fi lr ls l lt lu">//MySQL details<br/>var mysqlConnection = mysql.createConnection({<br/>host: 'localhost',<br/>user: 'root',<br/>password: 'edu1234',<br/>database: 'learner',<br/>multipleStatements: true<br/>});</span></pre><p id="764c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">之后，使用connect()函数连接，使用提供的凭证建立与数据库的连接。这里需要指定如果连接成功Node.js应该做什么，如果连接失败应该做什么。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="dfd9" class="lq kc hh lm b fi lr ls l lt lu">mysqlConnection.connect((err)=&gt; {<br/>if(!err)<br/>console.log('Connection Established Successfully');<br/>else<br/>console.log('Connection Failed!'+ JSON.stringify(err,undefined,2));<br/>});</span></pre><p id="66f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，您还需要指定端口，因为我们将通过HTTP向服务器发送请求。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="2bee" class="lq kc hh lm b fi lr ls l lt lu">//Establish the server connection<br/>//PORT ENVIRONMENT VARIABLE<br/>const port = process.env.PORT || 8080;<br/>app.listen(port, () =&gt; console.log(`Listening on port ${port}..`));</span></pre><p id="f6ff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，在终端中键入以下命令:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="f087" class="lq kc hh lm b fi lr ls l lt lu">nodemon script.js</span></pre><p id="460d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦您按下回车键，您的连接就成功了，您将能够在终端中看到成功的消息，如下面的快照所示:</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/ed50b5a8b4eca2a8b0396fb168ed012d.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*rIdAfI2sMQlv58nIj1WUwg.png"/></div></figure><p id="6a96" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们继续，尝试创建GET路由器，从数据库中获取完整的学习者列表及其详细信息。参考以下代码:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="3468" class="lq kc hh lm b fi lr ls l lt lu">//Creating GET Router to fetch all the learner details from the MySQL Database<br/>app.get('/learners' , (req, res) =&gt; {<br/>mysqlConnection.query('SELECT * FROM learnerdetails', (err, rows, fields) =&gt; {<br/>if (!err)<br/>res.send(rows);<br/>else<br/>console.log(err);<br/>})<br/>} );</span></pre><p id="57d0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我将使用另一个名为Postman的应用程序来发出请求。Postman可以作为插件轻松添加到您的浏览器中。它有助于组织来自客户端的请求并存储请求历史。因此，一旦在系统中安装了POSTMAN for Node.js，就可以开始启动它了。现在，从下拉列表中选择GET并输入下面的URL:<a class="ae le" href="http://localhost:8080/learners" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/learners</a></p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mb"><img src="../Images/0b5a51db78008123fae78083d708d91f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTxbQGP4iFRK3Dawz-bkPA.png"/></div></div></figure><p id="b446" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，让我们尝试创建一个路由器，通过传入学习者的ID来获取特定学习者的详细信息。键入以下代码来创建此路由器。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="acae" class="lq kc hh lm b fi lr ls l lt lu">//Router to GET specific learner detail from the MySQL database<br/>app.get('/learners/:id' , (req, res) =&gt; {<br/>mysqlConnection.query('SELECT * FROM learnerdetails WHERE learner_id = ?',[req.params.id], (err, rows, fields) =&gt; {<br/>if (!err)<br/>res.send(rows);<br/>else<br/>console.log(err);<br/>})<br/>} );</span></pre><p id="06cf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们试着在POSTMAN中发送一个带有学习者特定ID的请求。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mc"><img src="../Images/adfb23a67972d2cde595645c908d9c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ck3GWAl99L5dHIvSmtuEpg.png"/></div></div></figure><p id="d528" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，让我们创建一个路由器来添加新学员的详细信息。但是在此之前，您需要在数据库中创建一个存储过程来处理您的插入或更新请求。对于开放MySQL工作台。在您的学员数据库下，您会发现一个“存储过程”。右键单击以创建一个存储过程，并将其命名为' learnerAddOrEdit '。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es md"><img src="../Images/90352faea9baf495bffd589c82b685c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*dSGZT4U-Nne7g6EHuUCGoQ.png"/></div></figure><p id="ee05" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">键入以下代码以定义所有必需的例程:</p><p id="e586" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> learnerAddOrEdit </strong></p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="c90f" class="lq kc hh lm b fi lr ls l lt lu">CREATE DEFINER=`root`@`localhost` PROCEDURE `learnerAddOrEdit`(<br/>IN _learner_id INT,<br/>IN _learner_name VARCHAR(45),<br/>IN _learner_email VARCHAR(45),<br/>IN _course_Id INT<br/>)<br/>BEGIN<br/>IF _learner_id = 0 THEN<br/>INSERT INTO learnerdetails(learner_name,learner_email,course_Id)<br/>VALUES (_learner_name,_learner_email,_course_Id);<br/>SET _learner_id = last_insert_id();<br/>ELSE<br/>UPDATE learnerdetails<br/>SET<br/>learner_name = _learner_name,<br/>learner_email = _learner_email,<br/>course_Id = _course_Id<br/>WHERE learner_id = _learner_id;<br/>END IF;<br/>SELECT _learner_id AS 'learner_id';<br/>END</span></pre><p id="9e48" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">完成后，切换回script.js文件，并为POST请求键入以下代码。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="469e" class="lq kc hh lm b fi lr ls l lt lu">//Router to INSERT/POST a learner's detail<br/>app.post('/learners', (req, res) =&gt; {<br/>let learner = req.body;<br/>var sql = "SET <a class="ae le" href="http://twitter.com/learner_id" rel="noopener ugc nofollow" target="_blank">@learner_id</a> = ?;SET <a class="ae le" href="http://twitter.com/learner_name" rel="noopener ugc nofollow" target="_blank">@learner_name</a> = ?;SET <a class="ae le" href="http://twitter.com/learner_email" rel="noopener ugc nofollow" target="_blank">@learner_email</a> = ?;SET <a class="ae le" href="http://twitter.com/course_Id" rel="noopener ugc nofollow" target="_blank">@course_Id</a> = ?; <br/>CALL learnerAddOrEdit(<a class="ae le" href="http://twitter.com/learner_id" rel="noopener ugc nofollow" target="_blank">@learner_id</a>,<a class="ae le" href="http://twitter.com/learner_name" rel="noopener ugc nofollow" target="_blank">@learner_name</a>,<a class="ae le" href="http://twitter.com/learner_email" rel="noopener ugc nofollow" target="_blank">@learner_email</a>,<a class="ae le" href="http://twitter.com/course_Id" rel="noopener ugc nofollow" target="_blank">@course_Id</a>);";<br/>mysqlConnection.query(sql, [learner.learner_id, learner.learner_name, learner.learner_email, learner.course_Id], (err, rows, fields) =&gt; {<br/>if (!err)<br/>rows.forEach(element =&gt; {<br/>if(element.constructor == Array)<br/>res.send('New Learner ID : '+ element[0].learner_id);<br/>});<br/>else<br/>console.log(err);<br/>})<br/>});</span></pre><p id="8bb0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">根据我们的代码，值为0的学习者ID表示该特定条目是数据库中的新条目。因此，无论何时发出插入请求，都要确保将ID作为0传递。现在打开POSTMAN，从下拉列表中选择POST，提供URL并在body部分输入学员的详细信息。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mb"><img src="../Images/f6c19355b886fb6cd2000ca4724c9ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1aKN17Zr8UfcxS4ODD_9GQ.png"/></div></div></figure><p id="2ef4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，当您尝试获取完整的学员列表时，您也会看到新插入的记录。为了进行交叉检查，您可以打开工作台并点击refresh按钮来查看表中的新记录。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es me"><img src="../Images/649aa5bd92069018acb156cf76fe8348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xRXYtp9TXnOG5H0KxmzFA.png"/></div></div></figure><p id="5435" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，您需要创建一个路由器来更新学员的详细信息。为此，请键入以下代码:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="9a10" class="lq kc hh lm b fi lr ls l lt lu">//Router to UPDATE a learner's detail<br/>app.put('/learners', (req, res) =&gt; {<br/>let learner = req.body;<br/>var sql = "SET <a class="ae le" href="http://twitter.com/learner_id" rel="noopener ugc nofollow" target="_blank">@learner_id</a> = ?;SET <a class="ae le" href="http://twitter.com/learner_name" rel="noopener ugc nofollow" target="_blank">@learner_name</a> = ?;SET <a class="ae le" href="http://twitter.com/learner_email" rel="noopener ugc nofollow" target="_blank">@learner_email</a> = ?;SET <a class="ae le" href="http://twitter.com/course_Id" rel="noopener ugc nofollow" target="_blank">@course_Id</a> = ?; <br/>CALL learnerAddOrEdit(<a class="ae le" href="http://twitter.com/learner_id" rel="noopener ugc nofollow" target="_blank">@learner_id</a>,<a class="ae le" href="http://twitter.com/learner_name" rel="noopener ugc nofollow" target="_blank">@learner_name</a>,<a class="ae le" href="http://twitter.com/learner_email" rel="noopener ugc nofollow" target="_blank">@learner_email</a>,<a class="ae le" href="http://twitter.com/course_Id" rel="noopener ugc nofollow" target="_blank">@course_Id</a>);";<br/>mysqlConnection.query(sql, [learner.learner_id, learner.learner_name, learner.learner_email, learner.course_Id], (err, rows, fields) =&gt; {<br/>if (!err)<br/>res.send('Learner Details Updated Successfully');<br/>else<br/>console.log(err);<br/>})<br/>});</span></pre><p id="1840" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们尝试实现更新请求。为此，返回到POSTMAN，从下拉列表中选择PUT并提供URL。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mf"><img src="../Images/a5e90084e6639c7f046cd7386e6e8bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1xVeA0pM6RC1662F-jZFQ.png"/></div></div></figure><p id="e0fd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，如果您返回MySQL workbench并进行刷新，您将看到特定的记录已经更新。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/1fe3b913800ef00d5197ac5342867b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xy76hl8JpZvWGpzR4dxzg.png"/></div></div></figure><p id="9113" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，让我们创建删除路由器。为此，键入下面给出的代码。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="0bc5" class="lq kc hh lm b fi lr ls l lt lu">//Router to DELETE a learner's detail<br/>app.delete('/learners/:id', (req, res) =&gt; {<br/>mysqlConnection.query('DELETE FROM learnerdetails WHERE learner_id = ?', [req.params.id], (err, rows, fields) =&gt; {<br/>if (!err)<br/>res.send('Learner Record deleted successfully.');<br/>else<br/>console.log(err);<br/>})<br/>});</span></pre><p id="f517" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">完成后，去找邮递员，从下拉列表中选择删除。在URL中，提供要删除其详细信息的特定学员id。点击发送后，您可以在响应正文中看到成功消息。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mc"><img src="../Images/b05ec0a37e4d223b3cda33a4d1e810bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQiF7FWInb8qrV3VhVICiw.png"/></div></div></figure><p id="dd04" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了进行交叉检查，您可以返回到您的工作台并点击刷新。您将看到具有所提供id的记录已经从表中删除。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mh"><img src="../Images/b3bed09fd8f717c25df18a1657dd763a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h6VnhK8_NGwXBfEyHjg4RA.png"/></div></div></figure><p id="63cc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就把我们带到了本文的结尾。希望，它有助于增加你的知识价值。如果你想获得更多关于Node.js的见解，你也可以参考我的其他文章。</p><p id="2c20" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释Node.js的各个方面</p><blockquote class="mi mj mk"><p id="8b41" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">1.<a class="ae le" rel="noopener" href="/edureka/node-js-tutorial-800e03bc596b"> NodeJS教程</a></p><p id="dda7" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">2.<a class="ae le" rel="noopener" href="/edureka/node-js-mysql-tutorial-cef7452f2762">使用Node.js和MySQL构建一个CRUD应用程序</a></p><p id="7f59" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">3.<a class="ae le" rel="noopener" href="/edureka/rest-api-with-node-js-b245e345f7a5">从头开始构建Node.js】</a></p><p id="dba7" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">4.<a class="ae le" rel="noopener" href="/edureka/node-js-requests-6b94862307a2">提出Node.js请求的3种最佳方式</a></p><p id="c6f4" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">5.<a class="ae le" rel="noopener" href="/edureka/node-js-docker-tutorial-72e7542d69d8">如何对Node.js App进行Dockerize？</a></p><p id="4689" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">6.<a class="ae le" rel="noopener" href="/edureka/rest-api-with-node-js-b245e345f7a5">用Node.js构建REST API</a></p><p id="43f5" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">7.<a class="ae le" rel="noopener" href="/edureka/node-js-requests-6b94862307a2">提出Node.js请求的3种最佳方式</a></p><p id="3ecd" class="ip iq lf ir b is it iu iv iw ix iy iz ml jb jc jd mm jf jg jh mn jj jk jl jm ha bi translated">8.<a class="ae le" rel="noopener" href="/edureka/learn-node-js-b3a9c6fb632c"> Express.js基础</a></p></blockquote></div><div class="ab cl mo mp go mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ha hb hc hd he"><p id="f4d5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lf">原载于2019年5月21日</em><a class="ae le" href="https://www.edureka.co/blog/node-js-mysql-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="lf">【https://www.edureka.co】</em></a><em class="lf">。</em></p></div></div>    
</body>
</html>