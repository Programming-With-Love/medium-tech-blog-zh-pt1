<html>
<head>
<title>When is it NOT right to create a new content type in Drupal?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么时候在Drupal中创建新的内容类型是不对的？</h1>
<blockquote>原文：<a href="https://medium.com/globant/when-is-it-not-right-to-create-a-new-content-type-in-drupal-483a8fe560f3?source=collection_archive---------1-----------------------#2021-09-01">https://medium.com/globant/when-is-it-not-right-to-create-a-new-content-type-in-drupal-483a8fe560f3?source=collection_archive---------1-----------------------#2021-09-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f41a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您在Drupal项目中经常注意到的一个违反最佳实践的情况是创建一个内容类型来存储任何类型的数据。</p><p id="b72e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">比方说，您想要生成并分发一组唯一的代码，这些代码一次性有效，并且是在您的网站上注册所必需的。这里实现的一个简单方法是创建一个只有两个字段(代码(文本)和状态(选择—有效/已用)的内容类型，并将代码存储为节点，并在注册过程中使用节点数据进行验证。但是这是一种非常不合适的内容建模方式。</p><p id="e8aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">内容类型使构建变得容易。开箱即用，你有很多现成的内容类型的功能——<strong class="ig hi"><em class="jc">表单来添加、编辑、删除、修改，每当添加一行条目时，站点范围内的钩子就会左右居中，元标签、url别名、修改等等</em>。</strong>创建新的内容类型只需一分钟。因此，每当有新类型的数据要存储时，总是倾向于添加内容类型。</p><p id="a385" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">它们增加了多少便利，也增加了等量的性能开销。</strong></p><p id="da50" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，<strong class="ig hi">Drupal存储内容类型数据的方式</strong>，一段内容分布在大量的表中，高度规范化。这意味着您要检查给定的唯一代码是否有效，您将(直接或通过节点API)查询多达<strong class="ig hi"> <em class="jc"> 5个表——node、node_field_code、node_field_code_status、node_revision__field_code、node _ revision _ _ field _ code _ status</em></strong><em class="jc"/>并执行连接以合并数据。</p><p id="3f27" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，当您需要处理的内容本身没有重要的显示意义，并且对修改没有意义时，将数据存储在非规范化的定制表中很有意义。此外，您可以使用实体API来定义一个绑定到该表的自定义实体，这将允许您通过Drupal APIs将数据CRUD到该表中。</p><p id="0419" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jd" href="https://www.youtube.com/watch?v=XugULbrMYm4" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">这段来自Drupal GovCon </strong> </a>的精彩视频更详细地探讨了这一点。</p><p id="ecec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Drupal <a class="ae jd" href="https://www.drupal.org/project/eck" rel="noopener ugc nofollow" target="_blank">实体构建工具包</a>提供了一套很好的工具来在Drupal中构建定制实体。</p><p id="fb31" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，下一次当您对内容进行建模时，一定要根据您存储的数据类型来考虑是否值得拥有内容类型带来的所有开销，并做出明智的决定。</p></div></div>    
</body>
</html>