<html>
<head>
<title>Life of a Ticket</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">票证的寿命</h1>
<blockquote>原文：<a href="https://medium.com/airbnb-engineering/life-of-a-ticket-903790ed5d53?source=collection_archive---------1-----------------------#2015-08-25">https://medium.com/airbnb-engineering/life-of-a-ticket-903790ed5d53?source=collection_archive---------1-----------------------#2015-08-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/968171e1a56c462a2e8a0961dbd2844d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6w-TUb35oN6YOCH-tnw3Hg.png"/></div></div></figure><div class=""/><p id="b531" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">埃姆雷·奥兹德米尔</p></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><p id="8eac" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">截至2012年底，累计有超过400万客人在Airbnb住宿。</p><p id="3854" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是巨大的！我们花了近四年时间才迎来第一个100万客人——现在每个月有超过200万的客人住在Airbnb上。随着这种增长而来的是扩大市场运营的挑战，这是我的团队旨在改进的任务。</p><p id="a9aa" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我在一个名为内部产品的团队工作，这个团队由两个部分组成，产品卓越和服务卓越。我们的任务是开发工具来提高客人和主人的自助能力，并提高客户体验专家的工作效率。</p><p id="c426" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如<a class="ae jw" href="http://algeri-wong.com/yishan/engineering-management-tools-are-top-priority.html" rel="noopener ugc nofollow" target="_blank">王一山</a>所说，“你的运营效率……直接受到你内部产品独创性的影响。”在Airbnb，我们希望提供世界上最好的客户服务，所以我们非常重视这一点，并有一整个团队致力于此。</p><p id="63cf" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的团队直接与客户——客户体验(CX)团队——相处，了解他们的需求并解决问题。我们的团队与我们的CX专家有一个紧密的反馈环，这不仅会产生根据他们的需求定制的工具，还会通过快速迭代来改进。</p><p id="4fb2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们团队发现的一个明显问题是如何加快处理客户支持单。分享我们解决方案的最佳方式是通过检查票证的有效期向您展示我们解决问题的方法。</p><figure class="jy jz ka kb fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jx"><img src="../Images/4d1efc57210761dbf5e1a39713ed96f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v-3j0qd-FkEr9oOI.jpg"/></div></div></figure><p id="2f74" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有3种渠道可以联系Airbnb的专家:</p><ul class=""><li id="7701" class="kc kd hs ir b is it iw ix ja ke je kf ji kg jm kh ki kj kk bi translated"><strong class="ir ht">声音:</strong>拨打我们的支持电话。在这种情况下，当有人拨打我们的支持热线时，我们将根据他们的电话号码收集我们对他们的了解。在这里，我们根据他们的当前状态(如果他们有当前预订，如果他们是主人，客人等)将他们分配给特定的代理。).</li><li id="6717" class="kc kd hs ir b is kl iw km ja kn je ko ji kp jm kh ki kj kk bi translated"><strong class="ir ht">电子邮件:</strong>在这种情况下，人们必须通过我们的联系页面与我们联系。他们将被要求首先选择他们的预订(如果相关的话)和他们需要什么帮助(他们的问题)，之后我们会根据他们的当前状态神奇地显示一些故障诊断提示。如果这不能回答他们的问题，他们将有机会向我们发送电子邮件。</li><li id="883a" class="kc kd hs ir b is kl iw km ja kn je ko ji kp jm kh ki kj kk bi translated"><strong class="ir ht">聊天:</strong>与上面的电子邮件流程类似，在选择问题后，他们可以选择与我们的CX专家或社区成员一起创建图表。</li></ul><p id="ad4d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在打电话、开始聊天或发送电子邮件后，我们会创建一个票证。这张机票最终被分配给Airbnb CX的一名专家，客人/主人和专家在那里进行通信。问题解决后，专家解决了票证，案例也就结束了。</p><p id="ea90" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的团队负责改善票务流程中的两个方面:</p><ul class=""><li id="198e" class="kc kd hs ir b is it iw ix ja ke je kf ji kg jm kh ki kj kk bi translated">每当我们用<strong class="ir ht">联系页面编辑器</strong>神奇地显示故障排除提示时</li><li id="d782" class="kc kd hs ir b is kl iw km ja kn je ko ji kp jm kh ki kj kk bi translated">每当票证后端(<strong class="ir ht">管理控制台</strong>)处理票证时</li></ul><h1 id="8f79" class="kq kr hs bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">联系人页面编辑器</h1><p id="5cb7" class="pw-post-body-paragraph ip iq hs ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">让我们暂时回到2012年。当时，当有人需要联系我们时，他们只需在联系页面上选择一个问题，填写表格并提交即可。我们的目标是方便访问，但我们希望确保我们优先考虑最紧急的请求。为了做到这一点，我们需要给某些人和问题以优先权，并降低可以由人们自己处理的问题的优先权。我们需要一个应用程序，让我们的内容团队能够进行必要的更改，而不是每次产品更新或工作流程更改时都需要工程师。</p><p id="9d60" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们开始将我们的联系页面变成一个故障排除向导；它可以根据您选择的问题提供自定义内容，并在需要创建票证时添加强大的标记和路由。</p><p id="2a5d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，如果有人就如何上传他们的个人资料照片联系我们，我们可以显示一些关于如何上传他们的个人资料照片的常见问题，提供一个上传页面的链接，如果这仍然没有帮助，让他们选择联系Airbnb。</p><p id="0474" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以更深入地展示基于此人平台的内容，无论他们是主人还是客人，是否在未来3天内有预定，等等。</p><p id="b64d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我和我的团队为我们的内容团队构建了必要的工具，以便他们可以个性化每个问题，我们可以提出正确的问题，显示正确的帮助内容，让您与CX专家联系。我们称之为联系页面编辑器，它看起来像这样:</p><figure class="jy jz ka kb fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jx"><img src="../Images/aa35cfc56fee76473ce59b74aa06c425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*81_cM0aATzdohZ2O.jpg"/></div></div></figure><p id="11bb" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个截图的左边部分显示了联系页面编辑器的样子(管理员端)，而右边部分显示了相同的内容，但是在联系页面上。</p><p id="05a3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">后端依赖于包含不同类型节点的简单决策树。有三种类型的节点:</p><ul class=""><li id="02eb" class="kc kd hs ir b is it iw ix ja ke je kf ji kg jm kh ki kj kk bi translated"><strong class="ir ht">内容节点:</strong>它们只会显示一些常见问题列表、文本或链接按钮之类的内容。</li><li id="7bb9" class="kc kd hs ir b is kl iw km ja kn je ko ji kp jm kh ki kj kk bi translated"><strong class="ir ht">上下文节点:</strong>它们将根据人的状态显示内容。例如，如果客人/主人在3天内开始预订，如果他们使用iPhone或Android，等等。</li><li id="b1e6" class="kc kd hs ir b is kl iw km ja kn je ko ji kp jm kh ki kj kk bi translated"><strong class="ir ht">动作节点:</strong>它们包含其他节点，它们将根据人员的交互显示内容，就像一个选择选项下拉列表。</li></ul><p id="fa14" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过向我们的客人/主人提出正确的问题，每一个问题都变得更加个性化，这有助于加快个人/CX专家的互动，因为来回的次数会更少。</p><p id="0657" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过在联系页面上建立定制和更个性化的内容流，我们在2013年帮助了15%以上的人。</p><h1 id="9c2a" class="kq kr hs bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">管理控制台</h1><p id="207c" class="pw-post-body-paragraph ip iq hs ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">管理控制台是我们根据客户体验专家的需求定制的客户体验工具。我们观察并分析了我们的专家正在做的工作，以设计一种工具，它不仅可以自动完成计算机可以更快完成的任务，还可以仅在需要时显示所需的信息。</p><figure class="jy jz ka kb fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jx"><img src="../Images/1a9e4ec37269e12a049bd82c38809fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0Ch6QOGL0X4BqLgS.jpg"/></div></div></figure><p id="42d6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">管理控制台是一个前端非常庞大的Rails应用程序。我们和两位工程师一起开始了这个项目。这里的目标是为我们的客户体验团队构建一个工具，以提高解决来自联系页面的问题的效率。</p><p id="eb05" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我负责前端，当时我们只使用主干网。由于管理控制台非常动态，内容会不断变化，所以我决定使用knockout.js进行数据绑定，这样我们就不用像jQuery这样的库来直接操作DOM，而是允许使用数据绑定来操作DOM，这样就消除了额外的复杂性，因为代码中只有一个真实的来源。下面的代码片段展示了一个典型的主干/剔除组件是如何构建的示例。</p><pre class="jy jz ka kb fd lt lu lv lw aw lx bi"><span id="615b" class="ly kr hs lu b fi lz ma l mb mc">&lt;!-- template.hbs --&gt;<br/>&lt;div id='myComponent'&gt;<br/>  &lt;span data-bind='text: name'&gt;&lt;/span&gt;<br/>  &lt;ul&gt;<br/>    &lt;!-- ko foreach: listings --&gt;<br/>      &lt;li data-bind='text: name'&gt;&lt;/li&gt;<br/>    &lt;!-- /ko --&gt;<br/>  &lt;/ul&gt;<br/>&lt;/div&gt;</span><span id="8dc0" class="ly kr hs lu b fi md ma l mb mc">// view.js<br/>var Backbone = require('backbone');<br/>var ko = require('knockout');<br/>var _ = require('underscore');</span><span id="ce38" class="ly kr hs lu b fi md ma l mb mc">var data = {<br/>  name: 'John Doe',<br/>  listings: [{<br/>    name: 'Quiet room in Duboce Triangle' <br/>  }]<br/>}; </span><span id="c0e8" class="ly kr hs lu b fi md ma l mb mc">var userModel = new Backbone.Model(data);</span><span id="85b1" class="ly kr hs lu b fi md ma l mb mc">var userViewModel = {<br/>  name: ko.observable(userModel.get('name')),<br/>  listings: ko.observableArray(userModel.get('listings'))<br/>};</span><span id="1618" class="ly kr hs lu b fi md ma l mb mc">userModel.on('change', function() {<br/>  _.each(userViewModel, function(value, key) {<br/>    if (userModel.has(key)) {<br/>      userViewModel[key](userModel.get(key));<br/>    }<br/>  });<br/>}, this);</span><span id="bbc4" class="ly kr hs lu b fi md ma l mb mc">ko.applyBindings(<br/>  userViewModel,<br/>  document.getElementById('myComponent')<br/>);</span></pre><p id="6ac9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">随着时间的推移，我们向管理控制台添加了更多的功能，但它的伸缩性不是很好。页面变得更慢，代码更难阅读。是时候离开骨干/击倒，寻找其他替代方案了React出现了。由于它的影子DOM以及模板和javascript在单个文件中的结合，应用程序变得更快、更灵敏、更干净。对于工程师来说，他们有更愉快的开发体验，不容易有错误的代码，更干净的架构(eq。更少的代码重复、可读性、模块化)，并且可以更快地工作，因为React让您重新思考如何编写代码。</p><p id="ac92" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面的代码显示了与上面相同的主干/剔除组件，用ES6语法编写，用React和flux构建。</p><pre class="jy jz ka kb fd lt lu lv lw aw lx bi"><span id="9353" class="ly kr hs lu b fi lz ma l mb mc">// Modules<br/>const React = require('react');</span><span id="b337" class="ly kr hs lu b fi md ma l mb mc">// Data<br/>const data = {<br/>  name: "John Doe",<br/>  listings: [{<br/>    id: 1,<br/>    name: "Quiet Room in Duboce Triangle"<br/>  }]<br/>};</span><span id="bd20" class="ly kr hs lu b fi md ma l mb mc">// Components<br/>class ListingView extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = data;<br/>  }</span><span id="148e" class="ly kr hs lu b fi md ma l mb mc">  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;span&gt;{this.state.name}&lt;/span&gt; <br/>        {this.state.listings.map((listing) =&gt; {<br/>          return &lt;li key={listing.id}&gt;{listing.name}&lt;/li&gt;;<br/>        })}<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>};</span><span id="3bac" class="ly kr hs lu b fi md ma l mb mc">export default ListingView;</span></pre><p id="c635" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的团队是第一个实验React的团队。我们在管理控制台和解决中心使用它。React在<a class="ae jw" href="https://www.airbnb.com/support/article/767" rel="noopener ugc nofollow" target="_blank"> Resolution Center </a>上的成功实验给了我们的前端团队信心，让React成为Airbnb前端堆栈的一部分。在旧的应用程序中，我们仍然有一些路由、模型和集合的主干代码，但我们正在远离它。新的应用程序是用Alt编写的，用于单向数据流，react-router用于路由。</p><p id="5dcd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的团队是任何想尝试新技术的工程师的理想场所，因为我们在为我们的朋友和同事制造产品。由于团队的相互作用，我们的路线图可以比其他小组更灵活。2012年的一个周末，我决定建一个内部聊天，叫锡罐。我是用with node.js，websockets和redis搭建的。所有我从未使用过的新技术。我在接下来的周一将它提交给团队，并在反馈后的一周内发货。所有客户体验代理现在都使用Tin Can，每天处理7万条消息，每天都在提高我们专家的工作效率。此后，我们重新编写了代码来扩展产品，但这是一个很好的例子，说明一个想法可以很快成为我们团队的产品。</p><p id="0f67" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些只是我的团队致力于改善客户体验的众多项目中的两个。我们帮助人们在需要时联系Airbnb专家，但我们也通过构建更快、更周到、更直观的工具来提高专家帮助客人和主人的能力。所有这些都是在小马休息厅用有趣的彩色裤子完成的。</p><figure class="jy jz ka kb fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jx"><img src="../Images/53ad76b039dede762d55c31aa4e91c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5qeB9tN05jgLvvrP.jpg"/></div></div></figure></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><h2 id="dfa6" class="ly kr hs bd ks me mf mg kw mh mi mj la ja mk ml le je mm mn li ji mo mp lm mq bi translated">在<a class="ae jw" href="http://airbnb.io" rel="noopener ugc nofollow" target="_blank"> airbnb.io </a>查看我们所有的开源项目，并在Twitter上关注我们:<a class="ae jw" href="https://twitter.com/AirbnbEng" rel="noopener ugc nofollow" target="_blank">@ Airbnb eng</a>+<a class="ae jw" href="https://twitter.com/AirbnbData" rel="noopener ugc nofollow" target="_blank">@ Airbnb data</a></h2></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><p id="0d19" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="mr">原载于2015年8月25日nerds.airbnb.com</em><em class="mr"/><a class="ae jw" href="http://nerds.airbnb.com/life-of-a-ticket/" rel="noopener ugc nofollow" target="_blank"><em class="mr">。</em></a></p></div></div>    
</body>
</html>