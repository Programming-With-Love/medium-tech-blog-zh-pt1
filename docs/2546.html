<html>
<head>
<title>Menggunakan Artificial Intelligence Untuk Mendeteksi Pemakaian Masker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Menggunakan Artificial Intelligence Untuk Mendeteksi Pemakaian Masker</h1>
<blockquote>原文：<a href="https://medium.easyread.co/menggunakan-artificial-intelligence-untuk-mendeteksi-pemakaian-masker-b0564732c4ee?source=collection_archive---------2-----------------------#2020-11-25">https://medium.easyread.co/menggunakan-artificial-intelligence-untuk-mendeteksi-pemakaian-masker-b0564732c4ee?source=collection_archive---------2-----------------------#2020-11-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="46eb" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Kupas tuntas implementasi Deep Learning untuk mendeteksi pemakaian masker dengan Python. Project yang relevan dengan situasi covid-19.</h2></div></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/c67bcda78a91a89959cff7c6444d9921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0ikpiKw4sw6EkJz2"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@anastasiiachepinska?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Anastasiia Chepinska</a> on <a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="la lb lc"><p id="519b" class="ld le lf lg b lh li jo lj lk ll jr lm ln lo lp lq lr ls lt lu lv lw lx ly lz ig bi translated">Catatan : Artikel ini bukan tutorial teknis. Saya akan membahas mengenai ide dan workflow dalam mengerjakan proyek dan membagikan pengalaman yang Saya dapatkan.</p></blockquote></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="d740" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">Abstraksi</h1><p id="668a" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Kali ini saya ingin berbagi pengalaman dalam pembuatan proyek Deep Learning. Saya membuat <em class="lf"> Neural Network Model </em> (NN Model) menggunakan Keras, Python. Tujuan dari project ini adalah untuk melakukan klasifikasi foto wajah, dimana kita akan membagi data menjadi dua kelas, sehingga kita dapat menjawab pertanyaan berikut.</p><blockquote class="na"><p id="27c5" class="nb nc in bd nd ne nf ng nh ni nj lz dk translated">Apakah orang tersebut memakai masker atau tidak ?</p></blockquote><p id="004b" class="pw-post-body-paragraph ld le in lg b lh nk jo lj lk nl jr lm mu nm lp lq mw nn lt lu my no lx ly lz ig bi translated">Awalnya Saya tidak habis pikir mengenai ide tersebut. Saya langsung cari informasi di internet dan ternyata banyak juga yang membuatnya 😆. Mungkin ini adalah bukti perkataan Albert Einstein yang saya rasakan, yaitu :</p><blockquote class="na"><p id="7455" class="nb nc in bd nd ne nf ng nh ni nj lz dk translated">“Imagination is more important than knowledge”</p></blockquote><figure class="nq nr ns nt nu ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi np"><img src="../Images/dd082e86717ade4a1e4bbae2b1e34b73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y_CyELS0R3B2913N"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@moyse?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Taton Moïse</a> on <a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="95cf" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Saya akan menceritakan bagaimana cara Saya menyelesaikan proyek ini. Proyek ini sangat relevan pada tahun 2020 dimana memakai masker merupakan hal yang diwajibkan, dikarenakan pandemi covid-19. Sehingga, jika Anda mengerjakannya dengan baik, <em class="lf"> project </em> ini dapat menjadi portfolio yang berbobot.</p></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="6217" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">Urutan Langkah Mengerjakan Proyek (Project Workflow)</h1><h2 id="068f" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 1: Mencari Dataset (Data Collection)</h2><p id="b822" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Anda dapat membuat dataset sendiri dengan merekam wajah keluarga atau teman kalian dirumah, kemudian diekstrak per frame menjadi gambar. Keunggulannya, Anda bisa mendapatkan data yang besar tanpa perlu mendownload, jika Anda tidak menggunakan wifi.</p><p id="2f4c" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Namun untuk praktisnya, Anda dapat menemukan dataset dengan mudah di situs Kaggle. Saya mencari dataset yang ideal (Ukuran downloadnya tidak terlalu besar dan juga tidak terlalu kecil). Saya akhirnya memutuskan untuk menggunakan dataset berikut.</p><div class="oh oi gp gr oj ok"><a href="https://www.kaggle.com/omkargurav/face-mask-dataset" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd io gy z fp op fr fs oq fu fw im bi translated">Face Mask Detection Dataset</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">Face Mask Detection Dataset 7553 Images</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">www.kaggle.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kt ok"/></div></div></a></div><p id="b611" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Dataset tersebut berukuran 160 MB yang berisi 7553 foto berekstensi jpg dengan 3 channel (RGB). Dataset terdiri dari 3725 foto wajah dengan masker dan 3828 foto wajah tanpa masker dengan ukuran foto yang beragam. Anda bisa mencari dataset yang besar dan menggunakan <em class="lf"> Transfer Learning </em> untuk membuat model yang lebih akurat.</p><h2 id="d7cb" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 2: Setup Environment</h2><p id="5107" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Mempersiapkan <em class="lf"> library </em> yang diperlukan. Saya menggunakan Keras dan Tensorflow, dimana Keras menggunakan Tensorflow sebagai backend. Sehingga Saya saya dapat membuat <em class="lf"> Neural Network </em> dengan mudah.</p><h2 id="b595" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 3: Preprocessing</h2><p id="32f9" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Disini saya tidak menggunakan Keras <code class="fe oz pa pb pc b">flow_from_directory</code> dalam memuat dataset, melainkan Saya menggunakan Tensorflow <em class="lf"> input output </em> ( <code class="fe oz pa pb pc b">tf.io.read_file(path)</code> ) karena saya ingin membuat <em class="lf"> batch </em> data sebelum <em class="lf"> training, </em> agar prosesnya berjalan dapat lebih cepat.</p><p id="88a2" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Pada saat <em class="lf"> preprocessing </em> Anda dapat menggunakan teknik <em class="lf"> image augmentation </em> untuk memberikan variasi data, agar dapat meningkatkan performa model dan menghindari <em class="lf"> overfitting </em> . Diantaranya dengan membalik, memutar, memotong, <em class="lf"> zooming </em> , dan menggeser posisi gambar.</p><h2 id="a609" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 4: Membangun Neural Network</h2><p id="6cb1" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Setelah itu saya membuat <em class="lf"> Convoutional Neural Network </em> (CNN) dengan Keras. Disini saya menggunakan <em class="lf"> Dense layer 2 unit </em> dengan aktivasi <em class="lf"> Softmax </em> sebagai output <em class="lf"> node </em> karena Saya menginginkan <em class="lf"> output 2 array </em> supaya lebih mudah dalam menerima informasi hasil prediksi. Karena, Saya juga telah mencoba dengan <em class="lf"> 1 unit Dense layer </em> menggunakan aktivasi <em class="lf"> Sigmoid </em> dan hasilnya tidak begitu signifikan.</p><pre class="kk kl km kn gt pd pc pe pf aw pg bi"><span id="bbb8" class="nv mb in pc b gy ph pi l pj pk">Model: "Mask Detector"<br/>_________________________________________________________________<br/>Layer (type)                 Output Shape              Param #   <br/>=================================================================<br/>conv2d_18 (Conv2D)           (None, 222, 222, 32)      896       <br/>_________________________________________________________________<br/>max_pooling2d_18 (MaxPooling (None, 111, 111, 32)      0         <br/>_________________________________________________________________<br/>conv2d_19 (Conv2D)           (None, 109, 109, 64)      18496     <br/>_________________________________________________________________<br/>max_pooling2d_19 (MaxPooling (None, 54, 54, 64)        0         <br/>_________________________________________________________________<br/>conv2d_20 (Conv2D)           (None, 52, 52, 128)       73856     <br/>_________________________________________________________________<br/>max_pooling2d_20 (MaxPooling (None, 26, 26, 128)       0         <br/>_________________________________________________________________<br/>flatten_6 (Flatten)          (None, 86528)             0         <br/>_________________________________________________________________<br/>dense_12 (Dense)             (None, 128)               11075712  <br/>_________________________________________________________________<br/>activation_6 (Activation)    (None, 128)               0         <br/>_________________________________________________________________<br/>dense_13 (Dense)             (None, 2)                 258       <br/>_________________________________________________________________<br/>activation_7 (Activation)    (None, 2)                 0         <br/>=================================================================<br/>Total params: 11,169,218<br/>Trainable params: 11,169,218<br/>Non-trainable params: 0</span></pre><h2 id="8231" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 5: Training</h2><p id="8b6e" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Proses <em class="lf"> training </em> hanya terjadi selama 5 <em class="lf"> epochs </em> . Saya juga menggunakan <em class="lf"> early stopping </em> supaya proses <em class="lf"> training </em> dapat dihentikan secara otomatis jika model tidak mengalami peningkatan selama 3 <em class="lf"> epcohs </em> . Ini bertujuan untuk menghindari <em class="lf"> overfitting </em> .</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/619c37a91665f53fa5ed7ce01dee240d.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/0*qsUXtctlvDJnK6ou.jpg"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Grafik proses training neural network selama 5 epochs</figcaption></figure><h2 id="ddd3" class="nv mb in bd mc nw nx dn mg ny nz dp mk mu oa ob mm mw oc od mo my oe of mq og bi translated">Step 6: Demonstrasi</h2><p id="a990" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Saya melakukan demonstrasi menggunakan 4 foto yang belum pernah dilihat oleh model sebelumnya. Dan hasilnya cukup mengejutkan bagi Saya karena model dapat memprediksi semuanya dengan benar dengan nilai probabilitas prediksi yang besar.</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/18604538742d2eb41c13d3f6c0daa60a.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/0*XxG_Sf6h6D_wms4J.jpg"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Prediksi neural network dan probabilitas terhadap foto orang bermasker</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/45c3fbe1c0e514b9596b3f1feced43e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/0*o8Ph65VTGj65QcX-.jpg"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Prediksi neural network dan probabilitas terhadap foto orang tidak bermasker</figcaption></figure><p id="5bf7" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Saya menyimpan model ke dalam h5 file kemudian membuat <em class="lf"> script </em> python menggunakan <em class="lf"> library </em> opencv. Setelah itu Saya mencoba menggunakan model ini untuk melakukan prediksi dalam video. Saya menggunakan video karena komputer Saya tidak akan kuat jika dilakukan secara real time menggunakan kamera. Berikut beberapa kelemahan model yang Saya temukan saat melakukan eksperimen, beserta kemungkinan solusinya :</p><ol class=""><li id="3cd9" class="pm pn in lg b lh li lk ll mu po mw pp my pq lz pr ps pt pu bi translated">Prediksi model akan kacau pada saat kita bergerak (Jika menggunakan video / <em class="lf"> real time </em> ). Dapat diatasi dengan menggunakan <em class="lf"> transfer learning </em> untuk menerapkan model yang kompleks.</li><li id="c3ac" class="pm pn in lg b lh pv lk pw mu px mw py my pz lz pr ps pt pu bi translated">Masker berwarna coklat ( <em class="lf"> blend) </em> dengan warna kulit tidak bisa terdeteksi oleh NN. Dapat diatasi dengan menambah variasi <em class="lf"> dataset </em> dengan jumlah yang besar, serta menggunakan <em class="lf"> transfer learning </em> untuk menerapkan model yang kompleks.</li><li id="b1d5" class="pm pn in lg b lh pv lk pw mu px mw py my pz lz pr ps pt pu bi translated">Hanya dapat mendeteksi 1 wajah dalam 1 foto atau video. Dapat diatasi dengan mengkombinasikan dengan <em class="lf"> face detection </em> sehingga dapat melakukan prediksi untuk setiap wajah yang ditemukan.</li></ol></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><h1 id="4f26" class="ma mb in bd mc md me mf mg mh mi mj mk jt ml ju mm jw mn jx mo jz mp ka mq mr bi translated">Resolusi</h1><p id="3996" class="pw-post-body-paragraph ld le in lg b lh ms jo lj lk mt jr lm mu mv lp lq mw mx lt lu my mz lx ly lz ig bi translated">Anda dapat melanjutkan pekerjaan hingga tahap <em class="lf"> deployment </em> atau membuatnya sebagai API untuk digunakan dalam <em class="lf"> project </em> yang lain. Untuk portofolio yang memuaskan, mungkin Anda dapat membuat aplikasi Mask Camrea pada perangkat mobile untuk mendeteksi pemakaian masker secara <em class="lf"> real time </em> . Aplikasi berjalan online menggunakan API, sehingga tidak menguras <em class="lf"> resource </em> smartphone.</p><p id="1daf" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Proyek yang Saya kerjakan merupakan <em class="lf"> open source project </em> di Github, dibawah lisensi MIT. Anda dapat mengakses melalui link berikut ini <a class="ae kz" href="https://github.com/PhilipPurwoko/Face-Mask-Detection" rel="noopener ugc nofollow" target="_blank"> https://github.com/PhilipPurwoko/Face-Mask-Detection </a> . Jika Anda baru belajar pemrograman dan ingin mempelajari tentang <em class="lf"> machine learning, </em> dapat membaca artikel Saya yang sebelumnya.</p><div class="oh oi gp gr oj ok"><a href="https://medium.com/easyread/mari-berkenalan-dengan-machine-learning-b4778ff2914a" rel="noopener follow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd io gy z fp op fr fs oq fu fw im bi translated">Mari Berkenalan Dengan Machine Learning</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">Penjelasan urut mengenai Machine Learning dalam Bahasa Indonesia ramah untuk pemula</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">medium.com</p></div></div><div class="ot l"><div class="qa l ov ow ox ot oy kt ok"/></div></div></a></div></div><div class="ab cl kc kd hr ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ig ih ii ij ik"><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi qb"><img src="../Images/02043aa9120dba09380abd124e833b48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VkaATU6UlZzj0LVj"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@timmossholder?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tim Mossholder</a> on <a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="na"><p id="ad1f" class="nb nc in bd nd ne qc qd qe qf qg lz dk translated">“Jika kamu tidak sanggup menahan lelahnya belajar maka kamu harus sanggup menahan perihnya kebodohan” — Imam Syafi’i</p></blockquote><p id="c257" class="pw-post-body-paragraph ld le in lg b lh nk jo lj lk nl jr lm mu nm lp lq mw nn lt lu my no lx ly lz ig bi translated">Sertifikat berfungsi untuk membuktikan tingkatan kemampuan, sedangkan portofolio digunakan untuk menunjukan keterampilan yang kita miliki. Jika Anda memiliki waktu dan kesempatan, kenapa Anda tidak mencoba melakukannya ?</p><p id="7835" class="pw-post-body-paragraph ld le in lg b lh li jo lj lk ll jr lm mu lo lp lq mw ls lt lu my lw lx ly lz ig bi translated">Sekian pengalaman yang dapat Saya sampaikan, semoga pengalaman tersebut dapat diambil dan menjadi dorongan serta motivasi untuk belajar, khususnya bagi programmer pemula di Indonesia. Saya akan terus membagikan pengalaman dalam proses belajar Saya di lain kesempatan. Mari kita berbagi pengalaman pada kolom komentar.</p><blockquote class="na"><p id="09ba" class="nb nc in bd nd ne nf ng nh ni nj lz dk translated">Enjoy Learning !</p></blockquote></div></div>    
</body>
</html>