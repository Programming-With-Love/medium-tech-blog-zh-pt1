<html>
<head>
<title>Android MVP Series : Implementasi Butter Knife dan Dagger pada Aplikasi Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android MVP Series : Implementasi Butter Knife dan Dagger pada Aplikasi Android</h1>
<blockquote>原文：<a href="https://medium.easyread.co/android-mvp-series-implementasi-butter-knife-dan-dagger-pada-aplikasi-android-f46d4cb42285?source=collection_archive---------1-----------------------#2018-02-20">https://medium.easyread.co/android-mvp-series-implementasi-butter-knife-dan-dagger-pada-aplikasi-android-f46d4cb42285?source=collection_archive---------1-----------------------#2018-02-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8e6b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Apa itu Butter Knife dan Dagger ?</h2></div><p id="2e10" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Pada tulisan sebelumnya, <a class="ae ky" href="https://medium.com/easyread/android-mvp-series-membangun-aplikasi-android-dengan-arsitektur-mvp-fbf1f77ecaec" rel="noopener"> <strong class="ke io"> Android MVP Series : Membangun Aplikasi Android dengan Arsitektur MVP </strong> </a> , saya menyinggung penggunaan <em class="kz"> library </em> <strong class="ke io"> <em class="kz"> Butter Knife </em> </strong> dan <strong class="ke io"> <em class="kz"> Dagger </em> </strong> untuk memudahkan membuat aplikasi Android.</p><p id="2652" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Sebenarnya apa itu <strong class="ke io"> <em class="kz"> Butter Knife </em> </strong> dan <strong class="ke io"> <em class="kz"> Dagger </em> </strong> ?</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi la"><img src="../Images/17ee17013da527960a2cafe9aa610200.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jSzqMLE4MzAIvhnCmiVpWQ.jpeg"/></div></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Image from <a class="ae ky" href="https://pixabay.com/en/question-mark-why-problem-solution-2123967/" rel="noopener ugc nofollow" target="_blank">Pixabay</a> (<a class="ae ky" href="https://pixabay.com/en/users/TeroVesalainen-809550/" rel="noopener ugc nofollow" target="_blank">TeroVesalainen</a>)</figcaption></figure><h1 id="4be8" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">Butter Knife</h1><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/c22f568dae2f7a4d53c5a0ab4b02367e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxxbMz3v2F60lumreYJ5OQ.jpeg"/></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Butter knife image taken from Google Image</figcaption></figure><p id="3695" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="http://jakewharton.github.io/butterknife/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> Butter Knife </strong> </a> <strong class="ke io"> </strong> merupakan <em class="kz"> library </em> yang membantu kita untuk menyederhanakan penulisan komponen view di Android. Untuk memakai <em class="kz"> library </em> Butter Knife ini, kamu hanya perlu menambahkan <code class="fe mj mk ml mm b"><strong class="ke io">compile ‘com.jakewharton:butterknife:8.8.1’</strong></code> pada file <em class="kz"> gradle- </em> mu. Contoh pemakaian.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="6da4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Biasanya saat kita mendeklarasikan sebuah komponen view seperti contoh diatas, maka kita akan memakai <strong class="ke io"> <em class="kz"> findViewById </em> </strong> . <em class="kz"> Nah </em> , dengan memakai butter knife maka penulisannya akan lebih sederhana.</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="211c" class="mt lr in mm b gy mu mv l mw mx">// Dengan findViewById<br/>private ImageView imageView;<br/>private TextView titleView;</span><span id="7194" class="mt lr in mm b gy my mv l mw mx">imageView = (ImageView) view.findViewById(R.id.image)<br/>titleView = (TextView) view.findViewById(R.id.title)</span></pre><p id="5660" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Penulisan dan proses <em class="kz"> injection view </em> diatas akan berubah menjadi</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="8126" class="mt lr in mm b gy mu mv l mw mx">@Bind(R.id.image) ImageView imageView;<br/>@Bind(R.id.title) TextView titleView;</span><span id="7b10" class="mt lr in mm b gy my mv l mw mx">// pada create view, tambahkan<br/>ButterKnife.<em class="kz">bind</em>(this, itemView);</span></pre><p id="0fa7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Jadi, selain lebih sederhana, barisan kode untuk instansiasi objek akan lebih sedikit. Dan pada <code class="fe mj mk ml mm b">onDestroy()</code> atau <code class="fe mj mk ml mm b">onDestroyView()</code> kita dapat meng- <em class="kz"> unbind view </em> yang sebelumnya untuk men- <em class="kz"> destroy itemview </em> yang kita pakai tadi menggunakan <code class="fe mj mk ml mm b"><strong class="ke io">ButterKnife.<em class="kz">unbind</em>(this);</strong></code> <strong class="ke io"> <br/> </strong> Selain proses <em class="kz"> binding view </em> diatas, kita juga dapat melakukan <em class="kz"> binding listener </em> pada aplikasi kita, seperti.</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="2e75" class="mt lr in mm b gy mu mv l mw mx">@OnClick(R.id.<em class="kz">login_button</em>)<br/>public void onLoginButtonClick() {<br/>    // doing something<br/>}</span></pre><p id="ae73" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Untuk beberapa <em class="kz"> method </em> dan penjelasan lainnya mengenai Butter Knife sendiri dapat kamu lihat pada <a class="ae ky" href="http://jakewharton.github.io/butterknife/" rel="noopener ugc nofollow" target="_blank"> link </a> ini.</p><h1 id="a6de" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">Dagger</h1><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/737e1477e94f6d20f8fe85ae39451beb.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*V84U0sAzD-LTNefnHV_5qQ.png"/></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Dagger Image taken from Google Image</figcaption></figure><p id="4111" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae ky" href="https://google.github.io/dagger/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> Dagger </strong> </a> , merupakan <em class="kz"> library </em> yang digunakan untuk proses penerapan <strong class="ke io"> <em class="kz"> Dependency Injection </em> </strong> pada aplikasi android dan Java. <em class="kz"> Nah, </em> apa itu Dependency Injection?</p><blockquote class="na nb nc"><p id="1b3f" class="kc kd kz ke b kf kg jo kh ki kj jr kk nd km kn ko ne kq kr ks nf ku kv kw kx ig bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Dependency_injection" rel="noopener ugc nofollow" target="_blank"> Dependency injection </a> <em class="in"> adalah sebuah </em> design pattern <em class="in"> yang digunakan untuk menulis kode program yang lebih sederhana yaitu tentang bagaimana mengirimkan objek ke dalam sebuah </em> class <em class="in"> yang membutuhkannya ( </em> loosely-coupled <em class="in"> ). </em> Dependency <em class="in"> ialah objek yang akan digunakan atau di kirim, dan </em> Injection <em class="in"> adalah pengiriman objek A ke objek yang membutuhkan. </em></p></blockquote><p id="b513" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="kz"> Hm </em> , agak membingungkan. Mari kita lihat contoh. Misalnya, kita memiliki sebuah <em class="kz"> class </em> <code class="fe mj mk ml mm b">FilmRepository</code> dimana <em class="kz"> class </em> ini akan dipakai oleh beberapa <em class="kz"> class </em> seperti <code class="fe mj mk ml mm b">FilmPresenter</code> . Jika kita tidak menggunakan konsep DI, maka kita akan membuatnya seperti ini.</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="b983" class="mt lr in mm b gy mu mv l mw mx">class FilmPresenter {<br/>   FilmRepository repository = new FilmRepository();</span><span id="4cf6" class="mt lr in mm b gy my mv l mw mx">   void getData() {<br/>      repository.getData();<br/>   }<br/>}</span></pre><p id="5ed1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Sekilas tidak ada yang salah pada implementasinya, tetapi jika nanti <code class="fe mj mk ml mm b">FilmRepository</code> ini akan dipakai banyak <em class="kz"> class </em> , dan terjadi perubahan, maka akan banyak file yang perlu diubah dan diperbaiki. Maka kode akan semakin kotor. <br/> <strong class="ke io"> Jadi bagaimana jika kita menerapkan konsep <em class="kz"> Dependency Injection </em> ? </strong></p><p id="18bc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> A. Manual Dependency Injection <br/> </strong> Dependency Injection dapat kita terapkan secara manual. Misalnya.</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="1053" class="mt lr in mm b gy mu mv l mw mx">class FilmActivity extends Activity {<br/>   FilmRepository repository;</span><span id="ce73" class="mt lr in mm b gy my mv l mw mx">   @Override<br/>   public void onCreate() {<br/>      <!-- -->repository<!-- --> = new <!-- -->FilmRepository<!-- -->();</span><span id="13a4" class="mt lr in mm b gy my mv l mw mx">      // pass <!-- -->repository<!-- --> ke presenter<br/>      presenter = new MyPresenter(repository);<br/>   }<br/>}</span><span id="6560" class="mt lr in mm b gy my mv l mw mx">class FilmPresenter {<br/>   <!-- -->private <!-- -->FilmRepository<!-- --> repository;</span><span id="647d" class="mt lr in mm b gy my mv l mw mx">   public <!-- -->FilmPresenter<!-- -->(<!-- -->FilmRepository<!-- --> repository) {<br/>            this.repository = repository;<br/>   }</span><span id="5d7c" class="mt lr in mm b gy my mv l mw mx">   void getData() {<br/>      repository.getData();<br/>   }<br/>}</span></pre><p id="a4f9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Maka presenter tidak perlu mengetahui bagaimana objek repository terbentuk, ia hanya perlu memakai saja. Akan tetapi hal ini juga dapat menjadi sebuah masalah. Bagaimana jika <code class="fe mj mk ml mm b">Presenter</code> membutuhkan banyak objek, atau bagaimana jika <code class="fe mj mk ml mm b">Repository</code> tadi juga memerlukan objek yang lain. Apakah kita harus membuat semua implementasinya pada Activity? Tentu saja hal ini juga akan menambah kerumitan kode. <em class="kz"> Nah </em> , untuk mengatasi ini, disinilah kita memakai <em class="kz"> Dagger </em> sebagai penolong kita untuk menerapkan <em class="kz"> Dependency Injection </em> .</p><p id="3705" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> B. Dagger <br/> </strong> Dependency Injection dengan dagger memakai <em class="kz"> library </em> <em class="kz"> Dagger 2. </em> Untuk memakai <em class="kz"> library </em> ini, pastikan untuk menambahkan <em class="kz"> script </em> ini pada file <em class="kz"> build.gradle. </em></p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="936c" class="mt lr in mm b gy mu mv l mw mx">compile 'com.google.dagger:dagger:2.12'<br/>apt 'com.google.dagger:dagger-compiler:2.12'<br/>provided 'javax.annotation:jsr250-api:1.0'</span></pre><p id="9ff3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Pada implementasi <em class="kz"> dagger </em> ini, dikenal beberapa istilah yaitu <strong class="ke io"> Module, Component </strong> dan <strong class="ke io"> Graph </strong> . Module ialah sebuah <em class="kz"> class </em> yang akan menjadi <em class="kz"> provider </em> atau penyedia dari <em class="kz"> dependency class </em> yang akan dipakai. Sedangkan Component adalah <em class="kz"> class </em> yang akan menjadi wadah pendaftaran module-module yang dibuat. Dan Graph adalah sebuah <em class="kz"> interface </em> yang berisikan <em class="kz"> class-class </em> yang akan memakai <em class="kz"> dependency class </em> tersebut.</p><p id="fc66" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> Module <br/> </strong> Katakan kita akan memiliki 3 buah module, yaitu <em class="kz"> AppModule, DataModule </em> dan <em class="kz"> ApiModule </em> . Dimana AppModule akan menjadi penyedia Application kita, DataModule akan menjadi penyedia repository dan data source aplikasi kita, dan ApiModule akan menjadi penyedia konfigurasi Api dan service Api kita.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="0d9e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Dapat dilihat, saya membagi module-module tersebut sesuai dengan tujuan dan kebutuhan. Kamu boleh menambahkan module lain sesuai kebutuhan.</p><p id="8c4e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> Component <br/> </strong> Setelah itu, kita daftarkan module-module tersebut kedalam sebuah <em class="kz"> class </em> yang saya beri nama <em class="kz"> AppComponent </em> . Setiap module yang kamu buat harus kamu tambahkan di file ini agar module tersebut dikenali.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="12d7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io"> Graph <br/> </strong> Lalu setiap Activity, Fragment atau <em class="kz"> class </em> yang akan memakai <em class="kz"> dependency class </em> tersebut didaftarkan pada <em class="kz"> Graph </em> . Method <code class="fe mj mk ml mm b">inject</code> inilah yang akan dipakai nantinya untuk proses injeksi <em class="kz"> dependency class </em> .</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="4763" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Selain ketiga hal diatas, kita juga perlu menambahkan <em class="kz"> builder </em> nya agar ketika di <em class="kz"> build </em> file yang disediakan dapat digunakan.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="2f99" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Maka nanti impelementasi di Activity atau Fragment atau <em class="kz"> class </em> lain akan menjadi seperti ini.</p><pre class="lb lc ld le gt mp mm mq mr aw ms bi"><span id="832e" class="mt lr in mm b gy mu mv l mw mx">class FilmActivity extends Activity {<br/>   <strong class="mm io">@Inject FilmRepository repository;</strong></span><span id="2a78" class="mt lr in mm b gy my mv l mw mx">   @Override<br/>   public void onCreate() {<br/>      <strong class="mm io">Injector.<em class="kz">obtain</em>(getActivity()).inject(this);</strong></span><span id="b5af" class="mt lr in mm b gy my mv l mw mx">      // pass <!-- -->repository<!-- --> ke presenter<br/>      presenter = new MyPresenter(<!-- -->repository<!-- -->);<br/>   }<br/>}</span><span id="7419" class="mt lr in mm b gy my mv l mw mx">class FilmPresenter {<br/>   <!-- -->private <!-- -->FilmRepository<!-- --> repository;</span><span id="568b" class="mt lr in mm b gy my mv l mw mx">   public <!-- -->FilmPresenter<!-- -->(<!-- -->FilmRepository<!-- --> repository) {<br/>            this.repository = repository;<br/>   }</span><span id="4c87" class="mt lr in mm b gy my mv l mw mx">   void getData() {<br/>      repository.getData();<br/>   }<br/>}</span></pre><p id="cee5" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Jika terjadi perubahan pada <em class="kz"> repository </em> atau <em class="kz"> dependency class </em> yang lain, maka kita hanya perlu mengganti di module yang bersangkutan sehingga kode tetap terjaga dan bersih.</p><p id="ddea" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="kz"> Nah </em> , kira-kira begitulah gambaran dari implementasi <em class="kz"> butterknife </em> dan <em class="kz"> dagger </em> yang saya gunakan pada aplikasi saya. Untuk pengembangan selanjutnya, dapat kamu lihat pada repo ini <a class="ae ky" href="https://github.com/eminartiys/memorize" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> memorize </strong> </a> . Semoga artikel ini bermanfaat bagi kamu yang ingin mencoba. Kamu juga dapat melihat beberapa sumber dan implementasikan sesuai yang kamu mengerti. <em class="kz"> Happy Learning! </em> 😃</p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="3519" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="kz">如果您有任何问题或抱怨，请随时联系我这些社交网络:</em> <a class="ae ky" href="https://twitter.com/eyseminarti" rel="noopener ugc nofollow" target="_blank"> <em class="kz"> twitter </em> </a> <em class="kz">，</em><a class="ae ky" href="http://linkedin.com/in/eminarti-sianturi-08a369102" rel="noopener ugc nofollow" target="_blank"><em class="kz">LinkedIn</em></a><em class="kz">，或</em><a class="ae ky" href="mailto:eminartiys@gmail.com" rel="noopener ugc nofollow" target="_blank"><em class="kz">email</em></a><em class="kz">。能答的我尽量答，不然我们一起学:)。</em></p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><h2 id="6658" class="mt lr in bd ls nn no dn lw np nq dp ma kl nr ns mc kp nt nu me kt nv nw mg nx bi translated">参考I</h2><ol class=""><li id="a228" class="ny nz in ke b kf oa ki ob kl oc kp od kt oe kx of og oh oi bi translated"><a class="ae ky" href="https://github.com/googlesamples/android-architecture" rel="noopener ugc nofollow" target="_blank">https://github.com/googlesamples/android-architecture</a></li><li id="672e" class="ny nz in ke b kf oj ki ok kl ol kp om kt on kx of og oh oi bi translated"><a class="ae ky" href="https://caster.io/courses/dagger2" rel="noopener ugc nofollow" target="_blank">https://caster.io/courses/dagger2</a></li><li id="ba58" class="ny nz in ke b kf oj ki ok kl ol kp om kt on kx of og oh oi bi translated"><a class="ae ky" href="http://jakewharton.github.io/butterknife/" rel="noopener ugc nofollow" target="_blank">http://jakewharton.github.io/butterknife/</a></li><li id="b706" class="ny nz in ke b kf oj ki ok kl ol kp om kt on kx of og oh oi bi translated"><a class="ae ky" href="https://google.github.io/dagger/" rel="noopener ugc nofollow" target="_blank">https://google.github.io/dagger/</a></li></ol></div></div>    
</body>
</html>