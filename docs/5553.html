<html>
<head>
<title>CPU vs GPU in Oracle Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Oracle云中的CPU与GPU</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/cpu-vs-gpu-in-oracle-cloud-314e2d202b20?source=collection_archive---------0-----------------------#2019-01-09">https://medium.com/oracledevs/cpu-vs-gpu-in-oracle-cloud-314e2d202b20?source=collection_archive---------0-----------------------#2019-01-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f5ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您阅读了我的名为“<a class="ae jc" href="https://waslleysouza.com.br/en/2018/07/optimizing-tensorflow-for-cpu/" rel="noopener ugc nofollow" target="_blank">优化用于CPU的TensorFlow</a>”的博客文章，您会了解到您可以通过选择正确的发行版来改进用于CPU的tensor flow，在本例中是Anaconda发行版。</p><p id="746a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CPU实例将为简单的AI项目做工作，但如果你需要更多的计算能力来减少项目的执行或训练时间，你需要使用GPU实例。</p><p id="b935" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于许多人要求我使用GPU实例运行相同的测试，在这篇文章中，你将看到这个测试的结果！</p><p id="8126" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于这个测试，我使用了Oracle云基础设施，而不是上一篇博文中使用的Oracle云基础设施经典版。Oracle云基础设施是Oracle IaaS的新一代产品，因此它是现在可以使用的正确解决方案。</p><p id="a405" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些是实例:</p><ul class=""><li id="e7ce" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">CPU实例(虚拟机。标准2.2) = 2个ocpu+30GB内存</li><li id="77dd" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">GPU实例(虚拟机。GPU3.1) = 1个GPU V100 + 90GB内存</li></ul><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es jr"><img src="../Images/aff3ca139302495b440c28e419afa0ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*csaEPaL93EPIaqOo3bCTtA.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">Instances</figcaption></figure><p id="e011" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在CPU实例中，我使用以下代码创建了Anaconda环境:</p><pre class="js jt ju jv fd kh ki kj kk aw kl bi"><span id="ef42" class="km kn hh ki b fi ko kp l kq kr">conda create -n py36tf tensorflow python=3.6</span></pre><p id="7033" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在GPU实例中，我使用以下代码创建了Anaconda环境:</p><pre class="js jt ju jv fd kh ki kj kk aw kl bi"><span id="6920" class="km kn hh ki b fi ko kp l kq kr">conda create -n py36tf tensorflow-gpu python=3.6</span></pre><p id="0097" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了评估CPU和GPU实例之间的性能，我使用TensorFlow运行了以下矩阵乘法脚本:</p><pre class="js jt ju jv fd kh ki kj kk aw kl bi"><span id="a28b" class="km kn hh ki b fi ko kp l kq kr">import tensorflow as tf<br/>import time<br/><br/>tf.set_random_seed(42)<br/>A = tf.random_normal([10000,10000])<br/>B = tf.random_normal([10000,10000])<br/><br/>def check():<br/>    start_time = time.time()<br/>    with tf.Session() as sess:<br/>        print(sess.run(tf.reduce_sum(tf.matmul(A,B))))<br/>    print("It took {} seconds".format(time.time() - start_time))<br/><br/>check()</span></pre><p id="ad23" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果如下:</p><p id="705e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在CPU实例中，花费了22.23秒。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es ks"><img src="../Images/4256b23d31d6241f42f3f9c9a26eb5c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EX-9uRwP8PiKzxJD0lXRsg.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">CPU instance</figcaption></figure><p id="b7d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在GPU实例中，耗时3.41秒。</p><figure class="js jt ju jv fd jw er es paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="er es kt"><img src="../Images/4bd79b30269f9fc4ae1a5a7b7b31702f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XjdkVuOFqm-9B-fq2MaSgw.png"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx">GPU instance</figcaption></figure><p id="8b16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">CPU和GPU实例之间的差异接近650%！</p><p id="8edc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇文章的主要目的是展示你需要考虑你的人工智能项目的需求，选择合适的工具和环境，以最佳的性能和预算运行它！</p><p id="5f02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">玩得开心！</p></div><div class="ab cl ku kv go kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ha hb hc hd he"><p id="652d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="lb">原载于2019年1月9日</em><a class="ae jc" href="https://waslleysouza.com.br/en/2019/01/cpu-vs-gpu-in-oracle-cloud/" rel="noopener ugc nofollow" target="_blank"><em class="lb">【waslleysouza.com.br】</em></a><em class="lb">。</em></p></div></div>    
</body>
</html>