<html>
<head>
<title>How to Choose Between SwiftUI and UIKit.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI和UIKit之间选择？</h1>
<blockquote>原文：<a href="https://medium.com/globant/can-swiftui-overcome-uikit-fb669d9fdc54?source=collection_archive---------0-----------------------#2022-06-08">https://medium.com/globant/can-swiftui-overcome-uikit-fb669d9fdc54?source=collection_archive---------0-----------------------#2022-06-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/bb6700177678eb7021e32bfc1adbec57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*182SPEb1ii6mu5nF"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.freepik.com/free-vector/app-development-illustration_10354235.htm#query=ios&amp;position=1&amp;from_view=search" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><p id="97ea" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">随着时间的推移，世界正在快速变化并采用新技术。苹果已经在iOS 13版本中引入了<strong class="iw hi"> swiftUI。我们仍在使用UIKit开发iOS应用程序，swiftUI仍处于开发阶段苹果在swiftUI方面每天都在改变。大家心里都有一个疑问，SwiftUI未来能战胜UIKit吗？答案是肯定的。让我们深入比较swiftUI与UIKit的优缺点。</strong></p></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="b11d" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak"> UIKit </strong></h1><p id="b9f2" class="pw-post-body-paragraph iu iv hh iw b ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn lb jp jq jr ha bi translated">UIKit是苹果的旧框架，用于开发iOS应用程序。它有<strong class="iw hi">故事板和界面构建器的xib</strong>。</p><p id="fb58" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="lc">" Xcode中的界面构建器编辑器使设计完整的用户界面变得简单，无需编写任何代码。只需将窗口、按钮、文本字段和其他对象拖放到设计画布上，就可以创建一个正常工作的用户界面。”</em></p><p id="4205" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这就是<a class="ae it" href="https://developer.apple.com/documentation/uikit" rel="noopener ugc nofollow" target="_blank">苹果的文档</a>对界面构建器的描述。</p><p id="1c10" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">我们来了解一下UIKit的一些优缺点:</strong></p><h2 id="baab" class="ld ka hh bd kb le lf lg kf lh li lj kj jf lk ll kn jj lm ln kr jn lo lp kv lq bi translated"><strong class="ak">优点:</strong></h2><ul class=""><li id="c72d" class="lr ls hh iw b ix kx jb ky jf lt jj lu jn lv jr lw lx ly lz bi translated">即使是初学者也很容易学会。</li><li id="79b6" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">使用UIKit和故事板，你可以创建原型，这些原型可以在故事板界面上可视化。UIKit中的故事板可以减少代码。</li><li id="120b" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">它有大量的可用对象，因此很容易构建任何功能和任务。</li><li id="9443" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">UIKit已经有10多年的历史了，所以它使用起来非常稳定，并且有大量的特性和社区支持。</li><li id="bc37" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">资源和材料很容易获得，所以很容易被采用。</li></ul><h2 id="7872" class="ld ka hh bd kb le lf lg kf lh li lj kj jf lk ll kn jj lm ln kr jn lo lp kv lq bi translated"><strong class="ak">缺点:</strong></h2><ul class=""><li id="1ca7" class="lr ls hh iw b ix kx jb ky jf lt jj lu jn lv jr lw lx ly lz bi translated">源代码控制非常困难，在大多数情况下，故事板会导致冲突，而且它包含xml源代码，在这种情况下，很难解决合并冲突，因为大多数开发人员对xml代码没有控制权。</li><li id="dddd" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">在创建应用程序时，你必须记住所有设备之间的兼容性和自动布局问题。</li><li id="9089" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">随着应用程序中屏幕数量的增加，很难在单个故事板中进行管理。</li><li id="5879" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">通过UIKit中的代码制作UI也是一个漫长的过程，它还需要编写大量的代码，这使得代码更加复杂，难以理解。</li></ul></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="cb49" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak"> SwiftUI </strong></h1><p id="700c" class="pw-post-body-paragraph iu iv hh iw b ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn lb jp jq jr ha bi translated">SwiftUI在iOS 13版本中发布。</p><p id="c76a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">"<em class="lc"> SwiftUI借助Swift的强大功能，以尽可能少的代码，帮助您在所有苹果平台上构建美观的应用程序。借助SwiftUI，您可以在任何苹果设备上，只使用一套工具和API，为所有用户带来更好的体验。</em></p><p id="2849" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是苹果的文档对SwiftUI的描述。</p><p id="16fb" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">我们来了解一下Swift UI中引入的一些高级功能。</strong></p><p id="0a7c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">高级应用体验和工具</strong></p><p id="eded" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">使用新功能增强您的应用，例如改进的列表视图、更好的搜索体验以及对控件焦点区域的支持。通过新的Canvas API(drawRect的现代GPU加速版)获得对低级绘图原语的更多控制。</p><p id="e145" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">无障碍改善</strong></p><p id="2af1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过使用新的Rotor API在一个简单的列表中显示屏幕上最相关的项目来加速交互。当前的可访问性焦点状态，如VoiceOver光标，现在可以被读取，甚至以编程方式更改。借助新的可访问性表示API，您的自定义控件可以轻松继承现有标准SwiftUI控件的全部可访问性支持。</p><p id="96a2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">MAC OS上SwiftUI的改进</strong></p><p id="76a4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">新的性能和API可用性改进，包括对多列表格的支持，使您的macOS应用程序更加出色。</p><p id="afd3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">始终在线视网膜显示屏支持</strong></p><p id="7e88" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在Apple Watch Series 5和更高版本上，始终开启的Retina显示屏允许watchOS应用程序保持可见，即使手表表面变暗，也能让关键信息一目了然。</p><p id="af46" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">iPadOS的部件</strong></p><p id="d983" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，小部件可以放在主屏幕上的任何地方，并增加到一个新的超大尺寸的小部件。</p><p id="2abe" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">SwiftUI已经证明了自己是iOS开发领域的绝对游戏规则改变者，因为SwiftUI提供了易于理解的语法，并且结构合理。</p><p id="3c6f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">不仅如此，SwiftUI是一个更强大的库。SwiftUI只会继续发展成为一种强大的语言，因为苹果会继续将重心从UIKit转移开。</p><p id="76a2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">SwiftUI采用了苹果从UIKit学到的一切，并为开发者提供了UIKit中没有的更好的功能。这些特性之一包括创建更强大的应用程序，同时使用比UIKit更少的代码。</p><h2 id="a76b" class="ld ka hh bd kb le lf lg kf lh li lj kj jf lk ll kn jj lm ln kr jn lo lp kv lq bi translated"><strong class="ak">swift ui和UIKit的比较:</strong></h2><p id="d7ce" class="pw-post-body-paragraph iu iv hh iw b ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn lb jp jq jr ha bi translated">以下是SwiftUI和UIKit的主要区别。</p><ul class=""><li id="31a6" class="lr ls hh iw b ix iy jb jc jf mf jj mg jn mh jr lw lx ly lz bi translated"><strong class="iw hi">陈述性vs命令性:</strong></li></ul><p id="2091" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">SwiftUI是一个声明性框架，但UIKit是一个命令性框架。</p><p id="c0a2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们通过下面的代码示例来看看命令式和声明式编程。</p><h1 id="0579" class="jz ka hh bd kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw bi translated"><strong class="ak">命令式(UIKit): </strong></h1><pre class="mn mo mp mq fd mr ms mt mu aw mv bi"><span id="4711" class="ld ka hh ms b fi mw mx l my mz">class ViewController: UIViewController, UITableViewDataSource {<br/>     private var tableView: UITableView!<br/>      var listArray: [ListItem] = [<br/>          ListItem(name: “List item — 1”),<br/>          ListItem(name: “List item — 2”)<br/>          ]</span><span id="af3c" class="ld ka hh ms b fi na mx l my mz">  override func viewDidLoad() {<br/>          super.viewDidLoad()<br/>          setupTableView()<br/>   }</span><span id="a5b7" class="ld ka hh ms b fi na mx l my mz"> private func setupTableView() {<br/>       tableView = UITableView()<br/>       tableView.dataSource = self<br/>       tableView.translatesAutoresizingMaskIntoConstraints = false<br/>       view.addSubview(tableView)<br/>       let topAndBottomMargins = CGFloat(16)<br/>       NSLayoutConstraint.activate([<br/>       tableView.topAnchor.constraint(equalTo: view.bottomAnchor,    constant: topAndBottomMargins),<br/>       tableView.centerXAnchor.constraint(equalTo: view.centerXAnchor),<br/>       tableView.leadingAnchor.constraint(equalTo: view.leadingAnchor)<br/>       ])<br/>   }</span><span id="493d" class="ld ka hh ms b fi na mx l my mz"> func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {<br/>       return listArray.count<br/>   }<br/> func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {<br/>      let cell = tableView.dequeueReusableCell(withIdentifier: “Cell”, for: indexPath) as! TableViewCell<br/>      cell.textLabel?.textColor = .gray<br/>      cell.textLabel?.text = listArray[indexPath.row].name<br/>      return cell<br/>   }<br/>}</span></pre><h1 id="08b2" class="jz ka hh bd kb kc mi ke kf kg mj ki kj kk mk km kn ko ml kq kr ks mm ku kv kw bi translated">声明性示例(SwiftUI):</h1><pre class="mn mo mp mq fd mr ms mt mu aw mv bi"><span id="787d" class="ld ka hh ms b fi mw mx l my mz">struct ContentView: View {<br/> var listArray: [ListItem] = [<br/>     ListItem(name: “List item — 1”),<br/>     ListItem(name: “List item — 2”)<br/>    ]</span><span id="2704" class="ld ka hh ms b fi na mx l my mz">var body: some View {<br/>     List(listArray) { person in<br/>     Text(person.name)<br/>        .font(.subheadline)<br/>        .foregroundColor(.gray)<br/>     }<br/>   }<br/>}</span></pre><p id="d7c2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过这个例子，我们可以清楚地看到SwiftUI的代码比UIKit少，使用swift UI，数据可以自动与UI元素绑定，因此我们不需要跟踪用户界面的状态。作为程序员，我们需要做的就是用SwiftUI组件设置数据元素。SwiftUI负责确保屏幕反映描述。</p><ul class=""><li id="fb28" class="lr ls hh iw b ix iy jb jc jf mf jj mg jn mh jr lw lx ly lz bi translated"><strong class="iw hi">性能:</strong></li></ul><p id="c6d6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">swiftUI比UIKit快得多，因为Swift UI视图使用<strong class="iw hi"> <em class="lc"> struct </em> </strong>而不是<strong class="iw hi"> <em class="lc"> class </em> </strong>。它还提供了一种声明式编程的机制和一个完整的组合框架，可以更快地在屏幕上呈现用户界面的变化。</p><ul class=""><li id="1775" class="lr ls hh iw b ix iy jb jc jf mf jj mg jn mh jr lw lx ly lz bi translated"><strong class="iw hi">界面构建技术:</strong></li></ul><p id="fe60" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">SwiftUI没有像Storyboard和xib这样的界面构建器，swift代码本身描述的是布局而不是xml文件。</p><p id="8fa1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">SwiftUI提供自动实时预览视图，使开发速度更快，而不是每次都在模拟器上检查应用程序。</p><p id="437b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">swiftUI中没有自动布局，不存在与内容布局相关的问题。它可以兼容所有苹果设备。在swiftUI中可以轻松处理黑暗模式。</p><p id="11b6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">修饰符有助于用户界面元素的定制。您可以通过几行代码轻松绘制不同的形状，并且还可以轻松实现视图上的动画。</p><ul class=""><li id="fe04" class="lr ls hh iw b ix iy jb jc jf mf jj mg jn mh jr lw lx ly lz bi translated"><strong class="iw hi">团队合作和代码维护:</strong></li></ul><p id="610c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">由于swiftUI代码少，没有故事板之类的界面构建器，所以合并代码和避免冲突非常容易。它还可以加速开发过程，减少开发时间和资源。</p><h2 id="4635" class="ld ka hh bd kb le lf lg kf lh li lj kj jf lk ll kn jj lm ln kr jn lo lp kv lq bi translated"><strong class="ak">使用Swift UI的好处:</strong></h2><ul class=""><li id="a4ff" class="lr ls hh iw b ix kx jb ky jf lt jj lu jn lv jr lw lx ly lz bi translated">简单易学，代码简单干净。</li><li id="be01" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">它可以使用UIHostingController与UIKit混合使用。</li><li id="536d" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">它允许你轻松地管理主题。开发人员可以轻松地将黑暗模式添加到他们的应用程序中，并将其设置为默认主题，用户也可以轻松地启用黑暗模式。</li><li id="a760" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">SwiftUI用BindableObject、ObjectBinding和整个Combine框架为反应式编程爱好者提供了机制。这可以减少更多的代码和变量处理。</li><li id="fc29" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">它提供实时预览。当您需要检查布局时，您不需要每次都运行应用程序。它使开发过程更快。</li><li id="46a3" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">您不需要关心swiftUI中的@IBOutlet连接。</li><li id="1055" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">SwiftUI快速且可扩展。</li></ul><h2 id="6509" class="ld ka hh bd kb le lf lg kf lh li lj kj jf lk ll kn jj lm ln kr jn lo lp kv lq bi translated"><strong class="ak">swift ui的缺点:</strong></h2><ul class=""><li id="44da" class="lr ls hh iw b ix kx jb ky jf lt jj lu jn lv jr lw lx ly lz bi translated">SwiftUI只能从iOS 13最新版本及以上版本使用。SwiftUI通过与使用Interface Builder构建和运行的应用程序(如UIKit、故事板等)无缝集成，缓解了这一问题。).您可以在基于故事板的用户界面中使用SwiftUI视图，反之亦然。在将应用程序缓慢过渡到SwiftUI时，这是一个非常有用的工具</li><li id="fd1e" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">Swift是2014年推出的，所以栈溢出的数据不多。这意味着你在解决复杂的错误时得不到太多的帮助</li><li id="7c73" class="lr ls hh iw b ix ma jb mb jf mc jj md jn me jr lw lx ly lz bi translated">它不允许您在Xcode预览中分析视图层次。</li></ul></div><div class="ab cl js jt go ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="ha hb hc hd he"><h1 id="2823" class="jz ka hh bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated"><strong class="ak">结论</strong></h1><p id="2fe3" class="pw-post-body-paragraph iu iv hh iw b ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn lb jp jq jr ha bi translated">SwiftUI有一种与UIKit完全不同的方法来编写代码。<strong class="iw hi"> SwiftUI清晰易读，使用方便</strong>。毫无疑问，在不久的将来，开发者将开始使用swiftUI应用程序。</p><p id="225f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">即使您仍然是UIKit的热情支持者，您也可以安全地将SwiftUI的功能添加到您的UIKit项目中。我希望这篇文章是有用的，并回答了最常见的SwiftUI和UIKit相关的问题。</p><p id="75ba" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">参考文献:</strong></p><p id="62e0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">https://developer.apple.com/xcode/swiftui/<a class="ae it" href="https://developer.apple.com/xcode/swiftui/" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>