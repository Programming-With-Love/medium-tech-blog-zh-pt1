<html>
<head>
<title>Part I: Data processing pipelines with Spring Cloud Data Flow on Oracle Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第一部分:Oracle Cloud上Spring Cloud数据流的数据处理管道</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/part-i-spring-cloud-dataflow-on-oracle-application-container-cloud-cb8d59747dd9?source=collection_archive---------0-----------------------#2018-01-22">https://medium.com/oracledevs/part-i-spring-cloud-dataflow-on-oracle-application-container-cloud-cb8d59747dd9?source=collection_archive---------0-----------------------#2018-01-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie if ig"><p id="75ba" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">有关微服务主题的博客帖子的主目录，请参考—<a class="ae jg" rel="noopener" href="/oracledevs/bunch-of-microservices-related-blogs-57b5f1f062e5">https://medium . com/Oracle devs/bunch-of-microservice-related-blogs-57 b5 f1f 062 e 5</a></p></blockquote><p id="52a1" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">异步通信/消息传递是在云中构建松散耦合和可伸缩的应用程序(包括微服务)的一个关键模式——该模式解决的一个主要问题是实时数据处理</p><p id="7060" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">如果您有一个专门为此构建的平台/框架会怎么样？更好的是，如果您可以在云上部署和操作它，会怎么样？</p><p id="8ff8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">这是两部分博客系列的第一部分，讨论在T4甲骨文云上的春天云数据流</p><ul class=""><li id="52f1" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><strong class="ik hi">第1部分</strong>将向您介绍并演示如何在<a class="ae jg" href="https://cloud.oracle.com/application-container-cloud" rel="noopener ugc nofollow" target="_blank"> Oracle应用程序容器云</a>上部署Spring Cloud数据流服务器，包括其他组件</li><li id="e7c0" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">第2部分</strong>将展示如何使用第1部分中设置的基础来构建流处理管道</li></ul><p id="8af3" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">具体来说，第1部分将涵盖</p><ul class=""><li id="2fa0" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated">温柔<strong class="ik hi">介绍</strong>春云数据流</li><li id="16a8" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">秘笈</strong>—Oracle应用容器云上的Spring Cloud数据流</li><li id="85a7" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">基础设施设置</strong>—<a class="ae jg" href="https://cloud.oracle.com/event-hub" rel="noopener ugc nofollow" target="_blank">Oracle Event Hub Cloud</a>(Kafka)用作消息中间件，<a class="ae jg" href="https://cloud.oracle.com/mysql" rel="noopener ugc nofollow" target="_blank"> Oracle MySQL Cloud </a>用作Spring Cloud数据流设置的持久数据存储</li></ul></div><div class="ab cl jy jz go ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="ha hb hc hd he"><h1 id="f332" class="kf kg hh bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">你好“春云数据流”</h1><p id="2c89" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">这里有一个简单介绍——详情请参考<a class="ae jg" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/" rel="noopener ugc nofollow" target="_blank">文档</a></p><p id="fd10" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">TL；DR——它是一个用于构建数据处理管道的框架/工具包</p><ul class=""><li id="27ed" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><strong class="ik hi">应用类型</strong> —长期流处理、数据集成和短期任务</li><li id="803a" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">管道</strong>不过是利用<em class="ij">春云流</em>或<em class="ij">春云任务</em>的<em class="ij"> Spring Boot </em>应用</li></ul><blockquote class="ie if ig"><p id="d896" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">顺便说一句，这是一篇关于如何将基于消息的微服务与vanilla Spring Cloud Stream &amp; Kafka on Oracle Cloud结合使用的博客</p></blockquote><div class="li lj ez fb lk ll"><a rel="noopener follow" target="_blank" href="/oracledevs/spring-cloud-stream-and-kafka-based-microservices-on-oracle-cloud-9889732149a"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hi fi z dy lq ea eb lr ed ef hg bi translated">基于Oracle Cloud的Spring Cloud Stream和Apache Kafka微服务</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">这篇博客展示了如何在Oracle Cloud上运行Spring云流应用程序</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">medium.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz ma ll"/></div></div></a></div><ul class=""><li id="43d1" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><strong class="ik hi">事件总线/中间件</strong> —支持Kafka和Rabbit MQ(我们将通过Oracle Event Hub Cloud使用Kafka)</li><li id="1841" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">基础设施</strong> —管道本身可以部署到各种运行时(Kubernetes、Mesos等)。)的实现是可插拔的</li></ul><blockquote class="ie if ig"><p id="8a13" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">下一节将介绍Oracle应用程序容器云的一个定制实现</p></blockquote><ul class=""><li id="4049" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><strong class="ik hi">接口</strong> —您可以使用仪表板(图形编辑器)、REST API或CLI来处理Spring Cloud数据流</li></ul><p id="067e" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">让我们试着理解这个解决方案及其组件</p><h1 id="beca" class="kf kg hh bd kh ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc bi translated">Oracle应用容器云上的Spring Cloud数据流</h1><p id="3d7c" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">这是一个涉及所有组件的高级解决方案架构。当你继续读下去的时候，你会遇到每一个问题…</p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es mg"><img src="../Images/08f2da423b7d000c52e2d85d6f62c81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIs9QAnr8esvJf55lh91NQ.jpeg"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Solution architecture</figcaption></figure><p id="f6b8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">在这种情况下，Oracle应用容器云扮演着双重角色</p><ul class=""><li id="bd7e" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated">它充当运行Spring Cloud数据流服务器本身的平台</li><li id="d4de" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated">它还可以作为使用Spring Cloud数据流构建的管道的运行时(<strong class="ik hi"/>—<em class="ij">,这是有趣的部分！</em></li></ul><h2 id="ec36" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">Spring云数据流服务器</h2><p id="46eb" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">服务器模块是一个带有嵌入式servlet容器的Spring应用程序(例如Tomcat)。正如您将在接下来的章节中看到的那样— <em class="ij">这可以简单地作为一个胖罐子运行在Oracle应用程序容器云中的Java SE运行时支持之上</em></p><h2 id="80b7" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">Spring云数据流管道</h2><p id="5ce0" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">(如上所述)使用Spring Cloud数据流创建的数据处理管道只是需要在某个地方运行的Spring Boot应用程序。这个运行时部分抽象为一个<a class="ae jg" href="https://github.com/spring-cloud/spring-cloud-deployer/" rel="noopener ugc nofollow" target="_blank"> Spring Cloud Deployer SPI </a>的形式，它封装了一个特定运行时的实现，例如(数据流服务器的)本地JVM、Kubernetes、Apache Mesos等。</p><p id="c81e" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">下面是Spring Cloud数据流文档中的一个片段，它阐释了这个概念</p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nj"><img src="../Images/747464b61e5c593e96f28548a31f29c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8idcN_fu5hUsOAQ456gCLQ.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Spring Cloud Deployer abstraction for various runtimes</figcaption></figure><p id="4846" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated"><strong class="ik hi">还有一个专门针对Oracle应用容器云的Spring Cloud Deployer实现</strong></p><div class="li lj ez fb lk ll"><a href="https://github.com/ankitbansal/spring-cloud-dfs-accs" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hi fi z dy lq ea eb lr ed ef hg bi translated">ankitbansal/spring-cloud-DFS-accs</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">在GitHub上创建一个帐户，为spring-cloud-dfs-accs的开发做出贡献。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="nk l lw lx ly lu lz ma ll"/></div></div></a></div><blockquote class="ie if ig"><p id="cb2d" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">虽然这是一项正在进行和发展的工作，但在目前的状态下，它可以用于操作Spring Cloud数据流管道——您将在本博客的第2部分看到它的实际应用</p></blockquote><h2 id="c43f" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">消息代理:Oracle事件中心云</h2><p id="8909" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">各个管道需要一个底层消息传递层来进行异步通信——Spring Cloud数据流支持<a class="ae jg" href="https://kafka.apache.org" rel="noopener ugc nofollow" target="_blank"> Apache Kafka </a>和<a class="ae jg" href="http://rabbitmq.com" rel="noopener ugc nofollow" target="_blank"> Rabbit MQ </a></p><p id="bdea" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">在这种情况下，我们将使用<strong class="ik hi"> Oracle事件中心云</strong>(托管Kafka)</p><h2 id="0242" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">持久性存储:Oracle MySQL云</h2><p id="b2bf" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">默认情况下，Spring Cloud数据流将所有信息存储在内存数据库中，但它也支持其他RDBMSes</p><p id="221f" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">我们将利用<strong class="ik hi"> Oracle MySQL Cloud </strong>作为Spring Cloud数据流服务器的持久数据存储</p><h2 id="e9ce" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">Maven知识库</h2><p id="c2b4" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">虽然你会在博客的<strong class="ik hi">第2部分</strong>中看到这一点，但现在，它足以理解Spring Cloud数据流使用Maven作为其应用程序的来源之一，这些应用程序需要作为你构建的管道的一部分进行部署——更多详细信息<a class="ae jg" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#arch-intro" rel="noopener ugc nofollow" target="_blank">在此</a>和<a class="ae jg" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration" rel="noopener ugc nofollow" target="_blank">在此</a></p></div><div class="ab cl jy jz go ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="ha hb hc hd he"><h1 id="acc6" class="kf kg hh bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">基础设施设置</h1><p id="75ec" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">本节总结了如何设置Spring Cloud数据流设置所需的基础设施组件</p><ul class=""><li id="3a74" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated">Oracle事件中心云实例</li><li id="1c51" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated">Oracle MySQL云实例</li></ul><h2 id="1b1a" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">Oracle事件中心云(Kafka broker)</h2><p id="f887" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">在这种情况下使用的Kafka集群拓扑相对简单，即单个代理与Zookeeper位于同一位置。您可以选择特定于您需求的拓扑结构，例如具有5个节点Kafka集群和3个Zookeeper节点的HA部署</p><blockquote class="ie if ig"><p id="6098" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">请参考<a class="ae jg" href="http://docs.oracle.com/en/cloud/paas/event-hub-cloud/ehcug/creating-cluster.html" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多关于拓扑和详细安装过程的细节(提示:这很简单！)</p></blockquote><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nl"><img src="../Images/ed108914d1a6e8b0bd7af17e5452ee22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8RUZE3d9gTie29FIGO9kw.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Oracle Event Hub instance</figcaption></figure><p id="4b99" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated"><strong class="ik hi">创建自定义访问规则</strong></p><p id="9c0d" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">您需要在Oracle Event Hub Cloud上的Kafka服务器虚拟机上创建一个自定义的<strong class="ik hi">访问规则</strong>来打开端口<strong class="ik hi">2181</strong>—<a class="ae jg" href="https://docs.oracle.com/en/cloud/paas/event-hub-cloud/admin-guide/platform-access-rules-page.html" rel="noopener ugc nofollow" target="_blank">详细信息请点击此处</a></p><blockquote class="ie if ig"><p id="3b4c" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">Oracle Application Container Cloud不需要打开端口6667 (Kafka broker ),因为安全连接由服务绑定负责</p></blockquote><h2 id="52e0" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">Oracle MySQL云</h2><p id="6544" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">提供一个MySQL数据库实例——你可以参考这里的<a class="ae jg" href="https://docs.oracle.com/cloud/latest/mysql-cloud/UOMCS/GUID-D03FE523-AD8D-4C53-935C-D5D6513D2A24.htm#UOMCS-GUID-D03FE523-AD8D-4C53-935C-D5D6513D2A24" rel="noopener ugc nofollow" target="_blank">详细文档</a></p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nm"><img src="../Images/a447619a69e6e65e3498f6ad227bb4c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgECAf82Oy6tI3r0g1O7zA.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Oracle MySQL Cloud instance</figcaption></figure><p id="1a26" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">现在我们已经有了基础设施，是时候在云上部署数据流服务器了</p></div><div class="ab cl jy jz go ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="ha hb hc hd he"><h1 id="bf53" class="kf kg hh bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">构建和部署</h1><h2 id="60a9" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">从源构建Spring Cloud数据流</h2><blockquote class="ie if ig"><p id="357f" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">这包括特定于Oracle应用容器云的SPI实施</p></blockquote><ul class=""><li id="7677" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><code class="du nn no np nq b">git clone <a class="ae jg" href="https://github.com/ankitbansal/spring-cloud-dfs-accs.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ankitbansal/spring-cloud-dfs-accs.git</a></code></li><li id="1a9c" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><code class="du nn no np nq b">mvn clean install</code></li></ul><p id="562c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">这将在<code class="du nn no np nq b">spring-cloud-dataflow-server-accs\target</code>文件夹下创建<code class="du nn no np nq b">spring-cloud-dataflow-server-accs-1.0.0-SNAPSHOT.jar</code></p><figure class="mh mi mj mk fd ml er es paragraph-image"><div class="er es nr"><img src="../Images/df1dac22ed7653cc0c4d1b9c8b9cf40f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*n5ZOl0BiLSVNHEID978LLQ.png"/></div><figcaption class="mr ms et er es mt mu bd b be z dx">Spring Cloud Data Flow server (fat) JAR</figcaption></figure><p id="0959" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">拉上拉链——T4</p><h2 id="16e0" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">编辑元数据文件</h2><p id="5f20" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">根据您的设置配置元数据文件</p><p id="8bdd" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated"><strong class="ik hi"> manifest.json </strong></p><figure class="mh mi mj mk fd ml"><div class="bz dy l di"><div class="ns nt l"/></div><figcaption class="mr ms et er es mt mu bd b be z dx">manifest.json for Data Flow server on ACCS</figcaption></figure><p id="c52c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">以下是关键属性的总结</p><ul class=""><li id="317a" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><code class="du nn no np nq b">maven.remote-repositories.repo1.url</code> — Maven资源库URL。如果适用，使用<code class="du nn no np nq b">maven.remote-repositories.repo1.auth.username</code>和<code class="du nn no np nq b">maven.remote-repositories.repo1.auth.password</code></li></ul><blockquote class="ie if ig"><p id="a443" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">在这种情况下，我们使用Spring Maven repo。更多信息请见第2部分</p></blockquote><ul class=""><li id="e361" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><code class="du nn no np nq b">spring.cloud.dataflow.applicationProperties.stream.spring.cloud.stream.kafka.binder.brokers</code> —保持不变，因为它将从环境变量中选取</li><li id="b12b" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><code class="du nn no np nq b">spring.cloud.dataflow.applicationProperties.stream.spring.cloud.stream.kafka.binder.zkNode</code> —输入事件中心Zookeeper主机和端口的值</li></ul><p id="276c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated"><strong class="ik hi"> deployment.json </strong></p><figure class="mh mi mj mk fd ml"><div class="bz dy l di"><div class="ns nt l"/></div><figcaption class="mr ms et er es mt mu bd b be z dx">deployment.json for Data Flow server on ACCS</figcaption></figure><p id="1846" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">以下是关键属性的总结</p><ul class=""><li id="2b2f" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><code class="du nn no np nq b">ACCS_URL</code> —对于欧洲数据中心，使用<strong class="ik hi"> emea </strong>而不是<strong class="ik hi">美国</strong></li><li id="1aa2" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><code class="du nn no np nq b">spring_datasource_username</code> —保持不变，因为它将从环境变量中选取</li><li id="64ec" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><code class="du nn no np nq b">spring_datasource_password</code> —保持不变，因为它将从环境变量中选取</li><li id="1a03" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><code class="du nn no np nq b">spring_datasource_driver-class-name</code> —保持不变</li></ul><h2 id="3294" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">推至云</h2><p id="2f1d" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">借助Oracle Application Container Cloud，您在部署应用程序方面有多种选择。本博客将利用<strong class="ik hi"> PSM CLI </strong>，这是一个用于管理Oracle云服务的强大命令行界面</p><blockquote class="ie if ig"><p id="4b77" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated"><em class="hh">其他部署选项包括</em><a class="ae jg" href="https://docs.oracle.com/en/cloud/paas/app-container-cloud/apcsr/index.html" rel="noopener ugc nofollow" target="_blank"><em class="hh">REST API</em></a><em class="hh"/><a class="ae jg" href="https://docs.oracle.com/en/cloud/paas/developer-cloud/csdcs/deploying-application-oracle-developer-cloud-service.html#GUID-6FE6D850-65DC-471D-A249-F7CCA9CAB56F" rel="noopener ugc nofollow" target="_blank"><em class="hh">Oracle开发者云</em> </a> <em class="hh">当然还有</em> <a class="ae jg" href="https://docs.oracle.com/en/cloud/paas/app-container-cloud/csjse/creating-application.html" rel="noopener ugc nofollow" target="_blank"> <em class="hh">控制台/UI </em> </a></p></blockquote><p id="89eb" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">在您的机器上下载并设置PSM CLI(使用<code class="du nn no np nq b">psm setup</code>)——<a class="ae jg" href="https://docs.oracle.com/en/cloud/paas/java-cloud/pscli/using-command-line-interface-1.html" rel="noopener ugc nofollow" target="_blank">详情请见</a></p><p id="5993" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">部署Spring Cloud数据流服务器— <code class="du nn no np nq b">psm accs push -n SpringCloudDataflowServer -r java -s hourly -m manifest.json -d deployment.json -p scdf.zip</code></p><blockquote class="ie if ig"><p id="428a" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated"><em class="hh">一旦执行，一个</em>异步<em class="hh">进程被启动，CLI返回它的</em>任务ID <em class="hh">供您跟踪应用程序创建</em></p></blockquote><h2 id="50fa" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">检查您的应用程序</h2><p id="fde2" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">访问应用程序并检查实例和拓扑信息</p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nu"><img src="../Images/36062da403f8ed3c57c55cb28c6977af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgBdcVj6c9E0G0iMHHFPeQ.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Application overview</figcaption></figure><p id="4fca" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">注意事件中心和MySQL云的<strong class="ik hi">服务绑定</strong></p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nv"><img src="../Images/a45077554b3dd44af9d2b5dae9ae708a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xfSiUwLFpOzxaBF1TnQ18Q.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Service Bindings — Event Hub and MySQL</figcaption></figure></div><div class="ab cl jy jz go ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="ha hb hc hd he"><h1 id="ec47" class="kf kg hh bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">试车</h1><p id="1c58" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">访问Spring Cloud数据流仪表板—导航到您在应用程序详细信息屏幕上看到的URL，例如<code class="du nn no np nq b"><a class="ae jg" href="https://DataflowServer-ocloud100.apaas.us2.oraclecloud.com" rel="noopener ugc nofollow" target="_blank">https://SpringCloudDataflowServer-mydomain.apaas.us2.oraclecloud.com</a>/<strong class="ik hi">dashboard</strong></code></p><h2 id="791b" class="mv kg hh bd kh mw mx my kl mz na nb kp jh nc nd kt ji ne nf kx jj ng nh lb ni bi translated">更改部署拓扑</h2><p id="2998" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">您可以轻松地修改Spring Cloud数据流设置的拓扑结构</p><figure class="mh mi mj mk fd ml er es paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="er es nw"><img src="../Images/663512734e5e27ffbc685f89297f7825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7O7nDi0PV1j-E6RO9wfWhQ.png"/></div></div><figcaption class="mr ms et er es mt mu bd b be z dx">Change the topology as required</figcaption></figure><ul class=""><li id="53f8" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated"><strong class="ik hi">放大/缩小</strong> —增加/减少分配给数据流服务器的内存(RAM)</li><li id="c724" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi">扩大/缩小</strong> —增加/减少HA和性能的实例数量。<em class="ij">这很容易，因为持久状态存储在MySQL中，而应用本身是无状态的</em></li></ul></div><div class="ab cl jy jz go ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="ha hb hc hd he"><h1 id="e7ab" class="kf kg hh bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">摘要</h1><p id="8114" class="pw-post-body-paragraph ih ii hh ik b il ld in io ip le ir is jh lf iv iw ji lg iz ja jj lh jd je jf ha bi translated">这就是我们讨论的第一部分</p><ul class=""><li id="3fa8" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated">基本概念</li><li id="d877" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated">在<strong class="ik hi"> Oracle应用容器云</strong>上部署了<strong class="ik hi"> Spring Cloud数据流</strong>服务器及其相关组件，包括</li><li id="d2bd" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi"> Oracle事件中心云</strong>作为基于Kafka的消息传递层，以及</li><li id="124f" class="jk jl hh ik b il jt ip ju jh jv ji jw jj jx jf jp jq jr js bi translated"><strong class="ik hi"> Oracle MySQL云</strong>作为持久RDBMS存储</li></ul><p id="7b78" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">下一期将展示我们在Oracle Application Container Cloud上使用Spring Cloud数据流构建基于Kafka的流处理管道的过程..</p><h1 id="6247" class="kf kg hh bd kh ki mb kk kl km mc ko kp kq md ks kt ku me kw kx ky mf la lb lc bi translated">不要忘记…</h1><ul class=""><li id="42ff" class="jk jl hh ik b il ld ip le jh nx ji ny jj nz jf jp jq jr js bi translated">查看Oracle Application Container Cloud教程—每个运行时都有适合的内容！</li></ul><div class="li lj ez fb lk ll"><a href="https://docs.oracle.com/en/cloud/paas/app-container-cloud/create-first-applications.html" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hi fi z dy lq ea eb lr ed ef hg bi translated">Oracle应用容器云服务—创建您的第一批应用</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">Oracle应用容器云服务教程。学习创建你的第一个应用程序。</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><ul class=""><li id="fea7" class="jk jl hh ik b il im ip iq jh jm ji jn jj jo jf jp jq jr js bi translated">关于应用容器云的其他博客</li></ul><div class="li lj ez fb lk ll"><a rel="noopener follow" target="_blank" href="/tag/app-container-cloud/latest"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd hi fi z dy lq ea eb lr ed ef hg bi translated">关于应用容器云的最新故事和新闻—中型</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">阅读关于应用容器云的最新文章。每天，成千上万的声音阅读、书写和分享重要的…</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">medium.com</p></div></div><div class="lu l"><div class="oa l lw lx ly lu lz ma ll"/></div></div></a></div><p id="fe33" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jh iu iv iw ji iy iz ja jj jc jd je jf ha bi translated">干杯！</p><blockquote class="ie if ig"><p id="91d2" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">本文表达的观点是我个人的观点，不一定代表甲骨文的观点。</p></blockquote></div></div>    
</body>
</html>