<html>
<head>
<title>Test Automation Framework · Reporting &amp; Observability (Part 2/5)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试自动化框架报告和可观察性(第2/5部分)</h1>
<blockquote>原文：<a href="https://medium.com/globant/test-automation-framework-reporting-observability-part-2-b531473dc310?source=collection_archive---------0-----------------------#2022-09-12">https://medium.com/globant/test-automation-framework-reporting-observability-part-2-b531473dc310?source=collection_archive---------0-----------------------#2022-09-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="2d9f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">表示测试执行</h1><p id="79fe" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">正如在第一篇文章中所解释的，成功地将报告和可观察性应用到测试自动化框架及其过程的起点是捕获执行信息和测试细节，并以特定的结构和数据关系来呈现它们。</p><p id="b388" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">因此，必须遵守测试执行的数据契约，这样测试自动化框架才能在运行时正确地创建和更新信息。</p><p id="c283" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">这个信息至少被分成三个部分:测试执行，它的测试细节，以及每个测试的缺陷细节。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kf"><img src="../Images/214f7fd48037ddf8eb3a659e6bf2fe18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MSkCgKVbihP0bGbfy_IfXQ.png"/></div></div></figure><h2 id="027d" class="kr if hh bd ig ks kt ku ik kv kw kx io jn ky kz is jr la lb iw jv lc ld ja le bi translated">测试执行</h2><p id="d95a" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">一旦本地、远程或使用任何CI工具触发了测试运行，就会编译测试执行信息。每个测试执行信息都与每个测试相关联，因此一次运行包含多个测试细节。</p><p id="3905" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">此信息可以包括必填字段或可选字段。根据实现或范围，一些适当且重要的字段可以定义如下:</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lf"><img src="../Images/713becd746fc6f28c2774d0e20755000.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hz8XAqQ3j6cUOPWHOi-msw.png"/></div></div></figure><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lg"><img src="../Images/9f4642157a81c490b0bae2fdbe25b8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mJtdXK_VmdJixIQiverNgA.png"/></div></div></figure><p id="bca5" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">当然，根据需求还会有更多的字段。</p><p id="897d" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">一些字段，如:“id”、“日期”和“环境”在运行开始时立即定义。其他的如“rate”是在执行完成时定义的，评估每个测试结果。</p><h2 id="2275" class="kr if hh bd ig ks kt ku ik kv kw kx io jn ky kz is jr la lb iw jv lc ld ja le bi translated">测试细节</h2><p id="e625" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">当测试被执行时，测试细节与测试执行信息相关联。这些细节对于表示测试、访问测试信息和分析测试结果非常重要。</p><p id="1e8a" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">一些相关字段包括:</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lh"><img src="../Images/615d4a97dfbaa0b9f618a64f9607f538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JdCk4mkaoxKd6bw-uVkgsQ.png"/></div></div></figure><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es li"><img src="../Images/9ea089cf6c3c0d1f44f4ad0176aa6eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VagyD3yrbAcL7XVWIO-6Qw.png"/></div></div></figure><p id="202b" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">一个重要的字段是‘id’，</strong>一种将自动化测试链接到测试管理工具的方式，以便以后与它集成并更新执行的每个测试结果部分。</p><h2 id="170a" class="kr if hh bd ig ks kt ku ik kv kw kx io jn ky kz is jr la lb iw jv lc ld ja le bi translated">故障详细信息</h2><p id="8851" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">失败细节是测试细节的重要元素。如果测试失败，它必须包含失败信息和证据，以便进行分析和分类，这样以后就可以用完整的证据报告结果。这些重要的领域包括:</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kf"><img src="../Images/8b3d8dcc197cc605e888cb828fcd6b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SZ_65gVuew-9Yd05xdKM6A.png"/></div></div></figure><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lj"><img src="../Images/f4f78f9421e2ac65cefd56c53ccca5d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i8n5DhtdmNZldNiqbY0xww.png"/></div></div></figure><p id="537c" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">“原因”字段和表示为“错误类型”和“错误消息”的所有其他字段对于错误分组极其重要，因为在同一次执行中出现类似错误是非常常见的。</p><p id="fefe" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">执行这种分析并根据原因将错误分类，可以提高测试结果及其分析的可见性。错误分析和分类有助于为测试通知创建自定义消息，以及由警报系统处理的其他自定义消息。</p></div><div class="ab cl lk ll go lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ha hb hc hd he"><h1 id="2113" class="ie if hh bd ig ih lr ij ik il ls in io ip lt ir is it lu iv iw ix lv iz ja jb bi translated">捕获测试执行挂钩和监听器</h1><p id="b57d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">现在，我们如何确保在运行时收集这些信息呢？答案在于使用监听器和/或钩子在执行的不同阶段收集测试信息。</p><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es lw"><img src="../Images/d852de7f287350c62dffaa28c01fa900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YFMQ-mJsEBlL2d8j6I32dw.png"/></div></div></figure><p id="c158" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">测试运行器管理测试执行并运行所有的测试，但是钩子和监听器被实现来在运行时收集信息或执行特定的动作，同时测试被执行。</p><ul class=""><li id="2b78" class="lx ly hh je b jf ka jj kb jn lz jr ma jv mb jz mc md me mf bi translated">钩子允许在测试执行生命周期的每一步之前或之后执行函数。例如，在执行之前和之后或者在每次测试之前和之后。</li><li id="7985" class="lx ly hh je b jf mg jj mh jn mi jr mj jv mk jz mc md me mf bi translated">监听器响应测试执行生命周期中的特定事件并执行动作。例如，当测试完成并处理测试结果时，可能会发生一个事件。</li></ul><p id="b20c" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">最后，测试执行运行时信息是在不同的上下文中处理和组织的，与代表整个执行的上下文和代表每个单独测试的上下文是分开的。以这种方式管理信息对于处理所有数据并将其存储在内存结构或外部数据源中非常有用:</p><ul class=""><li id="4578" class="lx ly hh je b jf ka jj kb jn lz jr ma jv mb jz mc md me mf bi translated">测试执行上下文:拥有一组测试上下文并在线程安全环境中工作的入口点，考虑并行执行和对数据的多次调用。</li><li id="1ec5" class="lx ly hh je b jf mg jj mh jn mi jr mj jv mk jz mc md me mf bi translated">测试上下文:表示在执行期间收集的每个测试细节，与测试执行上下文相关联，并允许测试在该上下文中存储信息。</li></ul><p id="6d95" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">这个过程捕获、处理和组织信息，以便以后在各种报告、警报和监视替代方案中持久保存和共享。</p><p id="28f1" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">知道了测试执行是如何在运行时被捕获和组织的，在下面的文章中，我们将通过发送定制的警报和生成测试报告来关注可视化的数据。</p></div></div>    
</body>
</html>