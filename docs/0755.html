<html>
<head>
<title>The deep links crash course, Part 2: Deep links from Zero to Hero</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深层链接速成班，第2部分:从零到英雄的深层链接</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/the-deep-links-crash-course-part2-deep-links-from-zero-to-hero-37f94cc8fb88?source=collection_archive---------0-----------------------#2022-09-08">https://medium.com/androiddevelopers/the-deep-links-crash-course-part2-deep-links-from-zero-to-hero-37f94cc8fb88?source=collection_archive---------0-----------------------#2022-09-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e19d" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">由<a class="ae jd" href="https://twitter.com/skateryna" rel="noopener ugc nofollow" target="_blank"> @SKateryna </a>和<a class="je jf ge" href="https://medium.com/u/e749f9d57dd8?source=post_page-----37f94cc8fb88--------------------------------" rel="noopener" target="_blank"> Sabs </a></p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/f2fdddcd7178e7c05a1c772be09a5a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HpdeCKG4tjkohQYoHbvsqw.png"/></div></div></figure><h1 id="a5db" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">介绍</h1><p id="2dbb" class="pw-post-body-paragraph if ig hh ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc ha bi translated">当你想让用户更容易进入你的应用程序中的特定部分时，比如显示订阅优惠，要求用户更新个人资料，或者在购物应用程序中显示用户的购物车，你可以使用<strong class="ih hi">深层链接</strong>！</p><p id="eb76" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">用户可以在应用内外点击这些链接，访问应用内的特定内容。它们可以在网页、快捷方式、通知中使用，也可以在应用程序的模块之间使用。</p><p id="4911" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">在本帖中，我们将仔细看看不同类型的深层链接。我们将讨论如何设置、测试它们，并围绕它们构建最佳用户体验。关于深层链接的更多信息，请查看本系列的第1部分。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kv"><img src="../Images/03f463c4f15df6da1f25e0671dbefcc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DDa-PV0ISQSU6K5-"/></div></div></figure><p id="13ec" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">您可以在Android应用程序中创建不同类型的深度链接:标准深度链接、网页链接和Android应用程序链接。图1显示了这些链接类型之间的关系:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es kw"><img src="../Images/7422382d78194c3006f665aee778384e.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*4MilOTO04EdPyRLmHAUZ-Q.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx"><strong class="bd ju">Figure 1.</strong> Capabilities of deep links, web links, and Android App Links.</figcaption></figure><p id="2edb" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">所有形式的深层链接都是URIs，将用户直接带到应用程序中的特定内容。</p><ul class=""><li id="45e7" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated"><a class="ae jd" href="https://developer.android.com/training/app-links#web-links" rel="noopener ugc nofollow" target="_blank"> Web链接</a>是使用HTTP和HTTPS方案的深层链接。</li><li id="a976" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hi">安卓应用链接</strong>是经过验证仅属于你的应用的网页链接。</li></ul><p id="4585" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">URIs举了一些例子:</p><ul class=""><li id="3f79" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">“example://droid . food . app”——带有“example”自定义方案的URI。</li><li id="445e" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">”<a class="ae jd" href="http://www.example.com/food" rel="noopener ugc nofollow" target="_blank">https://www.example.com/food</a>”—URI与HTTPS的方案。</li></ul><h1 id="4f23" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">实现深层链接</h1><p id="7fe1" class="pw-post-body-paragraph if ig hh ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc ha bi translated">当用户点击一个链接或一个应用程序以编程方式调用URI意图时，Android会试图找到一个可以解析该链接的处理程序应用程序。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kv"><img src="../Images/fa638f7bd8e4c7e91e54e852bbfa457c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_z9pF0fKbOgY-8gi"/></div></div></figure><p id="e107" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">要确保您的应用程序可以成为处理程序，请执行以下3个步骤:</p><p id="b96f" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第一步:</strong> <a class="ae jd" href="https://developer.android.com/training/app-links/deep-linking#adding-filters" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi">为进入的链接添加意图过滤器</strong> </a></p><p id="fbb9" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">将<a class="ae jd" href="https://developer.android.com/guide/components/intents-filters" rel="noopener ugc nofollow" target="_blank">意图过滤器</a>添加到您的清单文件中，并将用户引导到您的应用程序中的正确位置，如以下代码片段所示:</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="lp lq l"/></div><figcaption class="kx ky et er es kz la bd b be z dx">Android intent filter</figcaption></figure><p id="79dc" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">在本例中，我们添加了一个意图过滤器，将用户导航到LocationsActivity。</p><p id="6fef" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">让我们探讨一下这种意图的元素和属性值:</p><p id="e966" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><a class="ae jd" href="https://developer.android.com/guide/topics/manifest/action-element" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi"> &lt;动作&gt; </strong> </a></p><p id="de4e" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">指定<a class="ae jd" href="https://developer.android.com/reference/android/content/Intent#ACTION_VIEW" rel="noopener ugc nofollow" target="_blank">动作_视图</a>意图动作，以便可以从谷歌搜索中到达意图过滤器。</p><p id="6787" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><a class="ae jd" href="https://developer.android.com/guide/topics/manifest/category-element" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi"> &lt;类别&gt; </strong> </a></p><p id="6c5d" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">包括<a class="ae jd" href="https://developer.android.com/reference/android/content/Intent#CATEGORY_BROWSABLE" rel="noopener ugc nofollow" target="_blank">可浏览的</a>类别。这是从web浏览器访问意图过滤器所必需的。没有它，用户无法从浏览器中显示的深层链接打开你的应用程序。</p><p id="4341" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">还包括<a class="ae jd" href="https://developer.android.com/reference/android/content/Intent#CATEGORY_DEFAULT" rel="noopener ugc nofollow" target="_blank">默认的</a>类别。这允许你的应用程序响应隐含的意图。没有这个，只有意向指定你的app，活动才能开始。</p><p id="35be" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><a class="ae jd" href="https://developer.android.com/guide/topics/manifest/data-element" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi"> &lt;数据&gt; </strong> </a></p><p id="85fe" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">可以添加一个或多个<data>标签，每个标签代表一个解析到活动的URI格式。<a class="ae jd" href="https://developer.android.com/guide/topics/manifest/data-element" rel="noopener ugc nofollow" target="_blank"> &lt;数据&gt; </a>标签必须包含<a class="ae jd" href="https://developer.android.com/guide/topics/manifest/data-element#scheme" rel="noopener ugc nofollow" target="_blank"> android:scheme </a>属性。</data></p><p id="fe5c" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">一旦你为你的应用清单文件添加了一个或多个带有URIs的意图过滤器，Android就能够获取任何具有匹配URIs的<a class="ae jd" href="https://developer.android.com/reference/android/content/Intent" rel="noopener ugc nofollow" target="_blank">意图</a>，并在运行时将该意图路由到你的应用。要了解更多关于定义意图过滤器及其属性的信息，请查看<a class="ae jd" href="https://developer.android.com/training/app-links/deep-linking#adding-filters" rel="noopener ugc nofollow" target="_blank">为传入链接添加意图过滤器</a>。</p><p id="6924" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第二步:</strong> <a class="ae jd" href="https://developer.android.com/training/app-links/deep-linking#handling-intents" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi">从传入意向</strong> </a>中读取数据</p><p id="e9cb" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">一旦Android系统通过意图过滤器开始你的活动，你可以使用由<a class="ae jd" href="https://developer.android.com/reference/android/content/Intent" rel="noopener ugc nofollow" target="_blank">意图</a>提供的数据来确定你需要呈现什么。以下代码片段显示了如何从意图中检索数据:</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="lp lq l"/></div><figcaption class="kx ky et er es kz la bd b be z dx">Read data from an intent</figcaption></figure><p id="39de" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">您还应该在创建活动后处理新的意图。如果用户想在活动被销毁之前打开一个链接，你可以用活动方法<a class="ae jd" href="https://developer.android.com/reference/android/app/Activity#onNewIntent(android.content.Intent)" rel="noopener ugc nofollow" target="_blank"> onNewIntent() </a>获得一个新的意图。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="lp lq l"/></div><figcaption class="kx ky et er es kz la bd b be z dx">Handling new intents</figcaption></figure><p id="feef" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第三步:</strong> <a class="ae jd" href="https://developer.android.com/training/app-links/deep-linking#testing-filters" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi">测试你的深层链接</strong> </a></p><p id="029f" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">您可以使用<a class="ae jd" href="https://developer.android.com/tools/help/adb" rel="noopener ugc nofollow" target="_blank"> Android调试桥</a>来测试深度链接解析到正确的应用程序活动。用adb测试意图过滤器URI的一般语法是:</p><pre class="jh ji jj jk fd lr ls lt lu aw lv bi"><span id="2525" class="lw jt hh ls b fi lx ly l lz ma">$ adb shell am start <br/>      -W -a android.intent.action.VIEW <br/>      -d &lt;URI&gt; &lt;PACKAGE&gt;</span></pre><p id="5f5b" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">例如，下面的命令尝试查看一个应用程序，其package = "food.example.com "与URI = "example://food "相关联:</p><pre class="jh ji jj jk fd lr ls lt lu aw lv bi"><span id="2c74" class="lw jt hh ls b fi lx ly l lz ma">$ adb shell am start<br/>      -W -a android.intent.action.VIEW<br/>      -d “example://food” food.example.com</span></pre><p id="e043" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">对于隐式意图，可以跳过包名，但是对于显式意图，应该提供包名。有关命令选项的更多信息，请查看<a class="ae jd" href="https://developer.android.com/studio/command-line/adb#am" rel="noopener ugc nofollow" target="_blank">呼叫活动管理器(am) </a>文档。</p><p id="342b" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">上面设置的清单声明和意图处理程序定义了应用程序和深层链接之间的连接。现在，让我们探索使用HTTP和HTTPS方案的链接，以及如何确保系统将您的应用程序视为默认处理程序。</p><h1 id="acc5" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">网络链接</h1><p id="be82" class="pw-post-body-paragraph if ig hh ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc ha bi translated">Web链接是使用HTTP和HTTPS方案的深层链接。除了您的意图过滤器包括“http”或“https”方案之外，它们以相同的方式实现。</p><p id="5e45" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果你拥有一个网络链接(拥有域名并有相应的网页)，那么就按照下面的说明进行Android应用链接。</p><p id="bfec" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果你没有网络链接，而你的应用程序的主要功能可能是作为第三方打开链接，那么向用户解释这一点，并按照说明如何<a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#request-user-associate-app-with-domain" rel="noopener ugc nofollow" target="_blank">请求用户将你的应用程序与一个域关联起来</a>。在请求域批准之前，请为用户提供一些上下文。例如，你可以向他们展示一个屏幕，向用户解释为什么你的应用程序应该是特定域的默认处理程序。</p><h1 id="1009" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">Android应用链接</h1><p id="23df" class="pw-post-body-paragraph if ig hh ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc ha bi translated">Android应用程序链接是经过验证仅属于您的应用程序的网页链接。<strong class="ih hi">当用户点击一个经过验证的Android应用链接时，你安装的应用会立即打开。不会出现消除歧义对话框。</strong></p><p id="8fd0" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果没有安装该应用程序，并且用户没有将另一个应用程序设置为默认处理程序，则您的链接将在浏览器中打开。</p><p id="2457" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">安卓App链接实现</strong></p><p id="5259" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">要设置Android应用链接，除了上面的步骤1、2、3之外，你还需要做几个额外的步骤:</p><p id="9b5c" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第四步:</strong> <a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#add-intent-filters" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi">将“自动验证”属性添加到意图过滤器</strong> </a></p><p id="735b" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">要允许系统验证Android应用链接是否与您的应用相关联，请添加符合以下格式的意图过滤器:</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="lp lq l"/></div><figcaption class="kx ky et er es kz la bd b be z dx">Add the autoVerify attribute for Android App Links</figcaption></figure><p id="3905" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第五步:</strong> <a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#web-assoc" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hi">声明你的app与网站的关联</strong> </a></p><p id="9ad1" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">通过在以下位置托管数字资产链接JSON文件，声明您的网站和您的意图过滤器之间的关联:</p><p id="e291" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><a class="ae jd" href="https://food.example.com/.well-known/assetlinks.json" rel="noopener ugc nofollow" target="_blank">https://food.example.com/.well-known/assetlinks.json</a></p><p id="e2e4" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">必须在您的网站上发布一个<a class="ae jd" href="https://developers.google.com/digital-asset-links/v1/getting-started" rel="noopener ugc nofollow" target="_blank">数字资产链接</a> JSON文件，以表明与网站相关联的Android应用程序，并验证应用程序的URL意图。</p><p id="fcf3" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">以下示例assetlinks.json文件授予droidfood.example.com Android应用程序链接打开权限:</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="lp lq l"/></div><figcaption class="kx ky et er es kz la bd b be z dx">assetlinks.json file for the Droidfood app</figcaption></figure><p id="93fb" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">验证您的签名是否正确，是否与用于签署您的应用的签名相匹配:</p><ul class=""><li id="f30f" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">assetlinks.json中有发布签名，也可以添加调试签名用于测试。</li><li id="28e7" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">签名应该是大写的。</li><li id="7352" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">如果你使用的是<a class="ae jd" href="https://support.google.com/googleplay/android-developer/answer/9842756" rel="noopener ugc nofollow" target="_blank"> Play应用签名</a>，确保你使用的是谷歌为你的每一个版本签名的签名。</li></ul><p id="c078" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">您可以通过遵循关于<a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#web-assoc" rel="noopener ugc nofollow" target="_blank">声明网站关联</a>的说明来验证这些细节，包括一个完整的JSON片段。</p><p id="4b5a" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">第六步:验证安卓应用链接</strong></p><p id="89e4" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">确认要与您的应用程序关联的网站列表，并确认托管的JSON文件有效后，在您的设备上安装应用程序。等待至少20秒钟，让异步验证过程完成。使用以下命令检查系统是否验证了您的应用程序并设置了正确的链接处理策略:</p><pre class="jh ji jj jk fd lr ls lt lu aw lv bi"><span id="3fe3" class="lw jt hh ls b fi lx ly l lz ma">$ adb shell am start<br/>      -a android.intent.action.VIEW<br/>      -c android.intent.category.BROWSABLE<br/>      -d “https://food.example.com"</span></pre><p id="6482" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">注</strong>:</p><p id="358d" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">从Android 12开始，你可以<a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#manual-verification" rel="noopener ugc nofollow" target="_blank">手动调用安装在设备上的应用程序的域验证</a>。无论应用的目标SDK版本如何，您都可以执行此过程。</p><p id="3c10" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果有些东西不工作，请遵循这些关于如何修复Android应用程序链接的<a class="ae jd" href="https://developer.android.com/training/app-links/verify-site-associations#fix-errors" rel="noopener ugc nofollow" target="_blank">常见实现错误的说明。也可以看看“深度链接视频系列速成班——第3部分:深度链接的挑战”</a></p><p id="f33c" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">导航最佳实践</strong></p><p id="37d3" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">遵循这些最佳实践来改善用户体验:</p><ul class=""><li id="bb54" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">深层链接应该直接把用户带到内容，没有任何提示，间隙页，或登录。确保用户可以看到应用程序内容，即使他们以前从未打开过该应用程序。在随后的交互中，例如当他们从Android应用程序启动器打开应用程序时，可以提示用户跳过一些步骤来获得深层链接内容。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kv"><img src="../Images/8c5f3f34d8f9df8fc233b8bf47fbc96c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nC3HZ07oUr7a4wXp"/></div></div></figure><ul class=""><li id="46d2" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">遵循<a class="ae jd" href="https://developer.android.com/guide/navigation/navigation-principles" rel="noopener ugc nofollow" target="_blank">带后退和向上导航</a>中描述的设计指南，以便用户通过深度链接进入你的应用后，你的应用符合用户对<a class="ae jd" href="https://developer.android.com/guide/navigation/navigation-principles#deep-link" rel="noopener ugc nofollow" target="_blank">后退导航的期望。</a></li></ul><p id="f096" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">让我们看看Droidfood应用程序中打开食品详情屏幕的深度链接的例子。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mb"><img src="../Images/f60472db3810ce21f9e4149bd1d13b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GifwPOXdgqdM5aPz"/></div></div></figure><p id="5b3f" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">图2。</strong>使用深层链接替换Droidfood应用程序的现有后台堆栈。</p><p id="ddce" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">在这个例子中，用户跟随打开“纸杯蛋糕细节”屏幕的深层链接。当用户点击返回时，应用程序显示“Droidfood landing”屏幕，而不是退出。该应用程序显示这个屏幕是因为，从“Droidfood landing”屏幕，用户可以导航回“Cupcake details”。这种导航帮助用户知道将来如何在应用中找到深层链接内容，而无需再次搜索深层链接。</p><p id="7fca" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">如果你使用的是Android Jetpack的导航组件，请查看<a class="ae jd" href="https://developer.android.com/guide/navigation/navigation-deep-link" rel="noopener ugc nofollow" target="_blank">为目的地指南</a>创建深层链接。</p><p id="31d0" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated"><strong class="ih hi">总结</strong></p><p id="369b" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">在这篇博文中，你已经学习了如何实现不同类型的深度链接。我们建议使用Android应用程序链接，这有助于避免歧义对话框，同时在用户没有安装您的应用程序时无缝工作。关于深层链接的更多细节，请查看指南<a class="ae jd" href="https://developer.android.com/training/app-links#understand-different-types-links" rel="noopener ugc nofollow" target="_blank">了解不同类型的链接</a>。</p><ul class=""><li id="215d" class="lb lc hh ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated"><strong class="ih hi"> Part 1: </strong> <a class="ae jd" rel="noopener" href="/androiddevelopers/the-deep-links-crash-course-part-1-introduction-to-deep-links-2189e509e269">深度链接可以做什么？</a></li><li id="a060" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hi"> <em class="mc">第二部分:</em> </strong> <em class="mc">从零到英雄的深度链接</em></li><li id="8017" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hi">第三部分:</strong> <a class="ae jd" rel="noopener" href="/androiddevelopers/deep-links-crash-course-part-3-troubleshooting-your-deep-links-61329fecb93">克服挑战创建安卓应用链接</a></li><li id="bc59" class="lb lc hh ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated"><strong class="ih hi">第4部分:</strong>为您的业务提供深层链接</li></ul><p id="aa99" class="pw-post-body-paragraph if ig hh ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc ha bi translated">让我们开始联系吧！</p></div></div>    
</body>
</html>