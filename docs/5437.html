<html>
<head>
<title>BGP Hijack of Amazon DNS to Steal Crypto Currency</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BGP劫持亚马逊DNS窃取加密货币</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/bgp-hijack-of-amazon-dns-to-steal-crypto-currency-a90dd29cb3ab?source=collection_archive---------0-----------------------#2018-04-25">https://medium.com/oracledevs/bgp-hijack-of-amazon-dns-to-steal-crypto-currency-a90dd29cb3ab?source=collection_archive---------0-----------------------#2018-04-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/235a6d79792b6325fead94eb539267ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*UWxzOG-aNNvj6poB."/></div></figure><p id="4572" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">昨天早上，我们发布了一条推文(如下),称亚马逊的权威DNS服务受到了路由(BGP)劫持的影响。我们不知道这是一个精心策划的计划的一部分，利用DNS和BGP固有的安全弱点来窃取加密货币，但这一引人注目的场景似乎已经发生了。</p><blockquote class="jj jk jl"><p id="e6e4" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated">今早BGP劫持影响了亚马逊DNS。俄亥俄州哥伦布市的eNet (AS10297)宣布了以下亚马逊路线从世界协调时今天11:05到13:03的更多细节:205 . 251 . 192 . 0/24 205 . 251 . 193 . 0/24 205 . 251 . 195 . 0/24 205 . 251 . 197 . 0/24 205 . 251 . 197 . 0/24</p><p id="6f03" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><em class="hh"> 205.251.199.0/24 </em></p><p id="f4db" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><em class="hh"> —互联网智能(@互联网英特尔)</em><a class="ae jq" href="https://twitter.com/InternetIntel/status/988792927068610561?ref_src=twsrc%5Etfw" rel="noopener ugc nofollow" target="_blank"><em class="hh">2018年4月24日</em> </a></p></blockquote><p id="0389" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在发布劫持推文后，我观察到与加密货币网站myetherwallet.com有关的DNS劫持报告，并认为这两件事可能有关联:</p><blockquote class="jj jk jl"><p id="9d11" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><em class="hh">也许和这个有关:</em><a class="ae jq" href="https://t.co/6dOrmEuRAz" rel="noopener ugc nofollow" target="_blank"><em class="hh">https://t.co/6dOrmEuRAz</em></a></p><p id="c6ee" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><em class="hh"> —道格·马多利(@ DougMadory)</em><a class="ae jq" href="https://twitter.com/DougMadory/status/988793161014267909?ref_src=twsrc%5Etfw" rel="noopener ugc nofollow" target="_blank"><em class="hh">2018年4月24日</em> </a></p></blockquote><p id="adf0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">果然，eNet/ <a class="ae jq" href="http://www.xlhost.com/" rel="noopener ugc nofollow" target="_blank"> XLHost </a> (AS10297)似乎遭遇了一个漏洞，使得攻击者能够冒充亚马逊的权威DNS服务。这些攻击者利用AS10297公布了亚马逊DNS使用的五条路由:</p><p id="731f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Amazon.com股份有限公司Amazon.com股份有限公司Amazon.com股份有限公司</p><p id="c002" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Amazon.com公司。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jr"><img src="../Images/4a45b07b45d65f3868af4fcddb1c1d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IH2nCL2aTBBg3KJo.png"/></div></div></figure><p id="3270" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如上所述，这些BGP路由不是全局路由。事实上，只有15%多一点的BGP来源在他们的表格中有它们。然而，接受被劫持路由的网络用户(显然包括谷歌的<a class="ae jq" href="https://twitter.com/mdhardeman/status/988805808501788678" rel="noopener ugc nofollow" target="_blank">递归DNS服务</a>)将他们的DNS查询发送到嵌入在AS10297中的冒名顶替的DNS服务。根据CloudFlare 的说法，如果这些用户试图访问myetherwallet.com，冒名顶替的DNS服务不会将他们导向亚马逊网络服务(通常托管该网站)，而是导向一组俄罗斯IP地址。请注意，用户确实需要在浏览器中点击通过证书失败警报，但这并没有阻止许多用户。</p><p id="7e8c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">几个小时后，MyEtherWallet发布了一份声明，承认他们的加密货币服务的许多用户被重定向到一个欺诈网站(尽管错误地将劫持归咎于谷歌DNS，而不是亚马逊DNS):</p><blockquote class="jj jk jl"><p id="f335" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated">更正:今天早上的BGP劫持针对的是AWS DNS，而不是Google DNS。<a class="ae jq" href="https://t.co/gp3VLbImpX" rel="noopener ugc nofollow" target="_blank"><em class="hh"/></a></p><p id="175b" class="il im jm in b io ip iq ir is it iu iv jn ix iy iz jo jb jc jd jp jf jg jh ji ha bi translated"><em class="hh"> —互联网智能(@互联网英特尔)</em><a class="ae jq" href="https://twitter.com/InternetIntel/status/988841601400270848?ref_src=twsrc%5Etfw" rel="noopener ugc nofollow" target="_blank"><em class="hh">2018年4月24日</em> </a></p></blockquote><p id="b20e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">结论</strong></p><p id="448f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这种攻击滥用了BGP基于信任的特性来颠覆亚马逊的DNS。然后，它滥用DNS基于信任的性质，将用户导向俄罗斯的一个恶意网站，并准备好取走他们的加密货币。</p><p id="c8a0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">尽管提出了保护BGP和DNS的技术措施，但我们目前似乎没有办法完全防止这种情况再次发生。然而，一个值得考虑的想法<a class="ae jq" href="https://twitter.com/JobSnijders/status/988948198436851712" rel="noopener ugc nofollow" target="_blank">来自NTT的Job Snijders</a>，他提议主要的DNS权威服务提供RPKI作为其路由的来源验证。这将使ASes和IXP路由服务器能够丢弃无效的路由，就像昨天用来冒充亚马逊DNS的那些路由一样。</p><p id="734c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果像这样的袭击可以不受惩罚地进行并从中获利，我们可以期待更多的袭击。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ka"><img src="../Images/79fbfd7154607331a91d26fe46c26b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wdbqk98_isg4tN_Piw5pw.png"/></div></div></figure></div><div class="ab cl kb kc go kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="ha hb hc hd he"><p id="552e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jm">原载于2018年4月25日</em><a class="ae jq" href="https://blogs.oracle.com/internetintelligence/bgp-hijack-of-amazon-dns-to-steal-crypto-currency" rel="noopener ugc nofollow" target="_blank"><em class="jm">blogs.oracle.com</em></a><em class="jm">。</em></p></div></div>    
</body>
</html>