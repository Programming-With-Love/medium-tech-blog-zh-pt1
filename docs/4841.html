<html>
<head>
<title>Puzzlers on Kt. Academy, week 6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡帕头的拼图。学院，第6周</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/puzzlers-on-kotlin-academy-week-6-a83503b1f946?source=collection_archive---------6-----------------------#2018-05-04">https://blog.kotlin-academy.com/puzzlers-on-kotlin-academy-week-6-a83503b1f946?source=collection_archive---------6-----------------------#2018-05-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/1ab4881589540c20868286f2e173e1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QKrKTSvw3VSBMvvrbWAcZw.jpeg"/></div></div></figure><div class=""/><p id="43c8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">时间为新电池的科特林字谜从Kt。学院！本周我们在函数方面有很多乐趣。享受；)</p><h2 id="c70f" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">一切都是可变的</h2><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="a738" class="kt ku iy lr b gy lv lw l lx ly">val readonly = listOf(1, 2, 3)<br/><br/>if (readonly is MutableList) {<br/>  readonly.add(4)<br/>}<br/><br/>println(readonly)</span></pre><p id="2e80" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作者:<a class="ae lz" href="https://github.com/angryziber/kotlin-puzzlers/tree/master/src/collections/everythingIsMutable" rel="noopener ugc nofollow" target="_blank">安东·凯克斯</a></p><p id="6dba" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它将显示什么？一些可能性:</p><p id="1577" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">a) [1，2，3] <br/> b) [1，2，3，4] <br/> c)不支持的操作异常<br/> d)将不编译</p><p id="0aea" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<a class="ae lz" href="http://portal.kotlin-academy.com/#/?tag=puzzler-48" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读本文直到最后，查看答案和解释。</p><h2 id="2187" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">构图的乐趣</h2><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="80e2" class="kt ku iy lr b gy lv lw l lx ly">val increment = { i: Int -&gt; i + 1 }<br/>val bicrement = { i: Int -&gt; i + 2 }<br/>val double = { i: Int -&gt; i * 2 }<br/>val one = { 1 }<br/><br/>infix fun &lt;T, R&gt; (() -&gt; T).then(another: (T) -&gt; R) = { another(this()) }<br/>operator fun &lt;T, R1, R2&gt; ((T) -&gt; R1).plus(another: (T) -&gt; R2) = { x: T -&gt; this(x) to another(x) }<br/><br/>fun main(args: Array&lt;String&gt;) {<br/>    val equilibrum = one then double then (increment + bicrement)<br/>    print(equilibrum())<br/>}</span></pre><p id="c7f2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作者:<a class="ae lz" href="http://marcinmoskala.com/" rel="noopener ugc nofollow" target="_blank">马尔钦·莫斯卡拉</a></p><p id="8eeb" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它将显示什么？一些可能性:</p><p id="8c62" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">a)什么都没有，它不编译<br/> b) 5 <br/> c) (1，2) <br/> d) (3，4)</p><p id="44a5" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<a class="ae lz" href="http://portal.kotlin-academy.com/#/?tag=puzzler-52" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读本文直到最后，查看答案和解释。</p><h2 id="cd01" class="kt ku iy bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">有身份的作文</h2><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="0867" class="kt ku iy lr b gy lv lw l lx ly">val double = { i: Int -&gt; i * 2 }<br/>infix fun &lt;A, I, R&gt; ((A) -&gt; I).then(f: (I) -&gt; R) <br/>    = { a: A -&gt; f(this(a)) }<br/>fun &lt;T&gt; id(x: T) = x<br/><br/>fun main(args: Array&lt;String&gt;) {<br/>    val f = double then ::id then double then ::id then ::id<br/>    print(f(1))<br/>}</span></pre><p id="33a1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">作者:<a class="ae lz" href="http://marcinmoskala.com/" rel="noopener ugc nofollow" target="_blank">马尔钦·莫斯卡拉</a></p><p id="13d4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它将显示什么？一些可能性:</p><p id="0812" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">a) 4 <br/> b)无法推断出<code class="fe ma mb mc lr b">R</code>的类型<br/> c)无法引用通用函数<code class="fe ma mb mc lr b">id</code>T24】d)1</p><p id="a467" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<a class="ae lz" href="http://portal.kotlin-academy.com/#/?tag=puzzler-54" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读这篇文章直到最后，查看答案和解释。</p><h1 id="f00f" class="md ku iy bd kv me mf mg ky mh mi mj lb mk ml mm le mn mo mp lh mq mr ms lk mt bi translated">答案和解释</h1><p id="5691" class="pw-post-body-paragraph jv jw iy jx b jy mu ka kb kc mv ke kf kg mw ki kj kk mx km kn ko my kq kr ks ig bi translated">对于“<strong class="jx iz">一切都是可变的</strong>”正确答案是:</p><p id="6d1f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">c)不支持的操作异常</p><p id="3bee" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么？这里有一个解释:</p><blockquote class="mz na nb"><p id="d3f7" class="jv jw nc jx b jy jz ka kb kc kd ke kf nd kh ki kj ne kl km kn nf kp kq kr ks ig bi translated">辅助函数如<code class="fe ma mb mc lr b">listOf</code>、<code class="fe ma mb mc lr b">Array.asList()</code>等返回<code class="fe ma mb mc lr b">java.util.Arrays$ArrayList</code>而不是<code class="fe ma mb mc lr b">java.util.ArrayList</code>，不支持突变。</p></blockquote><p id="67d2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于“<strong class="jx iz">趣味作文</strong>”的正确答案是:</p><p id="a4ce" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">d)(第3、4段)</p><p id="16df" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么？这里有一个解释:</p><blockquote class="mz na nb"><p id="b684" class="jv jw nc jx b jy jz ka kb kc kd ke kf nd kh ki kj ne kl km kn nf kp kq kr ks ig bi translated">然后是经典作文。Plus生成两个函数的结果对。签名正确。我们首先取1，然后加倍(2)，然后在一个分支中递增(3)，在另一个分支中递增(4)。</p></blockquote><p id="42f2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于“<strong class="jx iz">作文与身份</strong>”的正确答案是:</p><p id="1987" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">a) 4</p><p id="4ee1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么？这里有一个解释:</p><blockquote class="mz na nb"><p id="8762" class="jv jw nc jx b jy jz ka kb kc kd ke kf nd kh ki kj ne kl km kn nf kp kq kr ks ig bi translated">这是正确的组合和身份定义，所以我们可以像puzzler上呈现的那样组合这个操作。Identity是一个通用函数(T)-&gt;T，但是由于类型推断，它被生成为(Int)-&gt;Int。</p></blockquote><p id="6b42" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是要小心，当我们处理对泛型函数的引用时，类型推理系统并不完美:<a class="ae lz" href="https://youtrack.jetbrains.com/issue/KT-24217" rel="noopener ugc nofollow" target="_blank">https://youtrack.jetbrains.com/issue/KT-24217</a></p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="c241" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你对谜题有自己的想法吗？提交给<a class="ae lz" href="http://portal.kotlin-academy.com/" rel="noopener ugc nofollow" target="_blank"> Kt。学院门户</a>。</p><p id="6951" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你希望未来有更多的谜题吗？轨道<a class="ae lz" href="http://portal.kotlin-academy.com/" rel="noopener ugc nofollow" target="_blank"> Kt。学院门户</a>或<a class="ae lz" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅我们的邮件列表</a>。</p><figure class="lm ln lo lp gt ip gh gi paragraph-image"><div class="ab gu cl nn"><img src="../Images/a067d0a925b721e9a82bf36c2cffd874.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uDqv_d5NZnPUJA0FeZqhqQ.png"/></div></figure><p id="50ec" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你需要Kotlin工作室吗？访问我们的网站<a class="ae lz" href="https://www.kt.academy/" rel="noopener ugc nofollow" target="_blank">看看我们能为您做些什么。</a></p><p id="85b7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">喜欢的话记得鼓掌。请注意，如果您按住鼓掌按钮，您可以留下更多的掌声。</p></div></div>    
</body>
</html>