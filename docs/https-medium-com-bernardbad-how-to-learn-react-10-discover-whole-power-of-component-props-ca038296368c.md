# 如何学习 React #10:发现组件道具的全部力量

> 原文：<https://medium.com/quick-code/https-medium-com-bernardbad-how-to-learn-react-10-discover-whole-power-of-component-props-ca038296368c?source=collection_archive---------1----------------------->

![](img/169ddc681d5c7de65d9ffe77087409fc.png)

大家好，欢迎回到另一个故事，这个故事将帮助你理解 React 是什么，以及如何使用它来构建漂亮的 web 应用程序。在前面的章节中，我们做了一些重构，我们描述了什么是组件。在这一节中，我们将利用它们，这样我们就可以在应用程序中添加删除功能。

到目前为止，我们的应用程序为用户提供了在列表中添加食物的能力，但是他不能删除它们。想象一下，如果我们的用户 XYZ 将“培根加冰淇淋”添加到列表中，但她会决定“你知道，实际上我今天会吃得健康”。所以，是的，为了用户的健康，我们绝对应该为我们的应用程序提供这个功能。

首先，我们需要用触发删除的按钮扩展组件`MealPlanItem`。仅此而已。向组件添加按钮很简单。

现在我们需要给这个按钮添加`onClick`动作。我们已经做了类似的事情，所以这不应该是一个问题。然而，有一个问题我们需要面对。当我们点击按钮时，我们想对`MealPlan`组件的状态进行更改，但我们实际上无法访问它。在`MealPlanItem`内部，我们只能进入`MealPlanItem`状态。这个听起来很难。但是，如果我告诉你，我们可以改变组件的状态，而不需要访问它。事实上我们可以。它看起来会像这样。

这就是`MealPlanItem`组件的样子。这里的想法是`MealPlanItem`实际上不知道如何改变状态。它只知道当按钮被点击时会调用`handleDelete`函数。现在我们只需要添加这个函数，并将其作为道具传递给`MealPlanItem`。从我们的状态中删除 meal 的函数如下所示。

现在我们只想把这个函数传递给`MealPlanItem`。我们应该已经知道怎么做了。然而，有一件事要注意。我们做不到

```
<MealPlanItem handleDelete={this.removeMeal(meal)} meal={meal} />
```

因为那样我们就不会把功能传递给道具，而是直接调用它。所以我们想传递一个类似这样的函数

```
() => this.removeMeal(meal)
```

然后我们最终形成的`MealPlan`组件…

组件知道如何从状态中删除膳食。`MealPlanItem`只是一个虚拟的函数，它知道当按钮被点击时应该调用这个函数。当`MealPlan`组件正在渲染`MealPlanItem`组件时，它给每个`MealPlanItem`传递一个函数。此功能将从膳食列表中删除给定的膳食。现在，我们的用户可以轻松地将“培根加冰淇淋”从餐单中删除，代之以一些更健康的选择。

总结一下我们所做的…我们利用组件属性来更新组件本身之外的组件状态。在下一章，我们将看看我们的应用程序，并解决其中的一些问题。

好的…谢谢你的关注。如果你喜欢这个故事，请鼓掌让世界知道。如果你没有读过这个系列之前的故事，请务必在这里查看。如果你有什么意见，欢迎在评论区提问。我很乐意回答你的任何问题。我现在要走了。保持在你选择的频率上。伯纳德…出去！