<html>
<head>
<title>An Exploration using OCI Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用OCI函数的探索</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/an-exploration-using-oci-functions-4c5d4e70d00c?source=collection_archive---------1-----------------------#2021-09-17">https://medium.com/oracledevs/an-exploration-using-oci-functions-4c5d4e70d00c?source=collection_archive---------1-----------------------#2021-09-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="2e92" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">概观</h1><p id="a559" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OCI提供的服务之一是功能——无服务器计算。Oracle OCI函数基于Fn项目。Fn project是一个开源的无服务器容器原生平台，兼容在任何地方运行。OCI功能是OCI的无服务器解决方案。OCI函数通常是短期运行的、无状态的，并且被定义为运行单一目的的逻辑。这些非常适合许多微服务执行模型以及与OCI其他服务的集成。<br/>OCI功能的主要优势在于:</p><ol class=""><li id="228b" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">通过DevOps持续交付</li><li id="aa41" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">可攀登的</li><li id="0731" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">高度可用</li><li id="e30e" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">弹回的</li><li id="9a10" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">灵活的</li><li id="5b86" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">自治的</li><li id="8f15" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">故障隔离</li></ol><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kq"><img src="../Images/d23d2b03ffe6b141092ebf948e2be712.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qVs9jufZP43lCj8bPOoXMw.png"/></div></div></figure><p id="816e" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">无服务器计算与FaaS(功能即服务)和基于事件的编程同义。应用程序将仅在必要时执行，而不是一直执行，这意味着一个事件可以同时触发一个或多个功能的执行。</p><h1 id="c35f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> OCI函数概念</strong></h1><p id="c67c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OCI函数被逻辑地分组到应用程序中。OCI应用程序绑定到OCI虚拟云网络(VCN)资源，其中包含的功能在启动时附加到其VCN网络。<br/>OCI应用程序是:</p><ul class=""><li id="908e" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz lf ki kj kk bi translated">功能的逻辑分组</li><li id="a340" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">为应用程序中的所有功能分配和配置资源的方法</li><li id="64f4" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">存储配置变量的通用上下文，这些变量可用于应用程序中的所有功能</li><li id="7566" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">一种确保函数运行时隔离的方法</li></ul><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es lg"><img src="../Images/a26527c884eb39f61db345351367edbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*a8qAYw50QHOZMwYKth1_pg.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">OCI Application &amp; OCI Functions</figcaption></figure><p id="ea86" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI功能包括:</p><ul class=""><li id="3411" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz lf ki kj kk bi translated">小而强大的代码块通常只做一件简单的事情</li><li id="9f7b" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">分组成应用程序</li><li id="28e2" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">作为Docker映像存储在指定的Docker注册表中</li><li id="651b" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz lf ki kj kk bi translated">为响应CLI命令或签名的HTTP请求而调用</li></ul><p id="d7ff" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">可以从下面不同的方式调用OCI函数:</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es ll"><img src="../Images/5802be2945d17e8c816b458527baec21.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*wEYR-3nHjQFwEDfDfHMsmg.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">Triggering OCI Functions</figcaption></figure><ol class=""><li id="72b7" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">Fn项目CLI。(fn调用)</li><li id="fab1" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">OCI CLI (oci fn函数调用)</li><li id="e002" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">对oci函数调用端点的签名HTTP请求(OCI原始请求-HTTP方法发布)</li><li id="60e3" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">由OCI事件引发</li><li id="6b4e" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">OCI API网关服务</li><li id="87e6" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">OCI通知服务</li></ol><p id="771a" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI函数本身支持多种运行时，如Ruby、Python、Java、Kotlin、Go、NodeJS。我们需要为函数定义编程运行时语言&amp;它为程序的开始分配内存。这些存储在func.yaml文件中。我们还可以将定制的docker图像带到OCI功能中。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es lm"><img src="../Images/159aaf426302f4e01a904c439de01b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*koex3SekqnMWjel-BzPuWg.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">Supported Runtime Programming Languages</figcaption></figure><h1 id="d6fc" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">OCI函数使用模型</h1><p id="40d8" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">使用OCI函数可以将复杂的问题分解成几个部分来解决。</p><p id="04c3" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI功能在区域层绑定，并通过应用程序附加到OCI VCN。因此，如果您有多个环境(如开发、UAT、生产)，您可以定义多个应用程序(每个环境一个)并在单独的环境中跟踪每个功能的单独代码行，或者您可以让一个应用程序根据环境请求进行功能切换。真正基于您的业务/发展需求，OCI功能可灵活支持。请确保规划好要在其中运行调用OCI资源的函数的子网。</p><h2 id="f543" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">顺序(Fn1-&gt; Fn2-&gt; Fn3…等等。)</h2><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mb"><img src="../Images/f70b0bae28b497038a96cab3d7fc693a.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*ooZotkPyFWRusO0qEHFavg.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">Sequential flow</figcaption></figure><p id="57ba" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><em class="mc">方法:Fn1-&gt;Fn2-&gt;Fn3…等。</em> <br/>这种方法通常用于处理数据的一系列操作。此外，在微服务开发中使用函数也是很基本的。</p><h2 id="914f" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">扇入/扇出(Fn1、Fn2 → Fn3…Fn15 →Fn16)</h2><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es md"><img src="../Images/4acb2f309de429c73fd231b20a6ae933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hsoT13IKKWJgDCdSYSRB8g.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">Fan-in/Fan-out</figcaption></figure><p id="1221" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><em class="mc">方法:Fn1，Fn2→Fn3…Fn15→Fn16</em>T5】这种方法大量部署在大数据集到来时要处理的海量数据中。第一组函数可以将其分解为更小的可用数据，供下一组函数使用，并最终生成结果数据。</p><h2 id="bc56" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">投票/监控</h2><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es me"><img src="../Images/df807971af7918715323582320d1fa32.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*bP9yLcIE1hzHQxpNkgxtuA.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">Poll/Monitor</figcaption></figure><p id="82dc" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><em class="mc">方法:事件→ Fn1 </em> <br/>主要针对运营效率，以确保服务受到监控，并采取所需的措施。根据需要，这种方法有可能变得复杂。稍后将讨论一些用例。</p><h1 id="e896" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> OCI函数集成</strong></h1><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mf"><img src="../Images/b11d0c903b9144390d0e9777da7051b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*dWT8G7hLXqsHGfIzL_OX4A.png"/></div><figcaption class="lh li et er es lj lk bd b be z dx">OCI Services integration with OCI Functions</figcaption></figure><p id="cc29" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI函数通常由OCI事件、OCI通知服务、OCI API网关调用。Oracle集成服务、Service Connector Hub服务和流服务也可以与功能集成。</p><p id="8389" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI函数身份验证首选通过资源主体提供程序进行。</p><h2 id="0a51" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">一些示例用例包括:</h2><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mg"><img src="../Images/8027bf7c8a66094853def18a02fd4d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*-NNyFqgFngk_CmcrHokJYA.png"/></div></figure><p id="f811" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">根据指标警报调用一个函数来调整虚拟机的大小—通过OCI通知服务完成，并定义警报来报告指标。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mo"><img src="../Images/2a6006bedbe9fde5364a149838d50a68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*Pxu2pieG2zqTsDtSOdD1FA.png"/></div></figure><p id="12f9" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">调用API Gateway来响应数据库中一个表的前10行。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mp"><img src="../Images/bdd4c65f32edb7bcf68413247b16b0c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*ZZmbDoo_2P_OKQAn7XuFlA.png"/></div></figure><p id="e492" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">导致正在进行的处理失败的抢占动作事件可以通过OCI函数来捕获，并通过更新的可抢占容量虚拟机或按需计算来恢复处理。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mq"><img src="../Images/af2ad132656685733caaf31bd708e941.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*Uz1CkaubpxqQuhnxBNvpuA.png"/></div></figure><p id="d8ed" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">容量编目具有网络事件触发的计算机的IP使用OCI功能和OCI功能立即获取IP以更新自治数据库容量编目或CMDB/服务。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mr"><img src="../Images/529e3c657c59e3b26ee20c0052248506.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*JNplHC1cYyiSKls0GIRW2w.png"/></div></figure><p id="f8ae" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">当文件进入存储桶时对其进行处理/转换，并将结果内容上传到另一个存储桶或自治数据库。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es ms"><img src="../Images/f5a20fd04e10ac7274e863c9a98abc75.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*V5uguNkFNxjPVoFJTL1yvQ.png"/></div></figure><p id="3be6" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">基于条件启动/终止虚拟机(相当于自动扩展)；然而，无论应用程序状态如何，自动扩展技术都会破坏计算。我们可以在启动/终止之前/之后检查应用程序的状态。</p><h1 id="877b" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">OCI函数的局限性</h1><p id="7e9e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">定义一个成功的软件架构的好方法是了解技术的局限性。OCI功能也有受技术原因、商业原因或安全原因约束的限制。充分理解它们将有助于OCI函数的成功实现。</p><ol class=""><li id="a379" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">/tmp是唯一可写的目录，有时先前调用的OCI函数的残余文件会在下次运行时存在。因此，确保根据处理逻辑的一些参数来捕获具有唯一名称的逻辑。在我的例子中，我通常喜欢将event_id附加到跟踪文件中，以保持它的唯一性。</li></ol><p id="5a38" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">2.此外，基于OCI函数的形状，限制也有所不同。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mt"><img src="../Images/ba0b91b26be8685da182f313e0252ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ay5GhBGt1PoNZHsXl1cBhg.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx">OCI Functions Shapes</figcaption></figure><p id="cd8b" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">然而，以下是任何OCI函数的极限。</p><p id="53d5" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><strong class="je hi">时间300秒</strong> <br/> OCI功能不能运行超过300秒。如果你的程序正在执行大规模的处理，并且不能在300秒内完成，那么这个函数就在这一点上终止。您需要确保捕捉到完成特定任务的功能，以便有效且高效地工作。</p><p id="2337" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><strong class="je hi">有效负载6Mb</strong>T5】OCI功能无法接受超过6Mb的有效负载进行处理。因此，您可能希望将数据与对象存储集成在一起，并传递数据位置的细节，而不是数据本身。</p><p id="7ac1" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><strong class="je hi"> Mem max 2048 <br/> </strong> OCI函数将程序执行的内存利用率限制为2GB。如果程序溢出了这个内存，试着通过创建另一个函数把它分成更小的内存。</p><h1 id="ffac" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> OCI功能故障排除</strong></h1><p id="fbf1" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">可以通过日志记录和跟踪功能启用OCI功能。OCI功能使用OCI日志服务，通过OCI应用程序性能监控(APM)进行日志和跟踪。向OCI日志服务发送功能调试和日志消息是故障排除的第一步。详细级别或下一级别是在OCI中启用应用程序性能监控(APM)域并启用跟踪。</p><p id="409e" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">OCI函数有如下格式的日志，包括时间戳、函数动作和日志消息。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mu"><img src="../Images/a33e1719635bef0c268c6f95692489dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rnTtr8BSIL_8LygAOiF8lA.png"/></div></div></figure><p id="a72d" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">如果您已经缩小了某个特定故障的范围，那么您可以查看之前和之后的事件，以便更深入地了解函数内部的流程(上下文故障排除)</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mv"><img src="../Images/4268ba0526a30798670cc2e3f77ae9f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYuG9ApgDJ692PccY1wZZg.png"/></div></div></figure><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mw"><img src="../Images/034ebe8268f30e460efa3825e5a3072e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uchQaLXu3XUXPjMlzhnuqg.png"/></div></div></figure><p id="f222" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">下面的日志条目显示，有一个函数定期执行，有时，巨大的操作也在进行。因此，调用函数时要注意登录。有时，当调用许多函数时，日志可能会令人困惑，这就是APM可以发挥作用的时候。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mx"><img src="../Images/8cf4decb4ee60d0908faa3729bc9d49e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbvZzcpNp5yLb9o7VcyYBg.png"/></div></div></figure><p id="5264" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">应用程序性能监控(APM)可以帮助确定函数的计时、状态(成功/错误)、SQLs等。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es my"><img src="../Images/f3562fbd9c7507b065ef478cc34e66cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qr3-lFB_ILI-P50RRfECfw.png"/></div></div></figure><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mz"><img src="../Images/b45bebc63b3b80fe255e68fa31e3351c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sOJs3DA6G-Iw6MAQGFtHMA.png"/></div></div></figure><p id="5cd2" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">APM操作显示了高级别的执行时间和执行的次数。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es na"><img src="../Images/8cfac0d3b72feae76f7aa6afc8511c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DPPcqosy9DL_isL_rJyKA.png"/></div></div></figure><p id="3ab5" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">服务视图提供了OCI函数的平均持续时间以及Apdex评分。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es mz"><img src="../Images/b4809dc9ceaaae2bd14ba8db4fa2d546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0M9uCCPFwovR2Wo4Yx95Q.png"/></div></div></figure><h1 id="0c56" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> OCI功能性能</strong></h1><p id="823f" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">OCI函数的可伸缩性和隔离性使其在性能上遥遥领先。确定和调整性能的一个好方法是理解和监控OCI函数流。APM也是一个方便的性能监控工具。</p><p id="2d27" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">以下是部署OCI函数以提高性能的最佳方法。</p><ol class=""><li id="5524" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">在业务逻辑中保持功能的简单明了。</li><li id="320d" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">确保函数运行到特定的任务。</li><li id="13d9" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">监控OCI功能级别指标。</li><li id="fe6d" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">为您的业务逻辑选择正确的运行时/依赖关系。</li><li id="1501" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">保持最小的内存分配以获得更快的响应。</li></ol><p id="0465" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">对不同编程语言运行时(python、go、ruby、kotlin、java)的OCI函数的自我比较研究表明，几乎所有的函数都在几秒钟内开始执行。我相信在我的测试运行中抑制OCI函数，仍然可以在运行时获得良好的响应。值得注意的是，“go”运行时是最快的，即使它是在长时间的休息(冷期)后被调用的。</p><p id="dafa" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated">我当然不是所有编程语言的专家。我可能忽略了一些有助于更有效实现的语言特性。此外，稍后我将测试GraalVM映像，并查看执行时间的差异。</p><h2 id="66fa" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated"><code class="du nb nc nd ne b">OCI Functions Code Samples</code></h2><p id="9d57" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">大多数OCI函数样本都可以在<a class="ae nf" href="https://github.com/oracle/oracle-functions-samples" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="d5aa" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><code class="du nb nc nd ne b">Inserting new row to OCI NoSQL table from OCI Functions Code Sample</code></p><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="2ad7" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><code class="du nb nc nd ne b">Launch/terminate VM from OCI Functions code Sample</code></p><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="6616" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><code class="du nb nc nd ne b">Oracle Autonomous ORDS POST from OCI Functions code sample</code></p><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="46e9" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><code class="du nb nc nd ne b">OCI Functions invoking another OCI Functions code sample</code></p><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="0c9e" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn lc jp jq jr ld jt ju jv le jx jy jz ha bi translated"><code class="du nb nc nd ne b">OCI Functions fetching Object Code sample</code></p><figure class="kr ks kt ku fd kv"><div class="bz dy l di"><div class="ng nh l"/></div></figure><h1 id="ca5f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">结论</h1><p id="bd08" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">无服务器计算是软件设计和基础设施中的一个不同维度，它随着创新而快速发展。OCI函数提供了一个将解决方案与微服务集成的好方法。当与更大规模的OCI服务捆绑在一起时，使用OCI功能的OCI应用程序性能监控的便利性提供了更深入的见解。</p></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><h2 id="1530" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">解决方案亮点:</h2><div class="ni nj ez fb nk nl"><a href="https://docs.oracle.com/en/learn/functions_adw/index.html#introduction" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">使用Oracle函数将文件加载到自治数据库中</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">注意:本教程需要访问Oracle云。要注册免费帐户，请参阅Oracle云免费层。它使用…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">docs.oracle.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz la nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://docs.oracle.com/en/solutions/iot-streaming-oci/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">使用无服务器功能将物联网数据传输到自治数据库</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">支持物联网的工作负载需要实时高效扩展。随着您部署更多设备和…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">docs.oracle.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz la nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://docs.oracle.com/en/solutions/build-pipeline-using-devops/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">使用Oracle云基础设施开发运维服务构建持续部署渠道</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">快速交付软件对于在云中高效运行您的应用程序至关重要。Oracle DevOps服务…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><h2 id="4e10" class="ln if hh bd ig lo lp lq ik lr ls lt io jn lu lv is jr lw lx iw jv ly lz ja ma bi translated">其他参考:</h2><div class="ni nj ez fb nk nl"><a href="https://docs.oracle.com/en-us/iaas/Content/Functions/Concepts/functionsoverview.htm" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">功能概述</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">Oracle Functions是一个全面管理、多租户、高度可扩展的按需功能即服务平台。这是…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://docs.oracle.com/en-us/iaas/application-performance-monitoring/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">应用程序性能监控</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">应用程序性能监控提供了一套全面的功能来监控应用程序并识别和…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://fnproject.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">Fn项目</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">开源。原生容器。无服务器平台。Fn项目是一个开源容器——原生无服务器…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">fnproject.io</p></div></div><div class="nu l"><div class="ob l nw nx ny nu nz la nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">哪种编程语言最快？</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">不同编程语言实现的计算机程序的测量和比较。</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">benchmarksgame-team.pages.debian.net</p></div></div></div></a></div></div></div>    
</body>
</html>