<html>
<head>
<title>Running Continuous Integration on OKE with Tekton</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在OKE上运行与Tekton的持续集成</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/running-continuous-integration-on-oke-with-tekton-353684c15730?source=collection_archive---------0-----------------------#2021-05-07">https://medium.com/oracledevs/running-continuous-integration-on-oke-with-tekton-353684c15730?source=collection_archive---------0-----------------------#2021-05-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4203" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在terraform-oci-oke 3.0已经发布，我想探索在Oracle Container Engine for Kubernetes(OKE)上运行“云原生”持续集成(ci)。我的标准相对简单。我应该能够:</p><ol class=""><li id="813d" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">使用maven/gradle/npm等工具构建和测试应用程序。</li><li id="b95a" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">构建容器并将它们推送到安全的注册中心。</li><li id="291e" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">最终使用基础设施作为连续交付(CD)的代码。</li></ol><p id="c3b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我选定了泰克顿。这是工作流程的样子:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jq"><img src="../Images/f65b65dcba5e70ac52387a86d673eda3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-musefIpjIGdGkwXTY8FKg.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx">CI Workflow</figcaption></figure><p id="dc66" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">鉴于Tekton运行在Kubernetes集群上，我使用terraform-oci-oke提供了一个集群。我还启用了公共和私有负载平衡器的使用，并将首选负载平衡器类型设置为私有。原因是我最终想通过OCI API网关部署API，但是在以后的文章中会有更多的介绍。为此，我在变量文件中设置了以下内容，然后运行terraform apply:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="d97d" class="kl km hh kh b fi kn ko l kp kq">lb_subnet_type = "both"<br/>preferred_lb_subnets = "private"</span></pre><p id="2241" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这将创建集群，并选择专用负载平衡器子网作为OKE的首选子网。</p><p id="4d3a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我将重点介绍如何使用Tekton运行CI。</p><h2 id="0f6f" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">在OKE上部署Tekton</h2><p id="c48e" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">遵循<a class="ae lp" href="https://tekton.dev/docs/getting-started/" rel="noopener ugc nofollow" target="_blank"> Tekton安装指南</a>并从操作主机运行以下程序:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="17a5" class="kl km hh kh b fi kn ko l kp kq">kubectl apply --filename https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml</span></pre><p id="9190" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，使用CSI卷插件，通过在名为pvc.yaml的文件中添加以下内容来创建一个持久卷:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="40f1" class="kl km hh kh b fi kn ko l kp kq">apiVersion: v1<br/>kind: PersistentVolumeClaim<br/>metadata:<br/>  name: tektonclaim<br/>  namespace: tekton-pipelines<br/>spec:<br/>  storageClassName: "oci-bv"<br/>  accessModes:<br/>    - ReadWriteOnce<br/>  resources:<br/>    requests:<br/>      storage: 50Gi</span></pre><p id="afe5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们希望现在就绑定PVC，而不是等待运行任务，所以让我们通过将以下内容添加到dummypod.yaml来创建一个仅使用PVC的虚拟pod:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="da17" class="kl km hh kh b fi kn ko l kp kq">apiVersion: v1                                                                                                                                                                                <br/>kind: Pod                                                                                                                                                                                     <br/>metadata:                                                                                                                                                                                     <br/>  name: nginx                                                                                                                                                                                 <br/>  namespace: tekton-pipelines                                                                                                                                                                 <br/>spec:                                                                                                                                                                                         <br/>  containers:                                                                                                                                                                                 <br/>    - name: nginx                                                                                                                                                                             <br/>      image: nginx:latest                                                                                                                                                                     <br/>      ports:                                                                                                                                                                                  <br/>        - name: http                                                                                                                                                                          <br/>          containerPort: 80                                                                                                                                                                   <br/>      volumeMounts:                                                                                                                                                                           <br/>        - name: data                                                                                                                                                                          <br/>          mountPath: /usr/share/nginx/html                                                                                                                                                    <br/>  volumes:                                                                                                                                                                                    <br/>    - name: data                                                                                                                                                                              <br/>      persistentVolumeClaim:                                                                                                                                                                  <br/>        claimName: tektonclaim</span></pre><p id="eabf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建pod:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="c35b" class="kl km hh kh b fi kn ko l kp kq">kubectl create -f dummypod.yaml</span></pre><p id="ed64" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">检查PVC和PV的状态，确保它们报告为绑定:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="5ae5" class="kl km hh kh b fi kn ko l kp kq">$ k -n tekton-pipelines get pvc                                                                                                                                               <br/>NAME          STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE                                                                                <br/>tektonclaim   <strong class="kh hi">Bound</strong>    csi-dea15685-2fa9-4496-be86-f0c22da6e65f   50Gi       RWO            oci-bv         8m18s                                                                              <br/>$ k get pv                                                                                                                                                                    <br/>NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                          STORAGECLASS   REASON   AGE                                     <br/>csi-dea15685-2fa9-4496-be86-f0c22da6e65f   50Gi       RWO            Delete           <strong class="kh hi">Bound</strong>    tekton-pipelines/tektonclaim   oci-bv                  6m25s</span></pre><p id="0614" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">删除窗格:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="6bf4" class="kl km hh kh b fi kn ko l kp kq">kubectl delete -f dummypod.yaml</span></pre><p id="0a6b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们安装tekton-cli:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="47ef" class="kl km hh kh b fi kn ko l kp kq">sudo rpm -Uvh <a class="ae lp" href="https://github.com/tektoncd/cli/releases/download/v0.16.0/tektoncd-cli-0.16.0_Linux-64bit.rpm" rel="noopener ugc nofollow" target="_blank">https://github.com/tektoncd/cli/releases/download/v0.16.0/tektoncd-cli-0.16.0_Linux-64bit.rpm</a></span></pre><p id="fecb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Tekton仪表盘:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="b7aa" class="kl km hh kh b fi kn ko l kp kq">kubectl apply --filename https://github.com/tektoncd/dashboard/releases/latest/download/tekton-dashboard-release.yaml</span></pre><h2 id="f085" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">测试Tekton</h2><p id="a657" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">现在我们已经完成了Tekton的安装，我们可以在Tekton网站上检查它是否与Hello World示例一起工作。创建一个文件任务-hello.yaml:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="db25" class="kl km hh kh b fi kn ko l kp kq">apiVersion<strong class="kh hi">:</strong> tekton.dev/v1beta1<br/>kind<strong class="kh hi">:</strong> Task<br/>metadata<strong class="kh hi">:</strong><br/>  name<strong class="kh hi">:</strong> hello<br/>spec<strong class="kh hi">:</strong><br/>  steps<strong class="kh hi">:</strong><br/>    - name<strong class="kh hi">:</strong> hello<br/>      image<strong class="kh hi">:</strong> ubuntu<br/>      command<strong class="kh hi">:</strong><br/>        - echo<br/>      args<strong class="kh hi">:</strong><br/>        - "Hello World!"</span></pre><p id="6257" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后创建任务:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="0ec5" class="kl km hh kh b fi kn ko l kp kq">kubectl create -f task-hello.yaml</span></pre><p id="0993" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并开始任务:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="f3b7" class="kl km hh kh b fi kn ko l kp kq">tkn task start hello</span></pre><p id="3e5b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，让我们看看任务是否已经成功运行:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="353a" class="kl km hh kh b fi kn ko l kp kq">tkn taskrun logs --last -f</span><span id="28a7" class="kl km hh kh b fi lq ko l kp kq">[hello] Hello World!</span></pre><p id="80d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们已经在OKE成功安装了Tekton。</p><h2 id="fe59" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">创建应用程序项目并将其存储在GitHub中</h2><p id="a5bf" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">我们将使用<a class="ae lp" href="https://spring.io/projects/spring-boot" rel="noopener ugc nofollow" target="_blank"> Spring Boot </a>作为应用框架。使用Spring Initializr或命令行来生成项目。我们将在这里使用Spring Initializr，并确保我们添加了Spring Web依赖项:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lr"><img src="../Images/84f2a4761edbfa6307967ff7bebb9d5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0HzeliWL4ZvrWZjxAOxF8w.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx">Generating application code with Spring Initializr</figcaption></figure><p id="61d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“Generate”下载zip文件并将其解压缩到本地。</p><p id="a943" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在GitHub中创建新的repo，让我们将helloworld应用程序推送到git:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="9704" class="kl km hh kh b fi kn ko l kp kq">cd /path/to/helloworld<br/>git init<br/>git add .<br/>git commit -m "first commit"<br/>git branch -m master main<br/>git remote add origin <a class="ae lp" href="https://github.com/hyder/helloworld.git" rel="noopener ugc nofollow" target="_blank">https://github.com/hyder/helloworld.git</a><br/>git push -u origin main</span></pre><p id="f4d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还希望能够构建一个容器映像，因此我们将添加一个docker文件:</p><p id="0a6d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们首先创建一个Dockerfile文件，并将其添加到repo中:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="e12d" class="kl km hh kh b fi kn ko l kp kq">FROM <a class="ae lp" href="container-registry.oracle.com/java/openjdk:15.0.2-oraclelinux7" rel="noopener ugc nofollow" target="_blank">container-registry.oracle.com/java/jdk:11-oraclelinux8</a></span><span id="9957" class="kl km hh kh b fi lq ko l kp kq">COPY target/*.jar /</span><span id="d485" class="kl km hh kh b fi lq ko l kp kq">java -jar  /helloworld-0.0.1-SNAPSHOT.jar</span></pre><p id="dc84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们当然可以在构建之前更新版本，但不要操之过急。</p><p id="921e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们的应用程序代码已经在GitHub上了，我们想要做的是让Tekton做以下事情:</p><ol class=""><li id="609a" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">克隆helloworld应用程序报告。</li><li id="60ee" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">构建应用程序代码。在helloworld应用程序中，我们使用maven，所以我们希望能够使用maven进行构建。</li><li id="8b11" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用Dockerfile文件构建容器映像。</li><li id="3175" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">将构建的容器映像推送到OCIR。</li></ol><h2 id="f3c7" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">为Tekton创建服务帐户</h2><p id="4330" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">默认情况下，OCIR是私有的，我们希望保持这种状态。为了能够将图像推送到OCIR，我们需要一个存储在Kubernetes秘密中的<a class="ae lp" rel="noopener" href="/@lmukadam/build-a-springboot-application-using-wercker-push-a-docker-image-to-ocir-and-deploy-to-oke-596f62554eae">认证令牌</a>，以便Tekton可以使用它向OCIR认证自己。</p><p id="3938" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">幸运的是，terraform-oci-oke可以为我们创造这个秘密。您需要做的就是创建身份验证令牌，将其存储在OCI保险库密码中，然后将保险库密码的id提供给变量文件。你可以在这里按照<a class="ae lp" href="https://github.com/oracle-terraform-modules/terraform-oci-oke/blob/master/docs/instructions.adoc#creating-a-secret-for-ocir" rel="noopener ugc nofollow" target="_blank">的指示</a>。</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="19a8" class="kl km hh kh b fi kn ko l kp kq">secret_id = "ocid1.vaultsecret.oc1.ap-sydney-1…"</span></pre><p id="594b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们还需要一个Kubernetes ServiceAccount，同样，我们可以通过在terraform变量文件中设置它来创建它:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="a559" class="kl km hh kh b fi kn ko l kp kq">create_service_account = true<br/>service_account_name = "tekton"<br/>service_account_namespace = "tekton-pipelines"<br/>service_account_cluster_role_binding = "tekton-crb"</span></pre><p id="d6fe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可能需要再次运行terraform apply来创建密码和服务帐户。再次运行terraform apply后，检查是否已从操作员主机创建了密码和ServiceAccount:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="123b" class="kl km hh kh b fi kn ko l kp kq">$ kubectl get secrets                                                                                                                                       <br/>NAME                  TYPE                                  DATA   AGE                                                                                                <br/>default-token-qk98l   kubernetes.io/service-account-token   3      20h                                                                                                <br/><strong class="kh hi">ocirsecret            </strong>kubernetes.io/dockerconfigjson        1      20h</span><span id="25bd" class="kl km hh kh b fi lq ko l kp kq">$ kubectl get serviceaccount -n tekton-pipelines                                                                                                                           <br/>NAME      SECRETS   AGE                                                                                                                                               <br/>default   1         20h                                                                                                                                               <br/><strong class="kh hi">tekton    </strong>1         49s</span></pre><p id="b571" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此时，我们需要将ServiceAccount配置为使用ocirsecret，以便Tekton可以对自身进行身份验证，并将图像推送到OCIR。现在，问题是ocirsecret是在默认名称空间<em class="ls">中创建的，因此我们首先需要将它复制到tekton-pipelines名称空间中。我们在terraform-oci-oke项目上有一个<a class="ae lp" href="https://github.com/oracle-terraform-modules/terraform-oci-oke/issues/268" rel="noopener ugc nofollow" target="_blank">增强</a>，它将允许你指定列表、类型和首选名称空间。如果你想投稿，请给我们发一份简历。但是现在:</em></p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="8d75" class="kl km hh kh b fi kn ko l kp kq">$ kubectl get secret ocirsecret --namespace=default --export -o yaml |kubectl apply --namespace=tekton-pipelines -f -</span><span id="da9f" class="kl km hh kh b fi lq ko l kp kq">$ kubectl edit sa tekton</span></pre><p id="0d3f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在“机密”下，添加机密名称:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="323b" class="kl km hh kh b fi kn ko l kp kq">apiVersion: v1                                                                                                                                                        <br/>kind: ServiceAccount                                                                                                                                                  <br/>metadata:                                                                                                                                                             <br/>  name: tekton                                                                                                                                                        <br/>  namespace: tekton-pipelines<br/>  ...                                                                                                                                                 <br/>secrets:                                                                                                                                                              <br/>- name: tekton-token-jwmbn<br/>- name: ocirsecret</span></pre><p id="f3cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类似地，如果您想使用来自<a class="ae lp" href="https://container-registry.oracle.com" rel="noopener ugc nofollow" target="_blank">Oracle Container Registry</a>(不要与OCIR混淆)的<a class="ae lp" href="https://container-registry.oracle.com/pls/apex/f?p=113:4:28997522454400:::4:P4_REPOSITORY,AI_REPOSITORY,AI_REPOSITORY_NAME,P4_REPOSITORY_NAME,P4_EULA_ID,P4_BUSINESS_AREA_ID:41,41,Oracle%20Java%20SE%20(Server%20JRE),Oracle%20Java%20SE%20(Server%20JRE),1,0&amp;cs=38MLqx9K2fzCxjB14glP6BVhx68eQeJ5qe0Bih7BepT0O-aAOtF6VoLJPIkxvsR41U1ljU-d9TD0N_fWzMfgtOQ" rel="noopener ugc nofollow" target="_blank"> Java SE映像</a>，而不是构建一个新的映像，您可以创建第二个密码来访问Oracle Container Registry。</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="34be" class="kl km hh kh b fi kn ko l kp kq">kubectl create secret docker-registry oracle-container-registry \ <br/> -n tekton-pipelines \<br/> — docker-server=container-registry.oracle.com \<br/> — docker-username=$CONTAINER_REGISTRY_USER \<br/> — docker-password=$CONTAINER_REGISTRY_PASSWORD</span></pre><p id="4f0b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用您的Oracle SSO帐户替换$CONTAINER_REGISTRY_ user和password。一旦创建了密码，就像我们为OCIR做的那样，将它添加到您的服务帐户中。</p><p id="dfbf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另一件事是，为了向git或容器注册中心认证自己，或者在必须使用多个repos并因此必须选择哪些凭证的情况下，tekton需要一些注释。你可以在这里阅读<a class="ae lp" href="https://tekton.dev/docs/pipelines/auth/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="97d9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但本质上，我们需要在ocirsecret中添加一个注释:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="9503" class="kl km hh kh b fi kn ko l kp kq">apiVersion: v1                                                                                                                                                                                <br/>kind: Secret                                                                                                                                                                                  <br/>metadata:                                                                                                                                                                                     <br/>  annotations:                                                                                                                                                                                                                                <br/>    tekton.dev/docker-0: https://syd.ocir.io                                                                                                                                                  </span></pre><p id="40d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这将向Tekton表明，当访问位于<a class="ae lp" href="https://syd.ocir.io," rel="noopener ugc nofollow" target="_blank">的悉尼OCIR时，此证书适用。否则，泰克顿会忽略这个秘密。</a></p><h2 id="cc9a" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">创建任务</h2><p id="33bc" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">为了构建应用程序，我们需要做以下工作:</p><ol class=""><li id="d8cd" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">使用maven构建应用程序代码。</li><li id="c787" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用Dockerfile文件构建容器映像。</li><li id="3eb1" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">将构建的容器映像推送到OCIR。</li></ol><p id="d276" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以使用我们自己的maven容器来构建这个，但是Tekton有这个令人愉快的外部任务目录，你可以安装，其中之一就是maven。你可以在<a class="ae lp" href="https://github.com/tektoncd/catalog" rel="noopener ugc nofollow" target="_blank"> GitHub </a>或<a class="ae lp" href="https://hub.tekton.dev/" rel="noopener ugc nofollow" target="_blank"> Tekton Hub </a>上查看这些任务，这也给了你安装你需要的任务的命令。</p><p id="3665" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，让我们安装以下外部任务:</p><ul class=""><li id="d7aa" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb lt ji jj jk bi translated">git-克隆</li><li id="09ec" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb lt ji jj jk bi translated">专家</li><li id="b5eb" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb lt ji jj jk bi translated">buildah</li></ul><p id="a719" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用git-clone，因为我们现在只需要克隆；我们将使用Maven，因为我们在创建Sprint Boot应用程序时使用了Maven；最后，我们将使用buildah，因为我的好伙伴Avi Miller是我的粉丝。</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="09e8" class="kl km hh kh b fi kn ko l kp kq">kubectl apply -f <a class="ae lp" href="https://raw.githubusercontent.com/tektoncd/catalog/master/task/git-clone/0.2/git-clone.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/tektoncd/catalog/master/task/git-clone/0.2/git-clone.yaml</a> -n tekton-pipelines</span><span id="0957" class="kl km hh kh b fi lq ko l kp kq">kubectl apply -f <a class="ae lp" href="https://raw.githubusercontent.com/tektoncd/catalog/master/task/maven/0.2/maven.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/tektoncd/catalog/master/task/maven/0.2/maven.yaml</a> -n tekton-pipelines</span><span id="39c3" class="kl km hh kh b fi lq ko l kp kq">kubectl apply -f <a class="ae lp" href="https://raw.githubusercontent.com/tektoncd/catalog/master/task/buildah/0.2/buildah.yaml" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/tektoncd/catalog/master/task/buildah/0.2/buildah.yaml</a> -n tekton-pipelines</span></pre><p id="7338" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，我们要做的是:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lu"><img src="../Images/a3a1cc34a0471d193d14dfb347a595a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZBnZoj1AGpLkeD6ZxVWtw.png"/></div></div></figure><p id="1c5e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以上每一项都可以是管道中的任务。要了解其中的区别，您可以查看<a class="ae lp" href="https://tekton.dev/docs/concepts/" rel="noopener ugc nofollow" target="_blank"> Tekton概念</a>。因此，让我们创建一个管道和一个管道管路，然后:</p><figure class="jr js jt ju fd jv"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="a234" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">管道由3项任务组成:</p><ul class=""><li id="1ea5" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb lt ji jj jk bi translated">git-clone类型的提取报告</li><li id="f12a" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb lt ji jj jk bi translated">maven-maven类型的运行</li><li id="d54e" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb lt ji jj jk bi translated">build-buildah类型的图像</li></ul><p id="fa5f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您还会注意到，我们用runAfter命令它们:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="ee92" class="kl km hh kh b fi kn ko l kp kq"># in maven-run<br/>runAfter:<br/>  - fetch-repo</span><span id="6586" class="kl km hh kh b fi lq ko l kp kq">....<br/># in build-image<br/>runAfter:<br/>  - maven-run</span></pre><p id="1059" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过这种方式，我们可以在管道中获得所需的任务顺序。另外，请注意工作区引用及其对PVC的使用，以及在PipelineRun:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="463c" class="kl km hh kh b fi kn ko l kp kq">apiVersion: tekton.dev/v1beta1<br/>kind: PipelineRun<br/>metadata:<br/>  name: helloworld-pipeline-run<br/>spec:<br/>  <strong class="kh hi">serviceAccountName: tekton</strong><br/>  pipelineRef:<br/>    name: helloworld-build<br/>  workspaces:<br/>    - name: maven-settings<br/>      emptyDir: {}<br/>    - name: tekton-workspace<br/>      persistentvolumeclaim:<br/>        claimName: tektonclaim<br/>params:<br/>- name: repo-url<br/>  value: <a class="ae lp" href="https://github.com/hyder/helloworld.git" rel="noopener ugc nofollow" target="_blank">https://github.com/hyder/helloworld.git</a><br/>- name: branch-name<br/>  value: main<br/>- name: image-name<br/>  value: syd.ocir.io/<strong class="kh hi">&lt;object_storage_namespace&gt;</strong>/helloworld</span></pre><p id="2db2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对象存储命名空间是您的租用的命名空间。你需要这个，因为这是OCIR存储你的容器图像的地方。</p><p id="1a00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建一个yaml文件，并在文件中添加Pipeline和PipelineRun，然后应用清单:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="3e33" class="kl km hh kh b fi kn ko l kp kq">kubectl apply -f pipeline.yaml</span></pre><p id="0019" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们访问控制面板:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="5490" class="kl km hh kh b fi kn ko l kp kq">kubectl -n tekton-pipelines get pods | grep tekton-dashboard                                                                                                                      <br/>tekton-dashboard-5675959458-s46sm                             1/1     Running     0          15h</span><span id="ad75" class="kl km hh kh b fi lq ko l kp kq">kubectl -n tekton-pipelines port-forward tekton-dashboard-5675959458-s46sm 9097:9097</span></pre><p id="7ca4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在可以使用浏览器访问控制面板:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lx"><img src="../Images/d96162230415db0636043c5baa67fd64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V5Qa7FxrrycENrcihs_BWw.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx">List of PipelineRun</figcaption></figure><p id="9f6c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我们选择管道管路时，我们可以看到以下内容:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ly"><img src="../Images/5fa52e8c0edafce25ad686d8d7682660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QwouBvkxq8bAM4TB3cu4w.png"/></div></div></figure><p id="646d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在左侧，我们可以看到在这个管道中定义的3个任务和所选任务的2个步骤。截屏显示了maven运行，包括下载各种依赖项。任务完成后，您还会在您的OCIR中看到容器图像。</p><h2 id="1aa1" class="kl km hh bd kr ks kt ku kv kw kx ky kz ip la lb lc it ld le lf ix lg lh li lj bi translated">加速构建</h2><p id="9029" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">但是，上面有一个问题。每次构建完成后，maven都会一遍又一遍地下载依赖项(又名<a class="ae lp" href="https://dzone.com/articles/how-not-download-internet" rel="noopener ugc nofollow" target="_blank">下载互联网</a>)，在这个实验中，构建平均花费了大约4分16秒。下面的屏幕截图显示了5个构建的计时结果。</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lz"><img src="../Images/38d404930b200c79253a03e1e36c4398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X5gFOFfz0rp-Yx83CxEu7w.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx">Timing results for 5 builds</figcaption></figure><p id="8690" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其中，maven-run任务的mvn-goals步骤平均耗时2分42秒。，其中大部分时间花在下载依赖项上。还要记住，这是一个基本的Spring Boot项目，没有额外的依赖。当您开始添加更多的依赖项时，这将很快变得不可接受，尤其是当您有多个团队在构建时。</p><p id="f50a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要减少应用程序构建时间，我们可以通过让maven创建和使用本地缓存并避免重复下载依赖项来实现这一点。此外，我们需要在不同的管道、任务等之间共享这一点。<a class="ae lp" href="https://developers.redhat.com/blog/2020/02/26/speed-up-maven-builds-in-tekton-pipelines/" rel="noopener ugc nofollow" target="_blank">这篇博文</a>提供了一种可能的方法。然而，它也定义了自己的maven任务，而不是使用目录中可用的任务，还有PipelineResources(我认为),这可能会被弃用。然而，这篇文章展示了使用PVC作为本地maven repo的工作空间的可能性。</p><p id="499b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">相反，让我们考虑使用一个由PersistentVolumeClaim支持的独立工作区的想法，该工作区将保留本地maven repo，但我们将修改目录中的现有maven任务。这里，由于我只在集群中试验了一个工作节点，所以我将使用块卷作为存储。但是，您也可以使用<a class="ae lp" href="https://blogs.oracle.com/cloud-infrastructure/using-file-storage-service-with-container-engine-for-kubernetes" rel="noopener ugc nofollow" target="_blank"> OCI文件系统服务</a>，这样所有节点都可以访问“本地maven repo”。让我们为本地maven repo定义另一个PVC。</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="90ea" class="kl km hh kh b fi kn ko l kp kq">apiVersion: v1                                                                                                                                                                                <br/>kind: PersistentVolumeClaim                                                                                                                                                                   <br/>metadata:                                                                                                                                                                                     <br/>  name: mavenclaim                                                                                                                                                                            <br/>  namespace: tekton-pipelines                                                                                                                                                                 <br/>spec:                                                                                                                                                                                         <br/>  storageClassName: "oci-bv"                                                                                                                                                                  <br/>  accessModes:                                                                                                                                                                                <br/>    - ReadWriteOnce                                                                                                                                                                           <br/>  resources:                                                                                                                                                                                  <br/>    requests:                                                                                                                                                                                 <br/>      storage: 50Gi</span></pre><p id="5821" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，问题是Tekton目录中的Maven任务只需要两个工作空间:<em class="ls"> source </em>和<em class="ls"> maven-settings </em>。因此，为了将maven repo添加为工作区，我们将更改任务定义:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="68d4" class="kl km hh kh b fi kn ko l kp kq">curl -o maven2.yaml <a class="ae lp" href="https://raw.githubusercontent.com/tektoncd/catalog/master/task/maven/0.2/maven.yaml" rel="noopener ugc nofollow" target="_blank"><strong class="kh hi">https://raw.githubusercontent.com/tektoncd/catalog/master/task/maven/0.2/maven.yaml</strong></a></span></pre><p id="6498" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将对其进行编辑，添加第三个工作区，并将任务的名称改为一个相当缺乏想象力的'<em class="ls"> maven2 </em>':</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="2cd3" class="kl km hh kh b fi kn ko l kp kq">apiVersion: tekton.dev/v1beta1                                                                                                                                                                <br/>kind: Task                                                                                                                                                                                    <br/>metadata:                                                                                                                                                                                     <br/>  name: <strong class="kh hi">maven2</strong><br/>...<br/>spec:<br/>  workspaces:                                                                                                                                                                                 <br/>    - name: source                                                                                                                                                                            <br/>      description: The workspace consisting of maven project.                                                                                                                                 <br/>    - name: maven-settings                                                                                                                                                                    <br/>      description: &gt;-                                                                                                                                                                         <br/>        The workspace consisting of the custom maven settings                                                                                                                                 <br/>        provided by the user.                                                                                                                                                                 <strong class="kh hi"><br/>    - name: maven-repo                                                                                                                                                                        <br/>      description: The workspace to be used as local repo.</strong></span></pre><p id="b59c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并创建新的maven任务:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="2e72" class="kl km hh kh b fi kn ko l kp kq">kubectl apply -f maven2.yaml -n tekton-pipelines</span></pre><p id="a44a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">默认情况下，每个任务只能使用<a class="ae lp" href="https://github.com/tektoncd/pipeline/issues/3480" rel="noopener ugc nofollow" target="_blank"> 1个PVC，但是我们可以通过编辑configmap特性标志</a>来解决这个问题:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="c659" class="kl km hh kh b fi kn ko l kp kq">kubectl -n tekton-pipelines edit configmap feature-flags</span></pre><p id="3e08" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以及<a class="ae lp" href="https://github.com/tektoncd/pipeline/issues/3480" rel="noopener ugc nofollow" target="_blank">禁用亲和助手</a>:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="8071" class="kl km hh kh b fi kn ko l kp kq">data:                                                                                                                                                                                         <br/>  disable-affinity-assistant: "true"</span></pre><p id="c0f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们可以调整管道，将maven repo添加为工作区:</p><figure class="jr js jt ju fd jv"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="0711" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要将taskRef从'<em class="ls"> maven' </em>更改为'<em class="ls"> maven2 ' </em>，并添加以下参数:</p><pre class="jr js jt ju fd kg kh ki kj aw kk bi"><span id="c2ad" class="kl km hh kh b fi kn ko l kp kq"><strong class="kh hi">- -Dmaven.repo.local=$(workspaces.maven-repo.path)</strong><br/>- -DskipTests<br/>- clean<br/>- package</span></pre><p id="55ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这将迫使maven使用工作区作为其本地repo的位置。</p><p id="dbf4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在可以预期第一次构建会和之前的一样长，但是后续的构建会快得多。让我们运行大约相同的次数，以获得平均值:</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ma"><img src="../Images/9cc0b5bbdf2ebf1f88ec28aedea2a268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*twAOP4XAiz-yJnWi5zB_KA.png"/></div></div></figure><p id="fbe5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在可以看到显著的改善。总体平均构建时间(克隆、maven构建、应用构建)现在已经减少到大约2分27秒。这意味着构建时间缩短了42%。如果您检查mvn-goals步骤所用的实际时间，这种改进甚至更显著，下降到<em class="ls"> 9s only </em>，改进了近95%。</p><p id="6298" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事后看来，我应该把这个任务命名为flashmaven或者什么超级英雄。</p><p id="00b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我希望这篇文章对你有用。</p><p id="222f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考资料:</p><ol class=""><li id="09a8" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated"><a class="ae lp" href="https://tekton.dev/docs/" rel="noopener ugc nofollow" target="_blank"> Tekton文档</a></li><li id="c251" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae lp" href="https://github.com/tektoncd/pipeline/blob/master/docs/tutorial.md" rel="noopener ugc nofollow" target="_blank">泰克顿教程</a></li><li id="8fd7" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae lp" href="https://blogs.oracle.com/cloud-infrastructure/using-file-storage-service-with-container-engine-for-kubernetes" rel="noopener ugc nofollow" target="_blank">通过OKE使用OCI文件存储</a></li><li id="a80e" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae lp" href="https://docs.oracle.com/en-us/iaas/Content/ContEng/Tasks/contengcreatingpersistentvolumeclaim.htm" rel="noopener ugc nofollow" target="_blank">使用OKE创建持久卷</a></li><li id="24ad" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae lp" href="https://developers.redhat.com/blog/2020/02/26/speed-up-maven-builds-in-tekton-pipelines/" rel="noopener ugc nofollow" target="_blank">加速Tekton管道中的maven构建</a></li><li id="2ef3" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae lp" href="https://github.com/tektoncd/pipeline/blob/master/docs/auth.md" rel="noopener ugc nofollow" target="_blank">tek ton认证</a></li></ol><p id="c497" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">也可以顺便进入<a class="ae lp" href="https://join.slack.com/t/oracledevrel/shared_invite/zt-1529xwkyv-YXfNmLHdB3z8w642ODXGzw" rel="noopener ugc nofollow" target="_blank">我们的公共松弛频道</a>提问！</p></div></div>    
</body>
</html>