<html>
<head>
<title>Thinking for Voice: Getting Started for Web Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为声音而思考:Web开发人员入门</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/thinking-for-voice-getting-started-for-web-developers-88f0ac8bc707?source=collection_archive---------8-----------------------#2018-09-27">https://medium.com/google-developer-experts/thinking-for-voice-getting-started-for-web-developers-88f0ac8bc707?source=collection_archive---------8-----------------------#2018-09-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="045d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“为语音而思考”不仅仅是学习如何为像谷歌助手这样的语音代理编程。这是关于如何制造出色的语音代理，因为你可以理解他们如何工作，并将其与你理解的事情联系起来。这篇文章旨在帮助目前从事网络工作的开发人员理解Google Assistant的操作是如何工作的，以及如何编写自己的程序。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/a15c79b16c9bee0af2a0ac93e647a8c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EY-50bPuOq2vkiHF9D73YA.jpeg"/></div></div></figure><p id="aec5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我第一次得到一个Google Home时，我很好奇为它开发会是什么样子。我从一开始就一直从事Web开发，并且随着移动开发变得流行，越来越多的代码被放到网页上的Javascript中，我看到了事情是如何变化的。在我所知道的和我需要知道的之间，为助理构建一条什么样的路径？开发动作会像开发应用程序一样吗？他们会引进全新的不同的东西吗？</p><p id="99e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事实证明他们没有。使用Google平台上的动作进行开发非常类似于开发基于服务器的web应用程序。虽然这两个平台之间有许多不同之处，但也有一些令人愉快的相似之处，因此大多数web开发人员会发现自己处于熟悉的环境中。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="8a57" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">将“外观和感觉”变成个性</strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jw"><img src="../Images/5b770d232c99c1e9a9497a1747aaf26f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vw83Iq3LbDgcLcqtiPQoEg.jpeg"/></div></div></figure><p id="247a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">考虑语音时，最大的挑战不是技术上的，而是理解设计需要如何改变。尽管谷歌为构建良好的语音用户界面(VUIs)提供了许多建议(T4 ),但我们已经可以从构建良好的网络图形用户界面中吸取一些经验。</p><p id="7c6b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从表面上看，这两者似乎完全不同。但有一个基本的相似之处:我们希望我们的网站有一个独特的外观和感觉，这样当人们回到网站时就会认出它，同样，我们希望我们的语音代理有一个独特的角色，人们会将它与该行为联系起来。在网站上，我们使用颜色和布局以及我们的图形来获得“我们是谁”的感觉，而当涉及到语音时，我们的调色板是非常不同的。我们倾向于更依赖于我们使用的单词和短语，而不是它“看起来”如何，因为我们说话的方式使我们的代理人“听起来不同”。</p><p id="053d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就像一个网站可能看起来“专业”或“卡通”，我们使用的短语，以及我们如何传递它们，可以让我们的代理听起来“专业”或“愚蠢”。除了颜色，我们还会使用音调、音效、背景音乐，甚至是特定的短语来帮助说明我们的观点或引出重要的元素。在为声音设计时，人物角色是至关重要的，所以确保你在设计过程的早期就清楚地定义它，然后围绕它开始构建。</p><p id="3201" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我们谈到为语音代理设计时，我们通常会谈到为用户和动作之间的对话编写脚本。这非常类似于我们的用户与网页的交互方式。通过这两种方式，我们希望用户发起与我们的对话，然后我们回复。在网上，我们回复一个页面。通过语音，我们将回复一条消息。如此重复，直到用户完成了他们想要的。有时，我们的对话可能会误入歧途，我们需要引导用户回到他们想做的事情，但重要的是要理解我们的目标是相同的，帮助用户做他们想做的事情。我们经常在网上谈论错误页面，但在大多数情况下，它们并不是真正的错误页面，它们只是我们不能完全做到用户想要的页面，所以我们需要让它们回到正轨。同样，对于语音，我们在大多数情况下不会有错误响应，我们只需要帮助引导他们回到快乐的道路上。我们稍后将讨论对话模型中的其他一些相似之处。</p><p id="1197" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，开发GUI和开发VUI有两个主要区别。</p><p id="5fad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，图形用户界面可以是信息密集的——它们可以在屏幕上显示大量信息，并且可以在一次对话中收集大量信息。VUIs不可能那么密集。一般来说，我们会一次只要求用户提供一点信息，而不是整个表单，但是我们需要做好准备，他们会给我们比我们要求的更多的信息。例如，如果我们问一个地址，他们可能会给我们一个完整的街道地址，或者可能只给我们城市。我们需要处理这两个案子。</p><p id="a8ae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">第二大区别是用户期望什么，他们会发现什么不和谐。GUI的变化会让用户迷失方向。如果他们经常访问一个网站，或者即使他们使用不同的网站，他们也希望像菜单和表单这样的输入元素每次都在大致相同的位置。如果有什么变化，他们会发现很难使用该网站。但是当用声音和某人说话时，他们期望得到不同的回应。每次听到相同的提示都感觉不自然，人们会倾向于忽略它们。当设计你的VUI时，你应该考虑用不同的方式向用户表达同样的意思，以及如何在不同的方式之间做出适当的改变。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="a810" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">对话的结构</strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/4dc68e52d1d7c7b7393a345e6c92683c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVLdBf0lx-uZPCC_5PyHbQ.jpeg"/></div></div></figure><p id="135f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">与我们的行为对话可以以几种方式开始，但目前最常见的一种方式是用户<a class="ae jx" href="https://developers.google.com/actions/discovery/explicit" rel="noopener ugc nofollow" target="_blank">通过名字</a>请求它，比如“嘿，谷歌，跟莎士比亚的侮辱说话”。不需要安装。谷歌助手知道什么是“莎士比亚的侮辱”，因为动作名称是全球唯一的。</p><p id="65f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Web开发人员会马上想“这像是域名吗？”的确是！以至于一些流行的域名不被允许作为动作名称，直到你使用谷歌的搜索控制台将你的动作链接到网站。</p><p id="5248" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们对一个动作发出的命令和一个URL之间的相似之处不止于此。在对话过程中，用户所说的每一件事通常都由自然语言处理工具(NLP)处理，如<a class="ae jx" href="https://dialogflow.com/docs/" rel="noopener ugc nofollow" target="_blank"> Dialogflow </a>。Dialogflow获取用户所说的短语，识别与该短语最匹配的<a class="ae jx" href="https://dialogflow.com/docs/intents" rel="noopener ugc nofollow" target="_blank">意图</a>，并从中提取相关参数。然后，它将这些信息以及一些额外的有用信息发送到一个<a class="ae jx" href="https://dialogflow.com/docs/fulfillment" rel="noopener ugc nofollow" target="_blank"> webhook </a>进行履行处理。</p><p id="576d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">顾名思义，webhook只是一个webapp，通过HTTPS服务器监听一个众所周知的公共URL。当然，这一部分对web开发人员来说应该很容易，但是相似性更深。通常，我们的web应用程序有路径或路线，我们将把它们映射到要执行的功能中。通常这些路由会有参数，或者，如果我们把它作为POST操作来做，这些参数就是表单的一部分。同样，NLP系统将一个路径(用户说过的短语)映射成一个带有参数的命名意图，我们将在服务器上的函数中处理该意图。</p><p id="4a1c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">什么通过HTTPS传送到我们的服务器？为什么，所有这些信息的JSON表示。我们需要回复什么？又是JSON。作为web开发人员，我们应该相当熟悉使用JSON的不同方式。就像构建webapps一样，webhooks可以用任何语言编写，可以在任何平台上运行。我们唯一的限制是，它必须是可公开访问的，具有有效的(非自签名)SSL证书，并且必须能够接受和返回Google和Dialogflow上的操作所定义的JSON。</p><p id="b4d9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Voice甚至有自己的HTML和CSS等价物。被称为<a class="ae jx" href="https://developers.google.com/actions/reference/ssml" rel="noopener ugc nofollow" target="_blank"> SSML </a>，语音合成标记语言，这代表了如何说出响应，包括如何发音数字，首字母缩写词和其他单词。它甚至包括通过音频播放器播放短格式分层音效和长格式音频的方法。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="a35d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">语音浏览</strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jy"><img src="../Images/62a3649a4be082b11a7837ecfbd12081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N_gufaLI6jTqkYcTEx_7Ow.jpeg"/></div></div></figure><p id="f819" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可能想知道浏览器的语音等价物是什么，因为你可能不记得安装了语音浏览器或类似的东西。助手本身在与您的操作对话时充当您的用户的浏览器，管理会话期间的交互，允许用户创建类似书签的快捷方式，甚至提供其他与帐户相关的活动。例如，您的动作可以<a class="ae jx" href="https://developers.google.com/actions/assistant/save-data" rel="noopener ugc nofollow" target="_blank">存储有限数量的特定于用户的数据</a>，无论是对于会话还是直到您或您的用户清除它，只有用户和您的动作可以访问。虽然不能复制cookies的工作方式，但有很强的相似性，可以类似地使用它们。</p><p id="22a2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的用户甚至可以发现我们的行为，就像他们在网上做的一样。正如我们上面讨论的，如果他们知道动作的名称，他们可以直接访问它，就像访问URL一样。但是如果他们没有呢？这就是谷歌介入的地方，它的行为就像……嗯……像谷歌一样，通过<a class="ae jx" href="https://developers.google.com/actions/discovery/implicit" rel="noopener ugc nofollow" target="_blank">隐式调用</a>提供建议，告诉用户什么动作能够处理用户想要的东西。你可以通过构建一个可以处理特定<a class="ae jx" href="https://developers.google.com/actions/discovery/built-in-intents" rel="noopener ugc nofollow" target="_blank">内置意图</a>的动作来影响这一点，甚至可以通过使用一些专门用于检查动作行为的<a class="ae jx" href="https://developers.google.com/actions/console/analytics" rel="noopener ugc nofollow" target="_blank">分析</a>来查看你的动作是如何执行的。</p><p id="f00f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当然，助手和浏览器之间的相似之处并不完美。能够在助手内部运行的东西很少，所以不要计划在客户端运行任何Javascript或其他东西。然而，从好的方面来说，用户的助手配置可以在他们可能使用的平台之间工作，因此他们可以在他们的移动设备或智能扬声器之间无缝移动，而您只需做很少的工作。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="e099" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论……目前来看</strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jz"><img src="../Images/c1d51a21287e00258422104ca086ac22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hAMNf-pw1yOWlFjd17NV5w.jpeg"/></div></div></figure><p id="005f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">希望你已经看到了在Google上为web开发和为新兴的语音领域开发有多少相似之处。你已经掌握的许多技能将在你制定行动时帮助你。将来，我会讨论Google上关于动作的其他组件，以及当你为语音“思考”时如何使用它们。</p><p id="e03f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我鼓励您访问https://developers.google.com/actions/，了解更多信息，并开始探索如何使用语音与您的用户互动。我期待听到你的作品！</p></div></div>    
</body>
</html>