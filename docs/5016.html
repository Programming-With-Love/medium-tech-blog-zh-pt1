<html>
<head>
<title>DTAP based configuration — Mendix and Me</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于DTAP的配置— Mendix和我</h1>
<blockquote>原文：<a href="https://medium.com/mendix/dtap-based-configuration-mendix-and-me-303730fbabaa?source=collection_archive---------6-----------------------#2020-02-24">https://medium.com/mendix/dtap-based-configuration-mendix-and-me-303730fbabaa?source=collection_archive---------6-----------------------#2020-02-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/1f539a4df92875289bd9c9672d09a5b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8X7Z4Eo7VrNAxZ6SBl5CQ.png"/></div></div></figure><p id="7f8b" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">与将配置存储在常量中相比，将配置存储在数据库中具有某些优势。您可以允许选定的用户自定义配置，而无需让他们直接访问应用程序常数，您可以更改配置，而无需重启应用程序，…</p><p id="36a4" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">除了所有这些优点之外，还有一个显著的缺点。这些优点源于配置存储在数据库中这一事实。缺点是配置存储在数据库中。</p><h1 id="5675" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">为什么这是一个问题？</h1><p id="a327" class="pw-post-body-paragraph jc jd hu bd b je kx jg jh ji ky jk jl jm kz jo jp jq la js jt ju lb jw jx jy hn dt translated">对于很多配置来说，这可能根本不是问题。但对一些人来说，这有时是一场灾难。如果数据库从一个环境恢复到另一个环境(本地使用生产数据库进行调试，ACCP在测试中恢复以获得更新的数据等等)，原始环境的配置仍然有效。这可能导致测试系统访问生产界面，电子邮件被发送到错误的地址……这可能会产生致命的后果，避免这种情况应该是每个开发人员的目标。</p><h1 id="9476" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">解决方案—基于DTAP的配置</h1><p id="9a3e" class="pw-post-body-paragraph jc jd hu bd b je kx jg jh ji ky jk jl jm kz jo jp jq la js jt ju lb jw jx jy hn dt translated">DTAP是一个缩写，代表:</p><ul class=""><li id="9a6c" class="lc ld hu bd b je jf ji jj jm le jq lf ju lg jy lh li lj lk dt translated">发展</li><li id="bc8d" class="lc ld hu bd b je lm ji ln jm lo jq lp ju lq jy lh li lj lk dt translated">美国东部时间</li><li id="03b4" class="lc ld hu bd b je lm ji ln jm lo jq lp ju lq jy lh li lj lk dt translated"><strong class="bd ll">一个</strong>的接受</li><li id="a893" class="lc ld hu bd b je lm ji ln jm lo jq lp ju lq jy lh li lj lk dt translated">生产</li></ul><p id="aa40" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">所以对于通常可用的应用程序环境来说。在Mendix AppStore中，有一个模块告诉系统它当前运行在这些环境中的哪一个环境中。如果您想要允许某些过程只在某些系统上执行(例如，在测试系统中自动创建假的测试数据)，这可能非常方便，但是对于解决我们的配置问题也非常有用。</p><p id="95ac" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">该模块可在以下位置找到:</p><p id="e43b" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><a class="ae lr" href="https://appstore.home.mendix.com/link/app/110921/" rel="noopener ugc nofollow" target="_blank"> Aelion — DTAP环境信息</a></p><p id="8080" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">它通过一个微流提供一个枚举，告诉你你在哪个系统上。</p><p id="f93c" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">在之前的博文中，我已经谈到了<a class="ae lr" href="https://mendixandme.de/index.php/2020/02/24/das-createorretrieveifexisting-pattern/" rel="noopener ugc nofollow" target="_blank"> CreateOrRetrieveIfExisting微流</a>(德语版)微流。如果您使用DTAP模块扩展此功能，则可以使配置仅在最初创建它的系统上可用。这个微流看起来像这样:</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ls"><img src="../Images/99f959676bc30738dbc3a77f5df063a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5OsuiLKpIl5r1mtN.jpg"/></div></div></figure><p id="d4df" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">名为“环境”的附加枚举属性(对应于DTAP模块中的环境枚举)已添加到设置对象中。检索操作现在包含以下XPath约束:</p><p id="f8e6" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">[环境= $环境]</p><p id="a62c" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">创建操作将环境属性设置为环境值。</p><p id="4c91" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">此模式可用于确保在另一个环境中恢复数据库时不会意外使用生产性配置，而不会失去基于数据库的配置的便利性。</p></div><div class="ab cl lx ly hb lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hn ho hp hq hr"><p id="988b" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="me">原文于2020年2月24日在</em> <a class="ae lr" href="https://mendixandme.de/index.php/2020/02/24/dtap-basierte-konfiguration/" rel="noopener ugc nofollow" target="_blank"> <em class="me">用德语发表https://mendixamme . de</em></a><em class="me">。</em></p></div></div>    
</body>
</html>