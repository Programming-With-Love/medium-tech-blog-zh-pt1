<html>
<head>
<title>Vue communication patterns: an intro to “props-down” and “events-up” pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue沟通模式:介绍“道具向下”和“事件向上”模式</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/vue-communication-patterns-an-intro-to-props-down-and-events-up-pattern-d53340d2c94?source=collection_archive---------1-----------------------#2019-08-27">https://medium.com/quick-code/vue-communication-patterns-an-intro-to-props-down-and-events-up-pattern-d53340d2c94?source=collection_archive---------1-----------------------#2019-08-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/bdcf4cdb453b9bdebee8429c60209248.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NycQ0-xRYkiLW0VE"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@louis_moncouyoux?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Louis Moncouyoux</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="73ac" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当在一个大文件中开发Vue应用程序时，我们的优势是将整个应用程序状态放在一个地方——在Vue组件实例的数据对象中。一旦我们开始通过将应用程序分割成子组件来模块化应用程序，我们就面临着父组件和子组件之间以及兄弟组件之间的状态管理的挑战。</p><p id="c3f9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我以前的文章中，我已经解释了这个挑战的解决方案之一——一个<a class="ae it" rel="noopener" href="/@andrejsabrickis/https-medium-com-andrejsabrickis-create-simple-eventbus-to-communicate-between-vue-js-components-cdc11cd59860"> EventBus模式</a>。尽管EventBus的设置和开始使用非常简单，但我发现它更适合更复杂的应用程序。例如，在应用程序中，应该在具有不同祖先和更深嵌套的组件之间进行通信。</p><p id="18a3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在简单的应用程序中，只有一个由子组件组成的父组件，对于处理简单的事件来说，EventBus可能太多了。相反，我们可以使用Vue的内置特性，如道具和事件——一种道具向下而事件向上的通信模式。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div class="er es js"><img src="../Images/a0e87e9f3d04aa28a0f53325eaeb4d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*ePxH_YuROsQp8ExzVWOu_A.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">The flow of props and events inside a Vue.js component</figcaption></figure><p id="d732" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">首先，每个Vue组件在<code class="du jx jy jz ka b">data</code>属性中维护自己的状态。在props-down和events-up模式中，父组件的数据对象是整个应用程序的唯一真实来源。子组件应该通过props——“props-down”从父组件的数据对象接收数据。并且父组件应该通过处理从子组件发出的事件来更新其状态——“事件启动”。</p><p id="f744" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里你可以看到这个模式的一个实现，它是一个计数器应用程序。</p><div class="kb kc ez fb kd ke"><a href="https://github.com/AndrejsAbrickis/playground/blob/master/props-down-events-up/src/App.vue" rel="noopener  ugc nofollow" target="_blank"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hi fi z dy kj ea eb kk ed ef hg bi translated">AndrejsAbrickis/游乐场</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">github.com</p></div></div></div></a></div><p id="d2f0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du jx jy jz ka b">App.vue</code>是父组件或根组件，它保存关于当前计数、两个按钮的标签和消息数组的信息或状态。此外，它还定义了两个处理程序消息，这两个消息通过事件名<code class="du jx jy jz ka b">@buttonClicked</code>绑定到子组件。因此，每次子组件发出按钮点击事件时，它都将由App.vue组件处理，它将减少或增加来自子组件的当前计数和日志消息。</p><figure class="jt ju jv jw fd ii"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="d3b5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这两个子组件做同样的事情。首先，它们接收要显示的文本标签和一个计数——在本例中，该计数增加或减少并添加到消息中，以证明消息也可以是非原始类型。</p><p id="ed5c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">子组件的职责是处理@click事件并发出<code class="du jx jy jz ka b">buttonClicked</code>事件。通过在实现按钮组件的任何地方使用<code class="du jx jy jz ka b">this.$emit("buttonClicked")</code>，父组件现在可以绑定到<code class="du jx jy jz ka b">@buttonClicked</code>并在事件发生时动作。</p><figure class="jt ju jv jw fd ii"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="bb71" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这就是了。现在，您的Vue.js工具箱中有了另一个工具，通过接收道具和发出事件，经由父组件在组件之间进行通信。</p><p id="cbbd" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">干杯！</strong></p></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><p id="f03d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你觉得这篇文章很有用，并且想了解更多关于随机网络开发的话题，请为这篇文章鼓掌或者在这里发表评论。一如既往，你可以在Twitter@andrejsabrickis上找到我</p></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><p id="719f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我离开你之前，这里有一个快速无耻的插件。<br/>我正在寻找一名优秀的前端或全栈开发人员，他们将帮助我们在Mintos的工程团队将我们的客户端web应用提升到一个新的水平。如果你对 <a class="ae it" href="https://mintos.workable.com/j/B0575F2DF3" rel="noopener ugc nofollow" target="_blank"> <em class="kw">高级前端开发人员</em> </a> <em class="kw">职位或我们的任何其他空缺职位(https://mintos.workable.com)感兴趣，或者你知道谁会感兴趣，请不要犹豫，告诉我。</em></p></div></div>    
</body>
</html>