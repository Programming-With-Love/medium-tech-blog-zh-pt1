<html>
<head>
<title>Using React 16 Fragments for the First Time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第一次使用React 16片段</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/using-react-16-fragments-for-the-first-time-3b177b08a82a?source=collection_archive---------5-----------------------#2018-02-04">https://medium.com/quick-code/using-react-16-fragments-for-the-first-time-3b177b08a82a?source=collection_archive---------5-----------------------#2018-02-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="b0ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">React 16为React开发人员带来了一系列新工具，包括门户、错误边界、构造函数的弃用以及片段、字符串和数组而不是div。在这篇文章中，我将向你展示如何使用React片段和数组，并告诉你为什么它们比div更有效。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/209460c486c392e0cf8763c362c93758.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*dU_5navZ2IT-TktLaRVAFg.jpeg"/></div></figure><p id="deeb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了开始，你首先需要确保你更新到React和Babel的最新版本。这可以通过在终端中输入以下命令来实现:</p><pre class="jd je jf jg fd jk jl jm jn aw jo bi"><span id="756c" class="jp jq hh jl b fi jr js l jt ju">yarn add react@^16.2.0 react-dom@^16.2.0</span><span id="e668" class="jp jq hh jl b fi jv js l jt ju">yarn upgrade @babel/core @babel/plugin-transform-react-jsx</span></pre><p id="e2b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦你将你的React版本升级到16.2，将Babel升级到7，你就可以开始了。</p><p id="4f80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在想要使用片段或数组的组件中，需要在文件的顶部要求Fragment from React。这是按如下方式完成的:</p><pre class="jd je jf jg fd jk jl jm jn aw jo bi"><span id="0b6b" class="jp jq hh jl b fi jr js l jt ju">import React, { Component, Fragment} from ‘react’;</span></pre><p id="d3ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，您只需移除包装div并用<Fragment> </Fragment>替换它。</p><pre class="jd je jf jg fd jk jl jm jn aw jo bi"><span id="5d89" class="jp jq hh jl b fi jr js l jt ju">class Answers extends Component {</span><span id="cb33" class="jp jq hh jl b fi jv js l jt ju"><br/>render () {</span><span id="bfc0" class="jp jq hh jl b fi jv js l jt ju">     let answersCard = null</span><span id="66a5" class="jp jq hh jl b fi jv js l jt ju">question ? <br/>sortedAnswers = ( question.answers.sort(function(a,b) { return  (a.count &lt; b.count) ? 1 : ((b.count &gt; a.count) ? -1 : 0)}).map(answer =&gt; &lt;Answer key={answer.id} answer={answer} questionId={question.id} /&gt; )) <br/>: sortedAnswers = ( &lt;p&gt;Loading...&lt;/p&gt; )</span><span id="d123" class="jp jq hh jl b fi jv js l jt ju">return (<br/>      &lt;Fragment&gt;<br/>         {sortedAnswers}<br/>      &lt;/Fragment&gt;<br/>     )<br/>   }</span><span id="c480" class="jp jq hh jl b fi jv js l jt ju">}</span></pre><p id="f09c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类似地，您可以用数组完全替换片段和包含的括号。如果数组中有多个元素，就需要用逗号分隔这些元素，就像下面这个例子中的后面的逗号一样:</p><pre class="jd je jf jg fd jk jl jm jn aw jo bi"><span id="fc32" class="jp jq hh jl b fi jr js l jt ju">return [</span><span id="dfef" class="jp jq hh jl b fi jv js l jt ju">     &lt;form onSubmit={this.handleOnSubmit}&gt;<br/>         &lt;div&gt;<br/>           &lt;textarea<br/>           name="content"<br/>           value={this.state.content}<br/>           onChange={this.handleOnChange}&gt;<br/>           &lt;/textarea&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>          &lt;button type="submit"&gt;Add Answer&lt;/button&gt;<br/>        &lt;/div&gt;<br/>      &lt;/form&gt;,<br/>      &lt;Answers question={this.props.question} /&gt;</span><span id="8769" class="jp jq hh jl b fi jv js l jt ju">]<br/>   }</span></pre><p id="ccac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然片段是目前推荐的封闭语法，但很快就有可能只使用空字符串来代替数组或片段&lt;&gt; &gt;，但目前并不是所有设备都支持这一点，因此React文档建议您暂时继续使用片段。</p><p id="4d79" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你和我一样，第一次看到这个的时候，你会问自己，为什么我要关心添加一个div作为片段的工作量是不是一样的呢？</p><p id="aff0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好吧，丹·阿布拉莫夫本人在这篇堆栈溢出<a class="ae jw" href="https://stackoverflow.com/questions/47761894/why-are-fragments-in-react-16-better-than-container-divs" rel="noopener ugc nofollow" target="_blank">文章</a>中也谈到了这个问题。本质上，1)碎片比div略快，占用内存少；2)片段对于Flexbox、CSS Grid等一些CSS操作更有效，div对布局有影响；3)使用片段时，DOM不那么混乱。</p><p id="e065" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我希望这篇文章能帮助你更新你的反应技能！</p></div></div>    
</body>
</html>