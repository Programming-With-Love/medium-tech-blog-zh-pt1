<html>
<head>
<title>Native Apps are Doomed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">原生应用注定要失败</h1>
<blockquote>原文：<a href="https://medium.com/javascript-scene/native-apps-are-doomed-ac397148a2c0?source=collection_archive---------0-----------------------#2016-11-08">https://medium.com/javascript-scene/native-apps-are-doomed-ac397148a2c0?source=collection_archive---------0-----------------------#2016-11-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/26b6212108bd321ffe99251f27c77a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ok-V-FwAoKaHLxvjtY5wZw.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">2014–09 Vulture — Dick Knight (CC BY-NC-ND 2.0)</figcaption></figure><p id="28e3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">从现在开始，我不会再开发任何原生应用。我所有的应用都将是渐进式的网络应用。渐进式网络应用程序是一种网络应用程序，旨在比原生移动应用程序更无缝地在移动设备上工作。</p><p id="7ffe" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我说的“更无缝”是什么意思我的意思是，大多数网络流量来自移动设备，用户平均每月安装0-3个新应用。这意味着人们不会花很多时间在app store中寻找新的应用程序，但他们会花很多时间在网络上，在那里他们可能会发现并使用你的应用程序。</p><p id="e0ab" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">渐进式网络应用程序开始时就像任何其他网络应用程序一样，但当用户返回应用程序并通过使用证明他们有兴趣更经常地使用应用程序时，浏览器会邀请用户将应用程序安装到他们的主屏幕上。PWA也可以受益于<a class="ae jr" href="https://developers.google.com/web/fundamentals/engage-and-retain/push-notifications/" rel="noopener ugc nofollow" target="_blank">推送通知</a>，就像本地应用一样。</p><p id="5949" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这就是有趣的地方。就像任何原生应用程序一样，progressive web应用程序将有自己的主屏幕图标，当你点击它时，应用程序将在没有浏览器chrome的情况下启动。这意味着没有地址栏和网页导航界面。只有手机通常的状态栏和你的应用程序几乎全屏显示。</p><p id="73ab" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这是一个漫长的过程。没有一项技术是特别新的——除了新兴的跨平台标准。</p><h1 id="8df8" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">一些历史</h1><p id="7b31" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">iPhone早期，没有app store。史蒂夫·乔布斯希望开发者使用标准的网络技术开发iPhone应用。</p><p id="56f1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有时候远见卓识者是正确的，但是他们比他们的时代超前10年。回顾两年前，史蒂夫·乔布斯为iPhone开发网络应用的建议被《福布斯》称为他的<a class="ae jr" href="http://www.forbes.com/sites/markrogowsky/2014/07/11/app-store-at-6-how-steve-jobs-biggest-blunder-became-one-of-apples-greatest-strengths/" rel="noopener ugc nofollow" target="_blank">【最大的错误】</a>，因为原生应用获得了巨大的成功。</p><p id="bee1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">今天回想起来，很明显他真的发现了一些东西——远远超出了当时现有网络标准的能力。</p><p id="29a1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">十年后，移动网络标准现在支持开发者在原生应用中寻找的许多功能，史蒂夫·乔布斯最初对移动网络应用的愿景现在正被世界其他地方认真追求。苹果几乎从一开始就支持“支持苹果移动网络”的网络应用，你可以使用元标签将这些应用添加到你的主屏幕上，元标签可以帮助iOS设备找到合适的图标等东西。</p><p id="5c2d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">其他供应商也纷纷效仿，各自创建自己的元标记集合来声明移动web应用程序的功能，但最近，一个跨平台规范被引入，现在，跨平台移动web应用程序终于成为现实。</p><p id="a687" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">实现该标准的应用程序被称为渐进式网络应用程序，不要与渐进式增强或响应式应用程序等容易混淆的类似术语相混淆。</p><h1 id="75af" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是渐进式网络应用？</h1><p id="70e0" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">渐进式网络应用程序是专为移动设备设计的网络应用程序。如果浏览器发现用户想要继续使用该应用程序，它可能会提示用户将它安装到他们的主屏幕、dock等。但是，为了获得资格，他们必须满足特定的标准:</p><ul class=""><li id="e5de" class="kv kw hh iv b iw ix ja jb je kx ji ky jm kz jq la lb lc ld bi translated">一定是HTTPS(见<a class="ae jr" href="https://letsencrypt.org/" rel="noopener ugc nofollow" target="_blank">让我们加密</a>)</li><li id="db4b" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">具有所需属性的有效清单(<a class="ae jr" href="https://manifest-validator.appspot.com/" rel="noopener ugc nofollow" target="_blank"> Web清单验证器</a></li><li id="fd83" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">必须有服务人员</li><li id="7e7d" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">Manifest <code class="du lj lk ll lm b">start_url</code>必须始终加载，即使离线(使用服务人员)</li><li id="3c0d" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">必须提供自己的导航</li><li id="7212" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">应能适应不同的屏幕尺寸和方向</li></ul><p id="7768" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当然，为离线用户使用HTTPS和服务人员对于任何现代应用程序来说都是很好的实践。</p><p id="f335" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">许多应用程序开发者似乎忘记了一点，如果你构建一个渐进式网络应用程序，你必须能够在没有浏览器chrome和浏览器导航手势的情况下导航应用程序。移动设备假设你已经在应用程序中内置了自己的导航功能。</p><p id="c039" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">例如，如果您有一个“关于”页面，该页面必须有一个返回到应用程序UI的链接，否则用户必须关闭并重新打开应用程序才能返回到您的主应用程序UI。</p><h1 id="35fd" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">渐进式网络应用程序操作指南</h1><p id="6e98" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">有很多关于构建渐进式web应用程序的信息散布在整个web上，但是其中很多都已经过时了，而且很多都只包含了构建渐进式web应用程序所需的一小部分内容。让我们解决这个问题。</p><h1 id="55d4" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">启用HTTPS</h1><p id="6332" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated"><strong class="iv hi">【编辑:2020更新】:</strong>使用<a class="ae jr" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>并使用<a class="ae jr" href="https://vercel.com/" rel="noopener ugc nofollow" target="_blank"> Vercel </a>进行部署，HTTPS以及页面捆绑拆分、静态服务器渲染、CDN交付、缓存头管理和GitHub CI/CD部署集成将自动开箱即用。这就像拥有世界上最好的全职DevOps团队，但他们不是每年花费数十万美元，而是每月为您节省数千美元的托管费用。</p><p id="1a44" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">以下是以前的说明，这样我们就可以嘲笑我们曾经为了开发一个应用程序而不得不经历的所有困难:</p><blockquote class="ln lo lp"><p id="cf9c" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated">要启用HTTPS，您需要:</p><p id="b1eb" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated">*网络服务器(我推荐<a class="ae jr" href="https://m.do.co/c/fdcfedac5208" rel="noopener ugc nofollow" target="_blank">数字海洋</a>)</p><p id="faaa" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated">*一个<a class="ae jr" href="https://certbot.eff.org/all-instructions/#ubuntu-16-04-xenial-nginx" rel="noopener ugc nofollow" target="_blank"> SSL证书</a></p><p id="3037" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated">*强大的迪菲-海尔曼集团(<code class="du lj lk ll lm b">sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048</code>)</p><p id="f936" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated">web服务器的TLS/SSL配置(<a class="ae jr" href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-14-04" rel="noopener ugc nofollow" target="_blank">Ubuntu上Nginx的说明</a>)</p></blockquote><h1 id="6ed6" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">清单</h1><p id="6da4" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">清单文件叫做<code class="du lj lk ll lm b">manifest.json</code>，它非常简单。它由名称(<code class="du lj lk ll lm b">short_name</code>表示主屏幕图标，可选的<code class="du lj lk ll lm b">name</code>表示更完整的名称)、开始url和一个大的图标列表组成，因此您可以支持各种平台所需的各种不同的图标大小。对于Android + iOS，您需要:</p><ul class=""><li id="13a9" class="kv kw hh iv b iw ix ja jb je kx ji ky jm kz jq la lb lc ld bi translated">36x36</li><li id="1829" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">48x48</li><li id="998e" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">60x60(苹果触摸图标iPhone)</li><li id="707e" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">72x72</li><li id="2136" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">76x76(苹果触摸图标iPad)</li><li id="b403" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">96x96</li><li id="8ae2" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">120x120(苹果触摸图标iPhone retina)</li><li id="45dd" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">152x152(苹果触摸图标iPad retina)</li><li id="b385" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">180 x180(iOS 8+的Apple touch图标)</li><li id="5aa1" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">192x192</li><li id="820d" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated">512x512</li></ul><p id="9015" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我挑出苹果触摸图标，因为它们有众所周知的名字:</p><p id="4873" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du lj lk ll lm b">apple-touch-icon-180x180.png</code></p><p id="00e4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">其中180×180可以由任何特定分辨率来代替。不要求使用众所周知的名称，但是如果您忘记包括标签，iOS仍然可以通过在您的web应用程序的根目录中搜索图标来找到它们，如果您使用众所周知的名称的话。</p><p id="1ded" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">iOS图标不支持透明。</strong></p><h2 id="9fce" class="lu jt hh bd ju lv lw lx jy ly lz ma kc je mb mc kg ji md me kk jm mf mg ko mh bi translated"><strong class="ak"> Sample manifest.json: </strong></h2><figure class="mi mj mk ml fd ii"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="5427" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有些功能你应该了解一下。<code class="du lj lk ll lm b">theme_color</code>设置在Android上切换应用程序时使用的状态栏和窗口标题栏的颜色。</p><p id="4a02" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du lj lk ll lm b">background_color</code>设置闪屏上使用的颜色。在Android上，一个闪屏将由<code class="du lj lk ll lm b">name</code>属性(长名称)和一个位于<code class="du lj lk ll lm b">background_color</code>顶部的大图标组成。</p><h2 id="be5f" class="lu jt hh bd ju lv lw lx jy ly lz ma kc je mb mc kg ji md me kk jm mf mg ko mh bi translated"><strong class="ak">清单并不是随处可见的</strong></h2><p id="043b" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">我第一次构建渐进式web应用程序时，我很高兴它在Android的Chrome上能像预期的那样工作，但当我在Safari/iOS中查看它时，它似乎不能工作。原因在于，尽管mobile Safari使用自定义标签支持这些功能已经有十年左右的时间了，但它还不支持web清单规范。</p><p id="dd75" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，除了支持的浏览器的清单文件之外，您还需要iOS的特殊元标记，从这个开始，它将启动没有浏览器chrome的应用程序:</p><pre class="mi mj mk ml fd mo lm mp mq aw mr bi"><span id="4f5a" class="lu jt hh lm b fi ms mt l mu mv">&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</span></pre><p id="19fc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">不过，有很多标签需要记住，而且可能有另一种方法。有一个<a class="ae jr" href="https://github.com/boyofgreen/manUp.js/" rel="noopener ugc nofollow" target="_blank"> web manifest polyfill </a>，它将读取你的manifest.json文件，并为旧的移动浏览器、iOS，甚至Windows phone和Firefox OS添加特定于供应商的标签。</p><h1 id="10a7" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">服务行业人员</h1><p id="3ed9" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">Service Worker是一个最新的web平台规范，允许您在本地缓存资源，以确保您的应用程序仍然工作，即使用户没有连接到互联网。</p><p id="bd2a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它的工作原理是劫持您的网络请求，并在用户离线时从本地缓存提供响应。然而，事情远不止如此。这是一个相当复杂的低级API，允许你做很多事情来优化用户的体验，无论他们是在线还是离线。</p><p id="ca16" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">首先，我将推荐一个非常简单的高级抽象。一个叫<a class="ae jr" href="https://www.talater.com/upup/" rel="noopener ugc nofollow" target="_blank"> UpUp </a>的小脚本。使用UpUp真的很简单。这里有一个来自UpUp文档的例子:</p><figure class="mi mj mk ml fd ii"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="8fad" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du lj lk ll lm b">content-url</code>是用户离线时加载的URL。我只是使用应用程序的根URL，它工作得很好。</p><p id="aec9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这些资产是需要在本地缓存的文件，以便应用程序正常运行。记住要确保所有的图片、图标、CSS，甚至默认的AJAX请求响应都包含在内。如你所见，任何文件类型都可以。</p><p id="6bf5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">最终，您可能希望对离线资源缓存进行比UpUp提供的更多的控制。当那一天到来时，这里有一些很好的教育资源可以帮助你开始学习:</p><ul class=""><li id="bf90" class="kv kw hh iv b iw ix ja jb je kx ji ky jm kz jq la lb lc ld bi translated"><a class="ae jr" href="https://www.udacity.com/course/offline-web-applications--ud899" rel="noopener ugc nofollow" target="_blank">免费的谷歌Udacity课程</a></li><li id="06ed" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><a class="ae jr" href="https://serviceworke.rs/" rel="noopener ugc nofollow" target="_blank">服务人员食谱</a>进行深入报道。</li></ul><h1 id="747c" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">测试</h1><h2 id="2efb" class="lu jt hh bd ju lv lw lx jy ly lz ma kc je mb mc kg ji md me kk jm mf mg ko mh bi translated">使用Chrome inspect调试物理设备</h2><p id="7957" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">将您的设备插入USB电缆。在Android设备上打开USB调试。参见<a class="ae jr" href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/?utm_source=dcc&amp;utm_medium=redirect&amp;utm_campaign=2016q3" rel="noopener ugc nofollow" target="_blank">远程调试说明</a>。你可能需要谷歌一下，弄清楚如何将你的Android手机设置为开发者模式，以实现远程调试。</p><p id="2d90" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">打开开发人员模式后，您可能会在设置模式中看到开发人员选项。打开它，并确保USB调试已打开。</p><p id="d6aa" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">拜访<code class="du lj lk ll lm b">chrome://inspect#devices</code>。点击inspect按钮，您将获得应用程序的完整开发工具。</p><h1 id="8b96" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">验证您的服务人员</h1><p id="105c" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">访问<code class="du lj lk ll lm b">chrome://inspect/#service-workers</code>以验证您的服务人员是否正常工作。</p><h1 id="ff3d" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">验证安装到主页</h1><p id="40d8" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">如果您想跳过用户参与度检查并总是获得安装到主页选项，请打开Chrome flags中的“跳过用户参与度检查”:</p><p id="95c4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><code class="du lj lk ll lm b">chrome://flags/</code></p><p id="ac12" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">要在桌面上测试，您还应该翻转“启用添加到工具架”。</p><h1 id="4aec" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">本地应用尚未消亡</strong></h1><p id="a0e6" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">渐进式网络应用程序现在拥有原生应用程序的大部分功能，安装摩擦有望低于原生应用程序，你将不再需要担心应用程序商店的看门人，你也不必为进入应用程序商店的特权而向任何人支付30%的应用程序销售税。</p><p id="adb9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但是本地应用程序仍然有一些移动网络应用程序在很长一段时间内都不具备的功能。</p><p id="c8d1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">值得注意的是，大多数传感器和硬件集成规范在大多数浏览器中受到<a class="ae jr" href="https://www.w3.org/Mobile/mobile-web-app-state/#Sensors_and_hardware_integration" rel="noopener ugc nofollow" target="_blank">限制或不支持</a>，甚至像设备定位API这样的基本功能也经历了突破性的变化，多个版本的规范存在于各种浏览器中，需要一些复杂的逻辑或聚合填充才能安全使用。</p><blockquote class="ln lo lp"><p id="7aca" class="it iu lq iv b iw ix iy iz ja jb jc jd lr jf jg jh ls jj jk jl lt jn jo jp jq ha bi translated"><strong class="iv hi">【编辑:2020】</strong>苹果现在支持service worker和web manifest，甚至苹果也在构建PWAs，但他们只是称之为可安装的web应用。</p></blockquote><h1 id="ce16" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">结论</h1><p id="3a62" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">从短期来看，您可能仍然希望开发一个混合应用程序，它可以利用一些设备API，而这些API在使用web标准时仍然是不可用的。</p><p id="a990" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在构建了我的第一个渐进式web应用程序后，我对未来充满希望，但我也意识到它并不完美。让一切在所有设备平台上顺利运行确实需要一段时间。你还必须记住，你会错过应用商店中用户熟悉的发现功能和众所周知的安装程序。</p><p id="63ec" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">希望浏览器厂商能跟上这一愿景，最终渐进式网络应用的安装体验会比本地应用好得多。看起来事情往那个方向发展了。</p><p id="af22" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当然，原生应用还会存在一段时间，但如果你正忙于学习Swift或Java以便构建原生应用，你可能会考虑学习JavaScript。</p><p id="8279" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi">【更新2020】</strong>想试试一些进步的web apps？所有这些现在都有pwa:</p><ul class=""><li id="58e9" class="kv kw hh iv b iw ix ja jb je kx ji ky jm kz jq la lb lc ld bi translated"><strong class="iv hi"> Instagram </strong></li><li id="cb05" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi">推特</strong></li><li id="1e55" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi">优步</strong></li><li id="6ef5" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi"> Spotify </strong></li><li id="6152" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi">星巴克</strong></li><li id="0aca" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi"> Pinterest </strong></li><li id="4af1" class="kv kw hh iv b iw le ja lf je lg ji lh jm li jq la lb lc ld bi translated"><strong class="iv hi"> ~80k其他app</strong></li></ul><h1 id="c68b" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">编辑:网络平台很棒</h1><p id="9de7" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">如果你想在评论中告诉我，用网络平台构建一个严肃的应用程序是不可能的:</p><p id="2387" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在是2016年，不是2004年。网络平台已经走过了漫长的道路。阅读<a class="ae jr" rel="noopener" href="/javascript-scene/10-must-see-web-apps-games-36ab9ca60754">“十大必看的网络应用和游戏”</a>来看看其他人为网络平台做了些什么。</p><p id="d7c7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">还不服气？阅读<a class="ae jr" rel="noopener" href="/javascript-scene/why-native-apps-really-are-doomed-native-apps-are-doomed-pt-2-e035b43170e9">“为什么原生应用注定要失败:原生应用注定要失败pt 2”</a>。</p><p id="f9ce" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[2020]这篇文章已经过编辑，以反映Apple已经实现服务工人和标准web清单文件的事实。</p><p id="69b0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[2020]本文已更新，以反映当今世界上许多最受欢迎的应用程序都有pwa这一事实。这比我预期的要快！</p></div><div class="ab cl mw mx go my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ha hb hc hd he"><p id="e1e8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">想要构建跨平台的通用JavaScript应用程序？</p><h1 id="bb01" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><a class="ae jr" href="http://ericelliottjs.com/product/lifetime-access-pass/" rel="noopener ugc nofollow" target="_blank">跟随Eric Elliott学习JavaScript】</a></h1></div><div class="ab cl mw mx go my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ha hb hc hd he"><p id="98ef" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="lq">埃里克·艾略特</em> </strong> <em class="lq">著有</em> <a class="ae jr" href="http://pjabook.com" rel="noopener ugc nofollow" target="_blank"> <em class="lq">【编程JavaScript应用】</em> </a> <em class="lq">(奥赖利)，以及</em> <a class="ae jr" href="http://ericelliottjs.com/product/lifetime-access-pass/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">【跟埃里克·艾略特学JavaScript】</em></a><em class="lq">。他为Adobe Systems</em><strong class="iv hi"><em class="lq"/></strong><em class="lq"/><strong class="iv hi"><em class="lq">Zumba Fitness</em></strong><em class="lq"/><strong class="iv hi"><em class="lq">华尔街日报</em></strong><em class="lq"/><strong class="iv hi"><em class="lq">ESPN</em></strong><em class="lq"/><strong class="iv hi">T51】BBC</strong><em class="lq">等顶级录音师贡献了软件经验</em></p><p id="61a2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">他大部分时间都在旧金山湾区和世界上最美丽的女人在一起。</p></div></div>    
</body>
</html>