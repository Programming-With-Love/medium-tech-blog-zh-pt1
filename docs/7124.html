<html>
<head>
<title>Application visibility</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用可见性</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/application-visibility-84133ffd95af?source=collection_archive---------2-----------------------#2015-07-10">https://medium.com/square-corner-blog/application-visibility-84133ffd95af?source=collection_archive---------2-----------------------#2015-07-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="8998" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">一睹Square使用的各种监控和警报系统。</h2></div><p id="1de2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">由Syam Puranam撰写。</p><blockquote class="jt"><p id="331a" class="ju jv hh bd jw jx jy jz ka kb kc jr dx translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们在https://developer.squareup.com/blog<a class="ae kd" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">的新家</a></p></blockquote><h1 id="de25" class="ke kf hh bd kg kh ki kj kk kl km kn ko in kp io kq iq kr ir ks it kt iu ku kv bi translated">背景</h1><p id="b542" class="pw-post-body-paragraph iw ix hh iy b iz kw ii jb jc kx il je jf ky jh ji jj kz jl jm jn la jp jq jr ha bi translated">Square在过去五年经历了巨大的增长。我们的技术堆栈从少数单片rails应用发展到微服务架构。我们服务的变化和增长为应用可见性带来了新的挑战。在今天的博文中，我们将回顾一些指导原则，并对我们用来监控和可视化多样化服务生态系统的各种技术进行初步探讨。从今天开始，我们将开源我们服务监控和可视化堆栈的各个部分！</p><h1 id="f330" class="ke kf hh bd kg kh ki kj kk kl km kn ko in lb io kq iq lc ir ks it ld iu ku kv bi translated">原则</h1><p id="9d01" class="pw-post-body-paragraph iw ix hh iy b iz kw ii jb jc kx il je jf ky jh ji jj kz jl jm jn la jp jq jr ha bi translated">我们的一些指导原则是:</p><ul class=""><li id="bda2" class="le lf hh iy b iz ja jc jd jf lg jj lh jn li jr lj lk ll lm bi translated"><strong class="iy hi">尽早并经常关注可用性。</strong>采用微服务架构，收集海量信号非常容易。一个好的用户界面是从信号中提取意义的关键。</li><li id="3e10" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated"><strong class="iy hi">确定并展示您的衡量标准中最重要的方面。我们的指导思想是，人类可以一次有效地处理很少的物品。因此，任何关于度量的问题都应该在几次尝试中得到解答。例如:</strong></li><li id="f403" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">按延迟或每周变化排序的前N名API指标。</li><li id="6ce3" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">自动化问题检测。<em class="js">检查</em>设施表面的明显问题，以便进行系统故障排除。</li><li id="da14" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated"><strong class="iy hi">应用程序应该从第一天起就具有良好的指标默认覆盖率。</strong>我们确保我们的标准应用程序容器中有良好的工具，我们的典型仪表板包括以下指标:</li><li id="7578" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">数据库</li><li id="2fb8" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">主机和容器</li><li id="d5ae" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">每个HTTP/REST端点的性能指标</li><li id="a853" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">用于运行服务组件的任何JVM的VM统计信息</li><li id="6481" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated"><strong class="iy hi">提醒需要简单且相关。</strong>我们跟踪了大量关于警报的指标，以改善我们的呼叫体验，目标是达到零不可响应警报。</li><li id="8cd5" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">警报应该是紧急的和立即可操作的。</li><li id="1250" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">警报应该是一个不寻常的事件。</li><li id="58dd" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">每一个警报都应该需要人类的智慧来处理。</li><li id="f1e4" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">每个警报都应该是可再现的。</li></ul><h1 id="1fb5" class="ke kf hh bd kg kh ki kj kk kl km kn ko in lb io kq iq lc ir ks it ld iu ku kv bi translated">应用程序</h1><p id="844c" class="pw-post-body-paragraph iw ix hh iy b iz kw ii jb jc kx il je jf ky jh ji jj kz jl jm jn la jp jq jr ha bi translated">我们在Square使用的遵循这些原则的一些应用包括:</p><ul class=""><li id="598f" class="le lf hh iy b iz ja jc jd jf lg jj lh jn li jr lj lk ll lm bi translated"><strong class="iy hi"> Appdash </strong>快速获取应用信息的地方，包括:</li><li id="bf20" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">部署信息，如哪些主机运行哪些版本，哪些版本可用等。</li><li id="06f3" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">应用依赖几何</li><li id="af93" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">应用程序中的事件和异常</li><li id="84c5" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">容量建模</li></ul><figure class="lt lu lv lw fd lx er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es ls"><img src="../Images/dcaeb1ae8afa1d0e9a1f43e97c87d95c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9V8MGYOI6FfRf_Jh.png"/></div></div></figure><ul class=""><li id="0064" class="le lf hh iy b iz ja jc jd jf lg jj lh jn li jr lj lk ll lm bi translated"><strong class="iy hi">指标仪表板</strong>查看所有平台和应用的指标。这是metricsdashboard UI背后的数据库的仪表板示例。</li></ul><figure class="lt lu lv lw fd lx er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es me"><img src="../Images/db71a4bae58ff194f0572dbc90310e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xqVViXynz7RJRkhd.png"/></div></div></figure><ul class=""><li id="06be" class="le lf hh iy b iz ja jc jd jf lg jj lh jn li jr lj lk ll lm bi translated"><strong class="iy hi"> Presidio </strong>基于Elasticsearch的日志搜索应用。它为应用程序开发人员提供了一个简单的界面，让他们可以找到可能暴露错误的模式，或者通过多种服务来帮助跟踪事件。</li></ul><figure class="lt lu lv lw fd lx er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es me"><img src="../Images/ad4d2ce2fdfdf68ee15b50abd2856707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e670AHE4B3PlOnB4.png"/></div></div></figure><ul class=""><li id="c6db" class="le lf hh iy b iz ja jc jd jf lg jj lh jn li jr lj lk ll lm bi translated"><strong class="iy hi">平衡</strong>我们的下一代警报系统将迅速取代我们的Nagios基础设施。均衡带来了相当大的易用性，并提高了可靠性和可伸缩性。它受到我们与Nagios合作的经验、开放源代码的现代趋势(如Sensu)以及我们所看到的其他公司的大规模工作的影响。</li></ul><figure class="lt lu lv lw fd lx er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es me"><img src="../Images/fce2f350a888b84e0f29ea390965c4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*U_K4VdP5678Ab49m.png"/></div></div></figure><p id="2e02" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">今天，我们正在开源我们生态系统中一个较小但重要的项目:<a class="ae kd" href="https://github.com/square/inspect" rel="noopener ugc nofollow" target="_blank"> inspect </a>。inspect是我们用来收集Linux、MySQL和PostgreSQL指标的库集合。该项目还包括一个用于Linux的命令行实用程序，可以执行基本的问题检测。</p><figure class="lt lu lv lw fd lx er es paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="er es me"><img src="../Images/340c8f961f76ddbc25cb227ec56ba470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Lb-NQycCQ8aWCEnE.png"/></div></div></figure><h1 id="3bb0" class="ke kf hh bd kg kh ki kj kk kl km kn ko in lb io kq iq lc ir ks it ld iu ku kv bi translated">结论</h1><p id="37c3" class="pw-post-body-paragraph iw ix hh iy b iz kw ii jb jc kx il je jf ky jh ji jj kz jl jm jn la jp jq jr ha bi translated">我们希望您会发现<a class="ae kd" href="https://github.com/square/inspect" rel="noopener ugc nofollow" target="_blank"> inspect </a>对您有所帮助，并且这篇博客文章提供了Square使用的各种监控和警报系统的一瞥。我们将在后续的博客文章中详细介绍这些系统。一如既往，请关注角落，获取更多更新！</p><h1 id="11eb" class="ke kf hh bd kg kh ki kj kk kl km kn ko in lb io kq iq lc ir ks it ld iu ku kv bi translated">延伸阅读:</h1><ul class=""><li id="6725" class="le lf hh iy b iz kw jc kx jf mf jj mg jn mh jr lj lk ll lm bi translated">关于微服务和监控重要性的优秀<a class="ae kd" href="http://martinfowler.com/articles/microservices.html" rel="noopener ugc nofollow" target="_blank">文章</a>。</li><li id="32fb" class="le lf hh iy b iz ln jc lo jf lp jj lq jn lr jr lj lk ll lm bi translated">关于<a class="ae kd" href="https://docs.google.com/document/d/199PqyG3UsyXlwieHaqbGiWVa8eMWi8zzAn0YfcApr8Q/preview?sle=true" rel="noopener ugc nofollow" target="_blank">报警</a>原则的详细考虑的报告。</li></ul></div></div>    
</body>
</html>