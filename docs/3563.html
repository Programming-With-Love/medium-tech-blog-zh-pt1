<html>
<head>
<title>Immersive ride with Three.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Three.js沉浸式骑行</h1>
<blockquote>原文：<a href="https://medium.com/globant/immersive-ride-with-three-js-8d6eb3b7fff9?source=collection_archive---------0-----------------------#2020-12-01">https://medium.com/globant/immersive-ride-with-three-js-8d6eb3b7fff9?source=collection_archive---------0-----------------------#2020-12-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5b4d8be74631013d1f42316eb43fdd67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3GEgWAVHY_i2QyDuHNurnw.jpeg"/></div></div></figure><p id="1cd5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为Web开发人员，我们总是很想知道浏览器除了创建传统的应用程序之外还能做什么。</p><p id="aad5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我已经很久没有评估JavaScript库了，以了解浏览器的真正潜力和功能，以及我们如何提供出色的沉浸式体验。</p><p id="2b03" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到本文结束时，您将对为您的下一个web项目添加额外维度所必需的基本构件有一个坚实的理解。</p><h2 id="2234" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated">但是等等，什么是沉浸感？</h2><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="km kn l"/></div></figure><p id="c21d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">沉浸</strong>的意思是参与某事。这是关于能够与你所看到的联系起来。它依赖于两种技术:增强现实(AR)和虚拟现实(VR)。</p><p id="8d72" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">简而言之，<strong class="ir hi">增强现实</strong>意味着将虚拟物体放入我们的现实世界，创造一种互动体验。这个概念最清晰最主流的例子就是Pokémon Go。</p><p id="9f58" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">而<strong class="ir hi">虚拟现实</strong>意味着模拟虚拟环境本身。它是完全沉浸式的，我们看到的一切都是通过图像、声音等人工构建的环境的一部分。这种环境是通过一种称为虚拟现实耳机的设备感知的，如谷歌的Daydream、Oculus Rift、三星Gear VR、HTC Vive和Windows混合现实耳机。VR体验也可以在浏览器中浮出水面。</p><p id="5de1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">很神奇，不是吗？<br/>现在让我们看看众多工具中的一个，它可以帮助我们创造这些体验——three . js。three . js是我们今天用来创建沉浸式web应用的JavaScript库之一。</p><p id="1a93" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Three.js 是一个JavaScript库，它试图尽可能容易地在网页上获得3D内容。Three.js使用<a class="ae ko" href="https://webglfundamentals.org/" rel="noopener ugc nofollow" target="_blank"> WebGL </a>绘制3D图像。WebGL是一个非常底层的系统API，只画点、线、三角形。<br/>考虑到你已经知道了JavaScript，让我们从Three.js的基本原理开始吧<a class="ae ko" href="https://threejsfundamentals.org/threejs/lessons/threejs-prerequisites.html" rel="noopener ugc nofollow" target="_blank">请在这里查看先决条件。</a></p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kp"><img src="../Images/8e435cd4576e1a5c9dbf65d39eceb932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKtkIS3b0FAUdJX8PkwmvQ.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">Fundamentals of the Three.js</figcaption></figure><h2 id="76da" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated">Three.js的主要概念</h2><p id="cf36" class="pw-post-body-paragraph ip iq hh ir b is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji ky jk jl jm ha bi translated"><strong class="ir hi">场景— </strong>这是一个存放其他物品的容器。你可以把它想象成一个‘小宇宙’，你所有的3D物体都生活在其中。</p><p id="494d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">相机— </strong>这直接等同于现实世界中的相机概念，您将使用它来查看您的场景。3D物体应该保持在什么角度，应该保持多远和多近的距离，我们可以在相机的帮助下处理所有这些事情。</p><p id="031a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">渲染器</strong>——它将一台相机和一个场景作为输入，并将漂亮的绘图输出到您的&lt;画布&gt;上，以便可以在浏览器中查看。</p><p id="a711" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Canvas — </strong>这是一个HTML canvas元素，就像现实世界中的画布一样，它从一个空白的矩形开始，只等着容纳你美丽的作品！</p><p id="6483" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">场景、相机、<canvas>和渲染器一起给了我们一个app的脚手架，然而，它们都是看不见的。我们还需要添加一些可见的物体。</canvas></p><p id="8f1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">几何图形/对象— </strong>我们可以借助几何图形绘制Three.js中的东西，或者您可以直接加载3D模型或对象。</p><p id="cd7d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">材质</strong> <strong class="ir hi"> — </strong>当绘制或添加任何3D对象时，它需要一些外观，如颜色、阴影、不透明度、渐变等等。这可以通过材料来处理。</p><p id="c380" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">网格— </strong>这只是一个几何图形和材料的支架，并定义三维空间中的位置。我们可以把这个添加到我们的场景中。</p><p id="77f8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了看看Three.js能给你带来多么酷和惊人的结果，让我们来看看这个<a class="ae ko" href="http://carvisualizer.plus360degrees.com/threejs/" rel="noopener ugc nofollow" target="_blank">http://carvisualizer.plus360degrees.com/threejs/</a>的例子，它是一个360度汽车可视化工具。相信我这是一个很基本的例子，Three.js有很多超能力。<br/>在上面的例子中，有一个汽车的3D模型，可以定制，甚至可以改变模型。酷吧？</p><p id="ebf8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从哪里获得这些3D模型？你可以从<a class="ae ko" href="https://sketchfab.com/" rel="noopener ugc nofollow" target="_blank">这里</a>得到。</p><p id="e10f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们建造一些令人惊奇的东西。我们将创建一个3D模型的沙发，木地板，并添加一些互动。</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d77f44aa232496f5430ba9bae6718852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LPZ_wOfumWDKMLN9lqN2RA.gif"/></div></div></figure><p id="56e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们首先创建一个名为ThreeJS Example的文件夹，然后在其中创建一个<strong class="ir hi"><em class="kz">index.html</em></strong>。该文件将包含为Three.js、GLTFLoader.js和OrbitControls.js添加CDN链接的基本内容。gltf文件格式。js有助于激活鼠标和触摸所需的所有旋转、拖动和缩放控件。同样，让我们添加<strong class="ir hi"> <em class="kz"> index.js </em> </strong>文件，我们将在其中编写我们的主要函数。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="1459" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">还有，我们添加<strong class="ir hi"> <em class="kz"> app.css </em> </strong>文件，添加<a class="ae ko" href="https://gist.github.com/Mr-10/a05c61d2897ef327c3b28e03803e557a" rel="noopener ugc nofollow" target="_blank">这些</a> CSS规则。</p><p id="50cc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，在<strong class="ir hi"> <em class="kz"> index.js </em> </strong>中添加下面一行来创建我们的场景。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="bc99" class="jn jo hh lc b fi lg lh l li lj">const scene = new THREE.Scene();</span></pre><p id="b2a2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们给场景添加一些背景色</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="0848" class="jn jo hh lc b fi lg lh l li lj">scene.background = new THREE.Color(0xf1f1f1);<br/>scene.fog = new THREE.Fog(0xf1f1f1, 20, 100);</span></pre><p id="34a9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">准备好场景后，添加canvas元素，这样它就可以容纳对象了。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="c3c9" class="jn jo hh lc b fi lg lh l li lj">const canvas = document.querySelector("#sofa-canvas");</span></pre><p id="d66e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经在id为沙发画布的<strong class="ir hi"><em class="kz">【index.html】</em></strong>中添加了这个HTML元素。<br/>让我们添加相机。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="ce7a" class="jn jo hh lc b fi lg lh l li lj">let camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 0.1, 1000);<br/>camera.position.z = 5;<br/>camera.position.x = 0;</span></pre><p id="e602" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">三. js提供了两种类型的摄像机<a class="ae ko" href="https://threejs.org/docs/#api/en/cameras/PerspectiveCamera" rel="noopener ugc nofollow" target="_blank">透视摄像机</a>和<a class="ae ko" href="https://threejs.org/docs/#api/en/cameras/OrthographicCamera" rel="noopener ugc nofollow" target="_blank">正投影摄像机</a>。在我们的例子中，我们使用了透视摄像机。</p><p id="1d52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">准备好场景和相机后，让我们添加渲染器，通过它可以在浏览器中查看场景。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="b94d" class="jn jo hh lc b fi lg lh l li lj">const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });<br/>renderer.shadowMap.enabled = true;<br/>renderer.setPixelRatio(window.devicePixelRatio);<br/>document.body.appendChild(renderer.domElement);</span></pre><p id="7329" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们为我们的对象添加一些控件。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="cc3d" class="jn jo hh lc b fi lg lh l li lj">let controls = new THREE.OrbitControls(camera, renderer.domElement);<br/>controls.maxPolarAngle = Math.PI;<br/>controls.minPolarAngle = 0;<br/>controls.enableDamping = true;<br/>controls.enablePan = false;<br/>controls.dampingFactor = 0.1;<br/>controls.autoRotate = false;<br/>controls.autoRotateSpeed = 0.2;</span></pre><p id="7dfb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果我们将自动旋转设置为真，并自动旋转速度，那么我们的沙发对象将自动旋转。<br/>以下方法可以帮助我们制作模型动画。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="4a7d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要设置对象的初始结构，以下方法将帮助我们。在此之前，首先使用以下常量为沙发和枕头创建默认结构，即DEFAULT_SOFA_TEXTURE和DEFAULT _枕头_TEXTURE。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="f53b" class="jn jo hh lc b fi lg lh l li lj">const DEFAULT_SOFA_TEXTURE = {</span><span id="7e51" class="jn jo hh lc b fi lk lh l li lj">texture: './textures/denim_.jpg',<br/>size: [3, 3, 3],<br/>shininess: 0</span><span id="5e2e" class="jn jo hh lc b fi lk lh l li lj">};</span><span id="e772" class="jn jo hh lc b fi lk lh l li lj">const DEFAULT_PILLOW_TEXTURE = {</span><span id="87d7" class="jn jo hh lc b fi lk lh l li lj">texture: './textures/cloth.jpeg',<br/>size: [6, 6, 6],<br/>shininess: 0</span><span id="fc70" class="jn jo hh lc b fi lk lh l li lj">}</span><span id="1aca" class="jn jo hh lc b fi lk lh l li lj">function setInitialSofaMaterial() {</span><span id="f31a" class="jn jo hh lc b fi lk lh l li lj">const sofaMaterial = getTextureMaterial(DEFAULT_SOFA_TEXTURE);<br/>setMaterial(theModel, sofaMaterial, "sofa");<br/>const pillowMaterial = getTextureMaterial(DEFAULT_PILLOW_TEXTURE);<br/>setMaterial(theModel, pillowMaterial, "pillows");</span><span id="0114" class="jn jo hh lc b fi lk lh l li lj">}</span></pre><p id="6ffd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里我们添加了图像的路径，您可以为其创建名为<strong class="ir hi">纹理</strong>的文件夹。这些都是您可以在<a class="ae ko" href="https://github.com/Mr-10/ThreeJS/tree/main/textures" rel="noopener ugc nofollow" target="_blank"/>找到的必备资产。</p><p id="ff75" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，我们还调用了一种方法<strong class="ir hi">获取纹理材料</strong>来获取沙发和枕头的材料。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="7c84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将简单地根据颜色返回材质纹理，并由<strong class="ir hi">设置材质</strong>方法使用，如下所示。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="46d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了更好地隔离，让我们创建一个utils文件夹。然后创建<strong class="ir hi"><em class="kz">material helper . js</em></strong>文件<strong class="ir hi"> <em class="kz"> </em> </strong>并在其中添加<strong class="ir hi"> getTextureMaterial </strong>和<strong class="ir hi"> setMaterial </strong>方法。</p><p id="804b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我们需要一些东西来加载我们的三维物体。GLTFLoader将帮助我们在场景中加载3D对象。为此，我们需要模态。您可以在这里<a class="ae ko" href="https://github.com/Mr-10/ThreeJS/tree/main/models" rel="noopener ugc nofollow" target="_blank"/>找到。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="4a2d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，我们已经将物体添加到场景中，但是你会看到它是黑色的。为了照亮它，我们必须增加灯光。</p><p id="b1ab" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们在<strong class="ir hi"> <em class="kz"> index.js </em> </strong>文件中添加以下几行。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="5a93" class="jn jo hh lc b fi lg lh l li lj">let hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.61);<br/>hemiLight.position.set(0, 50, 0);<br/>scene.add(hemiLight);</span></pre><p id="7c86" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，我们的对象将如下所示:</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ll"><img src="../Images/7b5f1a7d1097ab6c5fc0f2135bff34c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ud_KRZThyquc93WQJX0row.png"/></div></div></figure><p id="28df" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了更清楚地看到我们的物体，我们必须增加<a class="ae ko" href="https://threejs.org/docs/#api/en/lights/DirectionalLight" rel="noopener ugc nofollow" target="_blank">方向灯</a>。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="c7dd" class="jn jo hh lc b fi lg lh l li lj">let dirLight = new THREE.DirectionalLight(0xffffff, 0.54);<br/>dirLight.position.set(-8, 12, 8);<br/>dirLight.castShadow = true;<br/>dirLight.shadow.mapSize = new THREE.Vector2(1024, 1024);<br/>scene.add(dirLight);</span></pre><p id="c65f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在你将能够更清楚地看到物体。因此，灯光在视觉效果方面很重要。</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lm"><img src="../Images/74116be67519d087131cc5c80db592f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OJItqxHweaZVlfTJN03GTA.png"/></div></div></figure><p id="f1c6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们借助下面的代码来添加楼层。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="ce8f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">floor.receiveShadow方法将为对象添加阴影。</p><p id="5c7f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，我们已经添加了地板，我们已经建立如下:</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/ddf4901e5f0cdad507c2ecc59d0eae90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQoR8U9X879ZLobr8kRBTw.png"/></div></div></figure><p id="b821" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有点静态色彩。让我们添加一些交互来改变沙发垫和枕头的颜色。</p><p id="ed33" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们创建一个名为constants的文件夹，然后在其中添加<strong class="ir hi"> <em class="kz"> constants.js </em> </strong>文件，并创建一个包含不同纹理和颜色的对象数组。你可以在这里找到所有关于T4的数据。</p><p id="72cb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">完成后，让我们在我们的<strong class="ir hi"><em class="kz">material helper . js</em></strong>文件中添加一个方法<strong class="ir hi"> selectSwatch </strong>，该文件包含了我们在本文前面部分创建的所有实用程序。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="d08e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们为我们的颜色托盘和选项添加一些HTML元素。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="2b56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">还有，我们在<strong class="ir hi"> <em class="kz"> app.css </em> </strong>文件中添加一些CSS规则。你可以在这里找到那些<a class="ae ko" href="https://gist.github.com/Mr-10/0a7f3b8a6c8fda81ebb8a39f3c93d72e" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="1213" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以在这里找到沙发和枕头<a class="ae ko" href="https://github.com/Mr-10/ThreeJS/tree/main/assets" rel="noopener ugc nofollow" target="_blank">所需的图片。另外，你可以在这里</a>找到我们托盘<a class="ae ko" href="https://github.com/Mr-10/ThreeJS/tree/main/textures" rel="noopener ugc nofollow" target="_blank">所需的纹理。</a></p><p id="ffbe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我们已经准备好添加颜色托盘和选项所需的所有东西。首先，导入所有我们已经定义好的颜色和纹理。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="73d2" class="jn jo hh lc b fi lg lh l li lj">import { texturesAndColors } from "./constants/constants.js";</span></pre><p id="6f52" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们添加一些方法来设置调色板的所有颜色和纹理。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="01e0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经准备好了我们的托盘。但是我们还不能改变沙发的任何颜色或纹理图案。为此，我们需要将以下代码添加到我们的<strong class="ir hi"> <em class="kz"> index.js </em> </strong>文件中。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="37f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">坚持住！我们快到了！</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="lo kn l"/></div></figure><p id="332b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以观察到我们正在调用方法<strong class="ir hi"> selectSwatch。<br/> </strong>我们已经将此添加到我们的<strong class="ir hi"><em class="kz">material helper . js</em></strong>文件中。</p><p id="16ee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们需要将其导入到<strong class="ir hi"> <em class="kz"> index.js </em> </strong>文件中。</p><pre class="ki kj kk kl fd lb lc ld le aw lf bi"><span id="e1b1" class="jn jo hh lc b fi lg lh l li lj">import { selectSwatch } from "./utils/materialHelper.js";</span></pre><p id="101f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在此帮助下，我们将能够选择任何样本，并改变沙发的颜色或纹理图案。</p><p id="9b3d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，最后一部分是在同色同质地托盘的帮助下与枕头互动。我们可以打造两种选择——沙发和枕头。<br/>我们可以将下面的代码添加到<strong class="ir hi"> <em class="kz"> index.js </em> </strong>文件中。</p><figure class="ki kj kk kl fd ii"><div class="bz dy l di"><div class="la kn l"/></div></figure><p id="7f08" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当我们点击枕头选项并从托盘中选择任何颜色时，我们的模型会相应地改变。很酷，不是吗？</p><p id="ab11" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的模型和彩色托盘准备好了！！</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lp"><img src="../Images/17ec8929a27b63a19a5876fa3dc2afd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9m76PATGp_7KPCwK2SaYw.png"/></div></div></figure><p id="a838" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">还有一件事要做！</p><p id="7397" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以显示加载器，以便在将模型加载到浏览器之前。你可以在这里找到最终代码:<a class="ae ko" href="https://github.com/Mr-10/ThreeJS" rel="noopener ugc nofollow" target="_blank">https://github.com/Mr-10/ThreeJS</a></p><p id="75bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到这里，你会有一个惊喜，这肯定会激励你更多地开始使用Three.js。</p><p id="bc18" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">到目前为止，我们一直在用普通的JS开发代码，有时由于许多因素，很难扩展。现在，随着现代web开发的发展，我们非常幸运地拥有了先进的架构，如基于组件/模块的开发。</p><p id="385e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果我们可以在开发Three.js应用程序时使用这些高级概念，最终一切都是javascript！</p><p id="1a09" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以给你！</p><p id="b0d8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以在任何你喜欢的框架/库中开发一个Three.js应用程序，下面是链接。</p><ul class=""><li id="c97e" class="lq lr hh ir b is it iw ix ja ls je lt ji lu jm lv lw lx ly bi translated">反应——https://github.com/pmndrs/react-three-fiber<a class="ae ko" href="https://github.com/pmndrs/react-three-fiber" rel="noopener ugc nofollow" target="_blank"/></li><li id="74c7" class="lq lr hh ir b is lz iw ma ja mb je mc ji md jm lv lw lx ly bi translated">棱角分明—【https://github.com/JohnnyDevNull/ng-three-template T4】</li><li id="bf3f" class="lq lr hh ir b is lz iw ma ja mb je mc ji md jm lv lw lx ly bi translated">vue . js—<a class="ae ko" href="https://github.com/fritx/vue-threejs" rel="noopener ugc nofollow" target="_blank">https://github.com/fritx/vue-threejs</a></li></ul><p id="9ba0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">恭喜你，你已经进入了沉浸式世界！！</p><h1 id="e45a" class="me jo hh bd jp mf mg mh jt mi mj mk jx ml mm mn ka mo mp mq kd mr ms mt kg mu bi translated"><strong class="ak">总结</strong></h1><p id="9ce6" class="pw-post-body-paragraph ip iq hh ir b is ku iu iv iw kv iy iz ja kw jc jd je kx jg jh ji ky jk jl jm ha bi translated"><strong class="ir hi"> Three.js </strong>用于在浏览器上创建3D内容，让您能够在浏览器和智能手机上显示难以置信的模型、游戏、科学和数据可视化，或者几乎任何您可以想象的东西！</p><p id="00d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它使用了JavaScript API<strong class="ir hi">web GL</strong>，让我们能够使用JavaScript访问计算机的专用图形硬件。</p><p id="b74d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我希望通过这篇文章，你能学到一些超越传统web开发的东西，相信我这是未来！</p><p id="3fbd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你觉得这很有用，或者有什么建议，请在评论中告诉我。此外，你也可以随时在Twitter或LinkedIn上联系我。</p><p id="c0e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">祝你学习愉快，不断探索沉浸式世界！</p></div></div>    
</body>
</html>