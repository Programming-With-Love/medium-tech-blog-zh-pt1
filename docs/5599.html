<html>
<head>
<title>DevOps Series: Deployment of Oracle 19c Container and Pluggable Database with Ansible [GITHUB]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DevOps系列:使用Ansible [GITHUB]部署Oracle 19c容器和可插拔数据库</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/devops-series-deployment-of-oracle-19c-container-and-pluggable-database-with-ansible-github-ab9c93246e08?source=collection_archive---------0-----------------------#2019-04-16">https://medium.com/oracledevs/devops-series-deployment-of-oracle-19c-container-and-pluggable-database-with-ansible-github-ab9c93246e08?source=collection_archive---------0-----------------------#2019-04-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="16f6" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">作者:<a class="iw ix ge" href="https://medium.com/u/ba3f0a72ff81?source=post_page-----ab9c93246e08--------------------------------" rel="noopener" target="_blank">纳西姆·巴沙</a>(甲骨文王牌总监，OCM)<a class="iw ix ge" href="https://medium.com/u/3757393c69bd?source=post_page-----ab9c93246e08--------------------------------" rel="noopener" target="_blank">莫诺瓦·穆库尔</a> (OCM)</h2></div><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="jd je l"/></div></figure><p id="3511" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">21c: Github回购:</p><div class="kb kc ez fb kd ke"><a href="https://github.com/asiandevs/oracle21c/tree/main/roles/cdb_create_21c" rel="noopener  ugc nofollow" target="_blank"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hi fi z dy kj ea eb kk ed ef hg bi translated">oracle21c/roles/cdb_create_21c位于主asiandevs/oracle21c</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">Ansible的不同数据库操作。在GitHub上创建一个帐户，为asiandevs/oracle21c开发做出贡献。</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">github.com</p></div></div><div class="kn l"><div class="ko l kp kq kr kn ks kt ke"/></div></div></a></div><div class="kb kc ez fb kd ke"><a href="https://github.com/asiandevs/oracle21c/tree/main/roles/pdb21c_create" rel="noopener  ugc nofollow" target="_blank"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hi fi z dy kj ea eb kk ed ef hg bi translated">Oracle 21 c/roles/pdb 21 c _在主asiandevs上创建/oracle21c</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">Ansible的不同数据库操作。在GitHub上创建一个帐户，为asiandevs/oracle21c开发做出贡献。</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">github.com</p></div></div><div class="kn l"><div class="ku l kp kq kr kn ks kt ke"/></div></div></a></div><h2 id="9a18" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated">GITHUB链接:【https://github.com/asiandevs/Oracle_CDBnPDB_19c T4】</h2><h2 id="3be8" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">简介</strong></h2><p id="d004" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated">欢迎回到DevOps系列，在第一篇文章中，我们已经使用Ansible完成了Oracle 19c企业版的安装，在本文中，我们将准备ansible角色来创建容器数据库，然后我们将创建另一个角色来创建可插拔数据库。等等，我们将在主剧本中增加几个步骤，介绍如何创建密码文件、监听器创建和TNS更新，以及CDB和PDB创建的完整设置，以及通过ansible automation完成的所有工作。</p><h2 id="c7cb" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">大师剧本</strong></h2><p id="6efc" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated"><strong class="jh hi">计划</strong>:创建容器数据库或可插拔数据库有多种情况。例如，我们可以一起创建容器和可插拔数据库，甚至多个可插拔数据库。但是在这个例子中，我们试图使它简单易懂。让我们首先创建一个空的容器数据库，然后添加一个可插拔的数据库。</p><blockquote class="lw lx ly"><p id="ec20" class="jf jg lz jh b ji jj ii jk jl jm il jn ma jp jq jr mb jt ju jv mc jx jy jz ka ha bi translated">在本文中，我们将在主机ora-x1和控制服务器上创建容器和可插拔数据库，其中ansible安装的主机名是oel75。</p></blockquote><p id="5368" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">Ansible automation的第一步是创建一个主剧本。在本主行动手册中，我们将提到主机/组，然后是用户[root],他们已经可以通过SSH从控制服务器访问受管服务器。要知道部署的目标主机，我们需要检查包含各种组或主机的/etc/ansible/hosts文件—当playbook中的hosts值设置为“ALL”时，在这种情况下，部署适用于所有组。</p><blockquote class="lw lx ly"><p id="5c41" class="jf jg lz jh b ji jj ii jk jl jm il jn ma jp jq jr mb jt ju jv mc jx jy jz ka ha bi translated">如果各个组中有冗余主机，ansible如何处理？—实际上，它会跳过重复的主机名(如果有的话),并继续对唯一的主机进行可行的部署。</p></blockquote><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="87ab" class="kv kw hh me b fi mi mj l mk ml">[root@oel75 ansible]# cat ansible.cfg | grep inventory<br/>inventory = ./inventory<br/>[root@oel75 ansible]# cat inventory<br/>[ora-x1]<br/>192.168.56.102<br/>[ora-x2]<br/>192.168.56.103<br/>[dbservers]<br/>192.168.56.102<br/>192.168.56.103</span></pre><p id="8371" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">在顶级主剧本中，我们可以设置许多角色，但是在本文中，我们的目标是创建一个空的容器数据库(CDB)，然后创建一个具有本地撤销的可插拔数据库(PDB)。相应地，我们可以为下面的每个角色准备两个角色。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mm"><img src="../Images/8ee50cbe5366b388100712d086a90a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*d0PNfrGTqh9LmvW6XIwaow.png"/></div><figcaption class="mo mp et er es mq mr bd b be z dx">Master Playbook</figcaption></figure><p id="c3a9" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">让我们为角色“cdb_pdb_create.yml”准备内容。它有两个角色，一个是“cdb_create_19c ”,用于创建空容器数据库，另一个是“pcdb_create_19c ”,用于创建可插拔数据库。在本文中，我们不仅仅涉及数据库的创建，而且像DBCA一样，我们还涉及数据库创建的所有前期和后期活动。当使用Ansible时我们正在使用数据库，监听器的所有活动都将在静默模式下执行。我们将看到每个角色是如何定义的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ms"><img src="../Images/73a6995709c4be150d5e4cee824c098c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*BkU8w-3l5XeVuml3HaRtpg.png"/></div><figcaption class="mo mp et er es mq mr bd b be z dx">Container Database Role</figcaption></figure><p id="ba6e" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">几十年来，数据库创建是一个众所周知的话题，因此在本文中，我们的目标是展示如何使用ansible行动手册创建数据库，以及它如何使业务操作变得平稳和并行。</p><h2 id="dfc4" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">创建容器数据库</strong></h2><p id="4acc" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated">文件:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/files/enable _ dbarchlogs . SQL</p><p id="3537" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">该文件包含创建数据库后启用归档日志模式的命令。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="add2" class="kv kw hh me b fi mi mj l mk ml">shutdown immediate;<br/>startup mount;<br/>alter database archivelog;<br/>alter database open;<br/>shutdown immediate;<br/>startup <br/>/<br/>exit;</span></pre><p id="33eb" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">文件:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/files/tns _ upd . sh</p><p id="f945" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">这个文件将为我们正在创建的数据库创建TNS服务。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="7ea2" class="kv kw hh me b fi mi mj l mk ml">#!/bin/bash<br/>export ORACLE_HOME=/u01/app/oracle/product/19.2.0/db100<br/>export TNSNAMES_FILE=tnsnames.ora<br/>export ENTRY_NAME=$1<br/>export HOST_ADDR=$2<br/>export PORT_NUM=$3<br/>export SRV_NAME=$4<br/>export TNS_ADMIN_DIR=$5<br/>if [ -z $1 ] || [ -z $2 ] || [ -z $3 ] || [ -z $4 ] || [ -z $5 ]; then<br/> echo “Missing one or more required parameters: [ENTRY_NAME] [HOST_ADDR] [PORT_NUM] [SERVICE_NAME] [TNS_ADMIN_DIR]”<br/> exit;<br/>fi<br/>chk_entry=`cat $TNS_ADMIN_DIR/$TNSNAMES_FILE | grep “$ENTRY_NAME =” | wc -l`<br/>if [ -n “$chk_entry” ] &amp;&amp; [ “$chk_entry” = 0 ]; then<br/> echo “Creating the required entry…”<br/> echo “”<br/>echo “<br/>$ENTRY_NAME =<br/> (DESCRIPTION =<br/> (ADDRESS = (PROTOCOL = TCP)(HOST = $HOST_ADDR)(PORT = $PORT_NUM))<br/> (CONNECT_DATA =<br/> (SERVER = DEDICATED)<br/> (SERVICE_NAME = $SRV_NAME)<br/> )<br/> )<br/>“ &gt;&gt; $TNS_ADMIN_DIR/$TNSNAMES_FILE<br/> elif [ “$chk_entry” != 0 ]; then<br/> echo “”<br/> echo “This entry already exists: [$ENTRY_NAME].”<br/> echo “Nothing to do!”<br/> echo “”<br/> exit;<br/>fi</span></pre><p id="b651" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">剧本</strong>:Oracle CDBnPDB _ 19c/roles/CDB _ create _ 19c/tasks/main . yml</p><p id="09cb" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">main.yml文件包含下面的各种子任务，并调用CDB剧本下的相关文件。这个main.yml包含并提取所有文件、模板和变量中的数据。</p><ul class=""><li id="114a" class="mt mu hh jh b ji jj jl jm jo mv js mw jw mx ka my mz na nb bi translated">导出环境变量</li><li id="2cc1" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">调用enable_dbarchivelog.sql</li><li id="8622" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">tns_upd.sh</li><li id="3efb" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">交叉检查数据库名称是否已经存在</li><li id="b619" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">创造一个沉默的听众</li><li id="2af0" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">配置监听程序</li><li id="c3d2" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">创建静默数据库安装文件</li><li id="ccb0" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">创建容器数据库</li><li id="c208" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">TNS对容器数据库的更新</li><li id="8ca2" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">检查正在运行的数据库</li><li id="8d7c" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">修改oratab</li><li id="4645" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">验证CDB</li><li id="fb95" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">CDB违规事件</li></ul><p id="7ab1" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">为了创建CDB和PDB，我们将传递所有必要的变量(如ORACLE_BASE、</p><p id="26ae" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">ORACLE_HOME、PDB名称、cdb名称、文件位置等。)放入Ansible中的变量文件。因此，我们需要准备另一个文件vars/main.yml，它包含Oracle安装所需的所有变量。在执行或部署CDB和PDB的过程中，我们将在tasks/main.yml中使用这些变量。我们将在接下来的步骤中讨论更多的任务/主任务、yml。</p><p id="18a2" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">文件</strong>:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/templates/dbcadb . RSP . 19 . 0 . 0 . 0 . 0 . J2</p><p id="d5f6" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">该文件准备使用dbca静默方法创建容器数据库。我们可以通过将响应文件复制到($ ORACLE _ HOME/assistants/dbca/dbca . RSP)下来创建一个响应文件(dbca19cSI.rsp ),然后根据需要进行修改，甚至这个脚本在docs.oracle.com也可以使用。下面是创建CDB的响应文件示例。在本文中，我们为CDB和PDB使用了两个不同的角色。通常情况下，PDB请求是作为一个单独的请求来的，因此，在修改PDB变量后，我们可以只运行PDB角色来创建唯一的可插拔数据库。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="7d05" class="kv kw hh me b fi mi mj l mk ml">[root@oel75 ansible]# cat roles/cdb_create_19c/templates/dbcacdb.rsp.19.0.0.0.0.j2<br/>##############################################################################<br/>## ##<br/>## DBCA response file ##<br/>## — — — — — — — — — ##<br/>## Copyright(c) Oracle Corporation 1998,2019. All rights reserved. ##<br/>## ##<br/>##############################################################################<br/>responseFileVersion=/oracle/assistants/rspfmt_dbca_response_schema_v19.0.0<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>gdbName={{ item.0.cdb_name }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>sid={{ item.0.cdb_name }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>databaseConfigType={{ item.0.dbconfig_type }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>createAsContainerDatabase={{ item.0.container_db}}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>numberOfPDBs=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/># Name : pdbName<br/># Datatype : String<br/># Description : Specify the pdbname/pdbanme prefix if one or more pdb need to be created<br/># Valid values : Check Oracle12c Administrator’s Guide<br/># Default value : None<br/># Mandatory : No<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>pdbName=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/># Name : useLocalUndoForPDBs<br/># Datatype : boolean<br/># Description : Flag to create local undo tablespace for all PDB’s.<br/># Valid values : TRUE\FALSE<br/># Default value : TRUE<br/># Mandatory : No<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>useLocalUndoForPDBs=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>pdbAdminPassword=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>templateName={{ template_name }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>sysPassword={{dbpasswords[item.0.cdb_name][‘sys’]}}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>systemPassword={{dbpasswords[item.0.cdb_name][‘system’]}}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>emExpressPort=5500<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>datafileDestination={{ item.0.dbfile_path }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>recoveryAreaDestination={{ item.0.fra_path }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>storageType={{ item.0.db_storage_type }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>{% if item.0.characterset is defined %}<br/>characterSet={{ item.0.characterset }}<br/>{% else %}<br/>characterSet=AL32UTF8<br/>{% endif %}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>{% if item.0.ncharacterset is defined %}<br/>nationalCharacterSet={{ item.0.ncharacterset }}<br/>{% else %}<br/>nationalCharacterSet=AL16UTF16<br/>{% endif %}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>listeners={{ item.0.lsnr_name }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>sampleSchema=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>memoryPercentage=<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>databaseType={{ item.0.oracle_database_type }}<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>automaticMemoryManagement=false<br/># — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — — -<br/>totalMemory={{ item.0.totalMemory }}</span></pre><p id="18ab" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">文件</strong>:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/templates/db profile . J2</p><p id="9c48" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">dbprofile脚本包含数据库的所有环境配置文件，或者我们可以说它是一个数据库配置文件。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="d7ea" class="kv kw hh me b fi mi mj l mk ml">get_sid=$(ps -ef | grep “ora_pmon_$ORACLE_DBNAME” |grep -v grep | sed ‘s/^.*pmon_//g’)<br/># Set up the Oracle environment variables<br/> umask 022<br/> ORACLE_BASE={{ oracle_base }}<br/> export ORACLE_BASE<br/> ORACLE_HOME={{ oracle_home }}<br/> export ORACLE_HOME<br/> SHLIB_PATH=$ORACLE_HOME/lib<br/> LD_LIBRARY_PATH=$ORACLE_HOME/lib<br/> export LD_LIBRARY_PATH<br/> SQLPATH=/home/oracle/.sql<br/> export SQLPATH<br/> export ORACLE_SID=${get_sid:-$ORACLE_DBNAME}<br/> export NLS_DATE_FORMAT=’DD-MM-YYYY HH24:MI:SS’<br/>export PATH=$ORACLE_HOME/bin:$ORACLE_HOME/OPatch:$PATH:$SQLPATH</span></pre><p id="fb25" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">文件</strong>:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/templates/ora pwd . sh . J2</p><p id="406d" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">该文件有助于在创建容器数据库的过程中创建密码文件。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="6986" class="kv kw hh me b fi mi mj l mk ml">source ~/.bash_profile<br/>export ORACLE_SID={{ cdb_name }}<br/>export ORACLE_HOME={{ oracle_home }}<br/>export PATH=$PATH:$ORACLE_HOME/bin<br/>orapwd file=orapw{{ cdb_fname }} password={{ syspass }} force=y ignorecase=n</span></pre><p id="afc7" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">文件</strong>:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/templates/listener . RSP . 19 . 0 . 0 . 0 . 0 . J2</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="0277" class="kv kw hh me b fi mi mj l mk ml">[GENERAL]<br/>RESPONSEFILE_VERSION=”19.0"<br/>CREATE_TYPE=”CUSTOM”<br/>[oracle.net.ca] <br/>INSTALLED_COMPONENTS={“server”,”net8",”javavm”} <br/>INSTALL_TYPE=””typical”” <br/>LISTENER_NUMBER=1 <br/>LISTENER_NAMES={“LISTENER”} <br/>LISTENER_PROTOCOLS={“TCP;1523”} <br/>LISTENER_START=””LISTENER”” <br/>NAMING_METHODS={“TNSNAMES”,”ONAMES”,”HOSTNAME”} <br/>NSN_NUMBER=1 <br/>NSN_NAMES={“EXTPROC_CONNECTION_DATA”} <br/>NSN_SERVICE={“PLSExtProc”} <br/>NSN_PROTOCOLS={“TCP;HOSTNAME;1523”}</span></pre><p id="b239" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">剧本</strong>:Oracle _ CDBnPDB _ 19c/roles/CDB _ create _ 19c/vars/main . yml</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="2883" class="kv kw hh me b fi mi mj l mk ml">oracle_user: “oracle”<br/>root_user: “root”<br/>oracle_install_group: “oinstall”<br/>stage_dir: “/u01/stage”<br/>root_directory: “/u01”<br/>oracle_base: “{{ root_directory }}/app/oracle”<br/>oracle_home: “{{ oracle_base }}/product/19.2.0/db100”<br/>silent_database19c_config_file: “{{ stage_dir }}/silent_19cdb_config.rsp”<br/>silent_database19c_config_file1: “{{ stage_dir }}/silent_19cdb_config1.rsp”<br/>silent_database19c_config_file2: “{{ stage_dir }}/silent_19cdb_config2.rsp”<br/>silent_listener_config_file: “{{ stage_dir }}/silent-lsnr19c-config.rsp”<br/>dbfile_path: “/u01/app/oracle/oradata”<br/>fra_path: “/u01/app/oracle/fra”<br/>template_name: General_Purpose.dbc<br/>cdb_name: “eaymp”<br/>oracle_sid: “eaymp”<br/>cdb_fname: “bingo”<br/>cdb_sname: “mdpkb”<br/>oracleuser_home: “/home/{{ oracle_user }}”<br/>oracle_rsp_stage: “{{ stage_dir }}”<br/>syspass: “Oracle123”<br/>dbunq_name: eaymp<br/>prihost: ora-x1<br/>portnum: 1521<br/>tns_path: “{{ oracle_home }}/network/admin”<br/>tns_file: “{{ tns_path }}/tnsnames.ora”<br/>db_properties: <br/> — home: “OraDB19Home1” <br/> oracle_dbversion: 19.0.0.0.0 <br/> oracle_edition: EE <br/> cdb_name: eaymp <br/> dbconfig_type: SI <br/> container_db: true <br/> db_storage_type: FS <br/> totalMemory: 1200 <br/> oracle_database_type: MULTIPURPOSE <br/> redolog_size_in_mb: 150<br/> lsnr_name: LISTENER<br/> state: present <br/> dbfile_path: “/u01/app/oracle/oradata”<br/> fra_path: “/u01/app/oracle/fra”<br/>dbpasswords:<br/> eaymp:<br/> sys: Oracle123<br/> system: Oracle123</span></pre><p id="a68c" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">我们已经完成了容器数据库所需的所有行动手册和脚本。准备好可插拔数据库行动手册后，我们将连续运行这些行动手册。</p><h2 id="616e" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated">创建可插拔数据库</h2><p id="4578" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated">我们已经为容器数据库准备了ansible代码和所需的脚本，现在我们将为可插拔数据库做准备。我们不需要额外的步骤来创建一个密码文件或者为PDB创建一个监听器。因此，我们直接更新PDB的TNS条目，并为剧本pdb19c_create创建可插拔数据库。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nh"><img src="../Images/a1da1ac81c2e2af359855c2419b52dab.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*snJPK_BkJRq24mJe39eRyg.png"/></div><figcaption class="mo mp et er es mq mr bd b be z dx">Pluggable Database Role</figcaption></figure><p id="496f" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">文件</strong>:Oracle _ CDBnPDB _ 19c/roles/pdb 19 c _ create/files/tns _ upd . sh</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="d6d0" class="kv kw hh me b fi mi mj l mk ml">[root@oel75 ansible]# cat roles/pdb19c_create/vars/main.yml<br/>oracle_user: “oracle”<br/>root_user: “root”<br/>oracle_install_group: “oinstall”<br/>stage_dir: “/u01/stage”<br/>root_directory: “/u01”<br/>scripts_directory: “{{ root_directory }}/app/scripts”<br/>base_directory: “{{ root_directory }}/app/oracle”<br/>oracle_home: “{{ base_directory }}/product/19.2.0/db100”<br/>cdb_name: “eaymp”<br/>pdb_name: “kachu”<br/>pdbadmpassword: “Oracle123”<br/>prihost: ora-x1<br/>portnum: 1521<br/>tns_path: “{{ oracle_home }}/network/admin”<br/>tns_file: “{{ tns_path }}/tnsnames.ora”</span></pre><p id="7478" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi">剧本</strong>:Oracle _ CDBnPDB _ 19c/roles/pdb 19 c _ create/tasks/main . yml</p><p id="fb34" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">在本行动手册中，我们将执行与在容器数据库之上创建可插拔数据库相关的主要任务，然后我们将执行一些其他post任务。</p><ul class=""><li id="3809" class="mt mu hh jh b ji jj jl jm jo mv js mw jw mx ka my mz na nb bi translated">创建目录</li><li id="16ac" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">具有本地撤销和不同字符集的可插拔数据库</li><li id="cd8c" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">修改oratab</li><li id="e9e5" class="mt mu hh jh b ji nc jl nd jo ne js nf jw ng ka my mz na nb bi translated">在正常模式下打开可插拔数据库</li></ul><p id="dedb" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">下面是PDB的tasks/main.yml文件的完整代码，并基于上述概念编写了代码。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="a8bb" class="kv kw hh me b fi mi mj l mk ml">[root@oel75 ansible]# cat roles/pdb19c_create/tasks/main.yml<br/>- name: pdb19c_create | display pre pdb create message<br/> debug:<br/> msg:<br/> — ‘This Steps is relate to Create a Pluggable Database on server ora-x1 at {{ansible_date_time.iso8601}}:’<br/>- name: pdb19c_create | Create Datafile Directories<br/> remote_user: “{{ root_user }}”<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> file:<br/> path=/u01/app/oracle/oradata/{{ pdb_name }}<br/> state=directory<br/> owner=”{{ oracle_user }}”<br/> group=”{{ oracle_install_group }}”<br/> mode=0755<br/> tags:<br/> -pdbcreate_crdirs<br/>- name: pdb19c_create | Copy required script to Primary database server<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> copy:<br/> src=roles/pdb19c_create/files/{{ item }}<br/> dest={{ stage_dir }}<br/> owner=”{{ oracle_user }}”<br/> group=”{{ oracle_install_group }}”<br/> mode=0775<br/> remote_src=no<br/> with_items:<br/> — tns_upd.sh<br/>- name: pdb19c_create | Create a Pluggable Database with local undo and different characterset<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> remote_user: “{{ root_user }}”<br/> become: yes<br/> become_user: “{{ oracle_user }}”<br/> action: shell export ORACLE_HOME={{ oracle_home }}; {{ oracle_home }}/bin/dbca -silent -createPluggableDatabase -sourceDB {{ cdb_name }} -pdbName {{ pdb_name }} -pdbAdminPassword {{ pdbadmpassword }} -useLocalUndoForPDBs TRUE -characterset WE8ISO8859P1<br/> tags:<br/> -pdbcreate_exepdb<br/>- name: pdb19c_create | change oratab<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> remote_user: “{{ root_user }}”<br/> lineinfile: dest=’/etc/oratab’ regexp=’^{{ pdb_name }}:{{ oracle_home }}:N’ line=’{{ pdb_name }}:{{ oracle_home }}:Y’<br/> tags:<br/> -pdbcreate_updoratab<br/>- name: pdb19c_create | Open pluggable database in normal mode<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> remote_user: “{{ root_user }}”<br/> become: yes<br/> become_user: “{{ oracle_user }}”<br/> shell: export ORACLE_HOME={{ oracle_home }}; export ORACLE_SID={{ cdb_name }}; echo “{{ item }};” | {{ oracle_home }}/bin/sqlplus / as sysdba<br/> register: sqlplus_result<br/> failed_when: “‘ERROR’ in sqlplus_result.stdout or sqlplus_result.rc != 0”<br/> with_items:<br/> — alter pluggable database all open<br/> tags:<br/> -pdbcreate_openpdb<br/>- name: pdb19c_create | execute tns update for CDB database<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> remote_user: “{{ root_user }}”<br/> become: yes<br/> become_user: “{{ oracle_user }}”<br/> shell: ‘{{ stage_dir }}/tns_upd.sh {{ pdb_name }} {{ prihost }} {{ portnum }} {{ pdb_name }} {{ tns_path }}’<br/> args:<br/> executable: /bin/bash<br/>- name: pdb19c_create | Remove stage directory<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> file: path={{ stage_dir }} state=absent<br/> tags:<br/> — dbdelete_removestgdir<br/>- name: pdb19c_create | validate PDB<br/> remote_user: “{{ oracle_user }}”<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> shell: export ORACLE_HOME={{ oracle_home }}; export ORACLE_SID={{ cdb_name }}; export PATH=$PATH:$ORACLE_HOME/bin; echo “{{ item }};” | {{ oracle_home }}/bin/sqlplus / as sysdba<br/> register: sqlplus_pdbvalidate<br/> with_items:<br/> — select open_mode, cdb from v\$database<br/> — show pdbs<br/> — alter session set container={{ pdb_name }}<br/> — select name, open_mode from v\$pdbs<br/>- name: display PDB validation output message<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> debug:<br/> var: sqlplus_pdbvalidate.results<br/>- name: pdb19c_create | display post PDB create message<br/> when: inventory_hostname in groups[‘ora-x1’]<br/> debug:<br/> msg:<br/> — ‘This Steps completed below task for Single Instance at {{ansible_date_time.iso8601}}:’<br/> — ‘- Create a Pluggable Database on server ora-x1’<br/> — ‘- END OF ALL: git repository “OracleDBAwithAnsible” will be updated’</span></pre><h2 id="e01c" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">运行剧本——通过一次执行创建CDB和PDB</strong></h2><p id="e521" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated">主要的剧本/代码已经写在tasks/main.yml中，现在我们将使用下面的命令“ansible-playbook”来执行剧本。当使用这个命令时，我们在调试、验证等方面有多种选择。总是建议使用verbose“-v[v][v]”选项和“check”来调试或排除脚本故障，以确保在语法或执行方面没有错误。举例来说，可能是目标中的目录结构不可用，然后ansible能够列出调试模式中的问题。从ansible主目录执行剧本，如下所示。</p><pre class="iy iz ja jb fd md me mf mg aw mh bi"><span id="34d8" class="kv kw hh me b fi mi mj l mk ml">[root@oel75 ansible]# ansible-playbook cdb_pdb_create.yml</span><span id="59fd" class="kv kw hh me b fi ni mj l mk ml">PLAY [ora-x1] ***************************************************************************************************************</span><span id="91ff" class="kv kw hh me b fi ni mj l mk ml">TASK [Gathering Facts] ******************************************************************************************************<br/>ok: [192.168.56.102]</span><span id="de03" class="kv kw hh me b fi ni mj l mk ml">TASK [cdb_create_19c : validate oracle database is installed] ***************************************************************<br/>ok: [192.168.56.102]</span><span id="deba" class="kv kw hh me b fi ni mj l mk ml">TASK [cdb_create_19c : debug] ***********************************************************************************************<br/>ok: [192.168.56.102] =&gt; {<br/>    "msg": "oracle database software is already installed in this /u01/app/oracle/product/19.2.0/db100"<br/>}</span><span id="b317" class="kv kw hh me b fi ni mj l mk ml">TASK [cdb_create_19c : create required directories] *************************************************************************<br/>changed: [192.168.56.102] =&gt; (item=/u01/stage)<br/>ok: [192.168.56.102] =&gt; (item=/u01/app/oracle/oradata/)<br/>ok: [192.168.56.102] =&gt; (item=/u01/app/oracle/fra/)</span><span id="50c9" class="kv kw hh me b fi ni mj l mk ml">TASK [cdb_create_19c : Check if database is already created] ****************************************************************<br/>changed: [192.168.56.102]</span><span id="b40b" class="kv kw hh me b fi ni mj l mk ml">. . . <br/>. .<br/>.</span><span id="cce3" class="kv kw hh me b fi ni mj l mk ml">ok: [192.168.56.102] =&gt; (item=<br/>SQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:12 2019<br/>Version 19.2.0.0.0</span><span id="c68e" class="kv kw hh me b fi ni mj l mk ml">Copyright (c) 1982, 2018, Oracle.  All rights reserved.</span><span id="18ac" class="kv kw hh me b fi ni mj l mk ml">Connected to:<br/>Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0</span><span id="e079" class="kv kw hh me b fi ni mj l mk ml">SQL&gt;<br/><strong class="me hi">NAME      OPEN_MODE            CDB<br/>--------- -------------------- ---<br/>EAYMP     READ WRITE           YES</strong></span><span id="8619" class="kv kw hh me b fi ni mj l mk ml">SQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0) =&gt; {<br/>    "msg": "\nSQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:12 2019\nVersion 19.2.0.0.0\n\nCopyright (c) 1982   , 2018, Oracle.  All rights reserved.\n\n\nConnected to:\nOracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Product   ion\nVersion 19.2.0.0.0\n\nSQL&gt; \nNAME\t  OPEN_MODE\t       CDB\n--------- -------------------- ---\nEAYMP\t  READ WRITE\t          YES\n\nSQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\nVersion 19.2.0.0.0"<br/>}<br/>ok: [192.168.56.102] =&gt; (item=<br/>SQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:12 2019<br/>Version 19.2.0.0.0</span><span id="f865" class="kv kw hh me b fi ni mj l mk ml">Copyright (c) 1982, 2018, Oracle.  All rights reserved.</span><span id="ccf8" class="kv kw hh me b fi ni mj l mk ml">Connected to:<br/>Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0</span><span id="e33e" class="kv kw hh me b fi ni mj l mk ml">SQL&gt;<br/><strong class="me hi">    CON_ID CON_NAME                       OPEN MODE  RESTRICTED<br/>---------- ------------------------------ ---------- ----------<br/>         2 PDB$SEED                       READ ONLY  NO</strong><br/>. . .<br/>. . <br/>.<br/><strong class="me hi">SQL&gt;<br/>    CON_ID CON_NAME                       OPEN MODE  RESTRICTED<br/>---------- ------------------------------ ---------- ----------<br/>         2 PDB$SEED                       READ ONLY  NO<br/>         3 KACHU                          READ WRITE NO</strong><br/>SQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0) =&gt; {<br/>    "msg": "\nSQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:40 2019\nVersion 19.2.0.0.0\n\nCopyright (c) 1982   , 2018, Oracle.  All rights reserved.\n\n\nConnected to:\nOracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Product   ion\nVersion 19.2.0.0.0\n\nSQL&gt; \n    CON_ID CON_NAME\t\t\t  OPEN MODE  RESTRICTED\n---------- ------------------------------    ---------- ----------\n\t 2 PDB$SEED\t\t\t  READ ONLY  NO\n\t 3 KACHU\t\t\t  READ WRITE NO\nSQL&gt; Disconnected from Oracle Da   tabase 19c Enterprise Edition Release 19.0.0.0.0 - Production\nVersion 19.2.0.0.0"<br/>}<br/>ok: [192.168.56.102] =&gt; (item=<br/>SQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:40 2019<br/>Version 19.2.0.0.0</span><span id="9dd8" class="kv kw hh me b fi ni mj l mk ml">Copyright (c) 1982, 2018, Oracle.  All rights reserved.</span><span id="a133" class="kv kw hh me b fi ni mj l mk ml">Connected to:<br/>Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0</span><span id="6dd7" class="kv kw hh me b fi ni mj l mk ml">SQL&gt;<br/>Session altered.</span><span id="2b0d" class="kv kw hh me b fi ni mj l mk ml">SQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0) =&gt; {<br/>    "msg": "\nSQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:40 2019\nVersion 19.2.0.0.0\n\nCopyright (c) 1982   , 2018, Oracle.  All rights reserved.\n\n\nConnected to:\nOracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Product   ion\nVersion 19.2.0.0.0\n\nSQL&gt; \nSession altered.\n\nSQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 1   9.0.0.0.0 - Production\nVersion 19.2.0.0.0"<br/>}<br/>ok: [192.168.56.102] =&gt; (item=<br/>SQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:40 2019<br/>Version 19.2.0.0.0</span><span id="0479" class="kv kw hh me b fi ni mj l mk ml">Copyright (c) 1982, 2018, Oracle.  All rights reserved.</span><span id="0e4d" class="kv kw hh me b fi ni mj l mk ml">Connected to:<br/>Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0</span><span id="1e08" class="kv kw hh me b fi ni mj l mk ml"><strong class="me hi">SQL&gt;<br/>NAME<br/>--------------------------------------------------------------------------------<br/>OPEN_MODE<br/>----------<br/>PDB$SEED<br/>READ ONLY</strong></span><span id="03a8" class="kv kw hh me b fi ni mj l mk ml"><strong class="me hi">KACHU<br/>READ WRITE</strong></span><span id="0540" class="kv kw hh me b fi ni mj l mk ml">SQL&gt; Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production<br/>Version 19.2.0.0.0) =&gt; {<br/>    "msg": "\nSQL*Plus: Release 19.0.0.0.0 - Production on Tue Apr 16 17:52:40 2019\nVersion 19.2.0.0.0\n\nCopyright (c) 1982   , 2018, Oracle.  All rights reserved.\n\n\nConnected to:\nOracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Product   ion\nVersion 19.2.0.0.0\n\nSQL&gt; \nNAME\n--------------------------------------------------------------------------------\nOPE   N_MODE\n----------\nPDB$SEED\nREAD ONLY\n\nKACHU\nREAD WRITE\n\n\nSQL&gt; Disconnected from Oracle Database 19c Enterprise Editi   on Release 19.0.0.0.0 - Production\nVersion 19.2.0.0.0"<br/>}</span><span id="2b20" class="kv kw hh me b fi ni mj l mk ml">TASK [pdb19c_create : pdb19c_create | display post PDB create message] ******************************************************<br/>ok: [192.168.56.102] =&gt; {<br/>    "msg": [<br/>        "This Steps completed below task for Single Instance at 2019-04-16T07:08:03Z:",<br/>        "- Create a Pluggable Database on server ora-x1",<br/>        "- END OF ALL:  git repository Oracle_CDBnPDB_19c will be updated"<br/>    ]<br/>}</span><span id="b94c" class="kv kw hh me b fi ni mj l mk ml">PLAY RECAP ******************************************************************************************************************<br/><strong class="me hi">192.168.56.102             : ok=26   changed=17   unreachable=0    failed=0</strong></span></pre><h2 id="d5c6" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">总结</strong></h2><p id="6f9e" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated">我们已经了解了如何准备Ansible行动手册来创建初始容器数据库，但这并不是数据库，我们在完整设置中包括了侦听器、TNS和密码文件的配置。可插拔数据库也是如此。最后，我们可以看到容器和可插拔数据库的验证。</p><h2 id="3372" class="kv kw hh bd kx ky kz la lb lc ld le lf jo lg lh li js lj lk ll jw lm ln lo lp bi translated"><strong class="ak">作者简介</strong></h2><p id="4b82" class="pw-post-body-paragraph jf jg hh jh b ji lr ii jk jl ls il jn jo lt jq jr js lu ju jv jw lv jy jz ka ha bi translated"><strong class="jh hi"> Nassyam Basha </strong>是一名数据库管理员。他有大约十年的Oracle数据库管理员工作经验，目前是eprosed KSA公司的数据库专家。他拥有马德拉斯大学的计算机应用硕士学位。他是Oracle 11g认证大师和Oracle ACE总监。他以超级英雄的身份积极参与甲骨文相关论坛，如OTN，甲骨文支持被授予“大师”称号，并担任OTN版主，与OTN一起撰写了大量关于Toad World的文章。他维护着一个与甲骨文技术相关的博客，<a class="ae lq" href="http://www.oracle-ckpt.com/" rel="noopener ugc nofollow" target="_blank">www.oracle-ckpt.com</a>，可以通过<a class="ae lq" href="https://www.linkedin.com/in/nassyambasha/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/nassyambasha/</a>找到他</p><p id="6b26" class="pw-post-body-paragraph jf jg hh jh b ji jj ii jk jl jm il jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><strong class="jh hi"> Monowar Mukul </strong>目前担任首席Oracle数据库专家。我是Oracle认证大师(Oracle 12c认证大师管理、Oracle 12c认证大师MAA和Oracle 11g认证大师管理)。他在Oracle MAA空间担任了17年的Oracle数据库管理员顾问，负责数据库云服务器和非数据库云服务器系统、Oracle云空间和SOA中间件。他曾在澳大利亚的多个商业领域工作，包括高等教育、能源、政府、采矿和运输。作为一名首席Oracle数据库专家，他展示了高度发展的批判性思维和分析技能。你可以在<a class="ae lq" href="https://www.linkedin.com/in/monowarmukul/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/monowarmukul/</a>找到关于他和他的工作成就的更多细节</p></div></div>    
</body>
</html>