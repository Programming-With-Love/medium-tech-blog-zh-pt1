<html>
<head>
<title>How do LOD Expressions work in Tableau?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LOD表达式如何在Tableau中工作？</h1>
<blockquote>原文：<a href="https://medium.com/edureka/lod-expressions-work-in-tableau-c9b4eabf61cd?source=collection_archive---------0-----------------------#2021-12-02">https://medium.com/edureka/lod-expressions-work-in-tableau-c9b4eabf61cd?source=collection_archive---------0-----------------------#2021-12-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/a00bb80884f51999a58a500f9990f937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*3htZ6-Xke_AiJnV0shZvVw.png"/></div></figure><p id="965d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">任何BI工具的目的都是为了给<strong class="in hi"> <em class="jj">数据分析</em> </strong>一个更好的流程。如果一个人，作为一个专业人士，在解决一个问题时面临使用工具的困难，流动的状态就被打破了。这个问题的一个常见原因是需要处理已经在Tableau (LOD)  中聚合到不同<strong class="in hi"> <em class="jj">细节级别的数据。</em></strong></p><p id="665b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在Gartner的魔力象限中，Tableau连续第六次位居榜首，这无疑说明了它在市场中的需求。这大概是<a class="ae jk" href="https://www.edureka.co/tableau-certification-training" rel="noopener ugc nofollow" target="_blank"> Tableau认证课程</a>最好的时机。</p><p id="6b82" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">本博客将帮助您理解LOD表达式并讨论以下主题:</p><ul class=""><li id="aca5" class="jl jm hh in b io ip is it iw jn ja jo je jp ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Why_do_you_need_Level_of_Detail_in_Tableau" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">为什么Tableau中需要细节层次？</strong>T13】</a></li><li id="81af" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#What_is_Level_of_Detail_in_Tableau" rel="noopener ugc nofollow" target="_blank"><strong class="in hi">Tableau中的细节层次是什么？</strong> </a></li><li id="f785" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Row_Level_and_View_Level_Expressions" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">行级&amp;视图级表达式</strong> </a></li><li id="81b4" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Types_of_LOD_Expressions" rel="noopener ugc nofollow" target="_blank"><strong class="in hi">LOD表达式的类型</strong> </a></li><li id="d25f" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Aggregation_and_LOD_Expressions" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">聚合和LOD表达式</strong> </a></li><li id="e37e" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Filters_and_LOD_Expressions" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">滤镜和LOD表达式</strong> </a></li><li id="78b4" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Creating_LOD_Expressions" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">创建LOD表达式</strong> </a></li><li id="7144" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Data_Sources_supporting_Level_Of_Detail_in_Tableau" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">数据源支持表</strong> </a>中的明细级别</li><li id="b14a" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Table_Calculations_vs_LOD" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi">表格计算vs Tableau中的详细程度</strong> </a></li><li id="24e9" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated"><a class="ae jk" href="https://www.edureka.co/blog/tableau-lod/#Limitations_of_Level_Of_Detail_in_Tableau" rel="noopener ugc nofollow" target="_blank"><strong class="in hi">Tableau中细节层次的限制</strong> </a></li></ul><h2 id="e015" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">Tableau LOD:为什么需要LOD？</h2><p id="2a88" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">在分析数据时，经常会遇到一些问题。这些问题通常问起来简单，但很难回答。它们通常听起来像这样:</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/9d39f583ca91d044ab00924e492aeac2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qI1NvJ4DOCBnwUAp.png"/></div></div></figure><p id="a255" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了解决这些类型的问题，Tableau 9.0中引入了一种称为<strong class="in hi">细节层次</strong>的新语法。这种新的语法简化并扩展了Tableau的计算语言，使得直接解决这些问题成为可能。</p><h2 id="4328" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">Tableau LOD:什么是LOD？</h2><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es li"><img src="../Images/c0e56a4bfa02ecf41be79c5e21b4e39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/0*0n1ReINnMqRqFK75.png"/></div></figure><p id="1b9f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jj"> LOD表达式代表了一种优雅而强大的方式来回答涉及单个可视化中多个粒度级别的问题。</em></p><p id="29f9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Tableau或LOD表达式中的细节级别允许您计算数据源级别和可视化级别的值。然而，LOD表达式为您提供了对想要计算的粒度级别的更多控制。它们可以在<em class="jj">更细粒度的</em>级别(包括计算)、一个<em class="jj">更细粒度的</em>级别(不包括计算)或一个<em class="jj">完全独立的级别</em> l(固定计算)上执行。</p><h1 id="bf30" class="lj ka hh bd kb lk ll lm kf ln lo lp kj lq lr ls km lt lu lv kp lw lx ly ks lz bi translated">Tableau LOD:行级和视图级表达式</h1><h2 id="514c" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">行级别</h2><p id="f86c" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">在Tableau中，为基础表中的每一行计算引用<strong class="in hi">未聚合的</strong>数据源列的表达式。在这种情况下，表达式的维度是<em class="jj">行级别</em>。行级表达式的一个示例是:</p><p id="856b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">[Sales] / [Profit]</code></p><p id="33cf" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">该计算将在数据库的每一行中进行评估。每行中的销售值将除以该行中的利润值，产生一个新列，其中包含相乘的结果(利润率)。</p><p id="a69d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果使用此定义创建计算，用名称[ProfitRatio]保存它，然后将其从数据窗格拖到工具架，Tableau通常会聚合视图的计算字段:</p><p id="fe9e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">SUM[ProfitRatio]</code></p><h2 id="60b2" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">视图级别</h2><p id="4990" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">相比之下，引用<strong class="in hi">聚合</strong>数据源列的表达式是在视图中由维度定义的维度上计算的。在这种情况下，表达式的维度是视图级别。视图级表达式的一个示例是:</p><p id="f63d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">SUM(Sales) / SUM(Profit)</code></p><p id="f4c4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果您将该计算拖到一个架子上(或者作为特别计算直接在架子上键入)，Tableau会将它包含在一个<strong class="in hi"> AGG函数</strong>中:</p><p id="56c4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">AGG(SUM(Sales) / SUM(Profit))</code></p><p id="92b9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这就是所谓的<strong class="in hi">聚合计算</strong>。</p><h1 id="ee13" class="lj ka hh bd kb lk ll lm kf ln lo lp kj lq lr ls km lt lu lv kp lw lx ly ks lz bi translated">Tableau LOD:聚合和LOD表达式</h1><h2 id="0b5e" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">LOD表达式比视图详细程度粗糙</h2><p id="ef97" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">当一个表达式引用视图中尺寸的<strong class="in hi">子集时，它比视图具有更粗糙的细节层次。</strong></p><p id="f45a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">例如，对于包含维[类别]和[段]的视图，您可以在Tableau中创建一个仅使用其中一个维的详细级别:</p><p id="27b4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">{FIXED [Segment] : SUM([Sales])}</code></p><p id="4fea" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这种情况下，表达式的细节层次比视图粗糙。它的值基于一个维度([段])，而视图基于两个维度([段]和[类别])。</p><p id="a4b4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">结果是，在视图中使用细节层次表达式会导致某些值被复制，也就是说，<strong class="in hi">会出现多次</strong>。</p><h2 id="e205" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">细节层次表达比视图细节层次更精细</h2><p id="42b8" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">当表达式引用视图中尺寸的<strong class="in hi">超集时，它具有比视图更精细的细节层次。</strong></p><p id="d962" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当您在视图中使用这样的表达式时，Tableau会将结果聚合到视图级别。例如，Tableau中的以下详细级别引用了两个维度:</p><p id="cb0d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">{FIXED [Segment], [Category] : SUM([Sales])}</code></p><p id="51a1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当该表达式用在只有[Segment]作为其细节层次的视图中时，值<em class="jj">必须聚合</em>。如果将该表达式拖到架子上，您将看到以下内容:</p><p id="68d2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><code class="du ma mb mc md b">AVG([{FIXED [Segment]], [Category]] : SUM([Sales]])}])</code></p><p id="c73f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Tableau会自动分配一个<strong class="in hi">聚合</strong>(在本例中为平均值)。您可以根据需要更改聚合。</p><h2 id="dd3f" class="jz ka hh bd kb kc kd ke kf kg kh ki kj iw kk kl km ja kn ko kp je kq kr ks kt bi translated">将详细等级表达式添加到视图中</h2><p id="32fc" class="pw-post-body-paragraph il im hh in b io ku iq ir is kv iu iv iw kw iy iz ja kx jc jd je ky jg jh ji ha bi translated">Tableau表达式中的细节级别是在视图中聚合还是复制由<strong class="in hi">表达式类型</strong>和<strong class="in hi">粒度</strong>决定。</p><ul class=""><li id="03db" class="jl jm hh in b io ip is it iw jn ja jo je jp ji jq jr js jt bi translated">包含表达式将具有与视图相同的细节级别，或者比视图更精细的细节级别。因此，价值观永远不会被复制。</li><li id="6bf9" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated">固定表达式可以具有比视图更精细的细节级别、更粗糙的细节级别或相同的细节级别。是否需要聚合固定细节级别的结果取决于视图中的维度。</li><li id="caa4" class="jl jm hh in b io ju is jv iw jw ja jx je jy ji jq jr js jt bi translated">排除表达式总是导致复制的值出现在视图中。当包含排除细节级别表达式的计算被搁置时，Tableau默认使用<strong class="in hi"> ATTR聚合</strong>，而不是求和或AVG，以表明表达式实际上没有被聚合，并且更改聚合不会对视图产生影响。</li></ul><p id="aaf8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我希望这篇博客能给你提供信息，增加你的知识。</p><p id="3761" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="4952" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请留意本系列中的其他文章，它们将解释Tableau的各个方面。</p><blockquote class="me mf mg"><p id="a972" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 1。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-tutorial-37d2d6a9684b"> <em class="hh"> Tableau教程</em> </a></p><p id="c9c3" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 2。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-dashboards-3e19dd713bc7"> <em class="hh"> Tableau仪表盘</em> </a></p><p id="86e3" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 3。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-functions-ce794b10e588"> <em class="hh"> Tableau功能</em> </a></p><p id="ed82" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 4。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-charts-111758e2ea97"> <em class="hh">画面图表</em> </a></p><p id="f304" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 5。</em><a class="ae jk" rel="noopener" href="/edureka/tableau-lod-2f650ca1503d"><em class="hh">Tableau中的LOD表达式</em> </a></p><p id="356b" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 6。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-tips-and-tricks-a18bf8991afc"> <em class="hh">画面技巧</em> </a></p><p id="291f" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 7。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-public-942228327953"> <em class="hh">循序渐进指导学习Tableau</em></a></p><p id="2456" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 8。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-desktop-vs-tableau-public-vs-tableau-reader-fbb2a3aa0bac"> <em class="hh"> Tableau桌面vs Tableau公共vs Tableau阅读器</em> </a></p><p id="8b3f" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 9。</em> <a class="ae jk" rel="noopener" href="/edureka/parameters-in-tableau-ac552e6b0cde-ac552e6b0cde"> <em class="hh">如何在Tableau中创建和使用参数？</em>T55】</a></p><p id="fe7f" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 10。</em><a class="ae jk" rel="noopener" href="/edureka/sets-in-tableau-39befe9b7fa1"><em class="hh">Tableau中的集合是什么，如何创建</em> </a></p><p id="ef41" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 11。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-lod-2f650ca1503d"> <em class="hh">数据融合</em> </a></p><p id="1fee" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 12。</em> <a class="ae jk" rel="noopener" href="/edureka/donut-chart-in-tableau-a2e6fadf6534"> <em class="hh">圆环图中的Tableau </em> </a></p><p id="ccfb" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 13。</em><a class="ae jk" rel="noopener" href="/edureka/tableau-interview-questions-and-answers-4f80523527d"><em class="hh">2020年你必须准备的50大Tableau面试题</em> </a></p><p id="eccf" class="il im jj in b io ip iq ir is it iu iv mh ix iy iz mi jb jc jd mj jf jg jh ji ha bi translated"><em class="hh"> 14。</em> <a class="ae jk" rel="noopener" href="/edureka/tableau-charts-111758e2ea97"> <em class="hh">如何以及何时使用不同的Tableau图表</em> </a></p></blockquote><p id="fb32" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jj">最初发表于2021年9月20日www.edureka.co</em><em class="jj">。</em></p></div></div>    
</body>
</html>