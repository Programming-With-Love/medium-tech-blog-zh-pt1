<html>
<head>
<title>An Illustrated Enterprise Release Checklist For Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用程序的图解企业发布清单</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/an-illustrated-enterprise-release-checklist-for-applications-3ff1e6353a3e?source=collection_archive---------1-----------------------#2021-06-17">https://medium.com/capital-one-tech/an-illustrated-enterprise-release-checklist-for-applications-3ff1e6353a3e?source=collection_archive---------1-----------------------#2021-06-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="b730" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">通过更好地管理预发布、发布和监控，让您睡得更香、玩得更开心并创造价值</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/ee42c18642683d012c628d638dd02cf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w-JDLVf8u0jNq2_7.png"/></div></div></figure><p id="5cd6" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi"> <em class="ke">文字作者诺亚·曼德尔鲍姆，杰出工程师</em> </strong> <br/> <strong class="jk hi"> <em class="ke">插图作者麦克·丹拉特，高级经理</em> </strong></p><p id="acc5" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">开发应用程序需要大量的工作。</p><p id="9679" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我们站起来，然后坐下。我们花了数周的时间来编写干净的代码并创建代码覆盖率。我们努力思考如何使我们的应用程序可维护(使用Santhi Sridharan在她关于开发可维护软件的文章中提出的想法)。有时候，我们会重构，直到我们的视觉变得有些模糊。</p><p id="4b72" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">很少有事情比在发布时发现自己精心创建的应用程序在某些方面有缺陷或损坏更令人沮丧的了。</p><p id="93e0" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">这种损坏的软件会产生负面的客户体验，会导致业务风险，并且会给团队带来大量的额外工作。那么，我们如何帮助确保我们的发布更加成功呢？</p><p id="b521" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">该清单试图在没有正式流程和<a class="ae kf" href="https://www.amazon.com/Release-Design-Deploy-Production-Ready-Software-ebook-dp-B079YWMY2V/dp/B079YWMY2V/ref=mt_other?_encoding=UTF8&amp;me=&amp;qid=" rel="noopener ugc nofollow" target="_blank">发布的全面性之间找到平衡！</a>回答这个清单上的问题可以帮助你的团队实现成功的发布——此外，你甚至可以在阅读它或看我们的手绘草图时微笑(即使你讨厌下班时间发布)。</p><p id="f2da" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><em class="ke">注意:我们是两名软件工程师，负责对Capital One的客户和员工都非常重要的系统。我们开发了这个发布清单来帮助我们的团队为他们的发布做更好的准备。我们知道这并不适合所有的用例，你可能需要为你的团队修改它——但是我们希望它也能帮助你。</em></p><h1 id="1851" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">图解企业应用程序发布清单</h1><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ky"><img src="../Images/4454fd8d71df7d166a8f3689c560e2dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qec7qmWSRM9C-BryXidXdg.png"/></div></div></figure><p id="bde5" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">1735年，本杰明·富兰克林在向费城市民解释预防房屋火灾的最佳方法时，创造了短语“一盎司的预防抵得上一磅的治疗”。</p><p id="e0a5" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">为了帮助防止你的释放成为它自己的房子(或垃圾箱)火灾，我们把这个清单分成三个部分:</p><ul class=""><li id="22f2" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">预发布</li><li id="1677" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">放</li><li id="cd16" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">监视</li></ul><h2 id="27cc" class="ln kh hh bd ki lo lp lq km lr ls lt kq jr lu lv ks jv lw lx ku jz ly lz kw ma bi translated">预发布清单</h2><p id="0bc1" class="pw-post-body-paragraph ji jj hh jk b jl mb ii jn jo mc il jq jr md jt ju jv me jx jy jz mf kb kc kd ha bi translated">当我们准备发布的商业意图时，我们试图遵循两个一般规则:</p><ol class=""><li id="c567" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd mg lf lg lh bi translated">限制发布中的项目数量以限制风险:并计划频繁发布。</li><li id="21c9" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd mg lf lg lh bi translated">确保我们已经完成了所有工作的<a class="ae kf" href="https://www.agilealliance.org/glossary/definition-of-done/#q=~(infinite~false~filters~(postType~(~'page~'post~'aa_book~'aa_event_session~'aa_experience_report~'aa_glossary~'aa_research_paper~'aa_video))~searchTerm~'~sort~false~sortDirection~'asc~page~1)" rel="noopener ugc nofollow" target="_blank">完成</a>定义:</li></ol><ul class=""><li id="9a9a" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">具有适当代码覆盖率的书面单元测试。</li><li id="7c43" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">执行自动化功能测试来验证新功能，并确保旧功能不会退化。</li><li id="e77c" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">完成可用性/可访问性测试。</li><li id="fadc" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">执行性能测试(这一点尤其重要)。</li><li id="a4b5" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">扫描我们代码的安全漏洞，特别是那些在<a class="ae kf" href="https://owasp.org/www-project-top-ten/" rel="noopener ugc nofollow" target="_blank"> OWASP十大</a>列表中发现的漏洞。</li><li id="9117" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">记录下我们欠下的所有技术债务。</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mh"><img src="../Images/5bf87646282327b8082fdcff3dc5f2db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4BuFWX5Ktg3TyQBDHrs17A.png"/></div></div></figure><p id="c6d7" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">除此之外，在准备发布时，我们还会关注一些技术项目:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mi"><img src="../Images/3b607ab767d08e29dd143dd76bbcf263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVSPyL6GatpsxQOVGhlgUw.png"/></div></div></figure><ul class=""><li id="8783" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">我们希望部署的代码是否被签入版本控制:并被适当地标记？</li><li id="7c24" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否正确地更新了我们的生产配置？</li><li id="5e7b" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">如果我们的代码有依赖关系(比如<a class="ae kf" href="https://martinfowler.com/articles/microservices.html" rel="noopener ugc nofollow" target="_blank">微服务</a>，数据库等等)——那些依赖关系是否已经部署在生产环境中并准备好接受流量了？</li><li id="0e77" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否已确保我们需要的基础设施在生产中配备了正确的网络配置，包括DNS、负载平衡器和(在我们的案例中)其他AWS资源？</li><li id="0723" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否测试过当我们的应用程序经历高负载时会发生什么——它是伸缩还是崩溃？</li><li id="5141" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">当我们在中午部署新版本时，我们是否测试过用户体验会发生什么——我们的用户会遇到任何错误吗？</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mj"><img src="../Images/20adc34559f0091622216381a302c141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RXI4EollHFklP1rVWTxMiQ.png"/></div></div></figure><ul class=""><li id="426a" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">我们是否设置了canary或A/B测试所需的任何<a class="ae kf" href="https://martinfowler.com/articles/feature-toggles.html" rel="noopener ugc nofollow" target="_blank">功能切换</a>？</li><li id="8a32" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否考虑过<a class="ae kf" href="https://en.wikipedia.org/wiki/Computer_access_control" rel="noopener ugc nofollow" target="_blank">对任何需要访问控制的应用程序的访问控制</a>？</li><li id="729d" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否已经验证了<a class="ae kf" href="https://theagileadmin.com/2018/02/16/monitoring-and-observability/" rel="noopener ugc nofollow" target="_blank">可观察性</a>我们需要在生产中调试的信息是否可用——我们是否能够捕获和分析指标、跟踪和日志(注意——在这个领域有很多商业和开源工具可以帮助您)？</li><li id="07f1" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">是否有回滚计划？如果需要，可以关闭该功能吗？如果需要，我们可以恢复到以前的代码版本吗？如果版本出了问题，用户能解决问题吗？</li></ul><p id="b2b9" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我们努力确保我们有B计划和C计划！</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mk"><img src="../Images/fef3d5a7b54745848d2f10fdcee4c6d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HbhSnlO74G6NXfzDb4xz5A.png"/></div></div></figure><p id="7de1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">当准备发布时，人也变得很重要:</p><ul class=""><li id="2107" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">我们是否有一份关键技术联系人的名单，万一我们的发布不像我们希望的那样，我们可以快速联系到他们？</li><li id="de7f" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们知道我们的改变会对哪些用户产生什么影响吗？→我们是否测试过我们启用的功能切换包括正确的人和排除正确的人？我们测试过访问控制包括正确的人，排除了正确的人吗？我们有没有安排人来证实我们的释放？<em class="ke">(人们喜欢:产品经理、意图所有者、支持工程师、应该看到我们的变更的人:以及不应该看到它们的人)</em></li><li id="758a" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">我们是否完成了可能使我们的首次展示成功的其他发布准备工作？例如→更新我们的培训和文档？公开宣布即将发布的版本？向可能对这些变化感兴趣的人发送信息？</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ml"><img src="../Images/c4c1cb6da86ae603bfa2ef492936690c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DCcCau6iW-eiikGgduwrbg.png"/></div></div></figure><p id="1f21" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">很多大企业需要更正式的<a class="ae kf" href="https://en.wikipedia.org/wiki/Change_control" rel="noopener ugc nofollow" target="_blank">变更控制</a>流程。我们碰巧在其中一个地方工作，所以有时我们可能必须创建一个<a class="ae kf" href="https://en.wikipedia.org/wiki/Change_request" rel="noopener ugc nofollow" target="_blank">变更请求</a>，包括:</p><ul class=""><li id="325e" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">确保我们的变更请求被输入变更控制系统。</li><li id="e8a1" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">确保我们的变更请求不与变更控制系统中的其他关键项目相冲突，比如无发布期。</li></ul><h2 id="f68c" class="ln kh hh bd ki lo lp lq km lr ls lt kq jr lu lv ks jv lw lx ku jz ly lz kw ma bi translated">发布清单</h2><p id="f8d3" class="pw-post-body-paragraph ji jj hh jk b jl mb ii jn jo mc il jq jr md jt ju jv me jx jy jz mf kb kc kd ha bi translated">在我们早期经历了无数次手动部署之后，没有什么比一个好的<a class="ae kf" href="https://www.martinfowler.com/articles/continuousIntegration.html" rel="noopener ugc nofollow" target="_blank">持续集成</a> / <a class="ae kf" href="https://continuousdelivery.com/" rel="noopener ugc nofollow" target="_blank">持续交付</a> (CI/CD)管道更好的了。如果你没有一本，我们建议你买一本:否则，你可能会被一本手册和随之而来的巨大麻烦所困扰。</p><p id="227d" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我们很幸运有一个CI/CD管道，因此，当发布发生时，我们:</p><ul class=""><li id="5d26" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">通过查看我们的部署日志，验证我们的部署作业是否已成功完成。</li><li id="81d1" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">检查所有代码更改(以及相关的依赖项更改)是否以预期的方式发生。</li><li id="b9cc" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">确认旧代码中的所有活动都已完全耗尽，新代码现在正在处理您的流量。</li><li id="23bc" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">分析指标和日志(可能还有跟踪),以确保在部署过程中不会出现中断或错误。</li></ul><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mm"><img src="../Images/f2d1f3cc7d1dc3eb964d4696aef13bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5inwDtP5m8RC8AZSTVVUtw.png"/></div></div></figure><p id="7263" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">对我们来说，同样重要的是用户体验，因此，我们问自己以下问题:</p><ul class=""><li id="ca12" class="kz la hh jk b jl jm jo jp jr lb jv lc jz ld kd le lf lg lh bi translated">我们排队等待验证的人是否提供了他们可以看到他们应该看到的内容的确认？同样，人们有没有证实他们看不到他们不应该看到的东西？</li><li id="3812" class="kz la hh jk b jl li jo lj jr lk jv ll jz lm kd le lf lg lh bi translated">验证我们系统的人是否注意到任何其他异常——错误屏幕、异常延迟、意外导航流？有时，这提供了一个几乎察觉不到的信号，表明出了问题。</li></ul><p id="af2c" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">不幸的是，如果我们的部署不成功，我们将执行回滚计划。</p><h2 id="3601" class="ln kh hh bd ki lo lp lq km lr ls lt kq jr lu lv ks jv lw lx ku jz ly lz kw ma bi translated">监控(非清单)</h2><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mn"><img src="../Images/eb872ee0410078726941215d4ac8f1e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P55u0VGzD-BaRWg9EMk6SQ.png"/></div></div></figure><p id="0161" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">有时候，一个发布最初看起来是健康的，但是后来遇到了问题——如果它与一个数据库或REST API变更相关联，情况可能尤其如此。</p><p id="f86b" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我们发现，如果我们很好地设置了我们的可观察性，我们就可以设置警报，在出现错误或其他异常时主动通知我们。如果我们从基础设施、代码和系统的关键事务中发现意外行为，这些警报会提醒我们。对于需要更精细验证的版本，我们也可能会扫描日志以发现意外行为。</p><p id="5c2b" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">也就是说，我们也特别关注发布后的前24小时——尤其是如果我们的发布发生在交通流量低的时候。</p><p id="ba8c" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">如果是这种情况，有时我们会要求适当的用户重新验证发布功能，并提供口头/书面的成功确认。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mo"><img src="../Images/3d953714d3be44b2b8062db9f76c1eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCqq31Ma80OIayHDJadTQg.png"/></div></div></figure><h1 id="5cf5" class="kg kh hh bd ki kj kk kl km kn ko kp kq in kr io ks iq kt ir ku it kv iu kw kx bi translated">结论</h1><p id="37ab" class="pw-post-body-paragraph ji jj hh jk b jl mb ii jn jo mc il jq jr md jt ju jv me jx jy jz mf kb kc kd ha bi translated">虽然这个发布清单不一定对所有的团队和用例都是全面的，但是希望它能让你开心。希望它能帮助你把你的工作部署给你的用户。</p></div><div class="ab cl mp mq go mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ha hb hc hd he"><p id="9ef3" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><em class="ke">披露声明:2021资本一。观点是作者个人的观点。除非本帖中另有说明，否则Capital One不隶属于所提及的任何公司，也不被这些公司认可。使用或展示的所有商标和其他知识产权是其各自所有者的财产。</em></p><p id="dd58" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><em class="ke">最初发表于</em><a class="ae kf" href="https://www.capitalone.com/tech/software-engineering/illustrated-release-checklist/" rel="noopener ugc nofollow" target="_blank">T5【https://www.capitalone.com】</a><em class="ke">。</em></p></div></div>    
</body>
</html>