<html>
<head>
<title>Extend your API with Serverless Functions and API Gateways</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用无服务器功能和API网关扩展您的API</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/extend-your-api-with-serverless-functions-and-api-gateways-2a383561ef5c?source=collection_archive---------0-----------------------#2021-05-11">https://medium.com/oracledevs/extend-your-api-with-serverless-functions-and-api-gateways-2a383561ef5c?source=collection_archive---------0-----------------------#2021-05-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="73a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从这里开始，探索如何用<strong class="ig hi"> API网关</strong>和<strong class="ig hi">无服务器功能</strong>扩展您的API。优势在于您将使用最新的库和技术，而不必担心配置和扩展来满足您的工作负载需求。</p><blockquote class="jc"><p id="d5dc" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated">无服务器技术将继续存在。</p><p id="c62b" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated">无服务器是云的未来。</p></blockquote><figure class="jn jo jp jq jr js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es jm"><img src="../Images/eb46a5d757ee99c94dc0e710af488286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ioPbk2MUQgdj8O6Yd-EhJg.png"/></div></div></figure><p id="af3b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我的上一篇文章中了解更多关于API网关以及为什么需要一个API网关的信息:</p><div class="jz ka ez fb kb kc"><a href="https://vmleon.medium.com/what-is-api-gateway-and-why-you-need-one-9fe8087f5ece" rel="noopener follow" target="_blank"><div class="kd ab dw"><div class="ke ab kf cl cj kg"><h2 class="bd hi fi z dy kh ea eb ki ed ef hg bi translated">什么是API gateway，为什么需要它？</h2><div class="kj l"><h3 class="bd b fi z dy kh ea eb ki ed ef dx translated">我们可以说现在API无处不在。很可能你现在开发的任何应用程序都会消耗其他应用程序的数据，不管是你自己的还是来自…</h3></div><div class="kk l"><p class="bd b fp z dy kh ea eb ki ed ef dx translated">vmleon.medium.com</p></div></div><div class="kl l"><div class="km l kn ko kp kl kq jx kc"/></div></div></a></div><p id="d6c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将构建一个无服务器函数，它接受文本文件并用gzip文件响应。我们将通过一个安全的API网关端点来访问您的函数。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es kr"><img src="../Images/88fa9825d2dbb6093ba39bcdbdfb8bec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q5G0AqYr8kVz-MSQq5ZSvA.png"/></div></div></figure><p id="cb8a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用甲骨文云基础设施(OCI)，特别是甲骨文功能和OCI API网关。它们都在Oracle云的免费层中。</p><p id="b7e3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">您有甲骨文云账户吗？</strong>如果没有，您可以在这里创建一个:</p><blockquote class="jc"><p id="0373" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated"><em class="kw">请记住，除非您明确要求按需付费升级，否则Oracle Cloud不会向您收取任何费用。没有惊喜。</em></p><p id="4d44" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated"><a class="ae kx" href="http://bit.ly/34TzwGf" rel="noopener ugc nofollow" target="_blank"> <em class="kw">甲骨文云免费注册</em> </a></p></blockquote><h1 id="06f3" class="ky kz hh bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">网络与安全</h1><p id="fac7" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">让我们从基础开始:网络和安全。</p><h2 id="211f" class="mb kz hh bd la mc md me le mf mg mh li ip mi mj lm it mk ml lq ix mm mn lu mo bi translated">政策</h2><p id="9d20" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">我们需要创建一个<strong class="ig hi">策略</strong>来使API Gateway使用Oracle函数。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es mp"><img src="../Images/a296b6e2bcdf641837fa89ca649268b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WrDUQUvgwMeeXiu_RMFAcQ.png"/></div></div></figure><p id="e891" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">创建策略</em> </strong>。设定一个<strong class="ig hi"> <em class="mq">名称</em> </strong>，和<strong class="ig hi"> <em class="mq">描述</em> </strong>。勾选<strong class="ig hi"> <em class="mq">显示手动编辑器</em> </strong>，编写如下策略，点击<strong class="ig hi"> <em class="mq">创建</em> </strong>:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="aa7b" class="mb kz hh ms b fi mw mx l my mz">allow any-user to use functions-family in tenancy</span></pre><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es na"><img src="../Images/b23fd348a7db1bf5cd03f8daa7c67d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6u2A7Jo3beOT3l_mRJFtrQ.png"/></div></div></figure><h2 id="a9c1" class="mb kz hh bd la mc md me le mf mg mh li ip mi mj lm it mk ml lq ix mm mn lu mo bi translated">建立工作关系网</h2><p id="d2e2" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">我们需要创建一个<strong class="ig hi">虚拟云网络(VCN) </strong>来代表API Gateway将要驻留的网络结构。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nb"><img src="../Images/23f07f6e8f64ab47e4e3ffcccc4a3a9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYrVPyENSjJNvma2SROHHg.png"/></div></div><figcaption class="nc nd et er es ne nf bd b be z dx">Menu for Virtual Cloud Network</figcaption></figure><p id="4735" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">启动VCN向导</em> </strong>并创建一个<strong class="ig hi"> <em class="mq">具有互联网连接</em> </strong>。选择一个<strong class="ig hi"> <em class="mq"> VCN名字</em> </strong>(我的名字是<code class="du ng nh ni ms b">serverless</code>)，其他都保持默认。点击<strong class="ig hi"> <em class="mq">下一个</em> </strong>和<strong class="ig hi"> <em class="mq">创建</em> </strong>。</p><p id="95cb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建完成后，您将拥有两个子网(一个公共子网和一个私有子网)。</p><p id="47b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击您的公共子网:</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nj"><img src="../Images/8c9caf52235113120c629ad0e4422320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LJQUC3_gDBiTb45p710hIg.png"/></div></div></figure><p id="6f8a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">无服务器默认安全列表</em> </strong>。然后点击<strong class="ig hi"> <em class="mq">添加入口规则</em> </strong>。按如下方式设置值:</p><p id="5d9e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">来源:<code class="du ng nh ni ms b">0.0.0.0/0</code></p><p id="e7a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目的地端口范围:<code class="du ng nh ni ms b">443</code></p><p id="51b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">描述:<code class="du ng nh ni ms b">Allow ingress traffic on TCP/443</code></p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nk"><img src="../Images/8e03441a479df4d75a7eca604de1a65c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W7zCK3Z20Erue7QEpI7t0Q.png"/></div></div></figure><p id="c3de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> API网关将监听端口443 </strong>。我们刚刚创建的入口规则将允许来自互联网的流量进入公共子网。</p><h1 id="37a2" class="ky kz hh bd la lb lc ld le lf lg lh li lj nl ll lm ln nm lp lq lr nn lt lu lv bi translated">无服务器功能</h1><p id="72b6" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">假设你有几个无服务器的功能，它们分布在几个有界的上下文或应用中。这就是为什么您需要在Oracle Functions中创建一个<strong class="ig hi">应用程序</strong>来聚合类似的无服务器函数。就这么办吧。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es no"><img src="../Images/4975db0d3d86c902a9cc4df72669b39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMObB_Wp3NEWvGUii2ByFQ.png"/></div></div></figure><p id="91ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">创建应用</em> </strong>，设置<strong class="ig hi">名称</strong>、<strong class="ig hi"> VCN </strong>和<strong class="ig hi">私有子网</strong>。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es np"><img src="../Images/c1d29d5cb827a44e6847537c40ca11c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8nUy1VA2R2mGi-NNw8CVXQ.png"/></div></div></figure><p id="89f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将点击侧面菜单上的<strong class="ig hi">入门</strong>，并使用<strong class="ig hi">云外壳</strong>指南来配置和部署我们的无服务器功能。到达第七步时停止，并确保将第四步中的<code class="du ng nh ni ms b">[OCIR-REPO]</code>更改为您喜欢的注册库名称，例如<code class="du ng nh ni ms b">tools</code>。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nq"><img src="../Images/b534072eac9347741530de33b2c2d7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tR0g3xuZsD_HjcqcxlGPRw.png"/></div></div></figure><p id="dd95" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此时，我们将创建无服务器函数来接收传入的文本文件，并用文本文件gzipped进行响应。最后，我们将部署该功能。</p><p id="131f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先在<strong class="ig hi">云外壳</strong>中构建函数:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="22b9" class="mb kz hh ms b fi mw mx l my mz">fn init --runtime python zipper</span></pre><p id="629f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">确保您更改了新功能<code class="du ng nh ni ms b">zipper</code>的目录:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="7acb" class="mb kz hh ms b fi mw mx l my mz">cd zipper</span></pre><p id="a1ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用以下代码编辑<code class="du ng nh ni ms b">func.py</code>文件:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="4ad4" class="mb kz hh ms b fi mw mx l my mz">import io<br/>import logging<br/>import gzip</span><span id="28f5" class="mb kz hh ms b fi nr mx l my mz">from fdk import response</span><span id="a284" class="mb kz hh ms b fi nr mx l my mz">def handler(ctx, data: io.BytesIO = None):<br/>    logging.getLogger().info("gzipping body")<br/>    gz_data = gzip.compress(data.getvalue())<br/>    logging.getLogger().info("sending response")<br/>    return response.Response(<br/>        ctx,<br/>        response_data=gz_data,<br/>        headers={"Content-Type": "application/gzip"}<br/>    )</span></pre><p id="c527" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用以下命令部署函数:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="5b5b" class="mb kz hh ms b fi mw mx l my mz">fn deploy --app tools</span></pre><h1 id="8e8f" class="ky kz hh bd la lb lc ld le lf lg lh li lj nl ll lm ln nm lp lq lr nn lt lu lv bi translated">API网关</h1><p id="a6a0" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">是时候创建一个OCI API网关了。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es ns"><img src="../Images/7a62494c327862baa1cb65d2a63873e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iC5Wk1Ghla38NKPdi9mzVg.png"/></div></div></figure><p id="5e46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">创建网关</em> </strong>并设置以下值:</p><p id="17bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">名称:<code class="du ng nh ni ms b">tools</code></p><p id="2776" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类型:<code class="du ng nh ni ms b">Public</code></p><p id="9b9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虚拟云网络:<code class="du ng nh ni ms b">serverless</code></p><p id="90c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">子网:<code class="du ng nh ni ms b">Public Subnet-serverless</code></p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nt"><img src="../Images/e94fb7430f0110d40ddc8c3b922ddf29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fsR11ZdUnhl-0YxmVmwV3A.png"/></div></div></figure><figure class="ks kt ku kv fd js er es paragraph-image"><div class="er es nu"><img src="../Images/826a398f748dad8a0fc83e54e08d062c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*F5qaLeFWfJF3c8tzhW8hgQ.png"/></div></figure><p id="b058" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当<strong class="ig hi"> <em class="mq">网关处于活动状态时，</em> </strong>是时候创建部署了。</p><p id="a860" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">部署只是一个API运行时的表示，所有路由到后端API。</p><p id="2d27" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在新的<code class="du ng nh ni ms b">tools</code>网关的侧面菜单上单击Deployments点击<strong class="ig hi"> <em class="mq">创建部署</em> </strong>。</p><p id="41a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">选择<code class="du ng nh ni ms b">From Scratch</code>并设置一个名称(例如<code class="du ng nh ni ms b">tools</code>)。</p><p id="d274" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">确保路径前缀为<code class="du ng nh ni ms b">/tools/v1</code>。</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nv"><img src="../Images/bc37b4bcafd78504906b393add2565b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7I3jl403NS4sr7cmCe_Gw.png"/></div></div></figure><p id="c5d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击<strong class="ig hi"> <em class="mq">下一个</em></strong>；然后，我们将创建一个<strong class="ig hi"> <em class="mq">路线</em> </strong>指向我们的<strong class="ig hi"> <em class="mq">拉链</em> </strong>无服务器功能。</p><p id="7347" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">路径:<code class="du ng nh ni ms b">/zipper</code></p><p id="433c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">方法:<code class="du ng nh ni ms b">POST</code></p><p id="c275" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类型:<code class="du ng nh ni ms b">Oracle Functions</code></p><p id="e41e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">申请:<code class="du ng nh ni ms b">tools</code></p><p id="b5bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">功能名称:<code class="du ng nh ni ms b">zipper</code></p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nw"><img src="../Images/17c015b0d4c035f0c253869e20957264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2RRHvTbHG0UNF2m1_ryE0A.png"/></div></div></figure><h1 id="511f" class="ky kz hh bd la lb lc ld le lf lg lh li lj nl ll lm ln nm lp lq lr nn lt lu lv bi translated">调用您的无服务器功能</h1><p id="9f3e" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">我们将使用<code class="du ng nh ni ms b">cURL</code>向您的API网关发出一个HTTPS请求，该请求将被重定向到您的无服务器函数。</p><p id="90ab" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从API网关部署的详细信息页面复制API网关端点的URL:</p><figure class="ks kt ku kv fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es nj"><img src="../Images/dc11fb7d199e781c9034f95381ffdd34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_0ViYZo4PL1MbEHebYNGQ.png"/></div></div></figure><p id="d094" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在<strong class="ig hi">云外壳</strong>中，我们将使用以下命令创建一个内容为<code class="du ng nh ni ms b">Hello</code>的<code class="du ng nh ni ms b">file.txt</code>:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="af77" class="mb kz hh ms b fi mw mx l my mz">echo "Hello" &gt; file.txt</span></pre><p id="4e8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我们将执行请求(用您的<strong class="ig hi"> <em class="mq"> API网关端点</em> </strong>的值替换<code class="du ng nh ni ms b">&lt;APIGW_ENDPOINT&gt;</code>):</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="9680" class="mb kz hh ms b fi mw mx l my mz">curl -XPOST -H "Content-Type: text/plain" -d @file.txt &lt;APIGW_ENDPOINT&gt;<a class="ae kx" href="https://gjvduecrsv5hbdqemmojzl2itq.apigateway.uk-london-1.oci.customer-oci.com/tools/zipper" rel="noopener ugc nofollow" target="_blank">/tools/v1/zipper</a> &gt; response.txt.gz</span></pre><p id="6ddd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果将是一个<code class="du ng nh ni ms b">response.txt.gz</code>，我们可以用下面的命令解压它:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="bc2f" class="mb kz hh ms b fi mw mx l my mz">gzip -d response.txt.gz</span></pre><p id="b93e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后我们可以检查新文件的内容，它应该说<code class="du ng nh ni ms b">Hello</code>:</p><pre class="ks kt ku kv fd mr ms mt mu aw mv bi"><span id="9c89" class="mb kz hh ms b fi mw mx l my mz">cat response.txt</span></pre><p id="9ea2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">恭喜你！请随意将现有请求重定向到您的现有API，并使用Oracle功能扩展您的API，以忘记低级IaaS供应。按需扩展和缩减，并且只为您使用的部分付费。</p><h1 id="a3b8" class="ky kz hh bd la lb lc ld le lf lg lh li lj nl ll lm ln nm lp lq lr nn lt lu lv bi translated">想了解更多？</h1><p id="e9f5" class="pw-post-body-paragraph ie if hh ig b ih lw ij ik il lx in io ip ly ir is it lz iv iw ix ma iz ja jb ha bi translated">专家和Oracle云倡导者会定期提供大约1小时的免费培训。这些是教师指导的培训。您可以跟随我们的团队现场解决您的问题。</p><blockquote class="jc"><p id="fd4a" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated"><em class="kw">加入我对</em> <a class="ae kx" href="https://bit.ly/3upz9Rh" rel="noopener ugc nofollow" target="_blank"> <em class="kw">甲骨文云基础设施不和谐频道</em> </a> <em class="kw">的任何疑问。</em></p></blockquote><p id="9a13" class="pw-post-body-paragraph ie if hh ig b ih nx ij ik il ny in io ip nz ir is it oa iv iw ix ob iz ja jb ha bi translated">敬请关注更多关于Oracle云的精彩文章。</p><blockquote class="jc"><p id="1422" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated">我是维克多·马丁，一名软件开发人员。我部署在Oracle云基础架构上。</p><p id="39ed" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated"><em class="kw">随时在</em><a class="ae kx" href="https://bit.ly/3bRk83W" rel="noopener ugc nofollow" target="_blank"><em class="kw">LinkedIn</em></a><em class="kw">上与我联系。</em></p><p id="55e7" class="jd je hh bd jf jg jh ji jj jk jl jb dx translated">我也对潜水和太空工程感兴趣。乐意帮忙，一切都比火箭科学容易！</p></blockquote></div></div>    
</body>
</html>