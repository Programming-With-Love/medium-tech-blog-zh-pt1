<html>
<head>
<title>Paying Attention to the Details</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关注细节</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/paying-attention-to-details-eb0c43d0b02b?source=collection_archive---------3-----------------------#2019-02-27">https://medium.com/walmartglobaltech/paying-attention-to-details-eb0c43d0b02b?source=collection_archive---------3-----------------------#2019-02-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/13dbd59098860ef9f3a49e2cb1060e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CWLK_HSxz54vgYAo"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@rxspawn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Florian Olivo</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5f64" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我不得不构建和使用的最常见的UI组件之一，似乎是每天都在使用的，是一个在一些用户交互(如单击或点击)后内容显示在容器中的组件。</p><p id="9e11" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">用于实现这种交互的一些组件是</p><ul class=""><li id="8ed0" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">手风琴</li><li id="5f6d" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">工具提示</li><li id="b08e" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">情态动词</li><li id="8fe1" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">遮掩</li></ul><p id="9fc3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我在构建此类组件时遇到的一些常见问题是:</p><ul class=""><li id="cca5" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">倾向于使用非语义的通用<div>标签</div></li><li id="9fdf" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">我们需要强大的状态管理，尤其是在使用React处理所有可能的用例时。</li><li id="e497" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">纯粹的CSS解决方案有时不足以实现响应式设计，导致JavaScript膨胀。</li></ul><h2 id="00ba" class="kg kh hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">输入<details>标签</details></h2><p id="2d14" class="pw-post-body-paragraph iu iv hh iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated"><a class="ae it" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details" rel="noopener ugc nofollow" target="_blank"> HTML5 &lt; details &gt; </a>标签是实现这些组件的一个很好的解决方案。与&lt; summary &gt;标签配合使用，它可以用来快速构建显示和隐藏容器中内容的小部件。</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/7a9f2ab65258f356a2926f14a4722086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*608cNYy4NCYVamq9cldcjg.gif"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Details in action</figcaption></figure><figure class="lh li lj lk fd ii"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="66d8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">正如在示例中看到的，它可以开箱即用来实现一个简单的类似手风琴的模式。</p><p id="2930" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然而，我们可以进一步增强details标签，并使用它为更广泛的用例制作更多的组件。</p></div><div class="ab cl ln lo go lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ha hb hc hd he"><p id="686f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">下面的例子使用React，但是也可以使用普通的JavaScript轻松实现。</p><p id="af27" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">提示:对于这些例子，一定要添加一个移除细节箭头的CSS规则</p><pre class="lh li lj lk fd lu lv lw lx aw ly bi"><span id="4f01" class="kg kh hh lv b fi lz ma l mb mc">details summary::-webkit-details-marker {</span><span id="4178" class="kg kh hh lv b fi md ma l mb mc">  display:none;</span><span id="9630" class="kg kh hh lv b fi md ma l mb mc">}</span></pre><h2 id="0893" class="kg kh hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">情态的</h2><p id="717c" class="pw-post-body-paragraph iu iv hh iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">我们可以使用<details>和<summary>标签编写一个简单的组件，它将被调用为:</summary></details></p><pre class="lh li lj lk fd lu lv lw lx aw ly bi"><span id="ffae" class="kg kh hh lv b fi lz ma l mb mc">&lt;Container launchText="Click me" content={&lt;h2&gt;Hello There!&lt;/h2&gt;} /&gt;</span></pre><p id="8b5c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">该组件有两个支柱:</p><p id="405e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du me mf mg lv b">launchText</code> —用户将通过点击或轻敲与之交互以显示内容的摘要的组件或文本。</p><p id="a6d3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du me mf mg lv b">content</code> —要在容器中显示的组件或文本。</p><figure class="lh li lj lk fd ii"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="2d16" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将添加一些样式在屏幕中央显示模态内容</p><figure class="lh li lj lk fd ii"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="68c5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">结果:</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/23e92755da388c18b1243fbae586fb1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/1*prZ2kwPGYsuSdMBQu8yG5Q.gif"/></div></figure><p id="73db" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">正如我们所看到的，容器组件是最小的，更具描述性。这里唯一需要注意的是，为了关闭details标签，我们必须包含一个对details DOM节点的引用，并在单击关闭按钮时在其上设置<code class="du me mf mg lv b">open=false</code>。</p><p id="4e1b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以进一步扩展这个概念，创建一个完整的页面覆盖</p><h2 id="a62c" class="kg kh hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">覆盖物</h2><p id="79ee" class="pw-post-body-paragraph iu iv hh iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">要创建全页面模式覆盖，请将三个样式规则更改为:</p><figure class="lh li lj lk fd ii"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="c82f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">结果:</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/96ef23ae12e016ec1664234e820799d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*iNw7tVpYqhiVAv4VtdmASw.gif"/></div></figure><h2 id="c713" class="kg kh hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">工具提示</h2><p id="15e7" class="pw-post-body-paragraph iu iv hh iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated"><details>也可以用来创建工具提示或弹出按钮。我们需要做的只是添加一些样式和伪元素。</details></p><figure class="lh li lj lk fd ii"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="4c7c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">结果:</p><figure class="lh li lj lk fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/d95ec287584753398d28d17aa0590855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*JNC8Z-QR4jjST0k3Ict9yA.gif"/></div></figure><p id="6bf3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">正如我们所见，<details> &amp; <summary>标签提供了一个清晰的接口来构建一些常见的UI组件。</summary></details></p><p id="d141" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">使用<details>标签有一些注意事项，比如:</details></p><ul class=""><li id="16df" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">浏览器兼容性:根据<a class="ae it" href="https://caniuse.com/#search=details" rel="noopener ugc nofollow" target="_blank">can use</a>，87%的桌面浏览器和96%的移动浏览器支持细节标签。如果你支持IE11 &amp; Edge，这可能不是一个理想的解决方案，但对于移动体验会很有用。</li><li id="33ca" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">直接DOM访问:正如我们在示例中看到的，我们需要访问DOM节点来删除<code class="du me mf mg lv b">open</code>属性。直接访问DOM可能是一个缺点，尤其是在使用React这样的框架时，但是我会测试各种用例，并在放弃这种方法之前分析组件的性能。</li></ul><p id="1896" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在你知道了。创建语义一致的UI元素来隐藏和显示内容的简单方法。只要记得盯着<details>😉</details></p></div></div>    
</body>
</html>