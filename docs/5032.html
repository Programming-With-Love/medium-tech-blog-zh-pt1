<html>
<head>
<title>How to make the most out of Mendix’ native REST publish functionality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何充分利用Mendix的原生REST发布功能</h1>
<blockquote>原文：<a href="https://medium.com/mendix/how-to-make-the-most-out-of-mendix-native-rest-publish-functionality-1a150b43ef10?source=collection_archive---------1-----------------------#2020-04-28">https://medium.com/mendix/how-to-make-the-most-out-of-mendix-native-rest-publish-functionality-1a150b43ef10?source=collection_archive---------1-----------------------#2020-04-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/3f38dd58d41c8c2158fae13c0f5355d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ExeE4cf2CTUcSOK95YYhJw.png"/></div></div></figure><p id="4e76" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">Mendix Modeler最受欢迎的特性之一已经发布，并且正在不断改进中:本地发布的REST服务！在这篇博客中，我想解释一下Mendix工具箱中的这个附件是做什么的，为什么你应该使用它以及如何使用它。</p><p id="bed5" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">就像<a class="ae jz" href="https://www.youtube.com/watch?v=4ZT2AXgGzAU" rel="noopener ugc nofollow" target="_blank">莫连接</a>五年前说的:每个人、每个事物都需要连接。即使莫说的是手机和人，应用程序也是如此。如今，我们产生了大量的数据，如果我们不与其他应用程序共享这些数据，以便它们可以进一步改善它们的使用，那我们就是疯了。</p><p id="ebb0" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">这正是最新发布的REST服务让我们能够做到的。当然，这在已发布的web服务和REST模块中已经是可能的了，但是我们Mendix开发人员喜欢在Mendix Modeler中本地提供令人敬畏的特性。尤其是像这样好用的！</p><p id="695f" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">我们现在可以创建一个已发布的REST服务，并立即定义所需的端点和操作。安全由Mendix负责，除此之外，我们还自动获得Swagger文档，与我们的客户、合作伙伴和同事共享。正是这些功能让我非常开心！</p><p id="50d5" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">在使用了这些服务之后，我想利用这个机会给你一些建议，告诉你如何充分利用你发布的服务。为了将这些提示放在一个上下文中，我们将使用一个关于水果的示例服务。</p><h1 id="ca02" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">1.使用HttpRequest body属性在POST操作中接收数据。</h1><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ky"><img src="../Images/fbb1eb33dbdaca3151d8469d68a109f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9swgX_Sh2m_ZPpkX"/></div></div></figure><p id="761a" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ld">尽量将操作路径/参数的使用限制为仅标识符，因为数据在URL和您的传出请求中是可见的。可以在GET或DELETE操作的操作路径中使用参数，但是要避免在POST操作中使用这些参数。</em></p><p id="e56c" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">OK:GET-&gt; localhost:8080/rest/fruit-v1/fruit/banana</p><p id="0dc9" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">不OK:POST-&gt; localhost:8080/rest/fruit-v1/fruit？name =香蕉&amp; color =黄色</p><h1 id="5c6c" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">2.使用导入映射来解析请求的正文。</h1><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/2c0d022a56a77806610dbef695094f93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wflNzgSaiz5lXZOH"/></div></div></figure><p id="730e" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ld">从Mendix 7.11开始，您可以在从JSON导入活动中使用HttpRequest作为输入。</em></p></div><div class="ab cl lf lg hb lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><h1 id="4c11" class="ka kb hu bd kc kd lm kf kg kh ln kj kk kl lo kn ko kp lp kr ks kt lq kv kw kx dt translated">3.想想向后兼容性。例如，您可以为每个版本创建一个新的域模型，这样在您部署一个新版本时，不是每个人都需要更新他们的服务。</h1><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lr"><img src="../Images/79d116ad432e3f5f5e96974f30b669ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5UZh0av86_zi7z0W"/></div></div></figure><p id="dfb0" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">另外，将版本添加到您的服务名中，这样它将在您的文档中可见。从Mendix 13.1开始，版本控制被合并到建模器中。</p><h1 id="e2e4" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">4.为每种类型的错误创建通用响应流，例如<a class="ae jz" href="https://httpstatuses.com/422" rel="noopener ugc nofollow" target="_blank"> 422 </a>和<a class="ae jz" href="https://httpstatuses.com/404" rel="noopener ugc nofollow" target="_blank"> 404 </a>以及成功消息，例如<a class="ae jz" href="https://httpstatuses.com/200" rel="noopener ugc nofollow" target="_blank"> 200 </a>和<a class="ae jz" href="https://httpstatuses.com/201" rel="noopener ugc nofollow" target="_blank"> 201 </a>。这将使您能够快速构建验证和错误处理。</h1><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ls"><img src="../Images/b715d45c62b747a6c87456e102875215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4bQ0yfer52fLVgkz"/></div></div></figure><p id="706e" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">没有人喜欢用蹩脚的错误处理来消费web服务。不要犯同样的错误！</p><h1 id="3ae6" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">5.发送响应时一定要设置HttpHeader！</h1><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/f8ad95857f54109aca84b0d744a51ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oat0NUp5wwotq2no"/></div></div></figure><p id="7008" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated"><em class="ld">没有这个，接收端就不知道你在给他们提供什么样的内容。在某些情况下，这将导致错误。</em></p><p id="4c31" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">如果你也想发布自己的服务，看看<a class="ae jz" href="https://www.youtube.com/watch?v=HzrFkv0U4n8" rel="noopener ugc nofollow" target="_blank">我的YouTube教程</a>了解更多信息，从<a class="ae jz" href="https://appstore.home.mendix.com/link/app/106541/TimeSeries/Native-REST-publish-example-project" rel="noopener ugc nofollow" target="_blank">Mendix app store</a>下载我的示例项目或者<a class="ae jz" href="https://github.com/Criccle/RESTPublish" rel="noopener ugc nofollow" target="_blank">在Github </a>上找到它。关于REST API的一些最佳实践，请看一下这个网站或者这篇文章。</p><p id="7032" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">其他重要资源包括:</p><ol class=""><li id="30fe" class="lu lv hu bd b je jf ji jj jm lw jq lx ju ly jy lz ma mb mc dt translated"><a class="ae jz" href="https://docs.mendix.com/howto/integration/consume-a-rest-service" rel="noopener ugc nofollow" target="_blank">https://docs . mendix . com/how to/integration/consume-a-rest-service</a></li><li id="31de" class="lu lv hu bd b je md ji me jm mf jq mg ju mh jy lz ma mb mc dt translated"><a class="ae jz" href="https://docs.mendix.com/refguide/call-rest-action" rel="noopener ugc nofollow" target="_blank">https://docs.mendix.com/refguide/call-rest-action</a></li><li id="9821" class="lu lv hu bd b je md ji me jm mf jq mg ju mh jy lz ma mb mc dt translated"><a class="ae jz" href="https://video.mendix.com/watch/RMw45uwCAjYi2ej7ykAseu" rel="noopener ugc nofollow" target="_blank">https://video.mendix.com/watch/RMw45uwCAjYi2ej7ykAseu</a>如何修正——消费休息服务</li><li id="bfef" class="lu lv hu bd b je md ji me jm mf jq mg ju mh jy lz ma mb mc dt translated"><a class="ae jz" href="https://gettingstarted.mendixcloud.com/link/path/44/Importing-and-Exporting-Your-Data" rel="noopener ugc nofollow" target="_blank">https://getting started . mendix cloud . com/link/path/44/Importing-and-export-Your-Data</a></li><li id="2312" class="lu lv hu bd b je md ji me jm mf jq mg ju mh jy lz ma mb mc dt translated"><a class="ae jz" href="https://ww2.mendix.com/expert-webinar-REST-Services.html" rel="noopener ugc nofollow" target="_blank">https://ww2.mendix.com/expert-webinar-REST-Services.html</a></li><li id="bac8" class="lu lv hu bd b je md ji me jm mf jq mg ju mh jy lz ma mb mc dt translated"><a class="ae jz" href="https://ww2.mendix.com/Expert-Webinar.REST-Integration.html" rel="noopener ugc nofollow" target="_blank">https://ww2.mendix.com/Expert-Webinar.REST-Integration.html</a></li></ol><p id="29a8" class="pw-post-body-paragraph jc jd hu bd b je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy hn dt translated">想自己动手使用<a class="ae jz" href="https://www.mendix.com/" rel="noopener ugc nofollow" target="_blank"> Mendix </a>吗？<a class="ae jz" href="https://signup.mendix.com/link/signup/?ref=27200" rel="noopener ugc nofollow" target="_blank">在这里报名吧！</a></p><figure class="kz la lb lc fq iv"><div class="bz el l di"><div class="mi mj l"/></div></figure></div></div>    
</body>
</html>