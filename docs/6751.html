<html>
<head>
<title>How to build an Angular 8 application with API request in 10 minutes?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在10分钟内搭建一个API请求的Angular 8应用？</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/how-to-build-an-angular-8-application-with-api-request-in-10-minutes-628266d05e9?source=collection_archive---------0-----------------------#2019-12-02">https://medium.com/quick-code/how-to-build-an-angular-8-application-with-api-request-in-10-minutes-628266d05e9?source=collection_archive---------0-----------------------#2019-12-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d77f3a55638161005052ba8a04ee8519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lMcC7cJY7EC5dI4aeaeqiA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="ebb1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">不久前，我创建了第一个关于<a class="ae it" href="https://www.blog.duomly.com/how-to-create-react-app-in-5-minutes/" rel="noopener ugc nofollow" target="_blank"> React.js </a>的教程，向您展示了如何使用现有的API和引导程序创建一个简单的React.js应用程序。对本文的积极回应让我想到了创建一系列简单教程的想法，这些教程讲述了如何用最流行的前端框架构建应用程序。让它对初学者和那些喜欢看和学，然后读和学的人更有帮助；我还决定给每一集添加一个Youtube视频。</p><p id="5927" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所以，正如我之前已经提到的，我已经创建了关于<a class="ae it" href="https://www.youtube.com/watch?v=SPM4xyYd9MI" rel="noopener ugc nofollow" target="_blank"> React.js </a>的文本和Youtube【链接】教程。在此之后，我决定继续使用Vue.js，这就是如何创建<a class="ae it" href="https://www.blog.duomly.com/vue-js-tutorial-how-to-create-vue-js-app-in-5-minutes/" rel="noopener ugc nofollow" target="_blank"> Vue.js教程</a>和<a class="ae it" href="https://www.youtube.com/watch?v=i43MZ_oSRfs" rel="noopener ugc nofollow" target="_blank"> Vue js教程——如何在Vue </a>中构建应用程序。</p><p id="ee2f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">今天是时候为角度爱好者创作一篇文章和一集Youtube视频了。所以，让自己舒服一点，先从谷歌开发者创建的框架说起。</p><figure class="js jt ju jv fd ii"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="3717" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">开始吧！</p><h2 id="01d8" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">1.安装@angular/cli</h2><p id="abfc" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">本教程中，我们将开始安装Angular CLI。这个工具允许我们创建一个安装了所有依赖项的现成应用程序。更棒的是，Angular CLI将允许我们创建现成的组件和服务。因此，让我们打开控制台并使用以下命令:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="fe7e" class="jy jz hh kz b fi ld le l lf lg">npm install -g @angular/cli</span></pre><p id="1fdb" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">安装完成后，您应该会看到如下信息:</p><figure class="js jt ju jv fd ii er es paragraph-image"><div class="er es lh"><img src="../Images/45b3d9a7f5c6601e8a2427d64e522535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*jRTwqFuUvLn4S-aRP_ZgnQ.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><h2 id="f48c" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">2.创建项目</h2><p id="6836" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">因此，我们已经有了构建应用程序的工具，现在我们将创建一个。导航到要创建应用程序的文件夹，并使用ng命令。在我的例子中，应用程序的名称是“相册”,但是你可以随意命名你的应用程序。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="05eb" class="jy jz hh kz b fi ld le l lf lg">ng new albums</span></pre><p id="5a3d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">运行该命令后，将会询问您两个问题。第一，如果你想安装路由，第二，你喜欢什么风格，CSS，Sass，Less，等等。</p><p id="57d9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这种情况下，我对第一个问题选择了是，并决定使用CSS进行样式化。</p><p id="2ec4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">成功创建项目后，我们就可以运行它了。</p><h2 id="84e9" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">3.运行应用程序</h2><p id="bae8" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">要运行应用程序，您需要首先在控制台中获取app文件夹。对我来说，是专辑。然后键入以下命令:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="ba30" class="jy jz hh kz b fi ld le l lf lg">ng serve</span></pre><p id="25c1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这可能需要几秒钟的时间，在您看到编译成功的消息后，您可以在浏览器中检查它是如何工作的。【Angular应用的默认端口是4200，但如果你愿意，你可以自定义它。</p><p id="eb88" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们转到浏览器，打开<a class="ae it" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>或您的自定义端口。您应该会看到如下图所示的应用程序:</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/12e4faf1638a80f1bb175279cfbc935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oRfsRF567LjY7gdb.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="6b7e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">太好了，第一步完成了。现在，让我们开始构建我们的应用程序吧！</p><h2 id="1ccd" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">4.创建第一个组件</h2><p id="ab6c" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">让我们在您最喜欢的代码编辑器中打开一个包含该应用程序的文件夹。在<strong class="iw hi">内部。/src/app </strong>文件夹是我们的主文件app.component.ts和app.module.ts。我们现在想创建自己的组件，但是为了避免应用程序的结构混乱，让我们创建一个名为<strong class="iw hi">组件</strong>的新文件夹。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lj"><img src="../Images/2b3d9f5a2d586890cfc6401df702da8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/0*R3mBOLEYcIPtXpxz.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="f4ae" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">很好，如果我们的文件夹现在已经准备好了，让我们在您的控制台中导航到该文件夹，我们将使用Angular CLI来生成组件。为此，我们将使用以下命令:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="856c" class="jy jz hh kz b fi ld le l lf lg">ng generate component albums</span></pre><p id="f855" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一秒钟后，我们的组件应该准备好了。现在，让我们删除当前显示的内容，并将rout设置为我们的新组件。</p><h2 id="6a3f" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">5.设置第一条路线</h2><p id="3128" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">让我们从删除app.component.html文件中的几乎所有内容开始。我们唯一想留下的是&lt; router-outlet &gt;，文件应该是这样的:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="572c" class="jy jz hh kz b fi ld le l lf lg">&lt;div class="container"&gt;<br/>  &lt;router-outlet&gt;&lt;/router-outlet&gt;<br/>&lt;/div&gt;</span></pre><p id="3c3a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果准备好了，让我们转到<strong class="iw hi"> app-routing.module.ts </strong>来设置相册组件的路径。我们必须添加一个新路径，如下面的代码所示:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="c1ad" class="jy jz hh kz b fi ld le l lf lg">const routes: Routes = [<br/>  { path: '', component: AlbumsComponent },<br/>];</span></pre><p id="309a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这一步之后，我们应该在浏览器中看到相册组件的模板。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/ed7506920641cd6be06c9a93c8566040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Wt8A-HaxKptYOH6B.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><h2 id="fbd3" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">6.创建服务和API调用</h2><p id="099e" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">接下来我们要做的是创建一个API调用。在Angular中，我们使用服务创建一个Http请求，但是我们还需要从<strong class="iw hi"> app.module.ts </strong>文件中的@angular/common/http导入HttpClientModule，我们把它注入到imports数组中。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="e786" class="jy jz hh kz b fi ld le l lf lg">import { BrowserModule } from '@angular/platform-browser';<br/>import { NgModule } from '@angular/core';<br/>import { HttpClientModule } from '@angular/common/http';<br/><br/>import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { AlbumsComponent } from './components/albums/albums.component';<br/><br/>@NgModule({<br/>  declarations: [<br/>    AppComponent,<br/>    AlbumsComponent,<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule,<br/>    HttpClientModule<br/>  ],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="8307" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们在<strong class="iw hi">中创建一个名为services的新文件夹。/src/app </strong>保持我们的服务。如果您准备好了服务文件夹，您可以使用以下命令生成新的服务，就像组件一样(请记住导航到您想要创建服务的文件夹):</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="38a3" class="jy jz hh kz b fi ld le l lf lg">ng generate service &lt;servicename&gt; </span></pre><p id="b3e9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我们的例子中，让我们创建一个名为photos的服务。准备好后，打开photos.service.ts文件，从@angular/common/http导入HttpClient。完成后，在构造函数中注入HttpClient，如下面的代码所示:</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="21c2" class="jy jz hh kz b fi ld le l lf lg">import { Injectable } from '@angular/core';<br/>import { HttpClient } from '@angular/common/http';<br/><br/>@Injectable({<br/>  providedIn: 'root'<br/>})<br/>export class PhotosService {<br/>  constructor(<br/>    private http: HttpClient<br/>  ) { }<br/>}</span></pre><p id="7a7c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后，我们可以创建我们的第一个API调用。和之前的教程一样，我将使用<a class="ae it" href="http://www.jsonplaceholder.com/" rel="noopener ugc nofollow" target="_blank">www.jsonplaceholder.com</a>API。让我们创建一个发出API请求并返回它的函数。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="bf29" class="jy jz hh kz b fi ld le l lf lg">getAlbums() {<br/>    return this.http.get('https://jsonplaceholder.typicode.com/albums');<br/>  }</span></pre><h2 id="27c2" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">7.从组件调用API</h2><p id="f18b" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">让我们继续为数据调用API。在albums.component.ts中，让我们导入服务并将其注入构造函数中的组件。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="b67c" class="jy jz hh kz b fi ld le l lf lg">import { PhotosService } from './../../services/photos.service';<br/>import { Component, OnInit } from '@angular/core';<br/><br/>@Component({<br/>  selector: 'app-albums',<br/>  templateUrl: './albums.component.html',<br/>  styleUrls: ['./albums.component.css']<br/>})<br/>export class AlbumsComponent implements OnInit {<br/>  constructor(<br/>    private photosService: PhotosService,<br/>  ) { }<br/><br/>  ngOnInit() {}<br/>}</span></pre><p id="b1ff" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们还需要在组件中为相册<strong class="iw hi">定义一个属性。就在构造函数上方，让我们添加相册属性。</strong></p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="1591" class="jy jz hh kz b fi ld le l lf lg">export class AlbumsComponent implements OnInit {<br/>  albums;<br/>  constructor(<br/>    private photosService: PhotosService,<br/>  ) { }</span></pre><p id="fbe3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们将API的响应分配给ngOnInit()方法中的albums属性。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="2b78" class="jy jz hh kz b fi ld le l lf lg">ngOnInit() {<br/>  this.albums = this.photosService.getAlbums();<br/>}</span></pre><h2 id="bec9" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">8.创建模板</h2><p id="6576" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">现在是时候显示我们的数据了，为此，我们需要一个好的模板。为了更方便快捷，让我们在index.html文件中导入Bootstrap。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="5550" class="jy jz hh kz b fi ld le l lf lg">&lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;Albums&lt;/title&gt;<br/>  &lt;base href="/"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br/>  &lt;link rel="icon" type="image/x-icon" href="favicon.ico"&gt;<br/>  &lt;link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"&gt;<br/>&lt;/head&gt;</span></pre><p id="677f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果完成了，让我们打开albums.component.html文件并创建一个模板，如下面的代码所示。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="e7ad" class="jy jz hh kz b fi ld le l lf lg">&lt;div&gt;<br/>  &lt;h3&gt;Albums collection&lt;/h3&gt;<br/>  &lt;div class="row"&gt;<br/>    &lt;div class="col-sm-4" *ngFor="let album of albums | async"&gt;<br/>      &lt;div class="card"&gt;<br/>        &lt;div class="card-body"&gt;<br/>          &lt;a&gt;{{album.title}}&lt;/a&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="59aa" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为了将数据添加到模板中，我们使用了*ngFor和async pipe。正如您可能看到的，在代码内部，有一个元素将被重定向到特定的相册以显示该相册中的照片。为此，我们需要创建另一条路线。</p><h2 id="ae10" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">9.使用变量创建路线</h2><p id="47b1" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">在app-routing.module.ts文件中，我们必须添加另一个route对象。在这种情况下，路径将是一个带有变量的字符串，我们将通过id重定向到一个特定的相册。请按照下面的示例更新代码。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="4dc7" class="jy jz hh kz b fi ld le l lf lg">const routes: Routes = [<br/>  { path: '', component: AlbumsComponent },<br/>  { path: 'photos/:albumId', component: PhotosComponent }<br/>];</span></pre><p id="3796" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，您应该会收到一个错误，因为我们在路径中使用了一个不存在的Photos组件。在这种情况下，我们必须创建一个新的组件来消除bug。</p><h2 id="6c70" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">10.创建另一个组件</h2><p id="b03e" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">像以前一样，让我们导航到控制台中的components文件夹，并使用ng命令生成一个名为photos的新组件。如果它准备好了，你的错误就不会再出现了。</p><h2 id="0c9e" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">11.添加重定向链接</h2><p id="292b" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">在相册组件中，我们没有完成代码。让我们回到模板并更新链接，如下面的代码所示。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="48da" class="jy jz hh kz b fi ld le l lf lg">&lt;a routerLink="photos/{{album.id}}"&gt;{{album.title}}&lt;/a&gt;</span></pre><p id="50d5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们将一些CSS代码应用于albums.components.css文件中的模板。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="36fa" class="jy jz hh kz b fi ld le l lf lg">h3 {<br/>  margin-top: 5%;<br/>  margin-bottom: 5%;<br/>}<br/><br/>.card {<br/>  margin-bottom: 3%;<br/>}<br/><br/>.card:hover {<br/>  background-color: #007bff;<br/>}<br/><br/>.card:hover a {<br/>  color: white;<br/>}<br/><br/>.card a:hover {<br/>  color: white;<br/>  text-decoration: none;<br/>}</span></pre><p id="4727" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">呜哇！应用程序的第一部分已经就绪。在浏览器中查看结果，您应该会看到如图所示的应用程序。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/844497ee639fd04ebdf13b064b1c7ec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fWs14Zd_nGHswg5r.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><h2 id="233d" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">12.创建第二个API调用</h2><p id="ef37" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">现在我们需要从通过相册id获取数据到我们的新组件开始。让我们回到<strong class="iw hi"> photos.service.ts </strong>文件并创建另一个函数。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="c790" class="jy jz hh kz b fi ld le l lf lg">getPhotos(albumId) {<br/>    return this.http.get(`https://jsonplaceholder.typicode.com/photos?albumId=${albumId}`);<br/>  }</span></pre><h2 id="f580" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">13.从链接获取查询参数</h2><p id="05d9" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">如果它准备好了，我们可以在照片组件中使用它。因此，打开photos.component.ts文件，像以前在相册组件中一样导入photos服务，并以同样的方式注入它。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="6216" class="jy jz hh kz b fi ld le l lf lg">import { PhotosService } from './../../services/photos.service';<br/>import { Component, OnInit } from '@angular/core';</span><span id="60f3" class="jy jz hh kz b fi lk le l lf lg">@Component({<br/>  selector: 'app-photos',<br/>  templateUrl: './photos.component.html',<br/>  styleUrls: ['./photos.component.css']<br/>})<br/>export class PhotosComponent implements OnInit {<br/>  photos;<br/>  constructor(<br/>    private photosService: PhotosService,<br/>  ) { }</span></pre><p id="0c47" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，我们将在ngOnInit()方法中调用getPhotos()函数，但不要忘记在构造函数上方初始化Photos的属性。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="26de" class="jy jz hh kz b fi ld le l lf lg">ngOnInit() {<br/>  this.photos = this.photosService.getPhotos(albumId);<br/>}</span></pre><p id="5a68" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这一步中，我们显然需要一个相册id，它可以从链接中的查询参数中获得。要访问这些参数，我们需要从@angular/router安装ActivatedRoute，并且我们还需要在构造函数中注入它。</p><p id="6e03" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当它准备好了，我们可以初始化照片属性下面的另一个属性albumId。在ngOnInit()方法中，让我们将URL中的id分配给this.albumId，并将其传递给API URL。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="8970" class="jy jz hh kz b fi ld le l lf lg">import { PhotosService } from './../../services/photos.service';<br/>import { Component, OnInit } from '@angular/core';<br/>import { ActivatedRoute } from '@angular/router';</span><span id="9b1c" class="jy jz hh kz b fi lk le l lf lg">@Component({<br/>  selector: 'app-photos',<br/>  templateUrl: './photos.component.html',<br/>  styleUrls: ['./photos.component.css']<br/>})<br/>export class PhotosComponent implements OnInit {<br/>  photos;<br/>  albumId;<br/>  constructor(<br/>    private photosService: PhotosService,<br/>    private route: ActivatedRoute,<br/>  ) { }</span><span id="ebbb" class="jy jz hh kz b fi lk le l lf lg">  ngOnInit() {<br/>    this.albumId = this.route.snapshot.params.albumId;<br/>    this.photos = this.photosService.getPhotos(this.albumId);<br/>  }<br/>}</span></pre><p id="ca9f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们就快到了，现在我们唯一需要做的就是为照片创建一个模板。</p><h2 id="4caf" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">14.创建模板</h2><p id="eeb3" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">在photos.component.html文件中，让我们添加以下HTML代码，并用*ngFor传递照片。</p><p id="1a1a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们也会传递this.albumId来显示相册的Id。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="8203" class="jy jz hh kz b fi ld le l lf lg">&lt;div&gt;<br/>  &lt;button routerLink="/" class="btn btn-light"&gt;Go back&lt;/button&gt;<br/>  &lt;h3&gt;Album {{albumId}}&lt;/h3&gt;<br/>  &lt;div class="row"&gt;<br/>    &lt;div class="col-md-3 photo" *ngFor="let photo of photos | async"&gt;<br/>      &lt;img src={{photo.url}} class="img-fluid" /&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="32a1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后一步是添加一些CSS代码，使我们的应用程序漂亮。</p><pre class="js jt ju jv fd ky kz la lb aw lc bi"><span id="c9ec" class="jy jz hh kz b fi ld le l lf lg">.photo {<br/>  margin-bottom: 3%;<br/>}<br/>h3 {<br/>  margin-bottom: 5%;<br/>  margin-top: 5%;<br/>}<br/>button {<br/>  margin-top: 10px;<br/>}</span></pre><h2 id="2ce7" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">15.呜哇！</h2><p id="5d90" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">我们在那里！在浏览器中检查您的应用程序，并尝试导航到相册并返回。您应该能够看到如下图所示的屏幕。</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/573be12300945b5e3daf9d27358e4624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fzfB0hj14mF-Ypy-.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="1f85" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">相册页面</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/dbad640e7a392350f34300165688c525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5Avr55NSOYhxNYie.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="a385" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">照片页面</p><p id="1679" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">恭喜你！</p><h2 id="f3b5" class="jy jz hh bd ka kb kc kd ke kf kg kh ki jf kj kk kl jj km kn ko jn kp kq kr ks bi translated">结论</h2><p id="8613" class="pw-post-body-paragraph iu iv hh iw b ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ha bi translated">在本文中，我使用Angular 8创建了一个简单的应用程序。为了创建应用程序、组件和服务，我使用Angular CLI工具，并且我们使用Bootstrap来使我们的模板又好又快。应用程序有一个简单的路由，让你熟悉创建路由和REST API请求，向你展示我们如何在Angular中管理API调用。结果，我得到了一个有专辑列表和每个专辑的详细页面的应用程序。</p><p id="43ec" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我希望你会发现这个教程很有帮助，并把它作为你第一次角度应用训练的基础。如果你觉得Youtube视频更舒服，请随意在这里观看本教程。</p><p id="6c7b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">有一个不错的编码，<br/>来自Duomly的安娜</p><figure class="js jt ju jv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/648a8211d4e8253e434a85de6aeb5bb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2XTSHM7D3QUKxqha.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.duomly.com" rel="noopener ugc nofollow" target="_blank">Duomly — Programming Online Courses</a></figcaption></figure><p id="53c7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本文最初发表于:<a class="ae it" href="https://www.blog.duomly.com/angular-tutorial/" rel="noopener ugc nofollow" target="_blank">https://www.blog.duomly.com/angular-tutorial/</a></p></div></div>    
</body>
</html>