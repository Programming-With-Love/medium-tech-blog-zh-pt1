<html>
<head>
<title>A quick start for Always Free</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">永远免费的快速入门</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/a-quick-start-for-always-free-505e54410bb3?source=collection_archive---------0-----------------------#2022-11-17">https://medium.com/oracledevs/a-quick-start-for-always-free-505e54410bb3?source=collection_archive---------0-----------------------#2022-11-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex ie if ig ih er es paragraph-image"><div class="ab fe cl ii"><img src="../Images/b33a7364a8aca2f2a3bcb7cdc5cf548e.png" data-original-src="https://miro.medium.com/v2/format:webp/0*1ltE4ijTH-X87mFu.jpg"/></div></figure><p id="0da7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对于始终免费的云基础架构，从头开始会更快。为了帮助您，Oracle提供了一些示例来帮助您入门！</p><div class="jj jk ez fb jl jm"><a href="https://github.com/oracle/terraform-provider-oci/tree/master/examples/always_free" rel="noopener  ugc nofollow" target="_blank"><div class="jn ab dw"><div class="jo ab jp cl cj jq"><h2 class="bd hi fi z dy jr ea eb js ed ef hg bi translated">terra form-provider-OCI/examples/always _ free at master Oracle/terra form-provider-OCI</h2><div class="jt l"><h3 class="bd b fi z dy jr ea eb js ed ef dx translated">这是一个Terraform配置，它在Oracle云基础架构上创建了始终免费的服务。地形…</h3></div><div class="ju l"><p class="bd b fp z dy jr ea eb js ed ef dx translated">github.com</p></div></div><div class="jv l"><div class="jw l jx jy jz jv ka ij jm"/></div></div></a></div><p id="76fb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">首先，设置快速开始使用Oracle cloud shell的先决条件。</p><div class="jj jk ez fb jl jm"><a href="https://paulguerin.medium.com/quick-start-with-the-oracle-cloud-shell-82cc2d78d381" rel="noopener follow" target="_blank"><div class="jn ab dw"><div class="jo ab jp cl cj jq"><h2 class="bd hi fi z dy jr ea eb js ed ef hg bi translated">Oracle云外壳快速入门</h2><div class="jt l"><h3 class="bd b fi z dy jr ea eb js ed ef dx translated">您已经有了Oracle Cloud帐户，所以您的任务清单上有一些来自Oracle Github的官方示例…</h3></div><div class="ju l"><p class="bd b fp z dy jr ea eb js ed ef dx translated">paulguerin.medium.com</p></div></div><div class="jv l"><div class="kb l jx jy jz jv ka ij jm"/></div></div></a></div><p id="8666" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">一旦先决条件完成，我们就可以为总是空闲的资源创建一个区间了。</p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><h2 id="e91d" class="kj kk hh bd kl km kn ko kp kq kr ks kt iw ku kv kw ja kx ky kz je la lb lc ld bi translated">创建一个隔间</h2><p id="323f" class="pw-post-body-paragraph il im hh in b io le iq ir is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji ha bi translated">从命令行使用Terraform创建一个隔离专区，专门用于总是免费的资源。为此，我们需要创建一个目录:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="3c7d" class="ls kk hh lo b be lt lu l lv lw">mkdir tf-alwaysfree<br/>cd tf-alwaysfree</span></pre><p id="35f9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">接下来，创建名为compartment.tf的文件。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="9d6b" class="ls kk hh lo b be lt lu l lv lw">vim compartment.tf</span></pre><p id="e20e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">该文件将包含要创建的新隔离专区的配置详细信息。我们将创建一个名为“alwaysfree”的隔离专区，它将是根隔离专区的子隔离专区。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="de59" class="ls kk hh lo b be lt lu l lv lw">resource "oci_identity_compartment" "tf-compartment" {<br/>  # this compartment_id is the root compartment<br/>  compartment_id = "ocid1.tenancy.oc1..&lt;etc&gt;"<br/>  description = "Compartment for Always Free resources."<br/>  name = "alwaysfree"<br/>}</span></pre><p id="ba22" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这种情况下的隔离专区id是根隔离专区。那么name变量将定义新隔离专区的名称。</p><p id="2b4c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，我们准备执行基础设施编排来创建新的隔离专区。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="2db4" class="ls kk hh lo b be lt lu l lv lw">terraform init<br/>terraform plan<br/>terraform apply</span></pre><p id="fd5a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="lx">注意—创建后，在控制台中浏览资源时，您可能无法从列表中选择隔离专区。要在控制台中查看隔离专区，请尝试从控制台注销，然后再次登录。</em></p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><h2 id="bd6f" class="kj kk hh bd kl km kn ko kp kq kr ks kt iw ku kv kw ja kx ky kz je la lb lc ld bi translated">创造永远免费的资源</h2><p id="dc4e" class="pw-post-body-paragraph il im hh in b io le iq ir is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji ha bi translated">永远免费的配置是GitHub中terraform-provider-oci存储库的一部分。克隆存储库以开始。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="54c3" class="ls kk hh lo b be lt lu l lv lw">git clone https://github.com/oracle/terraform-provider-oci.git</span></pre><figure class="lj lk ll lm fd ih er es paragraph-image"><div class="er es ly"><img src="../Images/fe2c77e358a2079d590d449b7a659d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*4CfF6XZipOfVyAwwlsGxkw.png"/></div></figure><p id="eba8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在将目录改为always_free。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="73e9" class="ls kk hh lo b be lt lu l lv lw">cd ~/terraform-provider-oci/examples/always_free</span></pre><p id="cb6b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">main.tf文件具有Terraform配置，可以创建始终空闲的资源。首先，注释掉main.tf中的下面一行，以避免使用Terraform时出现错误。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="ac4d" class="ls kk hh lo b be lt lu l lv lw">key_algorithm = 'ECDSA'</span></pre><p id="e657" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">只需要注释掉它，就像这样:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="0d7f" class="ls kk hh lo b be lt lu l lv lw">#key_algorithm = 'ECDSA'</span></pre><p id="accc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">此外，因为我们想要使用刚刚创建的名为alwaysfree的隔离专区，所以我们需要确定隔离专区的OCID。车厢OCID可从控制台的Identity菜单中获得。</p><figure class="lj lk ll lm fd ih er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es lz"><img src="../Images/9616731a308492d05bda11d455d2d924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jD9tLQn_ZEgq9Wo_JF5cpw.png"/></div></div></figure><p id="72fa" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">一旦我们知道了隔离专区的OCID，就可以编辑~/env-vars.sh文件，并将TF_VAR_compartment_ocid更改为正确的隔离专区。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="92f7" class="ls kk hh lo b be lt lu l lv lw">vim ~/env-vars.sh</span></pre><figure class="lj lk ll lm fd ih er es paragraph-image"><div class="er es me"><img src="../Images/ffed04d0028e81d7c4824fbaba28cd9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*l7TGEVjzhn3-M6TzZu85-g.png"/></div></figure><p id="6ec4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">您可能也需要根据正确的代码来设置区域。以下网站中定义了正确的代码:</p><p id="411a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae mf" href="https://docs.oracle.com/en-us/iaas/Content/General/Concepts/regions.htm#top" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/en-us/iaas/Content/General/Concepts/regions . htm # top</a></p><p id="e266" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在将环境变量设置为Terraform的先决条件:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="63c0" class="ls kk hh lo b be lt lu l lv lw">source ~/env-vars.sh<br/>env | grep TF</span></pre><p id="7fce" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，您可以再次使用Terraform编排基础设施了:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="2b67" class="ls kk hh lo b be lt lu l lv lw">terraform init<br/>terraform plan<br/>terraform apply</span></pre></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><h2 id="f3c2" class="kj kk hh bd kl km kn ko kp kq kr ks kt iw ku kv kw ja kx ky kz je la lb lc ld bi translated">你得到了什么</h2><p id="e157" class="pw-post-body-paragraph il im hh in b io le iq ir is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji ha bi translated">您获得的免费资源非常丰富，包括:</p><ul class=""><li id="ecc3" class="mg mh hh in b io ip is it iw mi ja mj je mk ji ml mm mn mo bi translated">带子网的VCN。</li><li id="c393" class="mg mh hh in b io mp is mq iw mr ja ms je mt ji ml mm mn mo bi translated">虚拟机。</li><li id="08fa" class="mg mh hh in b io mp is mq iw mr ja ms je mt ji ml mm mn mo bi translated">自治数据库。</li></ul><figure class="lj lk ll lm fd ih er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mu"><img src="../Images/0368f845d2794a6a530ca25f187fb067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sse4PoIQQI1A7j7jvLG54Q.png"/></div></div></figure><p id="8577" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在登录虚拟机之前，您需要从控制台获取公共IP。它们在计算菜单下。</p><figure class="lj lk ll lm fd ih er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es mv"><img src="../Images/38bfa19af5262329676870f739451c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-mbH1XaP2xz1Xs1f0zpsHg.png"/></div></div></figure><p id="2cb8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在，使用快速入门指南中创建的SSH密钥登录。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="df59" class="ls kk hh lo b be lt lu l lv lw"># login to freeinstance0<br/>ssh -i ~/.ssh/oci opc@150.230.8.217</span></pre><figure class="lj lk ll lm fd ih er es paragraph-image"><div class="ab fe cl ii"><img src="../Images/cec5cb2529555b9e10547c528d785fb2.png" data-original-src="https://miro.medium.com/v2/format:webp/1*VgYZ8rlAYRd9UhJw0SCE_A.png"/></div></figure><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="d20a" class="ls kk hh lo b be lt lu l lv lw"># login to freeinstance1<br/>ssh -i ~/.ssh/oci opc@192.9.167.239</span></pre><figure class="lj lk ll lm fd ih er es paragraph-image"><div class="er es mw"><img src="../Images/46a5e8f4b7ef871af3f79846f8d78f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*guwPwgdsyca4yRIBaVIuVg.png"/></div></figure><p id="2967" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">然后当你完成时，你可以指示Terraform销毁你的免费资源。</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="b23f" class="ls kk hh lo b be lt lu l lv lw">terraform destroy</span></pre><figure class="lj lk ll lm fd ih er es paragraph-image"><div class="er es mx"><img src="../Images/556dcec0ef2b724b59eb3049a96dbd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*W1sTfXpyy0ULa1LDrVz8tg.png"/></div></figure></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="f1d3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你对Oracle开发人员在他们的自然环境中发生的事情感到好奇，请加入我们的公共休闲频道！我们不介意成为你的鱼缸🐠</p><p id="1ce2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="lx"> Paul Guerin出席了一些世界领先的甲骨文会议，包括甲骨文2013年世界开放大会。自2015年以来，他的工作一直是IOUG最佳实践技巧小册子以及AUSOUG、Oracle Technology Network、Quest和Oracle Developers (Medium)出版物的主题。2019年，他被授予My Oracle支持社区最有价值贡献者。他将继续参与Oracle ACE计划。</em></p></div></div>    
</body>
</html>