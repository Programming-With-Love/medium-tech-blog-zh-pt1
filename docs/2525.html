<html>
<head>
<title>Dahsyatnya 1 Magic Comment di Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Dahsyatnya 1 Magic Comment di Ruby</h1>
<blockquote>原文：<a href="https://medium.easyread.co/dahsyatnya-1-magic-coment-di-ruby-c57af8f7d090?source=collection_archive---------7-----------------------#2020-07-10">https://medium.easyread.co/dahsyatnya-1-magic-coment-di-ruby-c57af8f7d090?source=collection_archive---------7-----------------------#2020-07-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3c79" class="pw-subtitle-paragraph jl im in bd b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc dk translated">Penjelasan dibalik dahsyatnya efek 1 magic comment di ruby</h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/28a20bc8fe1013b1bcf1f8281c71f39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gp0jgpYszR_kvWJ5.jpg"/></div></div></figure><p id="05e7" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">Hi guys, <em class="ll"> long time no see </em> …. akhirnya kali ini bisa menulis lagi di medium. <br/> <em class="ll"> Btw </em> , siapa di sini yang menggunakan <strong class="kr io"> Ruby </strong> ? Atau mungkin menggunakan <strong class="kr io"> RoR(Ruby on Rails) </strong> . <em class="ll"> Nah </em> , mungkin kalian sudah familiar dengan <em class="ll"> magic comment </em> ini atau bahkan belum. So, disini aku bakal jelasin kenapa <em class="ll"> magic comment </em> ini sangat dahsyat efeknya bagi performa aplikasi yang ditulis menggunakan ruby.</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><h1 id="e8d9" class="lt lu in bd lv lw lx ly lz ma mb mc md ju me jv mf jx mg jy mh ka mi kb mj mk bi translated">Ruby <em class="jk"> Comment </em></h1><p id="ebee" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated">Ruby memiliki beberapa tipe komentar, komentar tersebut adalah:</p><h2 id="c93b" class="mq lu in bd lv mr ms dn lz mt mu dp md ky mv mw mf lc mx my mh lg mz na mj nb bi translated"><strong class="ak"> <em class="jk"> Single Line/Multi-Line Comment </em> </strong></h2><p id="7787" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated"><strong class="kr io"> <em class="ll"> Single Line / Multi Line comment </em> </strong> adalah komentar dalam bahasa pemrograman ruby, layaknya bahasa pemrograman lainya yang memiliki komentar, dalam ruby untuk <em class="ll"> single line comment </em> dapat menggunakan <code class="fe nc nd ne nf b"><strong class="kr io">#</strong></code> dan <em class="ll"> multi line comment </em> dapat menggunakan <code class="fe nc nd ne nf b"><strong class="kr io">=begin … =end</strong></code> .</p><h2 id="f781" class="mq lu in bd lv mr ms dn lz mt mu dp md ky mv mw mf lc mx my mh lg mz na mj nb bi translated">Shebang C <em class="jk"> omment </em></h2><p id="a140" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated"><strong class="kr io"> <em class="ll"> Shebang comment </em> </strong> <code class="fe nc nd ne nf b"><strong class="kr io">#!</strong></code> adalah komentar yang akan memberi tahu unix shell(ex: <em class="ll"> bash </em> ), sehingga unix shell dapat menjalankan berkas tersebut, ketika kamu menambahkan komen ini di baris pertama berkas ruby kamu maka kamu dapat mengeksekusi kode ruby via unix shell. Contoh:</p><pre class="ke kf kg kh gt ng nf nh ni aw nj bi"><span id="f843" class="mq lu in nf b gy nk nl l nm nn"><strong class="nf io">#!/usr/bin/env ruby<br/>p “Hello World”</strong></span></pre><h2 id="93d2" class="mq lu in bd lv mr ms dn lz mt mu dp md ky mv mw mf lc mx my mh lg mz na mj nb bi translated"><em class="jk"> Magic Comment </em></h2><p id="f56b" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated"><strong class="kr io"> <em class="ll"> Magic comment </em> </strong> adalah sebuah komentar di ruby yang dapat memberi efek kepada aplikasi ruby, contoh <code class="fe nc nd ne nf b"><strong class="kr io"># frozen_string_literal: true</strong></code> .</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><h1 id="1fcf" class="lt lu in bd lv lw lx ly lz ma mb mc md ju me jv mf jx mg jy mh ka mi kb mj mk bi translated">Frozen String Literal</h1><p id="50f1" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated">Jadi salah satu komen yang dapat memberi efek dahsyat di aplikasi ruby kamu adalah komentar <code class="fe nc nd ne nf b"><strong class="kr io">frozen_string_literal</strong></code> . Komentar ini di rilis di ruby 2.3. Lalu apa sebenernya komentar ini?</p><p id="ffa8" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">Ketika kamu menambahkan komentar ini di file ruby kamu, semua string yang ada di dalam file tersebut akan otomatis <em class="ll"> freeze(immutable) </em> . Sebelum versi 2.3, untuk membuat suatu string <em class="ll"> (immutable) </em> kita harus menambahkan <code class="fe nc nd ne nf b"><strong class="kr io">.freeze</strong></code> di setiap string. Dengan adanya <em class="ll"> magic comment </em> ini seluruh string yang ada di berkas tersebut akan otomaris <em class="ll"> immutable </em> . Lalu bagaimana efeknya ke aplikasi?</p><h2 id="0c73" class="mq lu in bd lv mr ms dn lz mt mu dp md ky mv mw mf lc mx my mh lg mz na mj nb bi translated">1. Dengan membuat string freeze maka program tidak akan mengalokasi ruang memori baru</h2><p id="2214" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated">Ketika kita melakukan <em class="ll"> freeze </em> ke sebuah string, maka string yang sama tidak membuat alokasi memori baru di sistem, dan hal ini sangat bagus karena ketika kita mengakses suatu string yang sama aplikasi tidak perlu mengalokasi memori lagi.</p><p id="b04f" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">Contoh:</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi no"><img src="../Images/646a8f39872fe04b621c184a1b732ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*yj4Xqfe5b-By4_Me_3DsCg.png"/></div><figcaption class="np nq gj gh gi nr ns bd b be z dk">image1(tanpa magic comment)</figcaption></figure><p id="35cf" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">Seperti yang kalian lihat kita memanggil suatu string yang sama, namun karena kita tidak membuat string tersebut <em class="ll"> freeze(immutable), </em> maka ketika kita memanggilnya, program akan membuat alokasi memori baru yang mana sangat tidak bagus karena memori sistem kita dapat penuh.</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/18ee954b5e2b29bdb87fdb14b7efbf5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*kBQ3QWKGAQQy6lddRq_DIw.png"/></div><figcaption class="np nq gj gh gi nr ns bd b be z dk">image2(menggunakan magic comment)</figcaption></figure><p id="2fa3" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">Menggunakan 1 <em class="ll"> magic comment, </em> kita tidak mengalokasi ruang memori baru lagi untuk string yang sama.</p><h2 id="15f9" class="mq lu in bd lv mr ms dn lz mt mu dp md ky mv mw mf lc mx my mh lg mz na mj nb bi translated">2. Dengan membuat string freeze maka program akan raise error ketika ada perubahan di string</h2><p id="a8c6" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated">Ketika kamu menginginkan sebuah string di dalam program kamu konstant dengan menggunakan <em class="ll"> 1 magic comment </em> tersebut, program akan <em class="ll"> me-raise error </em> jika ada yang mengubah string didalam program kamu. Namun kamu juga dapat membuat suatu string menjadi <em class="ll"> mutable </em> dengan menambahkan tanda <code class="fe nc nd ne nf b"><strong class="kr io">+</strong></code> sebelum string tersebut atau memanggil function <code class="fe nc nd ne nf b"><strong class="kr io">dup</strong></code> .</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><h1 id="28df" class="lt lu in bd lv lw lx ly lz ma mb mc md ju me jv mf jx mg jy mh ka mi kb mj mk bi translated">Kesimpulan</h1><p id="b356" class="pw-post-body-paragraph kp kq in kr b ks ml jp ku kv mm js kx ky mn la lb lc mo le lf lg mp li lj lk ig bi translated">Ketika aplikasi kamu semakin bertambah besar, dan sebagian besar dari string adalah <em class="ll"> constant </em> maka menambahkan 1 <em class="ll"> comment </em> <code class="fe nc nd ne nf b"><strong class="kr io">frozen_string_literal: true</strong></code> sangat bermanfaat untuk aplikasi kamu karena akan mengurangi alokasi memori, dan sangat mudah untuk dilakukan hanya menambahkan 1 komen maka kamu mendapatkan peningkatan di aplikasi kamu.</p><p id="8ff5" class="pw-post-body-paragraph kp kq in kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated"><strong class="kr io"> <em class="ll"> Extra notes: </em> </strong></p><ul class=""><li id="0742" class="nu nv in kr b ks kt kv kw ky nw lc nx lg ny lk nz oa ob oc bi translated">Jika ingin membuat string yang mutable dapat menggunakan <code class="fe nc nd ne nf b"><strong class="kr io">+</strong></code> atau <code class="fe nc nd ne nf b"><strong class="kr io">String.new</strong></code></li></ul></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="od oe l"/></div></figure></div></div>    
</body>
</html>