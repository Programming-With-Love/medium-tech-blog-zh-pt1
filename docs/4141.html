<html>
<head>
<title>Mix and Match: Angular + Custom Elements (Polymer)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混搭:棱角+定制元素(聚合物)</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/mix-and-match-angular-custom-elements-polymer-1aee0b3d63a1?source=collection_archive---------0-----------------------#2017-09-05">https://medium.com/google-developer-experts/mix-and-match-angular-custom-elements-polymer-1aee0b3d63a1?source=collection_archive---------0-----------------------#2017-09-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/e497a72770bf3bbca18c0ac8b32509ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WOsbzlNi8HvXuerv5I2jsA.png"/></div></div></figure><p id="a426" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我之前的<a class="ae jn" rel="noopener" href="/@jecelynyeen/polymer-3-0-preview-building-a-mini-card-game-ce8948265fd6">post-Polymer 3.0 Preview-Building a mini card game</a>中，我们使用Polymer 3.0 Preview为我们的迷你卡牌游戏创建自定义元素。</p><p id="8e1b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">既然Angular与定制元素配合得很好(正如在<a class="ae jn" href="https://custom-elements-everywhere.com/" rel="noopener ugc nofollow" target="_blank">https://custom-elements-everywhere.com/</a>中提到的，100%测试通过)，让我们试着将它们混合在一起！</p><p id="5121" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我也想借此机会向我的聚合物朋友们介绍牛逼的Angular。:)</p><p id="5d0e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请注意:-</p><blockquote class="jo"><p id="f226" class="jp jq hh bd jr js jt ju jv jw jx jm dx translated"><strong class="ak">自定义元素≠聚合物</strong></p></blockquote><p id="3c40" class="pw-post-body-paragraph ip iq hh ir b is jy iu iv iw jz iy iz ja ka jc jd je kb jg jh ji kc jk jl jm ha bi translated">自定义元素是web组件规范的一部分，它是一种创建您自己的自定义HTML的功能。它现在是，将来也会是浏览器的一部分。Polymer是简化定制元素构建的工具之一。还有许多其他方式来编写自定义元素。更多解释在这里:<a class="ae jn" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/Web _ Components/Custom _ Elements</a>。</p><p id="6450" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下是以下内容的链接:</p><ul class=""><li id="9e76" class="kd ke hh ir b is it iw ix ja kf je kg ji kh jm ki kj kk kl bi translated">演示:<a class="ae jn" href="https://ng-poly-game.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://ng-poly-game.netlify.com/</a></li><li id="eeb9" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm ki kj kk kl bi translated">源代码:<a class="ae jn" href="https://github.com/chybie/ng-polymer-game" rel="noopener ugc nofollow" target="_blank">https://github.com/chybie/ng-polymer-game</a></li></ul><h1 id="a601" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">组件结构</h1><p id="ac47" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">让我们看看我们的组件结构:</p><figure class="lv lw lx ly fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/55eb0e7b40cf9a7d4ac078e32d0f501a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4n5hOFqaorOc_b260XAlZg.png"/></div></div></figure><p id="7160" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将在Angular中创建一个新的<code class="du lz ma mb mc b">app component</code>，同时重用我们在之前的<a class="ae jn" rel="noopener" href="/@jecelynyeen/polymer-3-0-preview-building-a-mini-card-game-ce8948265fd6">帖子</a>中用Polymer 3.0预览版创建的其他4个自定义元素(<code class="du lz ma mb mc b">my-top-bar</code>、<code class="du lz ma mb mc b">my-top-message</code>、<code class="du lz ma mb mc b">my-cards</code>、<code class="du lz ma mb mc b">my-pop-up-modal</code>)。</p><p id="6ac9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是我们组件的概述。</p><figure class="lv lw lx ly fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/ca2a57a1e3753cae8c43785a4d884ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zIbQ4gZACuS-3rYDDitQgg.png"/></div></div></figure><h1 id="0ab9" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">设置项目</h1><p id="ea52" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">在Angular中设置项目就像ABC一样简单。</p><p id="5ac4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">A.全局安装CLI</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="47a2" class="mi ks hh mc b fi mj mk l ml mm">// npm<br/>npm install @angular/cli -g</span><span id="1c02" class="mi ks hh mc b fi mn mk l ml mm">// or yarn<br/>yarn global add @angular/cli</span></pre><p id="ffe7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">B.使用CLI创建新项目</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="75fa" class="mi ks hh mc b fi mj mk l ml mm">ng new &lt;your-project-name&gt;</span></pre><p id="43db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">C.启动项目，在<a class="ae jn" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>看直播。</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="11cf" class="mi ks hh mc b fi mj mk l ml mm">// npm<br/>npm start</span><span id="84ae" class="mi ks hh mc b fi mn mk l ml mm">// or yarn<br/>yarn start</span></pre><p id="9840" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">是的，就这么简单。Angular CLI会为您完成所有的杂七杂八的任务(当然，找出并了解它到底做了什么总是好的，这样您会更加感激)。它类似于聚合物CLI。爱所有的CLI！❤</p><h1 id="2ee9" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">包括自定义元素</h1><p id="94b3" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">包含定制元素就像包含一个Javascript文件一样简单。</p><ol class=""><li id="fe74" class="kd ke hh ir b is it iw ix ja kf je kg ji kh jm mo kj kk kl bi translated">创建一个<code class="du lz ma mb mc b">scripts</code>文件夹</li><li id="5ed1" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">将我们的<a class="ae jn" href="https://github.com/chybie/ng-polymer-game/blob/master/src/scripts/my-custom-elements.js" rel="noopener ugc nofollow" target="_blank">自定义元素文件</a>包含在<code class="du lz ma mb mc b">scripts</code>文件夹中。</li></ol><p id="a4a6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个文件是从哪里来的？它来自我们之前的<a class="ae jn" rel="noopener" href="/@jecelynyeen/polymer-3-0-preview-building-a-mini-card-game-ce8948265fd6">帖子</a>，是你运行<code class="du lz ma mb mc b">yarn run build</code>命令时生成的JS文件(在<code class="du lz ma mb mc b">dist folder</code>中，我们把它从<code class="du lz ma mb mc b">app.&lt;random-hash&gt;.js</code>重命名为<code class="du lz ma mb mc b">my-custom-elements.js</code>)。</p><p id="b13f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">*在实际生产环境中，应该将其部署为npm模块，并相应地使用<code class="du lz ma mb mc b">npm install</code>。</p><p id="0e54" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.与上一篇<a class="ae jn" rel="noopener" href="/@jecelynyeen/polymer-3-0-preview-building-a-mini-card-game-ce8948265fd6">文章</a>相同，您需要polyfills，因为并非所有浏览器都完全支持自定义元素。我们将使用<code class="du lz ma mb mc b">webcomponents-loader.js</code>。安装此软件包:</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="6bbb" class="mi ks hh mc b fi mj mk l ml mm">// with npm<br/>npm install @webcomponents/webcomponentsjs --save</span><span id="84b5" class="mi ks hh mc b fi mn mk l ml mm">// or yarn<br/>yarn add @webcomponents/webcomponentsjs</span></pre><p id="2d02" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4.现在，我们的项目中有这两个文件。我们需要将这两个文件作为构建的一部分。有几种方法可以做到这一点。在Angular中，最快的方法是将这些文件路径包含在<code class="du lz ma mb mc b">.angular-cli.json</code>文件中，其<code class="du lz ma mb mc b">assets</code>属性如下:</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="ea83" class="mi ks hh mc b fi mj mk l ml mm">"assets": [</span><span id="a446" class="mi ks hh mc b fi mn mk l ml mm">  "...",</span><span id="3778" class="mi ks hh mc b fi mn mk l ml mm">  { <br/>    "glob": "webcomponents-loader.js", <br/>    "input": "../node_modules/@webcomponents/webcomponentsjs",     <br/>    "output": "./scripts/" <br/>  },</span><span id="891e" class="mi ks hh mc b fi mn mk l ml mm">{ <br/>    "glob": "my-custom-elements.js", <br/>    "input": "./scripts", "output": "./scripts/" <br/>  }</span><span id="9bd1" class="mi ks hh mc b fi mn mk l ml mm">]</span></pre><p id="8644" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用上面的代码行，Angular将挑选这些文件，并在构建后输出到<code class="du lz ma mb mc b">scripts</code>文件夹。</p><p id="60f1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">5.将它们载入我们的<code class="du lz ma mb mc b">index.html</code>。添加这两行:</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="69d0" class="mi ks hh mc b fi mj mk l ml mm">&lt;!-- index.html --&gt;</span><span id="67d0" class="mi ks hh mc b fi mn mk l ml mm">&lt;script src="scripts/webcomponents-loader.js"&gt;&lt;/script&gt;</span><span id="026c" class="mi ks hh mc b fi mn mk l ml mm">&lt;script src="scripts/my-custom-elements.js"&gt;&lt;/script&gt;</span></pre><p id="df5f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">酷，我们现在可以使用这些自定义元素了。让我们来看看我们的应用组件。</p><p id="6930" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">*但是，在生产中，应该创建一个文件(例如<code class="du lz ma mb mc b">vendor.ts</code>)来导入所有自定义元素，而不是将其包含在脚本标签中。</p><h1 id="6349" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">应用程序组件模板</h1><p id="c7f1" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">来看看我们的<code class="du lz ma mb mc b">app.component.html</code>。代码如下:</p><figure class="lv lw lx ly fd ii"><div class="bz dy l di"><div class="mp mq l"/></div></figure><p id="2391" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">与之前<a class="ae jn" rel="noopener" href="/@jecelynyeen/polymer-3-0-preview-building-a-mini-card-game-ce8948265fd6">帖子</a>中的聚合物模板相比:</p><figure class="lv lw lx ly fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mr"><img src="../Images/2f9cacd9f7aa1885f4a0fbfc62ad9848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXFazIYmWQrkoVrzyPjTog.png"/></div></div><figcaption class="ms mt et er es mu mv bd b be z dx">Polymer’s app template</figcaption></figure><p id="273a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">没有很大的不同，对吗？</p><p id="3482" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">上面的4个HTML标签都是我们之前用Polymer创建的定制元素。让我们来思考一些重要的注意事项(特别是如果你来自聚合物)。</p><ol class=""><li id="b279" class="kd ke hh ir b is it iw ix ja kf je kg ji kh jm mo kj kk kl bi translated">在Angular中，我们称自定义元素为<strong class="ir hi">组件</strong>，因此，你会看到我将术语“自定义元素”和“组件”互换使用。</li><li id="3a52" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">在Polymer中，模板中的自定义事件必须以<strong class="ir hi"> on-* </strong>开始。Angular就不是这样了。例如，在聚合物中，我们将<code class="du lz ma mb mc b">reset-clicked</code>处理为<code class="du lz ma mb mc b">on-reset-clicked</code>。在Angular中，我们可以直接将它与<code class="du lz ma mb mc b">reset-clicked</code>绑定。我们使用括号进行角度事件绑定，例如<code class="du lz ma mb mc b">(reset-clicked)</code>。</li><li id="1bfd" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">在聚合物事件处理程序中必须只有函数名，没有括号(如<code class="du lz ma mb mc b">resetGame</code>)。在Angular中，情况正好相反。必须是<code class="du lz ma mb mc b">resetGame()</code>。</li><li id="b967" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">对于属性绑定，角度用户<code class="du lz ma mb mc b">[]</code>。例如，我们通过使用<code class="du lz ma mb mc b">[time]="currentTime"</code>将顶部消息组件的<code class="du lz ma mb mc b">time</code>(在Angular中我们称之为‘input ’)绑定到<code class="du lz ma mb mc b">currentTime</code>变量。</li><li id="830e" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">条件语句在Angular中看起来更简单。看弹出的情态，有棱角的用<code class="du lz ma mb mc b">*ngIf</code>。你可能会觉得这里的<code class="du lz ma mb mc b">*</code>很奇怪。请允许我在这里进一步解释一下:</li></ol><p id="0d95" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Polymer中，你将需要为条件语句编写这样的长代码:</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="0c52" class="mi ks hh mc b fi mj mk l ml mm">&lt;template is="dom-if" if="..."&gt;<br/>  &lt;my-pop-up-modal ...&gt;&lt;/my-pop-up-modal&gt;  <br/>&lt;/template&gt;</span></pre><p id="9d08" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你绝对可以用Angular写类似的东西:</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="27fb" class="mi ks hh mc b fi mj mk l ml mm">&lt;ng-template [ngIf]="..."&gt;   <br/>   &lt;my-pop-up-modal ...&gt;&lt;/my-pop-up-modal&gt;<br/>&lt;/ng-template&gt;</span></pre><p id="d825" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请放心，上面的语法是一个有效的角度条件语法，将完全按照预期工作。</p><p id="2d26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，更好的是，Angular给了你一个快捷方式<code class="du lz ma mb mc b">*ngIf</code>，它是一个<code class="du lz ma mb mc b">syntactic sugar</code>，所以你可以用不太复杂的语法达到同样的结果。</p><pre class="lv lw lx ly fd me mc mf mg aw mh bi"><span id="1c58" class="mi ks hh mc b fi mj mk l ml mm">&lt;my-pop-up-modal *ngIf="..."&gt;&lt;/my-pop-up-modal&gt;</span></pre><p id="3cd2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">是不是很酷？Angular在这里对*语法<a class="ae jn" href="https://angular.io/guide/structural-directives#the-asterisk--prefix" rel="noopener ugc nofollow" target="_blank">提供了相当详细的解释。看看这个。</a></p><h1 id="b03d" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">应用程序组件TS</h1><p id="69d1" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">接下来，看看我们的组件代码:</p><figure class="lv lw lx ly fd ii"><div class="bz dy l di"><div class="mp mq l"/></div></figure><p id="36d1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">代码逻辑和我之前帖子里的<code class="du lz ma mb mc b">app component</code>一模一样。只是复制粘贴过来。这里需要注意一些事情:</p><h2 id="e994" class="mi ks hh bd kt mw mx my kx mz na nb lb ja nc nd lf je ne nf lj ji ng nh ln ni bi translated">组件类</h2><p id="c4eb" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">在Polymer中，<code class="du lz ma mb mc b">custom element</code>必须是一个类。我们通过扩展<code class="du lz ma mb mc b">PolymerElement</code>类来创建一个新元素。</p><p id="1faa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Angular中，一个组件也是一个类。但是，不需要从任何基类扩展，只需使用<code class="du lz ma mb mc b">@Component</code> class decorator将其标记为Angular component即可。</p><p id="fbbd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">*装饰工目前处于第二阶段TC39<a class="ae jn" href="https://tc39.github.io/proposal-decorators/" rel="noopener ugc nofollow" target="_blank">https://tc39.github.io/proposal-decorators/</a></p><h2 id="babf" class="mi ks hh bd kt mw mx my kx mz na nb lb ja nc nd lf je ne nf lj ji ng nh ln ni bi translated">模板、样式和名称</h2><p id="c020" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">当在Polymer中定义模板时，你需要覆盖<code class="du lz ma mb mc b">template</code> getter，css也存在于template中。自定义元素名称必须在<strong class="ir hi">烤串盒</strong>中。一个通过覆盖<code class="du lz ma mb mc b">is</code> getter或者在<code class="du lz ma mb mc b">customElements.define</code>过程中赋值元素的名字。</p><p id="9fc6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Angular中，模板可以是内嵌文件，也可以是外部文件。可以通过在<code class="du lz ma mb mc b">@Component</code>类装饰器、<code class="du lz ma mb mc b">template</code>或<code class="du lz ma mb mc b">templateUrl</code>属性中配置元数据对象来实现。在我们的例子中，我们使用外部模板。</p><p id="03fd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Angular中的组件名称可以是烤串盒<code class="du lz ma mb mc b">my-component</code>或骆驼盒<code class="du lz ma mb mc b">myComponent</code>。我们在元数据<code class="du lz ma mb mc b">selector</code>属性中定义名称。</p><p id="70e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">角度组件中的样式既可以内嵌完成，也可以通过外部文件完成。您可以使用<code class="du lz ma mb mc b">styleUrls</code>和<code class="du lz ma mb mc b">styles</code>元数据属性进行配置。由于我们使用的是Angular CLI，因此开箱即可支持SCSS和更少版本。</p><p id="e48a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Angular CLI还提供了一种通过运行<code class="du lz ma mb mc b">ng generate component &lt;your-component-name&gt;</code>来生成新组件简单方法。非常方便。</p><h2 id="b0bf" class="mi ks hh bd kt mw mx my kx mz na nb lb ja nc nd lf je ne nf lj ji ng nh ln ni bi translated">生命周期挂钩</h2><p id="96e0" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">聚合物有生命周期挂钩，Angular也是。与聚合物最接近的生命周期<code class="du lz ma mb mc b">ready</code>是角形<code class="du lz ma mb mc b">ngOnInit</code>。点击阅读角度生命周期事件的完整列表<a class="ae jn" href="https://angular.io/guide/lifecycle-hooks" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="74a5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">很好。我们快到了。离开了最后一步。</p><h1 id="221b" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">允许自定义元素</h1><p id="aad5" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">现在刷新您的页面，您应该会看到一个空白页。看看控制台，你会得到一长串错误:</p><figure class="lv lw lx ly fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nj"><img src="../Images/9c0fafce569742e3a2394d723a20e211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dAT-7_mqOZDGfdUAki8ncQ.png"/></div></div></figure><p id="cad2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为什么？这是因为:</p><ol class=""><li id="6528" class="kd ke hh ir b is it iw ix ja kf je kg ji kh jm mo kj kk kl bi translated"><code class="du lz ma mb mc b">my-top-bar</code>不是角度组件，没有为其创建<code class="du lz ma mb mc b">@Component</code>类。</li><li id="2143" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm mo kj kk kl bi translated">然而，<code class="du lz ma mb mc b">my-top-bar</code>是我们拥有的一个定制元素。Angular不知道这件事。因此，我们需要告诉Angular“嘿，没关系，我知道我在做什么，我有一些您不知道的自定义元素，请停止向我抛出错误”)</li></ol><p id="5bb0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">打开您的<code class="du lz ma mb mc b">app.module.ts</code>文件，添加以下几行:</p><figure class="lv lw lx ly fd ii"><div class="bz dy l di"><div class="mp mq l"/></div></figure><p id="6c40" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">更多关于图式的解释在这里:<a class="ae jn" href="https://angular.io/api/core/NgModule#schemas" rel="noopener ugc nofollow" target="_blank">https://angular.io/api/core/NgModule#schemas</a></p><h1 id="7e90" class="kr ks hh bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">玩吧！</h1><p id="228e" class="pw-post-body-paragraph ip iq hh ir b is lp iu iv iw lq iy iz ja lr jc jd je ls jg jh ji lt jk jl jm ha bi translated">太好了。再次刷新你的浏览器，一切都会变得很好。</p><figure class="lv lw lx ly fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nk"><img src="../Images/e5a547c8c871446f70e77864c9fbc8b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aDoPiEuhmLM0YasxKbfGog.gif"/></div></div></figure><p id="48fb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">就是这样。编码快乐！</p><p id="783a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下是以下内容的链接:</p><ul class=""><li id="fa7e" class="kd ke hh ir b is it iw ix ja kf je kg ji kh jm ki kj kk kl bi translated">演示:<a class="ae jn" href="https://ng-poly-game.netlify.com/" rel="noopener ugc nofollow" target="_blank">https://ng-poly-game.netlify.com/</a></li><li id="c14b" class="kd ke hh ir b is km iw kn ja ko je kp ji kq jm ki kj kk kl bi translated">源代码:【https://github.com/chybie/ng-polymer-game T2】</li></ul></div></div>    
</body>
</html>