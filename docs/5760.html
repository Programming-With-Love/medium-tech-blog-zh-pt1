<html>
<head>
<title>Migrating Object Storage from AWS to OCI using Apache NiFi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Apache NiFi将对象存储从AWS迁移到OCI</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/migrating-object-storage-from-aws-to-oci-using-apache-nifi-edf3310c899f?source=collection_archive---------4-----------------------#2021-03-29">https://medium.com/oracledevs/migrating-object-storage-from-aws-to-oci-using-apache-nifi-edf3310c899f?source=collection_archive---------4-----------------------#2021-03-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="cdee" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">概述</strong></h1><p id="f880" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">当考虑在云供应商之间将数据移动到对象存储的选项时，<a class="ae ka" href="https://rclone.org/" rel="noopener ugc nofollow" target="_blank"> RClone </a>可能是最广为人知的一种，通常用于将数据复制和同步到Oracle云基础架构(OCI)。然而，在本文中，我们将Apache Nifi作为数据移动的替代工具，它为配置和管理更复杂的数据流提供了一个web UI。</p><p id="fd24" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">第一次看Apache Nifi，我将演示一个简单的配置，将数据从AWS S3存储桶拷贝克隆到OCI对象存储。</p><p id="6f9d" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><em class="kg">注意:如果你还没有，你可以</em> <a class="ae ka" href="https://signup.cloud.oracle.com/?language=en&amp;sourceType=:ow:de:te::::&amp;intcmp=:ow:de:te::::" rel="noopener ugc nofollow" target="_blank"> <em class="kg">注册一个甲骨文云自由层账户</em> </a> <em class="kg">！</em></p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/d0a82055a8757f67cd93f1847a6e0d46.png" data-original-src="https://miro.medium.com/v2/format:webp/1*qlWM8Ij6job-PtrEFntD0w.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">Migrate object storage from AWS to OCI</figcaption></figure><h1 id="df1a" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">要求</strong></h1><p id="add7" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">对于这个练习，我需要</p><ol class=""><li id="f159" class="kt ku hh je b jf kb jj kc jn kv jr kw jv kx jz ky kz la lb bi translated">AWS帐户和OCI云租赁。</li></ol><p id="608a" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">2.Docker或虚拟机或笔记本电脑来运行NiFi软件。</p><p id="32e9" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">3.OCI对象存储— s3兼容模式，需要在租户的本地区域启用<a class="ae ka" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/designatingcompartments.htm#usingconsole" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0139" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">4.一个在OCI的<a class="ae ka" href="https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingcredentials.htm#To4" rel="noopener ugc nofollow" target="_blank">访问密钥/秘密密钥</a>来访问OCI对象存储器。</p><p id="6a98" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">5.需要在OCI租赁主页区域中创建OCI对象存储目标时段。</p><p id="e73b" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">6.包含要迁移的对象的AWS S3存储桶。</p><h1 id="a570" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">为NiFi传输配置与S3兼容的OCI对象存储</h1><p id="7650" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Apache NiFi没有本地的OCI对象存储处理器，所以我们需要使用<a class="ae ka" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/s3compatibleapi.htm#usingAPI" rel="noopener ugc nofollow" target="_blank"> S3兼容API </a>来启用我们的OCI对象存储，以便为S3使用NiFi处理器。</p><p id="e161" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">1.在<a class="ae ka" href="https://docs.oracle.com/en-us/iaas/Content/Identity/Tasks/managingcredentials.htm#Working2" rel="noopener ugc nofollow" target="_blank"> OCI控制台</a>中创建客户密钥。</p><ul class=""><li id="31ca" class="kt ku hh je b jf kb jj kc jn kv jr kw jv kx jz lc kz la lb bi translated">客户密钥由访问密钥/密钥对组成(类似于AWS S3访问)。记得复制密钥；它将不会再次显示。</li></ul><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/786f35d67c36eebd0ec09c22cd204900.png" data-original-src="https://miro.medium.com/v2/format:webp/1*mJrS2JKKTm39j5-G8Zm9nw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">OCI Customer Secret Keys Generation</figcaption></figure><p id="a947" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">2.确定您的OCI租赁家庭地区</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/08505d0ed1f11c18e766dbf36b1ce280.png" data-original-src="https://miro.medium.com/v2/format:webp/1*aOxZIAD2NQ5frNvbzG4GgQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">OCI Home Region</figcaption></figure><p id="e061" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">3.收集端点覆盖URL，该URL将是<a class="ae ka" href="https://.compat.objectstorage..oraclecloud.com" rel="noopener ugc nofollow" target="_blank">https://. compat . object storage..oraclecloud.com</a><br/><br/>对我来说，的确如此</p><pre class="kh ki kj kk fd ld le lf lg aw lh bi"><span id="1350" class="li if hh le b fi lj lk l ll lm">https://&lt;OCI-objectStorage-Namespace&gt;.compat.objectstorage.us-ashburn-1.oraclecloud.com</span></pre><p id="cdd0" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><em class="kg">注意:对于一些旧的OCI租赁，名称空间名称字符串可能基于您的租赁名称，而不是由机器生成的。如果您的命名空间是基于您的租赁名称创建的，则您的命名空间使用所有小写字母(不管租赁名称中的大写字母)。不要在名称空间名称字符串中使用大写字母。</em></p><h1 id="16c2" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">安装NiFi</h1><p id="75b9" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Apache NiFi安装指南位于<a class="ae ka" href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#how-to-install-and-start-nifi" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="39c1" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">我用brew在Mac上安装了NiFi，</p><p id="9dc6" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><code class="du ln lo lp le b">$ brew install nifi</code></p><p id="bc84" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">理想情况下，它应该安装在源AWS虚拟机或目标OCI虚拟机上，以提高吞吐量。</p><p id="d6d3" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">或者，如果您选择使用docker运行:</p><pre class="kh ki kj kk fd ld le lf lg aw lh bi"><span id="707f" class="li if hh le b fi lj lk l ll lm">$ docker run —-name nifi -p 8080:8080 -d apache/nifi:latest</span></pre><h1 id="c624" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">设置Apache NiFi软件</strong></h1><p id="35b3" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">安装后，在实际启动之前检查Nifi的状态。</p><pre class="kh ki kj kk fd ld le lf lg aw lh bi"><span id="d982" class="li if hh le b fi lj lk l ll lm">$ nifi status</span><span id="d854" class="li if hh le b fi lq lk l ll lm">Java home: /usr/local/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home</span><span id="6556" class="li if hh le b fi lq lk l ll lm">NiFi home: /usr/local/Cellar/nifi/1.13.0/libexec</span><span id="48ca" class="li if hh le b fi lq lk l ll lm">Bootstrap Config File: /usr/local/Cellar/nifi/1.13.0/libexec/conf/bootstrap.conf</span><span id="254e" class="li if hh le b fi lq lk l ll lm">2021–02–24 20:01:32,117 INFO [main] org.apache.nifi.bootstrap.Command Apache NiFi is currently running, listening to Bootstrap on port 55325, PID=26530</span></pre><p id="bb55" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">如果它没有运行，那么继续启动它。</p><p id="b3d8" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><code class="du ln lo lp le b">$nifi start</code></p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es lr"><img src="../Images/4b121bb0774cb3880c23e0d9d8cb65ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9To5-9ImUF4-qllqCDbMQA.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">NiFi start</figcaption></figure><p id="d397" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><em class="kg">注意:在我的案例中，警告是由JDK问题引起的。这不会改变功能。</em></p><p id="0c21" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">默认情况下，NiFi监听端口8080。</p><p id="b761" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">打开浏览器<code class="du ln lo lp le b"><a class="ae ka" href="http://localhost:8080/nifi" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/nifi</a></code>打开浏览器<code class="du ln lo lp le b"><a class="ae ka" href="http://localhost:8080/nifi" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/nifi</a></code></p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es lw"><img src="../Images/4409bdc8402ffa588ab1e7684eb44e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vDGCSU-O5BdFT9OKd-95iw.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">NiFi properties file</figcaption></figure><h1 id="a212" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">设置Nifi流程迁移数据</strong></h1><p id="e64d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">现在，主要目标是将数据从AWS S3复制到OCI对象存储。</p><ol class=""><li id="396f" class="kt ku hh je b jf kb jj kc jn kv jr kw jv kx jz ky kz la lb bi translated">添加S3桶并设置其属性。至少添加存储段名称、区域以及访问密钥和秘密密钥。</li></ol><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es lx"><img src="../Images/3dc3b98f0db4a81f09ef3ad9364edde0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pJefKO7DgHJWkmGvJliPeA.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Select the ListS3 processor</figcaption></figure><p id="0cca" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><strong class="je hi">铲斗</strong> —将是AWS中S3铲斗的名称。<br/> <strong class="je hi">区域</strong> —将是S3时段的AWS区域。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es ly"><img src="../Images/e13a77ce23bfab9d877abd6ecfabc359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DvCax_yk8XjcdUrKuVSAiA.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">ListS3 processor properties</figcaption></figure><p id="ef61" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">2.在成功流中，列出S3以获取3个对象处理器</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es lz"><img src="../Images/834e5ba37821d484963e1008e72ab22c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-w6Fan1POMXLveUdo7WTw.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Select FetchS3Object processor</figcaption></figure><p id="74d0" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><strong class="je hi">对象键</strong>将是需要获取的文件的名称。在这种情况下，我希望保留与OCI对象存储相同的名称和所有文件。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es ma"><img src="../Images/a4d09a5bd340fcbfa2a3fee9064a2ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OVC2o-cdwV1PQAN01vbDUQ.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">FetchS3 processor properties</figcaption></figure><p id="bd32" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">3.将数据发送到OCI对象存储。</p><p id="294e" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">a.使用“为NiFi传输配置与S3兼容的OCI对象存储”一节中生成的OCI客户密钥</p><p id="eee7" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">b.在用于OCI对象存储的NiFi处理器上，将区域设置为<code class="du ln lo lp le b">us-east-1</code>。</p><p id="738e" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><em class="kg">我们只能在OCI租赁家庭区域使用亚马逊S3兼容性API&amp;因此我们在家庭区域创建了OCI对象存储桶。</em></p><p id="fbd2" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">c.端点覆盖URL —从“为NiFi传输配置与S3兼容的OCI对象存储”中收集</p><p id="9c3d" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">d.签名人覆盖—选择<a class="ae ka" href="https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html" rel="noopener ugc nofollow" target="_blank">签名V4 </a></p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/ec931cfe06cbe71e19e1ed97b2f02c13.png" data-original-src="https://miro.medium.com/v2/format:webp/1*kgLNgSCryNOvCMDhlrYTig.png"/></div></figure><p id="eac3" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">要将数据发送到OCI，选择puts 3对象处理器</p><p id="707c" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">存储桶—将是OCI对象存储的名称</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/d796f6f87fc21334268717cad0130402.png" data-original-src="https://miro.medium.com/v2/format:webp/1*xqVGBRazVLn_cvILPUwDDg.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">PutS3Object Processor properties — 1</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/e17b3f1cb00dfde26094c04f387e2efa.png" data-original-src="https://miro.medium.com/v2/format:webp/1*23DKW5VW7ieNKbRtrlfx_g.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">PutS3Object Processor properties — 2</figcaption></figure><p id="7137" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">一旦创建了流，它将类似于下面的内容:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="ab fe cl km"><img src="../Images/3b842c244bb5c44a6d55d7812fa95164.png" data-original-src="https://miro.medium.com/v2/format:webp/1*11BJLV1exRCb9pbhDEjpAA.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">NiFi Flow template</figcaption></figure><h1 id="08fa" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">执行&amp;迁移对象存储</strong></h1><ol class=""><li id="2439" class="kt ku hh je b jf jg jj jk jn mb jr mc jv md jz ky kz la lb bi translated">开始流动。</li></ol><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es me"><img src="../Images/fb13f8479fae897eee614e6f5ce147e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*DceyO4C7Jd7ue9Dwym2Vpg.png"/></div></figure><p id="7680" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">在<strong class="je hi">操作</strong>上，点击<strong class="je hi">开始</strong>图标，开始整个流程。或者，您可以启动单个处理器来首次验证流。</p><p id="37d9" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated"><em class="kg">注:如果配置不正确，请确保修复处理器中可能显示的任何未解决的警告。</em></p><p id="0e5a" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">如果处理器中有任何错误，它将显示在处理器的右上角。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es mf"><img src="../Images/512982a096476d2602df2e61f987dd23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*Rybuw0YOepzlSL3j4hd8Gw.png"/></div></figure><p id="325b" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">如果您在OCI对象存储处理器中遇到如下所示的403错误，那么您必须按照上述步骤确保OCI对象存储桶配置是正确的。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es mg"><img src="../Images/2fd4bc2a1e69cfaaecfd3fd3de31a004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZrHIH8YY2BaIlox1ACbgBQ.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Error faced due to misconfiguration.</figcaption></figure><p id="afad" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">2.将文件添加到AWS s3存储桶</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es mh"><img src="../Images/4eab5997012d69bb41cf49e30957b707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IcnghlOD5YIySnj0mvxRYg.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Source S3 Bucket</figcaption></figure><p id="c419" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">在我的例子中，我一次启动一个处理器，观察它将数据从一个处理器移动到另一个处理器的过程；观察每个处理器的输入和输出。或者，您也可以一次性启动整个工作流。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es mi"><img src="../Images/9cf1e033d6205697df3b11716bad8470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iRC6xdZpoENMs36CqUqujA.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Started only the first processor to illustrate the step-by-step flow</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es mj"><img src="../Images/15298ad029e3f0cbbbdfec001ef5b4e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TKLLXVeb31A2WavqWJoBlQ.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">After Starting the second processor, the queue from first getting drained and placing in the next OCI queue.</figcaption></figure><p id="f7ed" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">最后，启动第三处理器发送到OCI对象存储器。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es mk"><img src="../Images/7ee53ce01b84c16c14099e5834938f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSOzQhWRyyy_7qoFWor91Q.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">The files are now being sent to the OCI Object Storage.</figcaption></figure><p id="0193" class="pw-post-body-paragraph jc jd hh je b jf kb jh ji jj kc jl jm jn kd jp jq jr ke jt ju jv kf jx jy jz ha bi translated">接下来，在OCI对象存储上验证文件是否已复制。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="er es ml"><img src="../Images/71da5b16b615d4b4f0ab47f7fb1668a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVS0r18BXWvcIMKwNcc5uA.png"/></div></div><figcaption class="kp kq et er es kr ks bd b be z dx">Oracle Cloud Infrastructure object list</figcaption></figure><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es mm"><img src="../Images/14ac21571fe37b323fd7d528bfeb43af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*rWWYZsf9riZO5vAMPBgVfQ.png"/></div></figure><h1 id="a214" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">最后的想法</h1><p id="4344" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Apache NiFi是一个方便的工具，可以通过多个流复制/操作数据，并优雅地转换数据。使用该工具，您可以发挥创造力，解决日常数据流挑战中的特定用例。它还支持从一个数据库中取出数据库行，并放到另一个数据库中。举几个例子，您可以查看NiFi的一些特性，例如数据来源、保存和导出为模板。</p><h1 id="65b9" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">加入对话！</h1><p id="0a13" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果你对甲骨文开发人员在他们的自然栖息地发生的事情感到好奇，来<a class="ae ka" href="https://join.slack.com/t/oracledevrel/shared_invite/zt-uffjmwh3-ksmv2ii9YxSkc6IpbokL1g?customTrackingParam=:ex:tb:::::RC_WWMK220210P00062:Medium_migratingObjectStorageAWS" rel="noopener ugc nofollow" target="_blank">加入我们的公共休闲频道</a>！我们不介意成为你的鱼缸🐠</p></div></div>    
</body>
</html>