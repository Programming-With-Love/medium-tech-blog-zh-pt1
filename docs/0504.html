<html>
<head>
<title>What’s new in Jetpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack的新功能</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/whats-new-in-jetpack-1891d205e136?source=collection_archive---------2-----------------------#2020-06-10">https://medium.com/androiddevelopers/whats-new-in-jetpack-1891d205e136?source=collection_archive---------2-----------------------#2020-06-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/b563cc62718e746333ea9f1c33fee505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NOs7p4ZXaC4bGLd4NdRU-g.png"/></div></div></figure><div class=""/><p id="db1e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Android <a class="ae jn" href="http://d.android.com/jetpack" rel="noopener ugc nofollow" target="_blank"> Jetpack </a>是一套旨在帮助你轻松编写高质量应用的库，支持旧版本的Android操作系统。现在，在Jetpack推出两年后，我们已经看到了应用程序的巨大采用，从大型开发团队到那些刚刚起步的人。这仅仅是个开始:今天，我们将推出新的库，以及对现有库的重大更新，这些都是我们在过去一年中一直在努力的。以下是Jetpack的最新更新综述——我们的<a class="ae jn" href="https://youtu.be/R3caBPj-6Sg" rel="noopener ugc nofollow" target="_blank"><em class="jo">Jetpack</em>中的新内容</a>的扩展版本！</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="jt ju l"/></div><figcaption class="jv jw et er es jx jy bd b be z dx">What’s new in Jetpack</figcaption></figure><h1 id="dd5a" class="jz ka hs bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">阿尔法新品</h1><h2 id="6896" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">hilt——Jetpack推荐的依赖注入库</h2><p id="4926" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Hilt是一个新的Android库，它简化了应用程序中的依赖注入。Hilt让您只关注定义和注入绑定的重要部分，而不用担心管理所有的DI设置和连接。</p><p id="2efd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Hilt构建在Dagger之上，受益于它的编译时正确性、改进的运行时性能和可伸缩性。Hilt增加了与Jetpack库和Android框架类的集成。例如，要注入<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/lifecycle/ViewModel" rel="noopener ugc nofollow" target="_blank">ViewModel</a></code>的参数，现在可以用<code class="du lq lr ls lt b"><a class="ae jn" href="http://developer.android.com/training/dependency-injection/hilt-jetpack" rel="noopener ugc nofollow" target="_blank">@ViewModelInject</a></code>注释<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/lifecycle/ViewModel" rel="noopener ugc nofollow" target="_blank">ViewModel</a></code>构造函数，然后用<code class="du lq lr ls lt b"><a class="ae jn" href="http://d.android.com/training/dependency-injection/hilt-android" rel="noopener ugc nofollow" target="_blank">@AndroidEntryPoint</a></code>注释<code class="du lq lr ls lt b">Fragment</code>:</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="lu ju l"/></div></figure><p id="3071" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的<a class="ae jn" rel="noopener" href="/androiddevelopers/dependency-injection-on-android-with-hilt-67b6031e62d">发布博客</a>中找到更多关于Hilt的信息和相关资源的链接。</p><h2 id="d978" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">分页3 —增量加载和显示数据</h2><p id="d901" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">分页是一个库，它帮助您以增量方式加载和显示小块数据。今天我们发布了Paging 3——使用Kotlin <a class="ae jn" href="https://kotlinlang.org/docs/reference/coroutines-overview.html" rel="noopener ugc nofollow" target="_blank">协程</a>完全重写了这个库。这个新版本增加了非常受欢迎的特性，如分隔符、页眉、页脚和列表转换，以及用于观察列表加载状态的API和用于重试和刷新的方法。</p><p id="f6b0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，使用分页3，可以通过扩展<code class="du lq lr ls lt b">PagingSource</code>类并实现<code class="du lq lr ls lt b">load</code> <code class="du lq lr ls lt b"><strong class="ir ht">suspend</strong></code>函数来定义数据源，在这里可以直接调用其他挂起函数:</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="lu ju l"/></div></figure><p id="f5d7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有关分页3的更多信息，请查看<a class="ae jn" href="http://d.android.com/paging3" rel="noopener ugc nofollow" target="_blank">文档</a>和我们的<a class="ae jn" href="https://codelabs.developers.google.com/codelabs/android-paging/" rel="noopener ugc nofollow" target="_blank">代码实验室</a>。</p><h2 id="cfd6" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">应用程序启动—在应用程序启动时初始化组件</h2><p id="b5f6" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">应用程序启动库提供了一种在应用程序启动时初始化组件的简单、高效的方法。App Startup允许您定义共享单个内容提供者的组件初始化器，而不是为每个需要初始化的组件定义单独的内容提供者。这可以显著改善应用程序的启动时间。</p><p id="7c12" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是在禁用工作管理器自己的<code class="du lq lr ls lt b">ContentProvider</code>之后，如何使用应用程序启动来改善工作管理器的初始化时间，工作管理器是一个在引擎盖下使用<code class="du lq lr ls lt b">ContentProvider</code>的库:</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="lu ju l"/></div></figure><p id="1473" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有关应用程序启动的更多信息，请查看<a class="ae jn" href="http://d.android.com/topic/libraries/app-startup" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p><h2 id="cbe2" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">自动填充IME集成</h2><p id="9181" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Android 11为键盘引入了平台API，以显示来自密码管理器等应用的自动填充建议。Jetpack的<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/autofill" rel="noopener ugc nofollow" target="_blank">自动填充</a> API使得键盘和自动填充服务更容易通过其<code class="du lq lr ls lt b">InlineSuggestionUi</code>类利用这一新功能。自动填充服务可以使用此类来创建兼容的建议；键盘可以使用它来自定义建议的风格。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es lv"><img src="../Images/1b8b211db78a4d0036c3753682e9eeac.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*XDi9ae-_RZwhfgLb9P47bQ.png"/></div><figcaption class="jv jw et er es jx jy bd b be z dx">Keyboard displays card number autofill suggestion</figcaption></figure><h2 id="6bf5" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">使用核心动画和<code class="du lq lr ls lt b">SeekableAnimatedVectorDrawable</code>制作更简单的动画</h2><p id="ac17" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">为了更容易实现和测试动画，我们添加了两个新的库:<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/core#core-animation_and_core-animation-testing_100_2" rel="noopener ugc nofollow" target="_blank">androidx.core:core-animation</a></code> <a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/core#core-animation_and_core-animation-testing_100_2" rel="noopener ugc nofollow" target="_blank">和</a> <code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/core#core-animation_and_core-animation-testing_100_2" rel="noopener ugc nofollow" target="_blank">androidx.core:core-animation-testing</a></code>。我们还引入了一个新的API <code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/vectordrawable/graphics/drawable/SeekableAnimatedVectorDrawable" rel="noopener ugc nofollow" target="_blank">SeekableAnimatedVectorDrawable</a></code>作为<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/vectordrawable" rel="noopener ugc nofollow" target="_blank">androidx.vectordrawable</a></code>库的一部分。</p><p id="904f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lq lr ls lt b">core-animation</code>回溯自冰激凌三明治以来添加到<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/android/animation/Animator" rel="noopener ugc nofollow" target="_blank">Animator</a></code> API的所有特性，比如暂停/恢复和查找。</p><p id="e7b7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">基于核心动画的<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/vectordrawable/graphics/drawable/SeekableAnimatedVectorDrawable" rel="noopener ugc nofollow" target="_blank">SeekableAnimatedVectorDrawable</a></code>，是<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/android/graphics/drawable/AnimatedVectorDrawable" rel="noopener ugc nofollow" target="_blank">AnimatedVectorDrawable</a></code> (AVD)的一个新的、可寻找的替代品。它使用与AVD相同的格式，并增加了查找、暂停和恢复播放的功能。可查找的AVD不能使用渲染线程，所以只有在需要新类的附加功能时才应该优先于AVD。</p><h2 id="da8a" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">使用Android Studio中的数据库检查器调试数据库</h2><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lw"><img src="../Images/f8c311de928d66ea0f385698cb224083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aGzCN30ERZHWYtn7"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx">Using Database inspector in Android Studio</figcaption></figure><p id="61f5" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Android Studio 4.1测试版中，使用新的<a class="ae jn" href="https://developer.android.com/studio/preview/features#database-inspector" rel="noopener ugc nofollow" target="_blank">数据库检查器</a>，调试数据库问题变得更加容易。该工具使您能够在运行的应用程序中检查、查询和修改SQLite数据库。无论您是直接使用Room还是SQLite，您都可以通过从菜单栏中选择<em class="jo">视图&gt;工具窗口&gt;数据库检查器</em>来开始调试您的数据库。在这篇<a class="ae jn" rel="noopener" href="/androiddevelopers/database-inspector-9e91aa265316">博客文章</a>中找到关于该工具以及如何使用它的更多信息。</p><h2 id="8296" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">WindowManager —更好地支持设备外形</h2><p id="660b" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated"><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/window" rel="noopener ugc nofollow" target="_blank"> WindowManager </a>库是Android Jetpack的新成员，旨在帮助应用程序开发人员支持新的形式，如可折叠、铰接屏幕等。它为新旧平台版本上的不同WindowManager特性提供了一个通用的API表面。</p><p id="a2da" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">初始版本为已经上市和即将上市的不同类型的可折叠设备提供支持，因此应用程序开发人员可以针对整个类别的硬件配置。查看这篇<a class="ae jn" rel="noopener" href="/androiddevelopers/support-new-form-factors-with-the-new-jetpack-windowmanager-library-4be98f5450da">博文中的概述</a>和<a class="ae jn" href="https://github.com/android/user-interface-samples/tree/master/WindowManager" rel="noopener ugc nofollow" target="_blank">示例</a>以了解更多信息。</p><h2 id="25a3" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">motion layout——为Android构建流畅的交互式动画</h2><p id="29cd" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated"><a class="ae jn" href="https://developer.android.com/training/constraint-layout/motionlayout" rel="noopener ugc nofollow" target="_blank"> MotionLayout API </a>扩展了<code class="du lq lr ls lt b">ConstraintLayout</code>的丰富功能，帮助Android开发者管理他们应用中复杂的运动和小部件动画。使用<code class="du lq lr ls lt b">MotionLayout</code>，你可以将你的动画建模为<code class="du lq lr ls lt b">ConstraintSets</code>之间的过渡，并轻松地将动画与<code class="du lq lr ls lt b">RecyclerView</code>和<code class="du lq lr ls lt b">ViewPager</code>等常见视图集成。Android Studio 4.0还包括运动编辑器，这是一个用于创建和预览使用<code class="du lq lr ls lt b">MotionLayout</code>的动画的图形工具。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es lx"><img src="../Images/a35a1fd9eca7b43d810487d78ca7aa49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*WHn3aAaQMSYs6ag0"/></div><figcaption class="jv jw et er es jx jy bd b be z dx">Create, edit, and preview MotionLayout animations in the Motion Editor</figcaption></figure><h1 id="bb4d" class="jz ka hs bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">现有库的更新</h1><h2 id="710a" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">航行</h2><p id="7202" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated"><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/navigation" rel="noopener ugc nofollow" target="_blank">导航2.3 </a>增加了对<a class="ae jn" href="https://developer.android.com/guide/app-bundle/dynamic-delivery" rel="noopener ugc nofollow" target="_blank">动态功能模块</a>的支持，这些模块允许你在用户需要时下载应用程序的部分内容，从而显著减小应用程序的初始下载大小。现在，您可以导航到这些模块，就像它们是基本APK的一部分一样。除了允许查询参数，深层链接现在还支持自定义操作和mime类型。</p><p id="854a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个新的用于返回结果的API允许你查询任何后栈条目并在它的T0上设置结果。新的<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/kotlin/androidx/navigation/testing/TestNavHostController" rel="noopener ugc nofollow" target="_blank">TestNavHostController</a></code>使您能够访问导航返回堆栈，并在测试中设置当前目的地。</p><h2 id="c323" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">工作管理器</h2><p id="40ed" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">工作管理器的<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/work" rel="noopener ugc nofollow" target="_blank">最新版本增加了对长期运行或重要工作的支持，这些工作应该由使用前台服务的操作系统保持活动。</a></p><p id="94eb" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了更容易诊断工作管理器任务的问题，我们添加了一个新的诊断API，允许您查看<code class="du lq lr ls lt b">WorkManager</code>的内部状态，并将其状态转储到logcat:</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="lu ju l"/></div><figcaption class="jv jw et er es jx jy bd b be z dx">WorkManager <em class="ly">diagnostics result example</em></figcaption></figure><p id="740a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了帮助您避免使用WorkManager时的常见错误，我们还添加了Lint规则来标记它们。其他API更新包括:支持为工人设置和观察中间<a class="ae jn" href="https://developer.android.com/topic/libraries/architecture/workmanager/how-to/intermediate-progress?hl=en" rel="noopener ugc nofollow" target="_blank">进度；对当前工作者的查询API的改进；以及对用于运行工作线程的进程内调度程序的改进。</a></p><h2 id="70a6" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">基准</h2><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lz"><img src="../Images/c8ba0181b9908d4f437f6aa427e51efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9yhtZ0btztAMcgGa"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx">Sampled traces in Android Studio</figcaption></figure><p id="c53d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">基准库的新<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/benchmark" rel="noopener ugc nofollow" target="_blank"> alpha版本与</a><a class="ae jn" href="http://d.android.com/benchmark#profiling" rel="noopener ugc nofollow" target="_blank"> CPU剖析</a>集成，因此您可以剖析您的基准，然后在Android Studio中查看方法或采样跟踪。我们还添加了对内存分配跟踪的支持，这样您就可以优化分配时间并减少垃圾收集的负载。</p><h2 id="753c" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">许可</h2><p id="34c5" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">为了更容易使用权限，我们引入了新的<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/training/basics/intents/result" rel="noopener ugc nofollow" target="_blank">ActivityResult</a></code>API。这些API通过用<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.RequestPermission" rel="noopener ugc nofollow" target="_blank">RequestPermission</a></code>契约替换<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/android/app/Activity#requestPermissions(java.lang.String[],%20int)" rel="noopener ugc nofollow" target="_blank">requestPermissions</a></code>简化了权限请求，但也为常见意图提供了类型安全的契约，比如<a class="ae jn" href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture?hl=en" rel="noopener ugc nofollow" target="_blank">拍照</a>或提示用户<a class="ae jn" href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.OpenDocument?hl=en" rel="noopener ugc nofollow" target="_blank">打开文档</a>。</p><h2 id="1565" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">游戏SDK</h2><p id="163c" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">今年早些时候推出的Android游戏SDK现在也是Jetpack的一部分，可以在Google Maven知识库中找到。SDK目前提供了一个<a class="ae jn" href="https://developer.android.com/games/sdk/frame-pacing" rel="noopener ugc nofollow" target="_blank">帧调步API </a>和Android性能调谐器。从官方<a class="ae jn" href="https://developer.android.com/games/sdk" rel="noopener ugc nofollow" target="_blank">文档</a>中找到更多关于游戏SDK的信息。</p><h2 id="bd40" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">照相机</h2><p id="d719" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Android设备上的摄像头有很大差异；<a class="ae jn" href="https://developer.android.com/training/camerax" rel="noopener ugc nofollow" target="_blank"> CameraX </a>在90%的电脑上运行。自从CameraX在去年2月达到测试版以来，我们一直专注于可靠性，以确保API在各种设备上的最佳行为。我们的CameraX测试实验室在代表超过4亿台正在使用的活动设备的设备类型上运行我们的自动化测试套件。</p><p id="3c0b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最新版本的CameraX 对<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/camera/view/PreviewView?hl=en" rel="noopener ugc nofollow" target="_blank">PreviewView</a></code>小部件进行了改进。它现在可以处理与应用程序生命周期的交互，并可靠地查看页面。它还经过优化，可以在受益于其性能增强的设备上透明地使用<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/android/view/SurfaceView" rel="noopener ugc nofollow" target="_blank">SurfaceView</a></code>。这导致更少的缓冲和更好的功率效率。</p><p id="ddd6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">查看大量的<a class="ae jn" href="https://developer.android.com/training/camerax" rel="noopener ugc nofollow" target="_blank"> CameraX文档</a>和<a class="ae jn" href="https://github.com/android/camera-samples" rel="noopener ugc nofollow" target="_blank">样本</a>以了解更多关于API的信息。</p><h2 id="50dd" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">安全性</h2><p id="b809" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Jetpack的<a class="ae jn" href="https://developer.android.com/topic/security/data" rel="noopener ugc nofollow" target="_blank">安全库</a>提供了安全易用的基于文件的加密抽象，如<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/security/crypto/EncryptedFile" rel="noopener ugc nofollow" target="_blank">EncryptedFile</a></code>和<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/security/crypto/EncryptedSharedPreferences" rel="noopener ugc nofollow" target="_blank">EncryptedSharedPreferences</a></code>。Jetpack安全性利用了Android的<a class="ae jn" href="https://developer.android.com/training/articles/keystore" rel="noopener ugc nofollow" target="_blank">密钥库</a>，它提供了硬件支持的存储和操作安全性。<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/security" rel="noopener ugc nofollow" target="_blank"> Jetpack Security </a>现已发布棉花糖+的候选版本2，棒棒糖+支持版本1.1.0 alpha。</p><h2 id="e9a6" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">AppCompat</h2><p id="fdb2" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated"><a class="ae jn" href="https://developer.android.com/topic/libraries/support-library/packages#v7-appcompat" rel="noopener ugc nofollow" target="_blank"> AppCompat </a>为各种各样的UI元素和平台特性提供了支持，从材质主题到像<code class="du lq lr ls lt b"><a class="ae jn" href="https://developer.android.com/reference/androidx/appcompat/widget/Toolbar" rel="noopener ugc nofollow" target="_blank">Toolbar</a></code>这样的小部件，再到黑暗主题。在<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/appcompat" rel="noopener ugc nofollow" target="_blank">最新版本</a>中，我们添加了Lint规则，让你更好地理解哪些属性来自AppCompat，哪些来自框架，并确保你使用正确的属性。我们还对AppCompat的黑暗主题实现进行了实质性的稳定性改进。</p><h2 id="7224" class="kx ka hs bd kb ky kz la kf lb lc ld kj ja le lf kn je lg lh kr ji li lj kv lk bi translated">网络工具包</h2><p id="ca9e" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Jetpack的<a class="ae jn" href="https://developer.android.com/guide/webapps/webview" rel="noopener ugc nofollow" target="_blank"> Webkit </a>库在<a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/webkit" rel="noopener ugc nofollow" target="_blank"> 1.2.0版本</a>中添加了一个新的API来强制其内容使用黑暗模式。启用此API后，<a class="ae jn" href="https://developer.android.com/reference/android/webkit/WebView" rel="noopener ugc nofollow" target="_blank"> WebView </a>将在支持的地方以深色主题呈现站点。如果网站不支持深色主题，API会反转某些颜色。</p><h1 id="fa33" class="jz ka hs bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">jetpack Compose——Android的新UI工具包</h1><p id="38de" class="pw-post-body-paragraph ip iq hs ir b is ll iu iv iw lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm ha bi translated">Android新的现代UI工具包Jetpack Compose 现在已经在开发者预览版2中发布。这个版本增加了许多新功能:视图互操作性，更多的材料UI组件，黑暗主题支持，新的UI测试和动画API，对<code class="du lq lr ls lt b">ConstraintLayout</code>的初始支持，对状态管理的改进，与可观察流的集成和RTL支持。Android Studio预览现在可以是交互式的，并且有许多编译器改进。</p><p id="6752" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从<a class="ae jn" href="https://www.youtube.com/watch?v=U5BwfqBpiWU" rel="noopener ugc nofollow" target="_blank"> <em class="jo">撰写</em> </a>谈话中了解更多关于所有更新的信息，然后试用并<a class="ae jn" href="https://issuetracker.google.com/issues/new?component=612128" rel="noopener ugc nofollow" target="_blank">向我们提供反馈</a>。</p></div><div class="ab cl ma mb go mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ha hb hc hd he"><p id="bd0b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是过去几个月所有Jetpack更新的快速浏览。有90多个可用的库，我们知道很难找到你需要的。为了解决这个问题，我们重新设计了<a class="ae jn" href="https://developer.android.com/jetpack" rel="noopener ugc nofollow" target="_blank"> Jetpack网页</a>,并添加了一个方便的API选择器，以便快速从您遇到的问题转到可以解决它的Jetpack库。</p><p id="cb69" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要了解更多关于Jetpack库的信息，请关注在Android11周<a class="ae jn" href="http://g.co/android11" rel="noopener ugc nofollow" target="_blank">的Jetpack周(7月20日的一周)发布的新视频、博客文章和代码实验室。</a></p></div></div>    
</body>
</html>