# å–ä»£æ‰€æœ‰å…¶ä»–æˆæ³•çš„ä¸€ä¸ªæˆæ³•

> åŸæ–‡ï¼š<https://blog.kotlin-academy.com/use-the-gradle-build-scan-875b384554d1?source=collection_archive---------2----------------------->

![](img/8cee763fdd549c8f4e5489b99be90eae.png)

# ä½¿ç”¨ Gradle Build æ‰«æï¼

> Android ä¸–ç•Œä¸­æœ‰ä¸€ä¸ªéå¸¸å¯æ‚²çš„é—®é¢˜æœ‰ä¸€ä¸ªå¥½çš„ç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚

æ‰€ä»¥ï¼Œå¦‚æœä½ æ˜¯ Android å¼€å‘è€…æˆ–è€…æ­£åœ¨ä½¿ç”¨ Gradleï¼Œè¯·æ³¨æ„ï¼

# é—®é¢˜æ˜¯:å¤±å»äº†èƒŒæ™¯

è®©æˆ‘ä»¬æƒ³è±¡ä½ æ—©ä¸Šå»ä¸Šç­ã€‚å¼¹å‡ºé€šçŸ¥çª—å£:

> äº²çˆ±çš„å¼€å‘è€…ä½ å¥½ã€‚ä¸€ä½å®¢æˆ·æŠ¥å‘Šè¯´ï¼Œè¯¥åº”ç”¨ç¨‹åºä»æ˜¨å¤©å¼€å§‹å°±ä¸å·¥ä½œäº†ã€‚è¯·å°½å¿«ä¿®å¤*ã€‚*

æˆ‘å¤§èƒ†çš„çŒœæµ‹æ˜¯ï¼Œä½ ä¼šæœ‰è¿™æ ·çš„ååº”:

> *è¯·é—®ï¼Ÿä»€ä¹ˆä¸èµ·ä½œç”¨ï¼Ÿ*
> 
> é‚£æ˜¯æ’è½¦å—ï¼Ÿä½ æœ‰å †æ ˆè·Ÿè¸ªå—ï¼Ÿ
> è¿˜æ˜¯æœ‰äº›ä¸œè¥¿æ²¡æœ‰æŒ‰é¢„æœŸå·¥ä½œï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
> 
> *å“ªä¸ªç‰ˆæœ¬çš„ appï¼Ÿåœ¨å“ªä¸ªæ™ºèƒ½æ‰‹æœºä¸Šï¼Ÿ
> æœ‰å¤åˆ¶æ­¥éª¤å—ï¼Ÿ*

# è¿™æ˜¯ 101 å·æŠ¥å‘Šã€‚

ç„¶è€Œï¼Œä¸çŸ¥ä½•æ•…ï¼Œå½“è°ˆåˆ°æˆ‘ä»¬çš„å»ºè®¾æ—¶ï¼Œæˆ‘ä»¬å¿˜è®°äº†è¿™ä¸€ç‚¹ã€‚

é‚£äº›ä¸Šä¸‹æ–‡æ— å…³çš„â€œé”™è¯¯æŠ¥å‘Šâ€å’Œæç¤ºæ— å¤„ä¸åœ¨ã€‚çœ‹ç€è´´ç€ [android+gradle](https://stackoverflow.com/questions/tagged/android+gradle) æ ‡ç­¾çš„ StackOverflow é—®é¢˜ï¼Œæˆ‘å¾ˆéš¾è¿‡ã€‚å½“æˆ‘åœ¨ Android é—®é¢˜è¿½è¸ªå™¨ä¸­çœ‹åˆ°é—®é¢˜æ—¶ï¼Œæˆ‘å¾ˆéš¾è¿‡ã€‚çœ‹äº†é‚£äº›ä¸­å¸–éƒ½å¾ˆéš¾è¿‡ã€‚åˆ°å¤„éƒ½æ˜¯ç›¸åŒçš„æ¨¡å¼:

> *(original_post)æ‚¨å¥½ï¼Œæˆ‘çš„ build ä¸å·¥ä½œ/æ…¢ï¼Œè¯·æŒ‡æ•™ï¼è¿™é‡Œæ˜¯æˆ‘ä»æˆ‘çš„æ„å»ºä¸­å¤åˆ¶/ç²˜è´´çš„ 2000 ä¸ªå¯èƒ½ä¸ç›¸å…³çš„è¡Œã€‚*
> 
> (å›ç­” 1)å°†è¿™ä¸ª Groovy ç‰‡æ®µå¤åˆ¶/ç²˜è´´åˆ°ä½ çš„æ„å»ºä¸­çš„æŸä¸ªåœ°æ–¹ã€‚æˆ‘ä¸æ˜ç™½å®ƒæœ‰ä»€ä¹ˆç”¨ï¼Œä½†å®ƒå¯¹æˆ‘å¾ˆæœ‰æ•ˆã€‚
> 
> ä¸ï¼Œé‚£æ²¡ç”¨ã€‚

é‚£äº›è„±ç¦»ä¸Šä¸‹æ–‡çš„å¯¹è¯ä»¤äººæ„¤æ€’ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œå¯¹æ­¤æœ‰ä¸€ä¸ªå¥½çš„ã€ç®€å•çš„ç­”æ¡ˆï¼

# è§£å†³æ–¹æ¡ˆ:ä¸€ä¸ªæ¸å˜çš„æ„å»ºæ‰«æ URL

æ¯å½“ä½ éœ€è¦äº†è§£ä½ çš„æ„å»ºå¤±è´¥çš„åŸå› å¹¶å¯»æ±‚å¸®åŠ©æ—¶ï¼Œé‡æ–°è¿è¡Œç”¨`--scan`å¤±è´¥çš„ Gradle ä»»åŠ¡ã€‚ä¾‹å¦‚:

Publishing build scanâ€¦ [https://scans.gradle.com/s/ug6vfggccmozm](https://scans.gradle.com/s/ug6vfggccmozm)

ä¸ºäº†æ›´åŠ æ–¹ä¾¿ï¼Œæ‚¨åº”è¯¥å°†è¿™ä¸ªè®¾ç½®æ·»åŠ åˆ°æ‚¨çš„ top `./build.gradle`æ–‡ä»¶ä¸­ã€‚

ä½ ä¼šåœ¨[https://plugins.gradle.org/plugin/com.gradle.build-scan](https://plugins.gradle.org/plugin/com.gradle.build-scan)æ‰¾åˆ°*$ç‰ˆæœ¬*

åœ¨ https://docs.gradle.com/build-scan-plugin/é˜…è¯»æ–‡ä»¶

# è¿™ç»™æˆ‘ä»¬å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ

ä¸€åˆ‡ã€‚

åœ¨[https://scans.gradle.com/s/ug6vfggccmozm/](https://scans.gradle.com/s/ug6vfggccmozm/)è‡ªå·±æ¢ç´¢

è¿˜æ˜¯ç»§ç»­çœ‹ã€‚

# ä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´è¡¨

![](img/f86c02e45139bac221b42962a649b50c.png)

# å †æ ˆè·Ÿè¸ª

å¦‚æœæ„å»ºå¤±è´¥ï¼Œstacktrace ä¹Ÿæ˜¯å¯ç”¨çš„ã€‚

# æ‚¨çš„å¼€å‘åŸºç¡€è®¾æ–½:æ“ä½œç³»ç»Ÿã€JVMâ€¦â€¦

![](img/69368cff7042cc069f91466567d558e3.png)

# æ‚¨çš„ç‰ˆæœ¬æ­£åœ¨ä½¿ç”¨çš„æ’ä»¶åŠå…¶ç‰ˆæœ¬

![](img/6e3d0ebaf735fa37838b194632912b11.png)

# æ‚¨æ­£åœ¨ä½¿ç”¨çš„ä¾èµ–é¡¹åŠå…¶ç‰ˆæœ¬

![](img/76784c563f6767705089e2da215a9dbb.png)

# ä½ å¤±è´¥çš„æµ‹è¯•

ä¸è¦å†è¯•å›¾åœ¨ä½ çš„è©¹é‡‘æ–¯æ—¥å¿—ä¸­è§£é‡Šä¸ºä»€ä¹ˆä½ çš„æµ‹è¯•å¤±è´¥äº†ã€‚Gradle æ„å»ºæ‰«æè¿˜ä¼šæŠ¥å‘Šå“ªäº›æµ‹è¯•å¤±è´¥ä»¥åŠå¤±è´¥çš„åŸå› :

![](img/134c5e6356cdaff5e5ce0fcfd438b282.png)

# ç»©æ•ˆæŒ‡æ ‡å’Œä¸ªæ€§åŒ–å»ºè®®

Gradle ä¸ºæ‚¨çš„æ„å»ºçš„**æ€§èƒ½æŒ‡æ ‡æä¾›ä¸ªæ€§åŒ–å»ºè®®ã€‚**

![](img/51c47b2b915fe03f2c14f84378722d03.png)

è¿åŒå®ƒçš„åŒä¼´æ‰‹å†Œä¸€èµ·é˜…è¯» https://scans.gradle.com/s/ug6vfggccmozm/performance/build
T3

# åœ¨ä¼ä¸šç¯å¢ƒä¸­ä½¿ç”¨

åœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œä¸ Gradle å’Œå…¶ä»–æ‰€æœ‰äººå…±äº«å¯èƒ½æ•æ„Ÿçš„æ•°æ®å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚

æ„å»ºæ‰«æç”¨æˆ·æ‰‹å†Œè§£é‡Šäº†å¦‚ä½•åœ¨å…¬å¸æœåŠ¡å™¨ä¸Šå‘å¸ƒæ„å»ºæ‰«æ

```
buildScan {
    server = 'https://gradle-enterprise.mycompany.com'            
    publishAlways()                                               
}
```

åœ¨[https://docs.gradle.com/build-scan-plugin/](https://docs.gradle.com/build-scan-plugin/)é˜…è¯»æ–‡ä»¶

# è¿™å¤ªæ£’äº†ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¥å‰ä¸çŸ¥é“è¿™äº›ï¼Ÿ

æœ‰çš„ä¼šå›ç­”:â€œå› ä¸ºä½ æ²¡æœ‰ RTFMï¼Ÿâ€ã€‚

ä½†æ˜¯æˆ‘å‘ç°å…³äº [RTFM](https://en.wikipedia.org/wiki/RTFM) æœ‰è¶£çš„æ˜¯å®ƒæœ‰ä¸¤ç§æˆªç„¶ä¸åŒçš„å«ä¹‰:**è¯»ä»–å¦ˆçš„æ‰‹å†Œ**å’Œ**è¯»å‹å¥½çš„æ‰‹å†Œ**ã€‚

Android å®˜æ–¹ç½‘ç«™ä¸Šçš„[â€œé…ç½®ä½ çš„æ„å»ºâ€éƒ¨åˆ†çœŸçš„å¾ˆç³Ÿç³•ï¼Œå¦‚æœä½ æ‰€ä¾èµ–çš„æ˜¯ Gradle Build æ‰«æï¼Œæˆ‘å¹¶ä¸æƒŠè®¶ä½ ä¸çŸ¥é“å®ƒã€‚](https://developer.android.com/studio/build?hl=en)

è¿™ä¹Ÿè®¸æ˜¯ä½¿ç”¨ Gradle æ„å»ºæ‰«ææœ€å¥½çš„éƒ¨åˆ†:å®ƒæä¾›äº†åˆ° Gradle å®˜æ–¹æ–‡æ¡£ç›¸å…³éƒ¨åˆ†çš„ç›´æ¥é“¾æ¥ï¼Œè¿™äº›æ–‡æ¡£æ›´åƒæ˜¯å‹å¥½çš„æ‰‹å†Œã€‚

ä¾‹å¦‚:

![](img/2e700e2d3ca281459958cceeae2f46aa.png)

è‡ªå·±çœ‹:[https://scans.gradle.com/s/ug6vfggccmozm#switches](https://scans.gradle.com/s/ug6vfggccmozm#switches)

# å‚è€ƒ

*   åˆ›å»ºæ„å»ºæ‰«æ[https://guides.gradle.org/creating-build-scans/](https://guides.gradle.org/creating-build-scans/)
*   æé«˜ Gradle builds çš„æ€§èƒ½ã€https://guides.gradle.org/performance/ 
*   æ„å»ºæ‰«ææ’ä»¶ç”¨æˆ·æ‰‹å†Œ[https://docs.gradle.com/build-scan-plugin/](https://docs.gradle.com/build-scan-plugin/)

# å•å‡»ğŸ‘è¯´â€œè°¢è°¢ï¼â€å¹¶å¸®åŠ©ä»–äººæ‰¾åˆ°è¿™ç¯‡æ–‡ç« ã€‚

äº†è§£å¡å¸•å¤´æœ€æ–°çš„é‡å¤§æ–°é—»ã€‚å­¦é™¢ï¼Œ[è®¢é˜…æ—¶äº‹é€šè®¯](https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&id=d2ba84960a)ï¼Œ[è§‚å¯Ÿæ¨ç‰¹](https://twitter.com/ktdotacademy)å¹¶åœ¨åª’ä½“ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚

å¦‚æœä½ éœ€è¦ä¸€ä¸ªç§‘ç‰¹æ—å·¥ä½œå®¤ï¼Œçœ‹çœ‹æˆ‘ä»¬å¦‚ä½•èƒ½å¸®åŠ©ä½ : [kt.academy](https://www.kt.academy/) ã€‚

[![](img/3146970f03e44cb07afe660b0d43e045.png)](https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&id=d2ba84960a)