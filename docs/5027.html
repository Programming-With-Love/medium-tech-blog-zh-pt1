<html>
<head>
<title>BFS: From Alice to Mendix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BFS:从爱丽丝到门迪克斯</h1>
<blockquote>原文：<a href="https://medium.com/mendix/bfs-from-alice-to-mendix-e4d7376e0901?source=collection_archive---------7-----------------------#2020-03-24">https://medium.com/mendix/bfs-from-alice-to-mendix-e4d7376e0901?source=collection_archive---------7-----------------------#2020-03-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/642931657e3074ec8d259894cb1e2578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0V0MEmP5hUvNMfvin3lnkg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 0 Run, Alice! Before you lose the white rabbit out of your sight!</figcaption></figure><p id="7995" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated"><a class="ae kd" href="https://alicelabyrinth-sandbox.mxapps.io/" rel="noopener ugc nofollow" target="_blank">https://alicelabyrinth-sandbox.mxapps.io/</a></p><p id="a197" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">让我来指导你我的旅程，我是如何从解决一个CodinGame的难题，到在Mendix中制作一个小应用程序，同时我来说明广度优先搜索。首先，我们去爱丽丝梦游仙境。</p><p id="c149" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">爱丽丝跟着兔子下了洞，进入了神秘的科丁加姆仙境。这个领域的传言说，它充满了奇怪的程序员解决琐碎的编程挑战，尝试各种算法，如广度优先搜索(BFS)，见图1。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff ke"><img src="../Images/f21061326d44451ff03f450c8e3a8cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*VzdiKSgthOU-WFn2"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 1 How breadth first search works. Source: <a class="ae kd" href="https://www.codingame.com/learn/BFS" rel="noopener ugc nofollow" target="_blank">https://www.codingame.com/learn/BFS</a></figcaption></figure><p id="8ffd" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">爱丽丝决心不让白兔离开她的视线。她追着白兔跑进了迷宫。事实证明，白兔的速度太快了。她一进来，就失去了白兔。她停了一会儿，因为她意识到仅仅追赶那只白兔会给她带来更大的麻烦。她决定从结构上解决这个问题。爱丽丝从背包里拿出笔和纸，开始写下各种笔记。她遵循以下四个解决问题的步骤(见https://youtu.be/vEq6vmKIJwo<a class="ae kd" href="https://youtu.be/vEq6vmKIJwo" rel="noopener ugc nofollow" target="_blank">):</a></p><ol class=""><li id="94e1" class="kj kk hu bd b ji jj jm jn jq kl ju km jy kn kc ko kp kq kr dt translated">问题陈述</li><li id="f5ff" class="kj kk hu bd b ji ks jm kt jq ku ju kv jy kw kc ko kp kq kr dt translated">对象表示</li><li id="2d71" class="kj kk hu bd b ji ks jm kt jq ku ju kv jy kw kc ko kp kq kr dt translated">解决方案策略</li><li id="8e3b" class="kj kk hu bd b ji ks jm kt jq ku ju kv jy kw kc ko kp kq kr dt translated">实验</li></ol><p id="8fb7" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">在地面上，她发现了从1到16的奇怪数字，见图2。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff kx"><img src="../Images/8862931030755773b3553517c5ec0463.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*M9-xw3d5dYzanopA5p1ncA.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 2 The labyrinth from the top view with x and y-axis. On each cell you see a number, what does it say?</figcaption></figure><p id="2e1f" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">爱丽丝是一个非常聪明的女孩，她发现了牢房墙壁的数量和地面价值之间的联系。对于一个小女孩来说，她是一个非凡的病人，首先在她的笔记本上解决这个问题，然后冲进去将各种逻辑拖放到建模器中。</p><p id="bd3f" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">1问题陈述。</p><p id="1b6e" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">她用“给定<em class="ky">输入</em>，我想到达<em class="ky">输出</em>”的公式来思考她的问题陈述:给定这个迷宫，其中的单元格包含墙壁的值，我想找到我和兔子之间的最短路径。</p><p id="3053" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">2对象表示</p><p id="4ad3" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">Alice环顾四周并确定对象表示，这就像在Mendix中弄清楚域模型一样。有一个迷宫，它是一个单元的集合，我们称之为节点，包含从1到15的值。根据该值，Alice能够推断出它连接到了哪些节点。迷宫是一张图表。x 0和y 0上的节点连接到x 0和y 1上。这意味着节点0，0是节点0，1的父节点。因为该图是无向的，这意味着您可以从节点0，0转到节点0，1，但也可以从节点0，1回到节点0，0。</p><p id="b4e5" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">Alice对实体图和节点很满意。</p><p id="f269" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">3解决方案策略</p><p id="1594" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">她想出了一个接近这个迷宫的策略。为了找到最短路径，她决定使用广度优先搜索。</p><p id="9cc4" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">第一步:她首先需要连接迷宫的所有节点。有了这个值，她就可以计算出父节点连接到哪个子节点。1个用于下壁，2个用于左壁，4个用于顶壁，8个用于右壁。因此，值为5的节点1，2有一个顶壁5–4 = 1和一个底壁1–1 = 0。</p><p id="9151" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">第二步:启动BFS。她所站的节点就是根，见图3。该节点首先被添加到队列中，队列是一个列表，所有节点都在其中等待BFS处理。想象一下，你在排队等候进入你最喜欢的主题公园景点。第一个进入队列的是第一个离开队列(进入景点)的(先进先出FIFO)。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/205db981e7c3ba79936f78f2e96de1ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*OcEQRtTR1wUlbLEgo2bQqQ.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 3 The node with Alice is the root. Can you already find the shortest path from Alice to Rabbit?</figcaption></figure><p id="378c" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">步骤3:当队列包含节点时，这些节点急切地等待轮到BFS</p><p id="a316" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">步骤4:将节点放在队列的前面，并获取其子节点</p><p id="ab6b" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">步骤5:对于每个孩子，设置到Alice的距离，并将其添加到队列中，参见图4。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff la"><img src="../Images/53c727141db684729ebe841cedb39ba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*vyBGQxZlocl6IR3l8iw6dQ.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 4 For each cell, the distance is calculated to the root</figcaption></figure><p id="a42b" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">第6步:当BFS找到所有节点后，从兔子开始，向后数距离，直到找到爱丽丝，见图5。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff lb"><img src="../Images/efbf2f1a7e2c7ee27311d6b0a0a4ca9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*v38F2vKL5Wsqpx-rHa_qOQ.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 5 The shortest path from Rabbit to Alice highlighted in green. You probably already figured out the shortest path, didn’t you?</figcaption></figure><p id="7e46" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">现在爱丽丝想出了她的策略，所以她拿出了她的最好的朋友，她永远的朋友，不要和BFS混淆。这些孩子被小玩意宠坏了，因为她拿出了一架她甚至可以自己编程的无人机！她用自己的解决方案给自己的闺蜜编程。无人机飞出去。计算从爱丽丝到兔子的最短路径。然后回来引导爱丽丝去找白兔。</p><p id="ff8e" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">爱丽丝和兔子结合了。谁知道这种情况会持续多久，直到白兔看了一眼他的时钟，发现他总是迟到。</p><p id="ffef" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">爱丽丝和白兔联合了。得分100%！我写出了我的JavaScript代码，通过测试用例，看到我获得了100%的分数，我感到很自豪。当我想象这个挑战中的一个Mendix应用程序时，我兴奋起来，这样我就可以炫耀我了解BFS。</p><p id="33cc" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">在Mendix中连接输入和输出并不是我最大的挑战，因为我已经找出了我的伪代码。我最大的挑战是如何向用户呈现输入和输出。我如何让用户配置迷宫？我必须击败的贾巴沃克正在获得前端动力。她在模板网格的洞穴里休息。</p><p id="fa0e" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">我画了一些草图，看起来类似于图6。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff lc"><img src="../Images/9395c049cef85b48b395703c97806b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*5EmjjGZGrxHqbOXdP4sdHA.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 6 How it now looks like in the Mendix application, where you can find this Labyrinth preconfigured. Click on one of the buttons in the top, Alice or Rabbit, and place them somewhere in the Labyrinth.</figcaption></figure><p id="e286" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">模板网格非常适合二维数组。在JavaScript中，我使用一个2D数组作为4个其他列表的列表，包含4个单元格。在Mendix中，我不能在列表中保存列表。然而，通过向节点实体添加x-y坐标，我实现了类似的东西。当您在应用程序中选择一个单元格时，您会看到它的坐标为白色。</p><p id="2b60" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">使模板网格动态化，不同的单元格有不同的边界，是最困难的部分。您可以单击任意单元格，然后单击附近的单元格。这导致这两个单元连接，并且它们之间的壁被移除。用CSS我可以给单元格添加边框。然而，我不想让所有的单元格都有相同的边框，如图7所示。用户必须有拆除墙壁的可能性。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ld"><img src="../Images/5dd8d5454a41c3a655b5c78c0c6ac377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*16EPxUrzPaWE3TUq5CBLag.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 7 Every cell is bordered</figcaption></figure><p id="1a88" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">当您删除应用程序中的墙时，单元格会立即在后端连接起来，并且值(范围从1到15)会更新。覆盖这部分，连接网格的细胞，是我伪代码中最难的一步。</p><p id="41e1" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">此外，边界必须是动态的，取决于从1到15的值，见图8。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff le"><img src="../Images/57403723efe1656061dac507ac97475a.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*NTbQ5YhGU3inObltmKxxow.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Figure 8 Depending on the value, the position of the borders (walls) are calculated. Can you figure out which values are the basic values the other values are based on?</figcaption></figure><p id="4e16" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">为了打败这个贾巴沃克，我进入了应用商店，找到了我的沃帕尔之剑:动态类。对于您在图8中看到的每个数字，我必须有一个不同的类。例如，我有border10类，有左边框和右边框。我成功地使边境充满活力，但是贾巴沃克还没有被打败。只有细胞的内容得到了边界，但不是整个细胞。</p><p id="4068" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">我把自己藏在一个叫做谷歌的城堡里，在那里我找到了我的下一个武器:内嵌块。我把它添加到动态类的容器中，于是贾巴沃克号咽下了最后一口气。</p><p id="b96f" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">然而，贾巴沃克确实让我受伤了，因为我没能让整个前端充满活力。你会看到一个4乘4的格子，高4，宽4。可以输入高度。但是，您不能输入宽度，因为它在模板网格中是固定的。</p><p id="e435" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">随着我的贾巴沃克被击败，迷宫被正确地显示出来，以及它所有的动态边界，实现第2步到第6步不再那么困难了。所有的节点也已经彼此正确关联，这使得检索它们并逐个浏览它们变得很容易。</p><p id="29bf" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">你自己试试吧。你可以选择预配置的迷宫，在这篇博客中使用过。然后点击爱丽丝按钮，把爱丽丝放在迷宫的某个地方。单击兔子按钮将兔子放在某个地方。首先用BFS计算距离。然后就可以找到去兔子的最短路径，见我的伪代码第6步。您也可以选择配置自己的迷宫，并尝试在我实现的BFS上设置难度。</p><p id="ca71" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">你也可以尝试自己解决共同游戏挑战或Mendix中的其他共同游戏挑战。用JavaScript解决CodinGame的难题帮助我提高了解决问题的技巧。它给我带来了耐心，因为几天后我还在和一些人斗争。自己在纸上解谜，有助于我理解问题。</p><p id="5b34" class="pw-post-body-paragraph jg jh hu bd b ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc hn dt translated">在Mendix中用它制作一个应用程序是一个完全不同的挑战。我已经理解了这个问题，但是我真的理解到足以把它变成一个用户可以输入和读取输出的应用程序吗？在Mendix中制作它迫使我考虑如何将输入和输出呈现给用户。在Mendix中制作应用程序很容易，这打开了一个新的视角来看待和处理这个难题。</p></div></div>    
</body>
</html>