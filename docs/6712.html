<html>
<head>
<title>5 Dangerous Mistakes Node JS Developers Commit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Node JS开发者犯的5个危险错误</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/5-dangerous-mistakes-node-js-developers-commit-296df72b4530?source=collection_archive---------0-----------------------#2019-09-27">https://medium.com/quick-code/5-dangerous-mistakes-node-js-developers-commit-296df72b4530?source=collection_archive---------0-----------------------#2019-09-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c3a507e0c4b07b8cd985b33f949c55bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAqskuCX6LTXErqLPXwFww.png"/></div></div></figure><p id="3177" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在过去的几年里，Node JS框架经历了显著的发展。</p><p id="7a09" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于那些不知道的人来说，Node JS基本上是一个JavaScript运行时环境，允许编写服务器端脚本。</p><p id="8a95" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它建立在Google Chrome的V8 JavaScript引擎上，尽管有许多<a class="ae jn" href="https://www.credencys.com/blog/node-js-development-use-cases/" rel="noopener ugc nofollow" target="_blank"> Node JS用例</a>，但它主要用于构建可扩展的网络应用程序。</p><p id="b209" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">事实上，在所有在其软件产品中实现Node JS的公司中，<a class="ae jn" href="https://nodejs.org/en/user-survey-report/" rel="noopener ugc nofollow" target="_blank">只有4%的公司说它没有影响</a>。更重要的是，Node JS已经成为许多著名公司的主要后端技术，包括网飞、易贝、Paypal，甚至NASA。</p><p id="c912" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有这么多成熟的公司使用Node JS，Node JS一定有什么特别之处吧？</p><p id="592d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">是的，有。</p><p id="b8e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Node JS受欢迎的首要原因是它的单线程事件循环和非阻塞I/O模型。然而，阻塞事件循环是许多Node JS开发人员最常犯的错误。</p><p id="f2dc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我们将讨论5个常见但危险的错误，每个Node JS开发人员都必须不惜一切代价避免这些错误。</p><h1 id="1dd8" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">【Node JS开发者常犯的5个错误</h1><p id="5641" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">无论您是一家计划雇佣Node JS开发人员的公司，还是一名刚刚学习Node JS开发的开发人员，如果您想要高效地构建Node JS应用程序，避免以下错误是至关重要的。</p><p id="65db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">也就是说，让我们开始吧！</p><h1 id="0952" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 1 —阻塞事件循环</strong></h1><p id="dcba" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">因为Node JS是单线程环境，所以Node JS应用程序的两个部分不能并行运行。</p><p id="b3fe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以，如果你阻塞了事件循环，你就阻塞了一切。</p><p id="edf7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">简单地说，与多个客户端连接的一个CPU限制的请求可以很容易地阻塞事件循环。因此，有必要单独处理每一种情况。</p><p id="ee4e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">避免这个错误的唯一方法是使用像StrongOps这样的开源模块。</p><p id="6885" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，StrongOps可以帮助您识别和修复事件循环中的任何延迟，并防止您阻塞事件循环。</p><h1 id="f4c2" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 2 —尝试执行多个回调</strong></h1><p id="f7ef" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">如果您不知道，回调是允许异步元素相互通信的一种有效方式。</p><p id="1420" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，很多时候开发人员会多次执行相同的回调，这是一个常见但危险的错误。</p><p id="bfc0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你看，同时执行相同的回调或多个回调会导致接口冻结。</p><p id="4fbc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，重要的是要确保你没有连续多次催促回电。</p><p id="e024" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有两种方法可以避免这种情况发生。</p><p id="5e28" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">首先，您可以包装回调，这样每次回调执行两次时您都会得到通知。</p><p id="c632" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第二种解决方案是在回调之前添加一个return，以防止多次调用同一个回调。</p><h1 id="ca56" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 3 —深度嵌套回调</strong></h1><p id="91a1" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">深度嵌套回调通常被称为回调地狱，它基本上由多个嵌套回调组成，这使得读取和调试编写的代码很困难，有时甚至是不可能的。</p><p id="9c9b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">虽然一些Node JS开发人员认为回调地狱是不可避免的，但事实是这不是真的。</p><p id="702a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有很多方法可以让你的代码易于阅读和调试，比如使用承诺。</p><p id="66a2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">承诺基本上是一个返回的值，用于确认异步函数完成的处理。简单来说，承诺可以嵌套，使复杂的代码看起来清晰，更容易维护。</p><p id="d05b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">除了承诺之外，您还可以使用async模块，它提供了直接、强大的功能来处理异步JavaScript。</p><h1 id="62b7" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 4 —测试不彻底</strong></h1><p id="3f48" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">如果您没有为Node JS应用程序编写所需的测试，那么它就没有完成。</p><p id="5c39" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可能已经知道，测试是Node JS开发过程中的一个重要部分，但也是一个被忽视的部分。</p><p id="ceb2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果您正在构建Node JS应用程序，您必须执行代码检查和重复测试。这样做有助于顺利地进行应用程序的开发。</p><p id="b3e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">而且已经有很多像Jasmine，Mocha等工具了。可用的编写测试并检查您的节点JS应用程序的代码。</p><h1 id="93a6" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> 5 —使用Console.log进行调试</strong></h1><p id="04cd" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">创建节点JS中的Console.log是为了让开发人员将几乎任何内容打印到控制台。因此，当开发人员使用Console.log进行调试时，它会重新启动服务器，并最终降低应用程序的性能。</p><p id="f766" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你是一个每次出错就使用console.log的人，那么你很快就会使你的应用程序代码变得不可用。</p><p id="8a5f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">好消息是，这个问题的解决方案很简单:只需使用调试库。</p><p id="d220" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">调试库是专门设计来帮助防止日志在调试模式下被打印出来的。因此，您所有的文件和文档都将保持安全。</p><h1 id="27e7" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">结论</strong></h1><p id="3321" class="pw-post-body-paragraph ip iq hh ir b is km iu iv iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm ha bi translated">这些是开发人员在应用程序开发过程中经常犯的危险错误。因此，最重要的是，你<a class="ae jn" href="https://www.credencys.com/hire-node-js-developer/" rel="noopener ugc nofollow" target="_blank">雇佣Node JS开发人员</a>，他们了解这一点，并且能够在你的Node JS项目中实现最佳实践。</p></div></div>    
</body>
</html>