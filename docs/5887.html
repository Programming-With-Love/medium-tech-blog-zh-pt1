<html>
<head>
<title>How to Upload Large Files to OCI OSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将大文件上传到OCI OSS</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/how-to-upload-large-files-to-oci-oss-63b58ad7d5e0?source=collection_archive---------0-----------------------#2022-03-07">https://medium.com/oracledevs/how-to-upload-large-files-to-oci-oss-63b58ad7d5e0?source=collection_archive---------0-----------------------#2022-03-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="894a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">很多时候，您必须将大文件上传到Oracle云基础架构(OCI)对象存储(OS)。尤其是对于大型数据库转储文件。OS提供了一个多部分上传API，允许你上传大文件作为小块，并在对象存储中组合它们。</p><p id="040a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我遇到的一个相关用例是，一个客户试图将一个大文件放入OCI对象存储中。在我深入研究这个特定问题的定制解决方案之前，我想指出将大文件上传到OCI的最佳实践:</p><ol class=""><li id="859b" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">OCI公司:上传大文件的最佳选择。但这是一个需要安装的工具，有些客户可以接受，但有些则不行。</li><li id="b7ff" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">Oracle云控制台:基于GUI的云帐户工具，客户可以利用它来上传文件。但是它不能处理大文件上传。</li></ol><p id="f748" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jr">注意:如果您还没有注册，您可以今天就</em> <a class="ae jl" href="https://signup.cloud.oracle.com/?language=en&amp;sourceType=:ow:de:te::::RC_WWMK220210P00062:Medium_uploadLargeFilesOCIandOS&amp;intcmp=:ow:de:te::::RC_WWMK220210P00062:Medium_uploadLargeFilesOCIandOS" rel="noopener ugc nofollow" target="_blank"> <em class="jr">注册甲骨文云免费层账户</em> </a> <em class="jr">。</em></p><p id="4297" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果客户无法使用上述选项，他们可以利用Oracle OS APIs。让我们看看他们如何做到这一点。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/6142ce6df71699c00507ae284287079e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dzu5tnz6TMi0XLsBqSD7hg.jpeg"/></div></div></figure><p id="339d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.使用Linux split命令将大文件分割成较小的块。我建议将前缀保留为默认值。</p><pre class="jt ju jv jw fd ke kf kg kh aw ki bi"><span id="f772" class="kj kk hh kf b fi kl km l kn ko">split -b &lt;file_size&gt;[k|m|g] file_to_be_split prefix(default 'x')</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kp"><img src="../Images/eb889a75eeac9d584491771c0b37c9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*mErGAr-m_nmlC4TSgKhipA.png"/></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es kq"><img src="../Images/67d5923115ba1bdb76a51b4b4e17b9fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*69Pd3hKUZSo9O6jJUCtMwg.png"/></div></div></figure><p id="d116" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.在OCI操作系统存储桶上生成<a class="ae jl" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usingpreauthenticatedrequests.htm" rel="noopener ugc nofollow" target="_blank"> PAR </a>请求。</p><p id="b670" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.使用上传脚本(要点如下)并根据需要输入变量。</p><pre class="jt ju jv jw fd ke kf kg kh aw ki bi"><span id="7ce0" class="kj kk hh kf b fi kl km l kn ko">Enter the PAR Request: &lt;Generated_PAR&gt;<br/>Enter the File Name that you are uploading: &lt;File_Name&gt;</span></pre><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es kr"><img src="../Images/69f6b04e53e877c4e09afb9185660fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqsKHj8Zmg5To-AbdgDWFA.png"/></div></div></figure><p id="aaae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.您应该会看到零件正在上传。提交多部分上传后，您将在那里看到您的文件</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ks"><img src="../Images/4dd98016591042d97347e56fc16b7966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZ4LgcZWMT_b5OCJZvKcJQ.png"/></div></div></figure><p id="1043" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我在这里添加了一个脚本，可以让你上传一个大文件到操作系统。请相应修改和使用。</p><p id="866b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你有问题，请联系我。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="62cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是一种使用OCI操作系统API和PAR请求安全上传文件的安全方法。上传文件后，请确保PAR请求到期。</p><h1 id="9db0" class="kv kk hh bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">加入对话！</h1><p id="5550" class="pw-post-body-paragraph ie if hh ig b ih ls ij ik il lt in io ip lu ir is it lv iv iw ix lw iz ja jb ha bi translated">如果你对Oracle开发人员在他们的自然环境中发生的事情感到好奇，来<a class="ae jl" href="https://join.slack.com/t/oracledevrel/shared_invite/zt-uffjmwh3-ksmv2ii9YxSkc6IpbokL1g?customTrackingParam=:ex:tb:::::RC_WWMK220210P00062:Medium_uploadlargeOCIandOSfiles" rel="noopener ugc nofollow" target="_blank">加入我们的公共休闲频道</a>！我们不介意成为你的鱼缸🐠</p><p id="270b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考资料:</p><ol class=""><li id="6f57" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">Oracle对象存储<a class="ae jl" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usingpreauthenticatedrequests.htm" rel="noopener ugc nofollow" target="_blank">预认证请求</a>(解析)</li><li id="5557" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">Oracle对象存储<a class="ae jl" href="https://docs.oracle.com/en-us/iaas/Content/Object/Tasks/usingmultipartuploads.htm" rel="noopener ugc nofollow" target="_blank">多部分上传</a></li><li id="cc82" class="jc jd hh ig b ih jm il jn ip jo it jp ix jq jb jh ji jj jk bi translated">甲骨文云基础设施- <a class="ae jl" href="https://www.oracle.com/cloud/free/" rel="noopener ugc nofollow" target="_blank">免费层</a></li></ol><p id="050a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">关于作者:</strong></p><p id="1a64" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Phani Turlapati是Oracle Inc .的云工程师，他已经在Oracle工作了4年多。他最初在甲骨文公司的解决方案工程中心工作，专注于各种设计解决方案，以帮助客户为其业务增值。他是数据库团队的一员，专注于数据库的所有事情。在加入Oracle之前，他是一名软件工程师，在Java平台上开发应用程序。</p><p id="fa24" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇博客是我的观点，与甲骨文毫无关系</p><p id="fd55" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请随意评论上面的帖子。您的反馈很有价值！</p></div></div>    
</body>
</html>