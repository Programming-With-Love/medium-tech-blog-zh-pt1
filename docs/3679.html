<html>
<head>
<title>Introduction to Jira Automation and It’s Integration with Microsoft Azure Queue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">吉拉自动化及其与Microsoft Azure Queue的集成简介</h1>
<blockquote>原文：<a href="https://medium.com/globant/introduction-to-jira-automation-and-its-integration-with-microsoft-azure-queue-9ad618a66d6?source=collection_archive---------1-----------------------#2021-05-18">https://medium.com/globant/introduction-to-jira-automation-and-its-integration-with-microsoft-azure-queue-9ad618a66d6?source=collection_archive---------1-----------------------#2021-05-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4180" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本文的目标是帮助用吉拉自动化和微软Azure Queue构建开箱即用的解决方案。我们将介绍如何配置吉拉自动化规则，以及如何通过吉拉自动化向Azure Queue发送消息。这将有助于自动化操作。例如，当一个问题将被创建、更新或删除时，将详细信息发送到Azure queue。此外，我们可以开发任何跨平台的应用程序来处理Azure队列消息数据。</p><p id="46a8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">规则示例- </strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/4775be9076f8ad4dd6c71cc88c1c6cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WAOSPlI9H32wVm-H7Eznhg.png"/></div></div></figure><h2 id="0419" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated"><strong class="ak">只需点击几下鼠标，即可自动完成任何任务或流程</strong></h2><p id="31ee" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">Atlassian吉拉为在吉拉实施强大的自动化提供了一种便捷的方式。自动化是通过定义所谓的<em class="ko">规则</em>来实现的，这些规则是<em class="ko">触发</em>和<em class="ko">动作</em>的组合。</p><p id="e8dc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">概括地说，执行模型是:如果触发器“发生”，那么动作就被“执行”。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kp"><img src="../Images/26223fbcdaee7059583e0adb10652288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9HrBBEWS6G-6plLl8DF9g.png"/></div></div></figure><blockquote class="kq kr ks"><p id="0e6a" class="ie if ko ig b ih ii ij ik il im in io kt iq ir is ku iu iv iw kv iy iz ja jb ha bi translated"><strong class="ig hi">自动化和扩展吉拉的简单方法。所有的权力，没有脚本。</strong></p></blockquote><h2 id="5a4f" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated">1.触发器-</h2><p id="1ef8" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">每个规则都是从一个触发器开始的。他们开始执行你的规则。触发器将侦听吉拉中的事件，如创建问题或更改字段值时。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kw"><img src="../Images/c6a826677346391c9d7417927979b9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qOdxJoDX9h6GIosrxhClMw.png"/></div></div></figure><p id="07fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">找到下面的一些触发器列表-</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kx"><img src="../Images/f1aea601bb819fd93c51329fbf537573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPFTHseDrgsKRdX6pY-BMQ.png"/></div></div></figure><p id="ac61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae ky" href="https://support.atlassian.com/jira-software-cloud/docs/automation-triggers/" rel="noopener ugc nofollow" target="_blank">查看可用触发器的列表</a>。</p><h2 id="df83" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated">2.情况</h2><p id="cb70" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">在什么情况下应该在吉拉境内执行自动驾驶？</p><p id="e1d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">允许用户选择是否触发自动操作的条件。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kz"><img src="../Images/07e45ce4c269c2a0b23616b483d56116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lyKdrZ8vVa_-LmQlR-8DAA.png"/></div></div></figure><p id="1b3f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">找到下面的一些条件列表-</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es la"><img src="../Images/3ea5f3c9c19a3d15731c5172a642fcfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bd_C0-exZfZBVYHiMI31Vw.png"/></div></div></figure><p id="682d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae ky" href="https://support.atlassian.com/jira-software-cloud/docs/automation-conditions/" rel="noopener ugc nofollow" target="_blank">查看可用条件列表</a>。</p><h2 id="bff2" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated">3.动作-</h2><p id="31d3" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">基本上，动作是我们想要自动化的任务，这种集成实现了自动化。例如，我们可以发送电子邮件或发送Web请求。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/0513c4604d2199711c96c139df2b9fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wk5hX0n69XNCeVMOQqMeyQ.png"/></div></div></figure><p id="a39f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在下面找到一些操作的列表-</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lb"><img src="../Images/bc57759d3e5d3a325d542bbf64ce4184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJSJIQJm5J3OArJIakePzA.png"/></div></div></figure><p id="dcbe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae ky" href="https://support.atlassian.com/jira-software-cloud/docs/automation-actions/" rel="noopener ugc nofollow" target="_blank">查看可用动作列表</a>。</p><h2 id="bbe7" class="jo jp hh bd jq jr js jt ju jv jw jx jy ip jz ka kb it kc kd ke ix kf kg kh ki bi translated">如何建立规则</h2><ol class=""><li id="4f90" class="lc ld hh ig b ih kj il kk ip le it lf ix lg jb lh li lj lk bi translated">导航到您的自动化设置，并选择右上角的创建规则。</li><li id="40f8" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">选择问题创建触发器，然后选择保存。</li><li id="90c0" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">选择“新建条件”，然后选择“问题字段”条件。</li><li id="9d29" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">配置条件如下:<br/>将字段设置为问题类型<br/>将条件设置为等于<br/>将值设置为与Bug进行比较<br/>选择保存。</li><li id="39ba" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">选择“新建操作”，然后选择“创建子任务”操作。</li><li id="1119" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">配置操作如下:<br/>添加3个子任务，称为检查代码、故障诊断和解决。<br/>选择保存。</li><li id="fe83" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">选择“新建操作”，然后选择“分配问题”操作。</li><li id="8c70" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">选择用户以指定受理人，然后选择保存。</li><li id="24a9" class="lc ld hh ig b ih ll il lm ip ln it lo ix lp jb lh li lj lk bi translated">为您的规则命名，并选择打开它。</li></ol><blockquote class="kq kr ks"><p id="852f" class="ie if ko ig b ih ii ij ik il im in io kt iq ir is ku iu iv iw kv iy iz ja jb ha bi translated"><strong class="ig hi">如何构建向Azure Queue发送消息的规则？</strong></p></blockquote><p id="0b7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将讨论这条规则中最棘手的部分，即REST API配置。考虑到这一点，我们按照下面的步骤来。我们将边走边解释如何制作:</p><ol class=""><li id="0de7" class="lc ld hh ig b ih ii il im ip lq it lr ix ls jb lh li lj lk bi translated"><strong class="ig hi">网页挂钩网址:</strong></li></ol><p id="0f5d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Azure队列可使用以下URL格式寻址-</p><p id="3c6f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="ko"> https:// &lt;存储_账号&gt;. queue . core . windows . net/&lt;que _ name&gt;/messages</em></p><p id="4a14" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 2。Webhook头:</strong></p><p id="f210" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加带有<em class="ko">授权</em>的表头</p><p id="6235" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ko">授权:</em></strong><em class="ko">SharedAccessSignature Sr = https % 3a % 2f % 2fa zure . service bus . windows . net % queue _ name % 2f messages&amp;SIG = y 8 vet 1a 9 ejfvxfjdwk 2c 0 yxowgy 82 vqnlcul 7 vmz 4c % 3d&amp;se = 1925297008&amp;skn = RootManageSharedAccessKey</em></p><p id="54f8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要向Azure队列发送请求，我们需要提供SAS授权令牌。要了解更多请查看<a class="ae ky" href="https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview" rel="noopener ugc nofollow" target="_blank"> <em class="ko">存储-SAS-概述</em></a><a class="ae ky" href="https://adamtheautomator.com/azure-sas-token/#Generating_a_SAS_Token_using_PowerShell" rel="noopener ugc nofollow" target="_blank"><em class="ko"># Generating _ a _ SAS _ Token</em></a></p><p id="e8f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 3。Webhook方法:</strong></p><p id="1084" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">贴<em class="ko">贴</em>贴</strong></p><p id="2f88" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这种情况下，我们将通过POST发送web请求，但是，也可以使用其他方法，如GET、PUT、DELETE。</p><p id="75fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 4。Webhook主体:</strong></p><p id="aba8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以选择变量来包含和定制我们的有效载荷。从webhook body下拉列表中选择“<em class="ko">自定义数据”</em>。</p><p id="fd3f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="ko">{<br/>" issueId ":" { { issue . id } } "，<br/> "issueKey": "{{issue.key}} "，<br/>" issue type ":" { { issue . issue type . name } } "，<br/>" summary ":" { { issue . summary . jsonencode } } "，<br/>" description ":" { { issue . description . jsonencode } } "，<br/>" reporter ":" { { issue . reporter . email address。</em></p><p id="36c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">智能值允许在吉拉访问和操作问题数据。<a class="ae ky" href="https://support.atlassian.com/jira-software-cloud/docs/what-are-smart-values" rel="noopener ugc nofollow" target="_blank"> <em class="ko">什么是智能价值观？</em>T51】</a></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/12bb1ace73c84b22ece92618ee7f93d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OMUfTaWWLmxfYEV-0auozw.png"/></div></div></figure><p id="27a5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> 5。规则输出:</strong></p><p id="fbb7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后一步是保存规则并启用它。每当创建新问题时，此规则都会向Microsoft azure队列发送http请求，并以JSON有效负载格式提供所有问题详细信息。</p><p id="7070" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ko">希望这篇文章对大家有帮助！:)</em> </strong></p></div></div>    
</body>
</html>