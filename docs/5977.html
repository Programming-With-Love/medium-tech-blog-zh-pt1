<html>
<head>
<title>Using APEX collections to dynamically add/delete input boxes in a form and save the data to the database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用APEX集合动态添加/删除表单中的输入框并将数据保存到数据库</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/apex-collections-to-dynamically-add-delete-input-boxes-in-a-form-and-save-the-data-to-the-database-a72e43678ad3?source=collection_archive---------0-----------------------#2022-10-11">https://medium.com/oracledevs/apex-collections-to-dynamically-add-delete-input-boxes-in-a-form-and-save-the-data-to-the-database-a72e43678ad3?source=collection_archive---------0-----------------------#2022-10-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="9f03" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">概观</h1><p id="e810" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">APEX交互式网格以可搜索、可定制报告的形式为用户提供一组数据。在可编辑的交互式网格中，用户还可以直接在页面上添加、修改和删除数据集。另一方面，定制这些交互式网格的外观可能有点棘手。</p><p id="7947" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">在本文中，我们将采用另一种方法:您将看到如何通过单击按钮来动态添加/删除表单中的输入框，并将表单数据保存到数据库中。</p><p id="f702" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">输入框中的数据临时存储在集合中，并显示为报告。用户可以对这个集合进行更新，然后调用最后一个进程将这些更改应用到数据库。</p><p id="69bb" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">注意:</strong>如果您还没有注册，您可以<a class="ae kf" href="https://signup.cloud.oracle.com/?language=en" rel="noopener ugc nofollow" target="_blank">立即注册Oracle云免费层帐户</a>。如果你对如何开始学习OCI感兴趣，注册是第一步，没有必要跟着这篇文章走。</p><h1 id="6d24" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">设置</h1><p id="20f6" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在本例中，我们将使用APEX集合来管理用户完成的认证。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/8447482f68a3e6deb084185153572d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RpAjMTQKxZSgtX18yuxwAA.gif"/></div></div></figure><p id="61ff" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">先决条件:</strong>一个存储表单数据的数据库表。</p><p id="7254" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第一步:创建收藏</strong></p><p id="d41e" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">在APEX页面上，转到区域前的<strong class="je hi">预渲染- &gt;，并创建一个新流程来创建集合。在本例中，我们将创建两个集合。</strong></p><ul class=""><li id="3be8" class="ks kt hh je b jf ka jj kb jn ku jr kv jv kw jz kx ky kz la bi translated">ADD_CERTIFICATE_COLLECTION —使用CREATE_COLLECTION_FROM_QUERY_B过程初始化ADD_CERTIFICATE_COLLECTION，该过程将从数据库表中提取数据并将其存储在集合中。它还将临时存储添加的证书。</li><li id="39aa" class="ks kt hh je b jf lb jj lc jn ld jr le jv lf jz kx ky kz la bi translated">DELETE_CERTIFICATE_COLLECTION —将临时存储需要从数据库表中删除的证书。</li></ul><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="418c" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><em class="li">有关CREATE_COLLECTION_FROM_QUERY_B过程的更多详细信息，请参考</em><a class="ae kf" href="https://docs.oracle.com/cd/E37097_01/doc.42/e35127/GUID-22CEC93F-1CCF-48AF-BE89-A973A3022B36.htm#AEAPI730" rel="noopener ugc nofollow" target="_blank"><em class="li">https://docs . Oracle . com/CD/e 37097 _ 01/doc . 42/e 35127/GUID-22 CEC 93 f-1cf-48AF-BE89-a973a 3022 B 36 . htm # AEA pi 730</em></a></p><p id="794a" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第二步:创建报告</strong></p><p id="f9b0" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">创建一个以添加证书集合为来源的经典报告</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div class="er es lj"><img src="../Images/1e950dd108f31a32b545d2e10e63ecea.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*3S9cc2RDHO_QodOyyWaaDw.png"/></div><figcaption class="lk ll et er es lm ln bd b be z dx">Sample query</figcaption></figure><p id="05c1" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">步骤3:使用输入字段创建一个新的经典报告模板。报告模板的每一行还有一个删除按钮，用于删除证书。</strong></p><p id="e2c1" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">要创建新的经典报告模板，请转到<strong class="je hi">共享组件</strong> &gt; <strong class="je hi">模板</strong>并复制“值属性对—行”模板。</p><p id="3062" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">在这个新创建的模板上，用如下所示的HTML代码更新<strong class="je hi">行模板&gt;行模板</strong> <strong class="je hi"> 1 </strong>。该代码将在报告的每一行显示认证名称、完成日期和删除按钮。</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="70c1" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第4步:创建一个“添加”按钮，向页面添加新的证书。该按钮将打开一个弹出窗口，其中包含添加新证书的表单。</strong></p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lo"><img src="../Images/f705eec7fe27d659534b048f8e1037ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*SBNciuVOLteD11a5D3DwVw.gif"/></div></div></figure><p id="f64e" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第五步:创建一个保存表单的按钮。向该按钮添加一个动态操作，将上述表单中的数据推送到ADD_CERTIFICATE_COLLECTION。</strong></p><p id="f912" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">示例代码:</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="lg lh l"/></div></figure><p id="ab69" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第6步:创建一个删除动态动作来删除证书。</strong></p><ul class=""><li id="7d98" class="ks kt hh je b jf ka jj kb jn ku jr kv jv kw jz kx ky kz la bi translated">使用APEX_COLLECTION。从“添加证书集合”中删除项目的DELETE_MEMBERS过程</li><li id="d9d2" class="ks kt hh je b jf lb jj lc jn ld jr le jv lf jz kx ky kz la bi translated">使用APEX_COLLECTION。将项目添加到DELETE_CERTIFICATE_COLLECTION的ADD_MEMBER过程</li></ul><p id="8545" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated"><strong class="je hi">第七步。转到页面设计器- &gt;处理并创建两个进程，用于插入和删除数据库中的项目。</strong></p><p id="9f97" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">要插入的示例代码:该代码检查“ADD_CERTIFICATE_COLLECTION”中的项目是否已经存在于数据库中，如果不存在，则插入该项目。</p><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="lg lh l"/></div></figure><figure class="kh ki kj kk fd kl"><div class="bz dy l di"><div class="lg lh l"/></div></figure><h1 id="67b0" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">加入对话！</h1><p id="8a5e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果你对甲骨文开发人员在他们的自然栖息地发生的事情感到好奇，请加入我们的公共休闲频道！我们不介意成为你的鱼缸🐠</p></div></div>    
</body>
</html>