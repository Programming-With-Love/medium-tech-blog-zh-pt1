# 走在苗条的路线上

> 原文：<https://medium.com/globant/walking-down-the-svelte-route-67922ae16762?source=collection_archive---------1----------------------->

![](img/a0547b63458f7441498f3ae2021b17aa.png)

想知道如何在 Svelte 中实现路由？细长的路由包如何能来救你？让我帮你做。我将通过一个简单的例子向您展示如何实现这个苗条的路由包。你应该对苗条身材有一个基本的了解，如果你不知道如何锻炼苗条身材，你可以查看[快速开始锻炼苗条身材](https://svelte.dev/tutorial/basics)。如果你是第一次接触苗条路线，不知道它是什么，那么，继续读下去。

我有一个基本的应用程序设置苗条使用的步骤[这里](https://svelte.dev/blog/the-easiest-way-to-get-started)。现在，直接进入路由部分。

在 svelte 中添加路由有多种方式。然而，其中两个常用的是:

1) **Sapper** —一个由 svelte 团队构建在 svelte 之上的框架，它默认呈现服务器端优先(SSR)。

2) **苗条路由**——一个支持 SSR 的声明式苗条路由库

在本文中，我们将采用“**苗条路线”**路线。

> **安装**

我们将首先在我们现有的项目中安装一个简单的路由包。打开您喜爱的终端，导航到您的项目文件夹。我使用 NPM 来安装软件包，但是你可以使用任何适合你的。运行以下命令

```
npm install svelte-routing
```

这将向 package.json 添加必要的路由配置，并将包添加到 node-modules 文件夹。

现在你有了力量，让我们开始使用它吧！

> **整合**

接下来，创建一个组件。导航到项目中的 ***src*** 文件夹，创建一个 ***组件*** 文件夹。在这个级别，我将添加两个组件 Home.svelte 和 About.svelte 用于演示目的。

是时候看看代码了！

**home . svelite**

**身材苗条**

**App.svelte**

太好了…！我们的基本组件现在准备好路由，现在在 **App.svelte** 组件中配置路由器，同时在 App.svelte 组件中导入基本组件:

简单介绍一下路由中的一些基本概念。

**路由器**—*路由器*组件通过上下文向*链接*和*路由*后代组件提供路由信息，因此在应用程序的顶层至少需要一个路由器。它会为所有的路径后代分配一个分数，并选择最佳匹配进行渲染。

**链接** —用于在应用程序中导航的组件，它有一些属性，如“to”、“replace”、“state”、“getProps”

**Route —** 当其祖先路由器组件决定它是最佳匹配时，将呈现其组件属性或子组件的组件。**它在内部使用**一些属性来设置路径，如“**路径**”和“**组件**”，我们将在下面的动作中看到。

好了，回到正题！

您是否注意到我们已经在脚本标签中导出了 ***URL*** 变量？这是必需的，因为这个“URL”属性在 SSR(服务器端呈现)中用于强制应用程序的当前 URL，并且将被所有链接和路由后代使用

我们已经在 App.svelte 组件中导入了包和基本组件，现在的想法是在导航中设置两个链接(home，about ),当我们单击时，它会重定向到相应的组件。

现在我们在根组件 App.svelte 中配置它:

瞧啊。就是它了…！😊我们已经成功地在应用程序中设置了苗条路线，现在重新加载页面。

糟糕，我们遇到了一个 **404 错误**😨不用担心，要解决这个问题，我们需要在现有组件或新组件中再做一些更改:

1)我们需要在应用程序的根目录下创建 server.js 文件，并将以下代码放入其中:

基本上这段代码一直在**index.html**中呈现应用程序

2)在 main.js 中将水合物选项设置为 true，您已经在此处设置了新的应用程序 Constance，如下所示:

3)更新 rollup.config.js 并添加 *"hydratable"* 为 *true。*通过添加这个，我们确保应用程序被编译为可水合的。

因此，水合物选项倾向于更新现有的 DOM，而不是在 DOM 中创建新的元素。只有当组件用 hydratable: true 编译时，它才会起作用。

4)我们只需确保您的服务器正在为所有给定的路由提供“index.html ”,而不仅仅是“/”路由，因此需要在添加了“start”属性的“package.json”文件中进行的最后一项更改是，我们只需添加**-s "**参数。

```
"start": "sirv public -single"
```

"-s "作为单页应用程序，带有" index.html "后备。

现在，重新装弹！！

啊哈！现在它像一个魔咒一样工作！

> **结论**

我们看到了使用 svelte routing 包在我们的应用程序中创建路由是多么容易。

如前所述，另一个选项 sapper 也是可用的。这也是一个很好的框架，但我们必须在 svelte 上建立一个 sapper 项目，sapper 处于早期开发阶段，未来可能会有一些变化。

如果你想了解更多，你可以试试 sapper。

感谢您阅读我的文章。我希望它能帮助你在应用程序中成功地实现苗条路由。