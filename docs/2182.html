<html>
<head>
<title>Integrating Your Android App with OpenCV Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将您的Android应用程序与OpenCV库集成</h1>
<blockquote>原文：<a href="https://medium.easyread.co/integrating-your-android-app-with-opencv-library-266b2ea913d3?source=collection_archive---------2-----------------------#2017-12-04">https://medium.easyread.co/integrating-your-android-app-with-opencv-library-266b2ea913d3?source=collection_archive---------2-----------------------#2017-12-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4ae5a3790cd89e12cbc3050855e4bae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIGXeYHAlTwBUDPXBNweRg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">source : <a class="ae jz" href="https://unsplash.com/photos/QRawWgV6gmo" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/QRawWgV6gmo</a></figcaption></figure><p id="db89" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我一直在为我的小型论文项目搜索一些计算机视觉库，我的讲师建议我使用OpenCV库，我认为这是非常强大的计算机视觉开源库。</p><p id="b01a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">基本上OpenCV是一个开源的计算机视觉和机器学习软件库。根据文档，这个库中有超过2500个优化算法。</p><p id="89fa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些算法可用于检测和识别人脸、识别物体、对视频中的人类动作进行分类、跟踪摄像机运动、跟踪运动物体、提取物体的3D模型、从立体摄像机生成3D点云、将图像拼接在一起以生成整个场景的高分辨率图像、从图像数据库中查找相似图像等等。你可以在这里了解更多关于openCV的信息</p><p id="34fd" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于我需要某种图像质量增强算法和图像匹配算法，OpenCV是一个很好的选择。</p><p id="4bbb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我早些时候告诉你的项目基本上是一个移动应用程序，这是android应用程序，经过研究，遵循一些教程和试错的东西。我已经设法将它与我的android项目整合在一起。</p><p id="5554" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我认为为这个集成写一个教程会很棒，它可能会在将来帮助像我这样的人:)</p><p id="2fc3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">ps:下面的教程将向您展示如何在原生Android项目中集成OpenCV，这意味着在Android Studio(版本3.0.0)中集成OpenCV</p><blockquote class="ky kz la"><p id="cf1c" class="ka kb lb kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">pps:如果你懒得看这个教程，我已经在这里提供了一些样本<a class="ae jz" href="https://github.com/muhrahmatullah/OpenCV-Android-Base" rel="noopener ugc nofollow" target="_blank"/>。享受的同时别忘了给个星:)！</p></blockquote><ol class=""><li id="1471" class="lf lg in kc b kd ke kh ki kl lh kp li kt lj kx lk ll lm ln bi translated"><strong class="kc io">下载Android版OpenCV库</strong></li></ol><p id="7880" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">进入OpenCV页面，下载android最新的sdk(软件开发工具包)。到目前为止的最新版本(2017年12月3日)是3.3.1，你可以跟随这个<a class="ae jz" href="https://opencv.org/releases.html" rel="noopener ugc nofollow" target="_blank">链接</a>点击android pack，完成后解压文件。</p><p id="d78b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> 2。在Android Studio中创建新项目</strong></p><p id="611a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在你的android工作室中创建一个新项目，你可以简单地命名为OpenCV Android或任何你想要的名字。在Android Studio完成设置您的项目后，现在是时候将OpenCV库集成到您的Android应用程序中了，方法是单击文件-&gt;新建-&gt;导入模块并打开您下载的解压缩文件夹，在这里您会看到sdk文件夹，打开它并选择java。选择后，只需点击下一步并完成。</p><div class="lo lp lq lr gt ab cb"><figure class="ls jo lt lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/56503a0e57ee1c540b2d66c617dd76ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*_3oq5mq4VXGaOIBgi2uD_g.png"/></div></figure><figure class="ls jo ly lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/044b695aa680dac1393c594062b6537e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*epHc_V_sx2F3T5fWpu97Cg.png"/></div></figure></div><p id="a269" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> 3。导入</strong>后修复常见错误</p><p id="adfb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">导入模块后，您很可能会遇到一个错误(就像我经历的一样)，但是请记住，这个错误只会在您第一次导入OpenCV sdk时出现。所以当你有另一个使用openCV的项目时，你将不再面临同样的错误。</p><p id="7f5d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">常见的错误会出现是因为<strong class="kc io"> build.gradle </strong>文件，当你第一次使用openCV时它会改变:</p><ul class=""><li id="f324" class="lf lg in kc b kd ke kh ki kl lh kp li kt lj kx lz ll lm ln bi translated">编译版本</li><li id="bd79" class="lf lg in kc b kd ma kh mb kl mc kp md kt me kx lz ll lm ln bi translated">构建工具版本</li><li id="b63f" class="lf lg in kc b kd ma kh mb kl mc kp md kt me kx lz ll lm ln bi translated">minSdkVersion</li><li id="1230" class="lf lg in kc b kd ma kh mb kl mc kp md kt me kx lz ll lm ln bi translated">目标版本</li></ul><p id="cf03" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以简单地将这四个东西更新到你最新的android sdk中，这样就可以修复错误了。如果你发现除了上述错误之外的其他错误，也许你需要安装一些东西，但不要害怕，只要确保你的笔记本电脑/PC连接到互联网，它会自动安装所需的东西。您还需要将OpenCV模块设置更新为最新的compiledSdkVersion，如下所示</p><div class="lo lp lq lr gt ab cb"><figure class="ls jo mf lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/752f100ec7b9bdf8fe198ef593106893.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*aiATY-L8QX9QBB9cNKdGqw.png"/></div></figure><figure class="ls jo mg lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/b8ba059da90694518bc0239a804e2c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1594/format:webp/1*Sud_v8qyQiah8aeuDwPO9Q.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk mh di mi mj">update to latest version</figcaption></figure></div><p id="451c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> 4。添加模块依赖</strong></p><p id="e91c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，我们需要为openCV添加模块依赖关系，这很简单，只需右键单击您的应用程序目录，然后单击并转到依赖关系选项卡，单击加号图标(+)并单击模块依赖关系，然后选择openCV，然后单击确定。</p><div class="lo lp lq lr gt ab cb"><figure class="ls jo mk lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/5c790055de23f7aa5f59003d72e05733.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*Vb9Bf4klzBqzucu9CCtntA.png"/></div></figure><figure class="ls jo ml lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><img src="../Images/e160c477e0bd8281fdc99df798e0ca01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*1gwQgFRhzH9WjGRF1TpPNw.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk mm di mn mj">add module dependency</figcaption></figure></div><p id="1a8b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> 4。复制Libs文件夹</strong></p><p id="cbeb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">只需一步，你就可以用OpenCV构建你的android应用了。打开OpenCV的解压文件夹，导航到sdk/native，复制libs文件夹并粘贴到src/main下的android项目中，复制后重命名为jniLibs。这是你的项目目录复制后的样子。</p><figure class="lo lp lq lr gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/d1b3d50c457111be0b5f2141eff0b40b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m90pCds2P0xBFwHggRF29A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">project structure</figcaption></figure><p id="1597" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">完成这些步骤后，您就可以使用openCV了，只需在活动的onCreate中写下这一行。</p><pre class="lo lp lq lr gt mp mq mr ms aw mt bi"><span id="b663" class="mu mv in mq b gy mw mx l my mz">System.loadLibrary("opencv_java3");</span></pre><p id="247f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您现在可以使用强大的OpenCV库提供的计算机视觉算法:)</p><p id="50fc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来呢？这取决于你，也许你可以尝试简单的图像处理，如将RGB图像转换成灰度或边缘检测，就像这个<a class="ae jz" href="https://github.com/muhrahmatullah/OpenCV-Android-Base" rel="noopener ugc nofollow" target="_blank"> one </a>:)。</p><p id="ea76" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">敬请期待，我将在android开发中撰写更多教程:)。</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="0d8c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lb">Artikel thi di tulis oleh</em><a class="nh ni ep" href="https://medium.com/u/665385af59ff?source=post_page-----266b2ea913d3--------------------------------" rel="noopener" target="_blank"><em class="lb">Muhammad Rahmatullah</em></a><em class="lb">beliau sering menikel Meng ai Android and人工智能。我的个人资料更新了一个新的版本。</em></p><p id="e5aa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lb">如果这是一件艺术品，他们就可以购买。</em></p></div></div>    
</body>
</html>