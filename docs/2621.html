<html>
<head>
<title>How to make Quantity Input in Flutter App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Flutter App中进行数量输入</h1>
<blockquote>原文：<a href="https://medium.easyread.co/how-to-make-quantity-input-in-flutter-app-efe0b6f9acc0?source=collection_archive---------2-----------------------#2022-10-10">https://medium.easyread.co/how-to-make-quantity-input-in-flutter-app-efe0b6f9acc0?source=collection_archive---------2-----------------------#2022-10-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7b28" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">一个用TextFormField构建的flutter小部件，用于数量输入。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/845bf1ea488d0b5599dc06d49e04102b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J0KKshf08nKt6fs5"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Clay Banks</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="089b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你用过电商app吗？当您将商品添加到购物车时，您会发现一个数量输入小部件，用于输入您想要购买的商品。创建一个带有增加项目的加号按钮和减少项目的减号按钮的小部件是很容易的。最后，我们添加一个文本小部件来显示商品的数量。是的，我们现在有了数量输入。</p><blockquote class="lp lq lr"><p id="a303" class="kt ku ls kv b kw kx jo ky kz la jr lb lt ld le lf lu lh li lj lv ll lm ln lo ig bi translated">但是如果用户需要输入16723个条目呢？</p></blockquote><p id="4b88" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">是的...这是一个随机数，但很有可能发生。在这种情况下，用按钮添加数字是低效的，因为数字太大，也不是倍数。所以，我们不能应用这些步骤来达到这个目的。如果你想为此创建一个定制的小部件，它将需要一些非常复杂的函数。但是在“<a class="ae ks" href="https://pub.dev/publishers/pmatatias.dev/packages" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">pub . dev</strong></a><strong class="kv io">”</strong>即<a class="ae ks" href="https://pub.dev/packages/input_quantity" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> input_quantity </strong> </a>中有一个已经开发并开源的包。</p><p id="2112" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本文中，我们将探讨颤振中的<strong class="kv io">输入量包。</strong>我们将看到如何实现小部件，并探索包内的功能。我们将知道它如何帮助我们创建一个用于数量输入的小部件。</p><blockquote class="lw"><p id="8da5" class="lx ly in bd lz ma mb mc md me mf lo dk translated"><strong class="ak"> <em class="mg">目录</em> </strong></p></blockquote><blockquote class="lp lq lr"><p id="55e3" class="kt ku ls kv b kw mh jo ky kz mi jr lb lt mj le lf lu mk li lj lv ml lm ln lo ig bi translated"><em class="in"> -介绍<br/> -实施<br/> -更深层次的实施<br/> -结论</em></p></blockquote></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><div class="kd ke kf kg gt mt"><a href="https://pub.dev/packages/input_quantity" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd io gy z fp my fr fs mz fu fw im bi translated">输入_数量|颤振包</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">用于数量输入的Flutter小部件。按下按钮增加或减少输入值。用文本栏构建…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">公共开发</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh km mt"/></div></div></a></div></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ni"><img src="../Images/ce17b612738791f3ab6d914fbe1dedbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UExtHrg3QycqD4anICHgaQ.gif"/></div></div></figure><h2 id="69ee" class="nj nk in bd nl nm nn dn no np nq dp nr lc ns nt nu lg nv nw nx lk ny nz oa ob bi translated">介绍</h2><p id="354e" class="pw-post-body-paragraph kt ku in kv b kw oc jo ky kz od jr lb lc oe le lf lg of li lj lk og lm ln lo ig bi translated">输入数量包是一个用于输入数量的flutter小部件。这个小部件是用TextFormField构建的，所以用户可以手动输入他们想要输入的条目数。这些软件包提供了一些功能:</p><ul class=""><li id="81c4" class="oh oi in kv b kw kx kz la lc oj lg ok lk ol lo om on oo op bi translated">简单易用</li><li id="bc26" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated">光标会自动向右移动，以获得更好的用户体验</li><li id="56e4" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated">设置最大值、最小值和初始值</li><li id="191f" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated">用<strong class="kv io"> ChangeNotifier </strong>开发，以避免每次值改变时重新构建小部件。</li><li id="cd21" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated">使用这些步骤来更改按下的每个键</li><li id="6eed" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated">大小是固有的和可扩展的，这意味着小部件的大小可以设置得尽可能小，或者设置为扩展以填充可用空间</li></ul></div><div class="ab cl mm mn hr mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ig ih ii ij ik"><h2 id="76d9" class="nj nk in bd nl nm nn dn no np nq dp nr lc ns nt nu lg nv nw nx lk ny nz oa ob bi translated">履行</h2><p id="64e4" class="pw-post-body-paragraph kt ku in kv b kw oc jo ky kz od jr lb lc oe le lf lg of li lj lk og lm ln lo ig bi translated">像<em class="ls"> pub.dev </em>中的所有包一样，首先，我们需要将包添加到<em class="ls"> pubspec.yaml </em>文件的依赖项中。</p><pre class="kd ke kf kg gt ov ow ox oy aw oz bi"><span id="3f11" class="nj nk in ow b gy pa pb l pc pd">$ flutter pub add input_quantity</span></pre><p id="9dee" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这个包被添加到你的<em class="ls"> pubspec.yaml </em>之后，如下图所示，接下来你可以在你的flutter应用中使用它作为一个组件部件。</p><pre class="kd ke kf kg gt ov ow ox oy aw oz bi"><span id="34f4" class="nj nk in ow b gy pa pb l pc pd">dependencies:<br/>  input_quantity: ^any</span></pre><p id="576f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，您只需要导入包并在StatefullWidget或StatelessWidget中的任何地方使用它们。这里有一个简单的例子</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi pg"><img src="../Images/3e170bdc6f161202f291ae5c36e2410f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pd1F2EDJXjWTbzeYOd1NHg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Simple input qty</figcaption></figure><blockquote class="lp lq lr"><p id="8a10" class="kt ku ls kv b kw kx jo ky kz la jr lb lt ld le lf lu lh li lj lv ll lm ln lo ig bi translated">从上图可以看出，初始值是一个带小数点的数字。这是因为我们将<strong class="kv io"> initVal </strong> = 0.0。如果想用整数表示，可以设置<strong class="kv io"> initVal </strong> = 0。double和int都被接受，因为InputQty使用num作为<em class="in"> runType </em>。</p></blockquote><p id="a373" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我们进入更深层次的实现之前，我们需要知道这个包提供的属性。</p><p id="5324" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">InputQty中有一些属性和参数:</p><ul class=""><li id="ba1a" class="oh oi in kv b kw kx kz la lc oj lg ok lk ol lo om on oo op bi translated"><em class="ls">num</em>T8】maxVal:最大值输入。默认情况下<strong class="kv io">maxVal</strong>=<em class="ls">num . max finite</em></li><li id="6040" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">num</em>T16】initVal:初始值。默认<strong class="kv io"> initVal = 0 </strong></li><li id="889a" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">num</em>T22】minVal:最小值。也可以设置负数。默认<strong class="kv io"> minVal = 0。</strong></li><li id="262a" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">num</em>T28】步骤:按钮按下时增加/减少数值的数字。默认<strong class="kv io">步数= 1 </strong></li><li id="3bdd" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">所需的无效功能(编号？)</em> <strong class="kv io"> onQtyChanged: </strong>函数捕捉小部件中的每一个变化。你会得到num？此函数的值。您可能需要将其转换为所需的数据类型。例如:value.toInt()或value.toDouble()。</li><li id="72ae" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">bool</em><strong class="kv io">is intrinsicwidth:</strong>这将影响textfield的宽度。默认情况下为true，textfield将用intrinsictWidth小部件包装。如果将其设置为true，那么InputQty将扩展到可用空间。</li><li id="e05d" class="oh oi in kv b kw oq kz or lc os lg ot lk ou lo om on oo op bi translated"><em class="ls">输入解码</em>？<strong class="kv io"> textFieldDecoration: </strong>输入用于装饰文本字段的说明。</li></ul><h2 id="64ae" class="nj nk in bd nl nm nn dn no np nq dp nr lc ns nt nu lg nv nw nx lk ny nz oa ob bi translated"><strong class="ak">更深层次的实现</strong></h2><blockquote class="lp lq lr"><p id="cbd1" class="kt ku ls kv b kw kx jo ky kz la jr lb lt ld le lf lu lh li lj lv ll lm ln lo ig bi translated">我想改变按钮和文本之间的距离</p></blockquote><p id="e786" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果设置<strong class="kv io"> isIntrinsicWidth = false，</strong>文本字段将占用最大的可用空间。并且按钮会自动放置在textfield之间的空间中。</p><p id="953c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是如果您希望宽度仍然是固有的大小，可以将padding设置为InputDecoration。像下面这样:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi pg"><img src="../Images/d13f8d32285ec3517a87abf6e5ded801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-uE6ezXT51mNZjjG3Kh9aA.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Example result</figcaption></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="pe pf l"/></div></figure><blockquote class="lp lq lr"><p id="2ec6" class="kt ku ls kv b kw kx jo ky kz la jr lb lt ld le lf lu lh li lj lv ll lm ln lo ig bi translated">你还想用InputQty小部件实现另一件事吗？</p></blockquote><p id="fc3f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">欢迎在下方留言评论。或者你可以在GitHub上提出问题。</p><div class="ph pi gp gr pj mt"><a href="https://github.com/pmatatias/input-quantity/issues" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd io gy z fp my fr fs mz fu fw im bi translated">发放数据/输入数量</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">关于这个项目有问题吗？注册一个免费的GitHub账户来开一期并联系它的…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">github.com</p></div></div><div class="nc l"><div class="pk l ne nf ng nc nh km mt"/></div></div></a></div><h2 id="48c6" class="nj nk in bd nl nm nn dn no np nq dp nr lc ns nt nu lg nv nw nx lk ny nz oa ob bi translated">结论</h2><p id="6f25" class="pw-post-body-paragraph kt ku in kv b kw oc jo ky kz od jr lb lc oe le lf lg of li lj lk og lm ln lo ig bi translated">数量输入用于从用户处获取物品的数量。当太大时，使用按钮来增加或减少值是没有效率的。为了更好的用户体验，我们需要一个手动类型的小部件。InputQuantity包是实现这一功能的一个简单的解决方案。</p><h2 id="cf20" class="nj nk in bd nl nm nn dn no np nq dp nr lc ns nt nu lg nv nw nx lk ny nz oa ob bi translated">请自行尝试，节省从头开发输入量的时间。请随意提出<a class="ae ks" href="https://github.com/pmatatias/input-quantity/issues" rel="noopener ugc nofollow" target="_blank">问题</a>或打开PR为这个包做贡献。</h2><div class="ph pi gp gr pj mt"><a href="http://pub.dev/packages/input_quantity" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd io gy z fp my fr fs mz fu fw im bi translated">输入_数量|颤振包</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">用于数量输入的Flutter小部件。按下按钮增加或减少输入值。用文本栏构建…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">公共开发</p></div></div><div class="nc l"><div class="pl l ne nf ng nc nh km mt"/></div></div></a></div><p id="872e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>