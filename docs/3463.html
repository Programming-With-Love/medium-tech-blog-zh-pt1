<html>
<head>
<title>Begin IoT — The Azure Way !!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始物联网——蔚蓝之路！！</h1>
<blockquote>原文：<a href="https://medium.com/globant/begin-iot-the-azure-way-6bf3334f4989?source=collection_archive---------0-----------------------#2020-08-18">https://medium.com/globant/begin-iot-the-azure-way-6bf3334f4989?source=collection_archive---------0-----------------------#2020-08-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="0628" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里我们有另一个有趣的话题，它在我们所处的数字和智能世界中引起了很多讨论。😀</p><p id="37f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我们听到<strong class="ig hi">‘物联网’</strong>时，我们脑海中浮现出许多有趣的开放性问题，对吗？？</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/52a2c982a5670c3679d3b2ab8b7b5b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/0*JIFhdipKwt61hDCB"/></div></figure><blockquote class="jk jl jm"><p id="2def" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><em class="hh">“物联网”中的“物”是什么？</em></p><p id="5e35" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><em class="hh">为什么物联网中的“东西”很重要？</em></p><p id="9cd1" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><em class="hh">为什么选择物联网云？</em></p><p id="60ca" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><em class="hh">物联网产生的信息如何创造价值？</em></p><p id="e013" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><em class="hh">物联网的范围是什么？</em></p></blockquote><p id="46a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，在缩小到'<strong class="ig hi">如何使用物联网</strong>'之前，我们首先需要了解'<strong class="ig hi">什么是物联网</strong>'，下一步是了解'<strong class="ig hi">什么是Azure云上的物联网</strong>'。在这篇文章中，我们将看到一个关于借助Azure服务实现物联网的端到端解决方案的小型演示。</p><p id="75f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">物联网</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/c1c5020959cdd44c609a4a87cc328078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jN7gFl1GSyz81fOa.png"/></div></div></figure><blockquote class="jk jl jm"><p id="aa26" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">物联网本身有如此多的定义，因为这个领域本身是如此广阔，但为了使它更简短，它是一种收集数据、连接设备、使设备更智能的方法</p></blockquote><p id="0cf8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">物联网基本上通过设备交换信息/数据，因为设备确实存储了大量对人类有用的数据，而互联网使设备能够相互通信。</p><p id="f5ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">随着互联网的兴起和在线产生的数据的增加，如我们的购物量、浏览量、点餐量和互联网上许多应用程序的使用量，<strong class="ig hi">分析</strong>进入了日常生活。</p><blockquote class="jk jl jm"><p id="3a3e" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">对于我们谈论的所有数据流和分析，解决方案是'<strong class="ig hi">物联网</strong> ' —这些设备收集数据，我们剩下的唯一工作就是使用这些信息</p><p id="921b" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">我们可以将这些数据用于多种目的，比如更好地为客户服务，制造更好的药品，制造更好的机器。同样的事情是数据科学正在做的，也是互联网正在为我们做的。但尽管如此，我们需要以某种方式收集数据，当涉及到人类时，是的，我们是地球上最敏锐的人，但问题是当涉及到准确性时，唯一的问题是，人类不会像机器一样准确。所以我们需要机器来收集这些数据。</p></blockquote><p id="f578" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在把点连接起来，因为互联网上的数据是巨大的，产生的数据量是巨大的，这就给了我们一个解决方案，这个解决方案就是<strong class="ig hi"> IoT。😊</strong></p><blockquote class="jk jl jm"><p id="0922" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">物联网的一个未来例子是无人驾驶汽车<br/>这些汽车没有司机，足够智能，可以自己带你去目的地。这些汽车配备了大量的设备，如传感器、陀螺仪、云架构、互联网等，可以感知大量的交通、行人和道路状况数据，如减速带、坑洼、弯道和急转弯，并立即以高速处理这些数据。该信息被传递给控制器，控制器做出相应的驾驶决策。人工智能和机器学习也是无人驾驶汽车的重要方面。</p></blockquote><h1 id="d8c7" class="jw jx hh bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">Azure上的物联网</h1><p id="46dd" class="pw-post-body-paragraph ie if hh ig b ih ku ij ik il kv in io ip kw ir is it kx iv iw ix ky iz ja jb ha bi translated">现在，我们已经足够确信，是的，我们需要更智能的设备，是的，我们需要一个连接设备、收集数据的解决方案。下一步是缩小范围，找到一个可以为各种计算和服务提供解决方案的平台。</p><p id="fa0f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Azure提供现成的服务来利用设备生成的数据。Azure提供软件服务和计算，我们可以在特定时间租用这些服务。</p><p id="6527" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从最初的头脑风暴查询中获得解决方案。</p><blockquote class="jk jl jm"><p id="6b5d" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi">为何选择物联网云:</strong> <br/>易于调配、使用和管理<br/>按需购买、按需扩展<br/>它覆盖全球<br/>它绝对能够提供端到端的安全性和隐私性</p><p id="5042" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi">物联网的范围</strong> <br/>如今，物联网正在人类关注的各个领域实施，如智慧城市、智慧环境、安全、智慧业务流程、智慧农业、家庭自动化和医疗保健。</p></blockquote><p id="dca9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">来自Azure物联网中心的物联网解决方案架构</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kz"><img src="../Images/9926e75dbdae31e03e8d60d2b57047cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4dp4Ry5HsIIRD1YP"/></div></div></figure><p id="7c4c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jn">物联网应用可以描述为</em> <strong class="ig hi"> <em class="jn">事物</em> </strong> <em class="jn">(设备)发送数据即生成</em> <strong class="ig hi"> <em class="jn">洞察</em> </strong> <em class="jn">。这些见解产生</em> <strong class="ig hi"> <em class="jn">行动</em> </strong> <em class="jn">来改进一项业务或流程。一个例子是一个引擎(</em><strong class="ig hi"><em class="jn"/></strong><em class="jn">)发送温度数据。该数据用于评估发动机是否按预期运行(</em><strong class="ig hi"><em class="jn"/></strong><em class="jn">)。该洞察用于主动确定发动机维护计划的优先级(</em> <strong class="ig hi"> <em class="jn">【操作】</em> </strong>)</p><p id="b7f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">【Azure IoT解决方案演示</p><p id="5d3e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们了解一下演示一个简单的物联网解决方案需要什么。</p><blockquote class="jk jl jm"><p id="518f" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">首先，我们需要一个带有传感器的设备来产生遥测数据</p><p id="2b0b" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">我需要将此设备添加到Azure物联网中心。</p><p id="7a4f" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">一旦我们收到原始数据，我们需要将这些数据转换成有意义的信息来存储和可视化。</p><p id="cc04" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">可视化可用于在传感器数据上寻找异常。</p></blockquote><p id="e3b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据给定问题陈述的上述必要条件，我们将典型物联网解决方案的架构缩小到以下范围。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es la"><img src="../Images/089223d11b0aae4919d0203edc5bde32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HcLNxSpLE2auFmas"/></div></div></figure><p id="0d68" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了对其进行分类，我们使用了以下组件-</p><p id="124f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi lb translated"><span class="l lc ld le bm lf lg lh li lj di"> R </span> <strong class="ig hi"> aspberryPi模拟器:</strong>它的湿度、温度等传感器数据很少。这是可用的在线模拟器。随机数据流被传递到在线模拟器。这是一个公开提供的预打包解决方案。</p><blockquote class="jk jl jm"><p id="27b2" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">这可以在https://azure-samples.github.io/raspberry-pi-web-simulator/的<strong class="ig hi">买到</strong></p></blockquote><p id="5008" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi lb translated"><span class="l lc ld le bm lf lg lh li lj di"> A </span> <strong class="ig hi"> zure物联网Hub: </strong>我们需要给Azure物联网Hub添加一个设备。集线器会生成一个连接字符串，设备必须使用该字符串在设备和物联网集线器之间建立安全连接。我们必须将这个连接字符串放在设备上运行的应用程序的源代码中。在我们的情况下，这是拉斯贝里pi在线模拟器。</p><p id="4acd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi lb translated"><span class="l lc ld le bm lf lg lh li lj di"> D </span>为此，我们选择了ADX (Azure Data Explorer)进行存储和可视化..因为从存储的角度来看，它是经济高效的，而且还需要将热数据和冷数据分开。当我在这里说热数据和冷数据时，ADX附带了一个配置，我们可以在其中定义热周期和冷周期。它基于数据访问频率，如果数据访问频率高，则首选热存储，否则我们可以选择冷存储。使用Kusto查询语言有一个额外的好处，这是一种直观的查询语言，内嵌了我们使用的sql语义。</p><p id="af10" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi lb translated"><span class="l lc ld le bm lf lg lh li lj di"> V </span></p><blockquote class="jk jl jm"><p id="a967" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">首先，登录到<a class="ae lk" href="http://portal.azure.com/" rel="noopener ugc nofollow" target="_blank">http://portal.azure.com</a></p></blockquote><p id="9f21" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建资源组→创建物联网中心→物联网设备→创建设备并注册到物联网中心</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ll"><img src="../Images/a5aa45e172462baefdc2f3d84b5f5c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*70OXK1lU_EKU57ET.png"/></div></div></figure><p id="81be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">向物联网中枢添加内置端点。在下面的屏幕截图中，我们创建了一个消费者端点</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lm"><img src="../Images/312b83ff0e18fbee372c85e89846f7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p4M6UcTJQmB6aR5a"/></div></div></figure><p id="2663" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">向在IoT Hub中创建的资源组添加共享访问策略。这将生成一个连接字符串</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ln"><img src="../Images/baf0572dbe1a3bdc41a613e858180f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PT3y4XR_JB4gPxMT"/></div></div></figure><p id="9a05" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将“<strong class="ig hi">连接字符串</strong>添加到在线Raspberry pi模拟器，以在设备和物联网集线器之间创建安全连接。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es ln"><img src="../Images/79c775b746d617682f54e3c5d4537a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X_-WrRgWOLq2ONH_"/></div></div></figure><p id="90f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦连接字符串被添加到模拟器的源代码中，遥测数据就可以从Raspberry pi触发到IoT hub。以下屏幕截图显示了遥测数据触发后生成的消息序列。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lo"><img src="../Images/f69370672ac28ac54c5680ce3412a728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fTeGbUWFFjO99ofI"/></div></div></figure><blockquote class="jk jl jm"><p id="7449" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">我们刚刚从Rasberry Pi向物联网集线器发送了遥测数据，该遥测数据包括湿度和温度，作为传感器数据。这是从设备向物联网集线器生成的原始json数据包。我们将需要使用<strong class="ig hi"> Azure数据浏览器</strong>来存储这些数据。这配置了洞察力，它是一种完全受管的分析、存储和可视化服务，使同时探索和分析数十亿个物联网事件变得简单。</p></blockquote><p id="1cc5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在Azure中创建一个ADX集群</strong></p><p id="a037" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ADX集群—创建数据库—添加数据接收—主数据(数据在此接收)</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lp"><img src="../Images/8de4e847bd20ffb69c20168f354287fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vqXAiuGCV2pYXgqz"/></div></div></figure><p id="f6ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加ADX集群并为数据接收创建数据库连接后。我们可以通过这个URL<em class="jn"/><a class="ae lk" href="https://dataexplorer.azure.com/" rel="noopener ugc nofollow" target="_blank"><em class="jn">https://dataexplorer.azure.com</em>/</a>建立到azure data explorer的连接来查询数据库，并使用kusto查询语言提取数据</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lq"><img src="../Images/d6ce61551c3c356fc77b9b97d7db208e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X_Qklw62bfW4Nh6M"/></div></div></figure><blockquote class="jk jl jm"><p id="fc89" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated">在这里，我使用Kusto查询语言创建了一个函数来创建一个文件夹，以可视化温度高于25和湿度高于75的高警报</p><p id="c4eb" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi">。create-or-alter function with(folder = " powerbi visualization ")highlalertdatafortempandweather {</strong></p><p id="91fb" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi">遥测|扩展isHighAlert =温度&gt; 25和湿度&gt; 75 </strong></p><p id="43c2" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi"> |其中isHighAlert == true|项目messageId，温度，湿度</strong></p><p id="e0c8" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi"> } </strong></p></blockquote><p id="9af5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以使用PowerBi工具来可视化这些数据，方法是在为从Azure data explorer接收数据而创建的数据库连接和Power Bi之间建立连接</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es lr"><img src="../Images/e7d851c9f4918b9d452fab1526197f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4CfjJQQBS9dP04_c"/></div></div></figure><p id="ab7f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这解释了一个端到端的解决方案，从使用传感器从设备收集原始数据，到分析和可视化原始信息。</p><blockquote class="jk jl jm"><p id="78d1" class="ie if jn ig b ih ii ij ik il im in io jo iq ir is jp iu iv iw jq iy iz ja jb ha bi translated"><strong class="ig hi">希望这能给你一个好的触发，让你开始使用物联网Azure方式，并希望这能带来更多的热情来进一步探索这一点！！继续探索！！</strong></p></blockquote></div></div>    
</body>
</html>