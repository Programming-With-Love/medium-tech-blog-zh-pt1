<html>
<head>
<title>Setting up the Android Emulator for speed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置Android模拟器的速度</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/setting-up-the-android-emulator-for-speed-37ccbc3c3e1c?source=collection_archive---------0-----------------------#2016-11-22">https://medium.com/androiddevelopers/setting-up-the-android-emulator-for-speed-37ccbc3c3e1c?source=collection_archive---------0-----------------------#2016-11-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="0a26" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">让Android模拟器快速运行！</h1><p id="2375" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Android模拟器已经走过了漫长的道路，现在比以往任何时候都快…只要你有正确的配置。我们通过在设置向导中提供优化的默认设置和推荐的设置来使它变得容易，但是如果您过去已经创建了AVDs，您可能需要仔细检查您是否有正确的设置。</p><figure class="ka kb kc kd fd ke"><div class="bz dy l di"><div class="kf kg l"/></div></figure><h1 id="5421" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">虚拟机加速</h1><figure class="ka kb kc kd fd ke er es paragraph-image"><div class="er es kh"><img src="../Images/888e89c8f18d5d0b1c2f93362e497d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*tez5gw4HDZRI4i6sRDVcIw.png"/></div><figcaption class="kk kl et er es km kn bd b be z dx">HAXM installation is required on Windows / Mac</figcaption></figure><p id="8876" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">首先，确保您的操作系统上安装了正确的虚拟化层。作为Android Studio安装的一部分，我们在Windows和Mac上提供英特尔HAXM软件。请注意，您需要在计算机的BIOS设置中启用虚拟化技术的英特尔CPU才能使用HAXM，因为HAXM软件与AMD处理器不兼容。</p><p id="b72a" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在Linux上，你应该使用KVM包(它同时支持Intel和AMD处理器)。您的CPU需要支持虚拟化扩展(英特尔VT-x或AMD-V ),并且您需要在您的计算机设置中启用这些扩展。</p><p id="e607" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">有关如何安装和验证HAXM和KVM是否正确启用的更多详细说明，请参考我们新的<a class="ae kt" href="https://developer.android.com/studio/run/emulator-acceleration.html#accel-vm" rel="noopener ugc nofollow" target="_blank">文档页面</a>(向下滚动以找到针对您的操作系统的说明)。有关BIOS的说明，请查阅您的笔记本电脑或主板的说明手册。</p><h1 id="09c9" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">选择设备定义</h1><p id="4183" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果您在安装Android Studio时接受了所有默认设置，那么您应该会看到一个AVD已经出现在可用设备列表中，并且配置了最佳设置。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ku"><img src="../Images/c74d76a18e3f08fa492352e4b069d637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AtmDWjvZEe5NOrgceK4WNg.png"/></div></div><figcaption class="kk kl et er es km kn bd b be z dx">Android Virtual Device Manager with list of created AVDs</figcaption></figure><p id="c783" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">对于本教程，我们正在制作一个新的AVD来帮助解释如何设置额外的AVD。首先点击Android虚拟设备管理器中的“创建虚拟设备”按钮。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kz"><img src="../Images/20af8c935c74d7a0d0a2474acbb31bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HspVN-TrsdIyvYK3DTuUYg.png"/></div></div><figcaption class="kk kl et er es km kn bd b be z dx">Step 1 of creating an AVD</figcaption></figure><p id="2537" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在这里，你可以选择一些参考Android设备的屏幕尺寸和密度，如Nexus手机和平板电脑上使用的尺寸和密度。如果您没有使用带有快速GPU的高端机器进行开发，您可以通过选择一个较低屏幕分辨率的预设来使您的模拟器更流畅。</p><p id="5603" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">您不一定需要仿真1080 x 1920设备来进行开发，使用480 x 800 hdpi仿真器来进行快速迭代通常是非常好的。请记住，您可以通过在虚拟设备管理器中编辑AVD并选择不同的设备定义来随时更改分辨率和屏幕大小。</p><h1 id="6869" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">选择正确的系统映像</h1><p id="d12c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">为AVD选择系统映像时，有三条建议非常重要。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kz"><img src="../Images/978ca79327e171771b062a9d796e8747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhgCX9mT3Na_eF2mHMBIjw.png"/></div></div><figcaption class="kk kl et er es km kn bd b be z dx">Step 2: choosing a system image</figcaption></figure><p id="5aa8" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">首先，选择一个最新的dessert版本(API级别)，因为这些版本通常运行最快，并且包含针对模拟器环境的最新修复和优化。</p><p id="dc5a" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">第二，确保选择x86映像，因为在您最确定用于开发的x86机器上模拟这些映像会更快。</p><p id="0088" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">最后，您通常会希望选择一个标记为“(使用Google APIs)”的系统映像，这意味着它包含Google Play服务和一些内置的核心应用程序(如Google Maps)，以帮助测试您的集成。</p><p id="c5dd" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">这一步中的UI是为支持这些选择而构建的——推荐的选项卡显示最新的API级别，包括x86映像和Google APIs，而第二个选项卡显示所有x86映像。如果你需要模仿旧的Android版本或者在ARM二进制上测试你的应用，你可以查看“其他图像”标签。</p><h1 id="06f4" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">GPU加速</h1><p id="37da" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">最后一步是确保GPU加速工作。理想情况下，有了现代显卡和最新的驱动程序，你不需要做任何事情来启用它。在最后一个AVD创建步骤中有一个设置，默认设置为自动检测GPU功能并启用正确的加速级别。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kz"><img src="../Images/b2acf104c013357575ddd050be332917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3iN5VfSUu0Y-iH-eeQmhXg.png"/></div></div><figcaption class="kk kl et er es km kn bd b be z dx">Step 3: verify settings and finish.</figcaption></figure><p id="6a76" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">如果你有问题，首先要做的是确保你的显卡驱动是最新的。您还可以<a class="ae kt" href="https://developer.android.com/studio/run/emulator-acceleration.html?hl=ES#accel-graphics" rel="noopener ugc nofollow" target="_blank">阅读更多关于各种仿真模式的命令行开关</a>的信息，比如在不同的硬件和软件渲染器之间进行选择。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kz"><img src="../Images/d0ecd8aa17ed4057a9f190ed41dc728e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TDj3nmRDrCl-LGkf75ATmQ.png"/></div></div><figcaption class="kk kl et er es km kn bd b be z dx">Advanced settings: amount of RAM and number of CPUs</figcaption></figure><p id="75c2" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">如果您想尝试微调更多的参数，可以尝试为仿真设备分配更多(或更少，取决于开发机器的能力)的CPU内核和RAM。Android Studio在创建设备时会尝试选择合理的默认值，但您的结果可能会有所不同。如果您需要更多存储空间，也可以选择模拟更大的SD卡。</p><p id="e0fb" class="pw-post-body-paragraph jc jd hh je b jf ko jh ji jj kp jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">如果您在模拟器和设置过程中遇到错误，请阅读<a class="ae kt" href="http://tools.android.com/filing-bugs" rel="noopener ugc nofollow" target="_blank"> Android Studio错误归档流程</a>，并使用Android问题跟踪器让我们了解任何问题。</p></div></div>    
</body>
</html>