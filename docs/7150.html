<html>
<head>
<title>Introducing Square’s Register API and E-commerce API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍Square的注册API和电子商务API</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/introducing-squares-register-api-and-e-commerce-api-555701db8f1b?source=collection_archive---------0-----------------------#2016-03-30">https://medium.com/square-corner-blog/introducing-squares-register-api-and-e-commerce-api-555701db8f1b?source=collection_archive---------0-----------------------#2016-03-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="545f" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">让开发商能够帮助卖家接受付款，无论买家身在何处:当面还是在线</h2></div><p id="59a1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">作者写的</em><a class="ae jt" href="https://github.com/zhao-squareup" rel="noopener ugc nofollow" target="_blank"><em class="js"/></a><em class="js">。</em></p><blockquote class="ju"><p id="d241" class="jv jw hh bd jx jy jz ka kb kc kd jr dx translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们的新家<a class="ae jt" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">https://developer.squareup.com/blog</a></p></blockquote><p id="b30d" class="pw-post-body-paragraph iw ix hh iy b iz ke ii jb jc kf il je jf kg jh ji jj kh jl jm jn ki jp jq jr ha bi translated">你有没有看过Square的硬件产品(可能是我们最新的EMV和NFC读卡器)，然后想，“我可以用它来做一些令人惊叹的东西”？从历史上看，支付和硬件开发往往与陈旧和难以使用的技术相关联。今天，我们很高兴发布<a class="ae jt" href="https://squareup.com/developers" rel="noopener ugc nofollow" target="_blank"> Square的注册和电子商务API</a>。任何开发人员都可以开发一个iOS应用程序，通过滑动、蘸取或点击来进行支付。开发者现在还可以通过Square为网站提供在线支付。</p><h1 id="8495" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">注册API</h1><p id="736e" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">Square Register API让你专注于你最擅长的事情:为你的卖家打造一个令人惊叹的销售点体验。我们会负责转移资金。只需两次API调用，您就可以告诉我们您希望我们向客户收取多少费用，并让<a class="ae jt" href="http://squareup.com/register" rel="noopener ugc nofollow" target="_blank"> Square Register </a>完成所有繁重的工作。顾客付款就像他们习惯在任何其他广场卖家，我们甚至会发短信，电子邮件，或打印一张收据的卖家的名义。最重要的是，它支持我们所有的硬件，包括<a class="ae jt" href="http://squareup.com/stand" rel="noopener ugc nofollow" target="_blank">方形支架</a>和新的<a class="ae jt" href="https://squareup.com/contactless-chip-reader" rel="noopener ugc nofollow" target="_blank">方形非接触式+芯片读卡器</a>。</p><p id="e06f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在您的应用程序中发出一个API请求:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="f1a5" class="lp kk hh ll b fi lq lr l ls lt">[SCCAPIRequest requestWithCallbackURL:yourAppCallbackURL<br/>                               amount:amountToCharge<br/>                       userInfoString:dataWePassBackToYou<br/>                           merchantID:nil<br/>                                notes:descriptionOfCharge<br/>                 supportedTenderTypes:SCCAPIRequestTenderTypeCard<br/>                    clearsDefaultFees:NO<br/>                                error:<strong class="ll hi">&amp;</strong>error];<br/>[SCCAPIConnection performRequest:request error:<strong class="ll hi">&amp;</strong>error];</span></pre><p id="5ab7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Square Register切换到前台并代表您完成支付。完成后，我们会将结果通知你的应用。</p><figure class="lg lh li lj fd lv er es paragraph-image"><div class="er es lu"><img src="../Images/4da99250fd3b759ae3bb9ad0c603a5e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*BJ4RxYx2AAHcGciBNl06eg.gif"/></div></figure><h1 id="a73b" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">电子商务API</h1><p id="7f9a" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">现在，任何开发者都可以为他们的客户构建解决方案，让他们在使用Square的网站上接受支付。您是否正在开始使用<a class="ae jt" href="http://squareup.com/online-store" rel="noopener ugc nofollow" target="_blank"> Square的在线商店</a>进行在线销售；你正在通过Square与<a class="ae jt" href="https://squareup.com/app-marketplace" rel="noopener ugc nofollow" target="_blank">电子商务平台</a>如Bigcommerce、Weebly和Ecwid的整合而成长；或者现在，你正在建立一个定制网站，任何业务都可以通过Square支付在线扩展。此外，借助我们的电子商务API，Square消除了PCI合规性方面的麻烦，而不会影响网站的设计或外观，也不会将客户重定向到异地。</p><p id="b169" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Square的JavaScript库使用一组透明的、动态样式的iframes来接受敏感的持卡人信息。这样持卡人的数据就不会接触到你的网站或服务器。作为交换，它返回一个一次性卡随机数:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="cc24" class="lp kk hh ll b fi lq lr l ls lt">&lt;script type="text/javascript" src="https://js.squareup.com/v2/paymentform"&gt;<br/>&lt;/script&gt;<br/>&lt;script&gt;<br/><strong class="ll hi">var</strong> paymentForm <strong class="ll hi">=</strong> <strong class="ll hi">new</strong> SqPaymentForm({<br/>  applicationId<strong class="ll hi">:</strong> 'your_app_id',<br/>  inputClass<strong class="ll hi">:</strong> 'sq-input',<br/>  cardNumber<strong class="ll hi">:</strong> { elementId<strong class="ll hi">:</strong> 'sq-card-number' },<br/>  cvv<strong class="ll hi">:</strong> { elementId<strong class="ll hi">:</strong> 'sq-cvv' },<br/>  expirationDate<strong class="ll hi">:</strong> { elementId<strong class="ll hi">:</strong> 'sq-expiration-date' },<br/>  postalCode<strong class="ll hi">:</strong> { elementId<strong class="ll hi">:</strong> 'sq-postal-code' },<br/>  callbacks<strong class="ll hi">:</strong> {<br/>    cardNonceResponseReceived<strong class="ll hi">:</strong> <strong class="ll hi">function</strong>(errors, nonce, cardData) {<br/>      <em class="js">// your app code</em><br/>    }<br/>  }<br/>});<br/><strong class="ll hi">function</strong> requestCardNonce() { paymentForm.requestCardNonce(); }<br/>&lt;/script&gt;</span><span id="4b36" class="lp kk hh ll b fi ly lr l ls lt">&lt;div id="sq-card-number"&gt;&lt;/div&gt;<br/>&lt;div id="sq-cvv"&gt;&lt;/div&gt;<br/>&lt;div id="sq-expiration-date"&gt;&lt;/div&gt;<br/>&lt;div id="sq-postal-code"&gt;&lt;/div&gt;</span><span id="50a0" class="lp kk hh ll b fi ly lr l ls lt">&lt;button type="submit" onclick="requestCardNonce()"&gt;Submit&lt;/button&gt;</span></pre><p id="f330" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">(参见<a class="ae jt" href="https://docs.connect.squareup.com/articles/adding-payment-form/" rel="noopener ugc nofollow" target="_blank">文档</a>中完整的工作示例)。</p><p id="b2d1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您的服务器使用卡nonce并从购买者的卡中收费。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="227c" class="lp kk hh ll b fi lq lr l ls lt">$api = new \SquareConnect\Api\TransactionApi();<br/>$transaction = $api-&gt;charge($accessToken, $locationId, [<br/>  'amount_money' =&gt; ['amount' =&gt; 1337, 'currency' =&gt; 'USD'],<br/>  'idempotency_key' =&gt; uniqid(),<br/>  'card_nonce' =&gt; $cardNonce<br/>])-&gt;getTransaction();</span><span id="ddeb" class="lp kk hh ll b fi ly lr l ls lt">print_r($transaction);</span></pre><p id="55f0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">或者，您可以将信用卡与客户记录一起存储，以便持续收费。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="6358" class="lp kk hh ll b fi lq lr l ls lt">// Create the customer<br/>$customer = $customerApi-&gt;createCustomer($accessToken, [<br/>  'given_name' =&gt; 'Customer Name',<br/>  'note' =&gt; "add a note"<br/>])-&gt;getCustomer();</span><span id="51db" class="lp kk hh ll b fi ly lr l ls lt">print_r($customer);</span><span id="480d" class="lp kk hh ll b fi ly lr l ls lt">// Link the card<br/>$card = $cardApi-&gt;createCustomerCard($accessToken, $customer-&gt;getId(), [<br/>  'card_nonce' =&gt; $cardNonce,<br/>  'cardholder_name' =&gt; 'Customer Name',<br/>  'billing_address': [<br/>    'postal_code' =&gt; '12345'<br/>  ]<br/>])-&gt;getCard();</span><span id="c9e7" class="lp kk hh ll b fi ly lr l ls lt">print_r($card);</span></pre><h1 id="2856" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">把所有的东西放在一起</h1><p id="2250" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">随着今天Register和电子商务API的发布，开发人员可以构建解决方案，为任何卖家提供在线和面对面支付，所有这些都由Square提供支持。当你使用Square的商务平台时，你为卖家提供了一个解决方案，可以让他们对整个业务有一个统一的看法。卖家可以识别顾客是在网上购买、在店内购买还是两者兼有。使用Square的API和工具可以让卖家更容易地了解客户的购买趋势和习惯。最后，由于开发人员正在利用Square的平台，卖方也可以受益于Square payments提供的一切:透明的定价、无月费、支持挑战性退款、退款保护、出色的分析、开放的API，以及访问Square Capital和Square的SaaS产品。</p><p id="4d28" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">今天就从<a class="ae jt" href="http://squareup.com/signup" rel="noopener ugc nofollow" target="_blank">注册Square </a>，阅读<a class="ae jt" href="https://docs.connect.squareup.com/" rel="noopener ugc nofollow" target="_blank">文档</a>，以及<a class="ae jt" href="https://connect.squareup.com/apps" rel="noopener ugc nofollow" target="_blank">创建应用</a>开始吧。</p></div><div class="ab cl lz ma go mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ha hb hc hd he"><div class="lg lh li lj fd mg"><a href="https://github.com/zhao-squareup" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hi fi z dy ml ea eb mm ed ef hg bi translated">赵(赵建亮)</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">zhao-squareup有1个存储库可用。在GitHub上关注他们的代码。</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">github.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu lw mg"/></div></div></a></div></div></div>    
</body>
</html>