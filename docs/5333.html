<html>
<head>
<title>Going Mobile with Oracle JET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">借助Oracle JET实现移动化</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/going-mobile-with-oracle-jet-ccc1b3bd9af5?source=collection_archive---------0-----------------------#2017-11-01">https://medium.com/oracledevs/going-mobile-with-oracle-jet-ccc1b3bd9af5?source=collection_archive---------0-----------------------#2017-11-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="fe5a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您应该选择Oracle JET而不是其他javascript框架的部分原因是它非常易于移动。</p><p id="a092" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我的意思是把你的网络应用变成一个本地的移动应用，你可以调整它来使用你的目标设备的特性。</p><p id="363c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个过程中，我偶然发现了一些问题，花了一些时间才弄清楚问题是什么，以及随后如何解决它。如果你也在挣扎，希望这篇文章能帮到你。</p><p id="b131" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇文章将带你经历一个在JETs navdrawer模板中搭建的web应用程序的旅程，并以我相当旧的iPhone为目标，而无需支付开发者许可证。你不能部署到应用商店，但至少这样你可以“先试后买”。</p><h1 id="70f8" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">苹果开发者先决条件</h1><p id="f851" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">开发一个苹果意味着加入苹果开发者计划。对于我的调查/测试，我不喜欢支付这99美元，并发现您实际上可以创建一个临时的(在创建7天后过期)。</p><p id="c717" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，启动Xcode并导航到</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="26df" class="ko jd hh kk b fi kp kq l kr ks">Xcode &gt; Preferences &gt; Accounts tab</span></pre><p id="b8e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，您可以点击+图标并从弹出菜单中选择“Apple ID”来添加您的Apple ID。</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kt"><img src="../Images/085a9f06e21ef56b2496e060de68d338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8YKIXOEaiAidzsw_qaKazg.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Add your Apple ID to Xcode</figcaption></figure><p id="f7ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">添加后，您的Apple ID将显示您是个人团队的成员:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es lf"><img src="../Images/e4efd98877055beac18f04fca1494a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*6QeRbJUkHgqquW94xv4POg.png"/></div></figure><p id="cdaa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“管理证书…”将打开一个弹出窗口。</p><p id="e5e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击这个窗口的+号，给自己颁发“iOS开发”证书。</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es lg"><img src="../Images/16d9b1da6861910ab66d9f047ca711c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*xeaeV5RVPXBjXjuPZpHDpw.png"/></div></figure><p id="ce40" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不幸的是，这并没有包括我们需要为配置文件做的所有事情。在搜索了一些博客后，我发现一个有用的方法是创建一个新的Xcode项目。</p><p id="d23f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们不会使用这个项目，但只是设置一个初始化配置文件，我们需要签署应用程序。</p><ul class=""><li id="abc8" class="lh li hh ig b ih ii il im ip lj it lk ix ll jb lm ln lo lp bi translated">打开Xcode，然后前往文件&gt;新建&gt;项目。</li><li id="bc71" class="lh li hh ig b ih lq il lr ip ls it lt ix lu jb lm ln lo lp bi translated">选择“单视图应用程序”。</li><li id="ef63" class="lh li hh ig b ih lq il lr ip ls it lt ix lu jb lm ln lo lp bi translated">在下一个屏幕中，我们需要提供一些值</li></ul><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es lv"><img src="../Images/603d24f76e12e97fc95902e43239307d.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*BR0l4wmTQa-8kfxyphb_gg.png"/></div></figure><p id="db3f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">产品名称</strong>需要与您的项目名称匹配，去掉破折号。例如，我的目录/项目被命名为“web-to-mobile ”,它解析为webtomobile。将<strong class="ig hi">团队</strong>设置为您刚刚通过Xcode偏好设置添加的账户，并输入“org.oraclejet”。</p><p id="fc43" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">产品名称</strong>和<strong class="ig hi">组织标识符</strong>值组成了<strong class="ig hi">捆绑包标识符</strong>，如上面截图所示。<strong class="ig hi">包标识符</strong>需要与＄project/hybrid/config . XML中的<code class="du lw lx ly kk b">widget id</code>属性相同:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es lz"><img src="../Images/6584ab1ffbd992a0faebfc08be501edd.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*0cQe_ypMnOd9Odf4wL86hA.png"/></div></figure><p id="87f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击窗口上的“下一步”。</p><p id="d401" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您将被询问在哪里存储您的新项目，以及您是否想要“创建Git存储库”。对于Git，我们可以取消选中该框，您可以选择一个位置来创建未使用的项目:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ma"><img src="../Images/6339ae0dde07b8bf11050c3ebc98348f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gOb2Gvs3ANhn1G8ZfbhvHw.png"/></div></div></figure><p id="1348" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦您的项目完成，我们会创建一个配置文件。您可以通过使用终端来检查这是否已创建，并使用以下命令更改目录并查看文件夹的内容:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="d9a8" class="ko jd hh kk b fi kp kq l kr ks">cd ~/Library/MobileDevice/Provisioning\ Profiles<br/>ls -altr</span></pre><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mb"><img src="../Images/f7b07587b53c87391720a50cb4d0211d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*q2xDHuwj7uCL8lS2tC9Ewg.png"/></div></figure><p id="d2c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你打开你的。mobileprovision文件您将找到您的团队标识符id:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mc"><img src="../Images/ee489695cd05bb141fa3a4f0bc23992c.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*uBOzBj1yULT_wyou_LYwwQ.png"/></div></figure><p id="a014" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">除了文件名中的id，您还需要团队标识符来签名您的应用程序。我们将在下一步的构建配置文件中使用这两个值。</p><h1 id="4178" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">添加混合源</h1><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="dbab" class="ko jd hh kk b fi kp kq l kr ks">ojet add hybrid </span></pre><p id="b551" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">没错。这就是你需要从你的JET项目中运行的所有内容，以使你的项目适合移动。</p><p id="cbd4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">旁注</strong>:你可以添加一些额外的参数来使事情变得更简单，比如<code class="du lw lx ly kk b">--appName=”My New Cool App”</code>，它是你的仿真器/设备上的应用程序的名称</p><p id="86d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">配置文件包含您的iOS签名详细信息。正如开发人员指南中提到的，Windows/Android开发不需要这个。</p><p id="b29f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是这个配置文件的一个例子。注意，我已经将我的配置文件的文件名放入“provisioningProfile”中，并将该文件中的值放入“developmentTeam”中:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="6a68" class="ko jd hh kk b fi kp kq l kr ks">{<br/>    "ios": {<br/>        "debug": {<br/>            "codeSignIdentity": "iPhone Developer",<br/>            "provisioningProfile": "<strong class="kk hi">c8dc2d39-5de2-4bb3-bc26-c83ed6d119ac</strong>",<br/>            "developmentTeam": "<strong class="kk hi">R5CXVFCSDJ</strong>",<br/>            "packageType": "development"<br/>        },<br/>        "release": {<br/>            "codeSignIdentity": "iPhone Distribution",<br/>            "provisioningProfile": "70f699ad-faf1-4adE-8fea-9d84738fb306",<br/>            "developmentTeam": "FG35JLLMXX4A",<br/>            "packageType": "app-store"<br/>        }<br/>    }<br/>}</span></pre><p id="e2d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">详情请访问:<a class="ae md" href="http://cordova.apache.org/docs/en/6.x/guide/platforms/ios/index.html#signing-an-app" rel="noopener ugc nofollow" target="_blank">http://Cordova . Apache . org/docs/en/6 . x/guide/platforms/IOs/index . html # signing-an-app</a></p><p id="db42" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">注意:</strong>如果你还没有安装Cordova，那么当你运行它的时候，你会得到下面的消息</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es me"><img src="../Images/89db6bba92226ab5c899c24f70ca49d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*zt-hPQ-TRyrtyaaqVHCJ1A.png"/></div></figure><p id="4d35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Gotcha Alert: </strong>运行上述命令时，我没有正确的目录访问权限。正如我发现我的危险，如果这不起作用，那么你会有问题。所以我在这里的提示是不要退回到使用sudo，而是整理你的目录，并确保它在你的Mac用户权限之下。</p><p id="3ae9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当您运行此命令时，您将获得选择目标的选项。对于Mac，如果安装了iOS，这只是iOS</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mf"><img src="../Images/4c65ac2cc4e4e78c7aca42260bdb6d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*A5e7Y-bnFGFuCIlj4jDMXg.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">JET scans your installed libraries for available targets</figcaption></figure><p id="e79c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">完成后，您将收到“添加-混合完成”消息:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mf"><img src="../Images/81bfc2c961f72d75c7fad851dcc65e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*Tcp8sHbLoM2uJ6R3Ty4nFQ.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">JET having finished adding hybrid libraries</figcaption></figure><p id="afca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当查看您的项目目录时，您会注意到您现在有了一个<strong class="ig hi">混合</strong>、<strong class="ig hi"> src-hybrid </strong>和<strong class="ig hi"> src-web </strong>:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mg"><img src="../Images/4840d449f56a81c5d69a9057b21fe477.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*0ZjqznQs-JNijXWxmDQBYQ.png"/></div></figure><p id="be47" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这看起来有点令人生畏，因为有这么多目录，所以让我们依次回顾一下:</p><ul class=""><li id="349b" class="lh li hh ig b ih ii il im ip lj it lk ix ll jb lm ln lo lp bi translated">混合——这相当于你的“网络”文件夹。这个文件夹现在包含了你的xcode项目(hybrid/platforms/ios)。它包含您编译的“web”文件夹以及来自src-hybrid的任何覆盖，这是您的设备(hybrid/www)的构建输出。</li><li id="3122" class="lh li hh ig b ih lq il lr ip ls it lt ix lu jb lm ln lo lp bi translated">src-hybrid —将此文件夹视为移动应用程序的覆盖目录。例如，如果您想要为某些视图或不同的视图模型逻辑使用不同的html，那么这就是您想要放置它的地方。该目录中的文件将完全覆盖主“src”目录中的文件</li><li id="2f64" class="lh li hh ig b ih lq il lr ip ls it lt ix lu jb lm ln lo lp bi translated">src-web——如果您开发过纯web应用程序，那么您会非常清楚“src”和“web”目录。要理解“src-web”文件夹，需要在思考项目结构时进行一点范式转换；您现在实际上正在处理2个源集。这并不是说一切都是重复的，这是JET试图为您处理的一件大事。现在看这个项目的方式是你的原始“src”目录是你的主要代码行，src-hybrid允许覆盖你的手机，src-web允许进一步覆盖你的web主要代码行。同样，如果您来自一个纯web应用程序，那么您在这里什么都不用做，但是JET会在必要时将该文件夹作为扩展点</li></ul><h1 id="4c7b" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">编译到模拟器</h1><p id="4e8a" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">如果您cd到$JET_PROJ/hybrid，那么您可以根据需要运行cordova命令。你不需要直接用cordova做任何事情，但是知道这些是很有用的。</p><p id="be8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，当您的模拟器瞄准一个特定的设备时，您可以检查安装了哪些模拟器(我们将在后面使用):</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="bca5" class="ko jd hh kk b fi kp kq l kr ks">cd hybrid<br/>cordova run ios --list</span></pre><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mh"><img src="../Images/ed5bc9052a38ed2c2dd7008e02125893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*WaMEcbdch6s0eALfaLKuxg.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Available emulators and my connected iPad</figcaption></figure><p id="c1ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">回到我们在这里的原因，您只需运行以下命令，就可以在模拟器上运行您的web应用程序:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="d324" class="ko jd hh kk b fi kp kq l kr ks">ojet serve ios</span></pre><p id="88db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ios平台的默认目的地是模拟器，因此您不需要提供该参数。你也不需要提供构建配置，这意味着让你的应用程序在模拟器上运行非常容易。</p><p id="5d24" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">默认情况下，我的目标似乎是我不太喜欢的“iPhone X”。</p><p id="6608" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在对JET构建代码进行了一些调试之后，我发现您可以通过在<code class="du lw lx ly kk b">emulator</code>后面的分号之后提供它作为<code class="du lw lx ly kk b">destination</code>标志的一部分，来在模拟器上定位不同的设备:</p><p id="d2c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">重要提示:</strong> JET不会把这种调试留给你去解决。我很好奇它是如何扩展我对构建工具的学习的。有了命令<code class="du lw lx ly kk b">ojet help</code>。例如，您可以运行<code class="du lw lx ly kk b">ojet help serve</code>来帮助您的应用程序</p><p id="1ec3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行以下代码意味着我可以使用前面提到的cordova list命令中列出的一个来更改模拟器设备:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="dbd2" class="ko jd hh kk b fi kp kq l kr ks">ojet serve ios --destination=”emulator:iPhone-5s"<br/>or<br/>ojet serve ios --destination=”emulator:iPhone-SE"<br/>or <br/>ojet service ios --emulator="iPhone-SE"</span></pre><p id="52b3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在模拟器中运行后，您将看到您的应用程序:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mi"><img src="../Images/2d73f60d0e93caab966ce945fa486a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*pKEXV_DdgVaSiUDBa7ukdg.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Oracle JET running on iPhone X emulator</figcaption></figure><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mj"><img src="../Images/86535f007e76f8eb9bdb3551656c3e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*PNymxxEE1FRaXNO65zz4Uw.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Oracle JET running on iPhone SE emulator</figcaption></figure><h1 id="aeca" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">部署到设备</h1><p id="4660" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">如果您已经获得了“付费”开发人员供应，那么从这一点来看，事情就变得简单了，您只需运行:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="5e4a" class="ko jd hh kk b fi kp kq l kr ks">ojet serve ios  --destination="device" --build-config=mobileConfig.json</span></pre><p id="c16b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Gotcha Alert </strong>:但是对于自己创建的配置，通过命令行运行上面的内容时会出现错误，因为配置文件是Xcode管理的:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es me"><img src="../Images/3f07140a68c613237159137a96cab30a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*g_aGsvcORrMynUboBHYq-w.png"/></div></figure><p id="b059" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尽管我做了很多尝试，但在没有真正理解苹果应用程序部署过程的情况下，我发现一些博客说不再支持用cordova和self provision签署你的应用程序。</p><p id="f1a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，并不是所有的都失去了；我们可以使用Xcode来完成这里的工作。</p><p id="3bd7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">重申一下，如果你已经创建了你的免费条款，你只需要<em class="mk">遵循这个方法。</em></p><p id="c02b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">导航到您的xcode项目文件<code class="du lw lx ly kk b">$JET_PROJ/hybrid/platforms/iOS/$your_project_name.xcode</code></p><p id="ee3d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">双击它，在Xcode中打开它:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es ml"><img src="../Images/eb5897e55913ad99021a2e09d9f79035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*Wmi7bTxycYn2tq9iMdfLNQ.png"/></div></figure><p id="24f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦你的Xcode和你的项目一起打开，点击左上角的项目名称，打开你的项目选项。你可以看到默认情况下有错误。这是因为没有<strong class="ig hi">队</strong>入选。</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es mm"><img src="../Images/cffebd495a2c6ff051848b5592d07544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dp6EBwCRBA-bXH4ZveRgUQ.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">JET cordova project in Xcode</figcaption></figure><p id="1e65" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当改变<strong class="ig hi">组</strong>时，这些错误消失:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mn"><img src="../Images/52316caef90ae16b612913840fe9f618.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*68-glHoqevb0_T1IHnNXBA.png"/></div></figure><p id="a993" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们<em class="mk">现在可以</em>运行构建，应用将被部署到设备上。</p><p id="cffe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，应用程序加载后，我得到了一个稳定的白屏和Xcode日志中的一个错误:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mo"><img src="../Images/318d4a35118c692e9cf903045cb25963.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*Cxx_lFg4_OtxrwXUb05Maw.png"/></div></figure><p id="bf27" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这不起作用，但这里发生的是，它为我们设置了自动分析。现在我们可以使用cordova来启动该应用程序。</p><p id="008a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以我现在推荐的是，现在您已经更改了<strong class="ig hi"> Team </strong>概要文件，关闭Xcode并运行JET脚本以最终部署:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="b04f" class="ko jd hh kk b fi kp kq l kr ks">ojet serve ios — destination=”device”</span></pre><p id="7ee7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Gotcha Alert </strong>:第一次将您的应用程序加载到您的设备时，您会收到类似以下内容的消息:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mp"><img src="../Images/edb2d0a0d986ad767f913e7ef31580c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*h39Rd3QZeBNkVy1rG3cw_g.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">First run errors as its a self signed certificate</figcaption></figure><p id="1ff8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是因为您自己签署的条款不可信。您可以通过导航到设备上的以下内容来信任您的设备:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="f233" class="ko jd hh kk b fi kp kq l kr ks">Settings &gt; General &gt; Device Management &gt; user &gt; Trust user</span></pre><p id="eefb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，您可以重新运行该命令，或者尝试在设备上运行该应用程序。</p><p id="0b79" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好了，这款应用终于出现在设备上了:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mq"><img src="../Images/14d7aeb7c8db2e8e093615f59edf89a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*LeQf02vs6CNwwkBZdCri-w.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">App on the device</figcaption></figure><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mr"><img src="../Images/2f9f2586433e839d290970db6856062a.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*szwX0G4AYFqjA8XFx6pobg.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">JET app open</figcaption></figure><p id="3c68" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Gotcha Alert: </strong>我在设备上的移动应用程序中运行web应用程序时遇到了问题。该应用程序在模拟器中运行良好，但该应用程序只是没有加载中心视图模型。</p><p id="2d80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我最终追踪到了main.js中的knockout applyBindings。我使用的是URLPathAdapter，而不是URLParamAdapter(注意:如果没有定义urlPathAdapter，则默认使用它)。一旦在手机中加载的应用程序中添加了这一行</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="2a4f" class="ko jd hh kk b fi kp kq l kr ks">oj.Router.defaults[‘urlAdapter’] = new oj.Router.urlParamAdapter();</span></pre><p id="538f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我在Mac上使用Safari连接到设备，并以这种方式进行调试。奇怪的是，knockout实际上并没有抛出任何错误信息，但是当我缩小了问题所在的区域时，我就尝试了..catch帮助了我:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="0d4e" class="ko jd hh kk b fi kp kq l kr ks">try {<br/>   ko.applyBindings(app, document.getElementById(‘globalBody’));<br/> } catch(e){<br/>   console.info(e)<br/> }</span></pre><p id="0175" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这在safari控制台上打印出了真正的错误，我可以解决核心问题了。</p><p id="670f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">注意</strong>:我得到这个错误是因为我来自一个web应用程序，在那里我使用了路径适配器用于SEO目的。那么快速注意:如果你在手机上，使用urlParamAdapter。</p><h1 id="ff7f" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">状态栏修复</h1><p id="2b31" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated"><strong class="ig hi"> Gotcha Alert </strong>:你可能已经注意到这个应用程序占据了整个屏幕，这意味着占据了顶部的状态栏，力量栏、时间等都在那里。</p><p id="9735" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这不是真正的理想，因为它重叠，看起来很丑。然而，来自Graeme Mawson @ Oracle的提示解决了这个问题:</p><ul class=""><li id="0294" class="lh li hh ig b ih ii il im ip lj it lk ix ll jb lm ln lo lp bi translated">添加一个cordova插件</li><li id="2268" class="lh li hh ig b ih lq il lr ip ls it lt ix lu jb lm ln lo lp bi translated">将配置添加到<code class="du lw lx ly kk b">&lt;platform name=”ios”&gt; </code>部分的<code class="du lw lx ly kk b">$PROJ/hybrid/config.xml</code>文件中</li></ul><p id="89af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，首先让我们安装插件:</p><p id="2e1f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du lw lx ly kk b">ojet add plugin cordova-plugin-statusbar</code></p><p id="a3d0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后将以下几行添加到<code class="du lw lx ly kk b">$PROJ/hybrid/config.xml:</code></p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="3ebe" class="ko jd hh kk b fi kp kq l kr ks">&lt;preference name=”StatusBarOverlaysWebView” value=”false” /&gt;<br/>&lt;preference name=”StatusBarStyle” value=”default” /&gt;</span></pre><p id="4d32" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，您可以看到我已经将它们添加到预先存在的首选项下:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es ms"><img src="../Images/553d39461e309c81c2c60a118a556269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*CjbG0HKg9xkGIJn3La1y6g.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Configuring the App preferences for the Status Bar</figcaption></figure><p id="cdb1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在重新运行并部署应用程序，瞧，一切都搞定了:</p><figure class="kf kg kh ki fd ku er es paragraph-image"><div class="er es mt"><img src="../Images/fd177150b746b03c3b7cab755d49afc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*FIp1zDN7iIXZvPw_avfxSA.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Screenshot direct from iPhone 6 with Status Bar fix</figcaption></figure><h1 id="21ba" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">最后的想法</h1><p id="5989" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">使用苹果设备获取应用程序极其复杂。如果试图使用免费的配置文件，这种复杂性会变得更加困难，因为这意味着您必须通过重重困难才能让某些东西正常工作。</p><p id="ab9c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">希望你可以用这个博客作为参考，免费在苹果设备上测试你的应用程序，以便在申请苹果许可证之前检查它们。</p><p id="d7e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我花了很多时间试图避免使用Xcode，因为脚本化的想法很酷。然而，现实是，免费条款意味着这是不可能的。</p><p id="a551" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然而，Oracle JET让从web应用程序到移动应用程序变得异常容易，希望通过遵循这一点，您可以比我更快地让它工作起来:)</p><p id="458c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">祝你好运！</p></div></div>    
</body>
</html>