<html>
<head>
<title>Understanding match mode settings in Oracle Commerce Cloud Guided Search</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解Oracle Commerce云指导搜索中的匹配模式设置</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/understanding-match-mode-settings-in-oracle-commerce-cloud-guided-search-6d155fa1c49?source=collection_archive---------9-----------------------#2022-07-13">https://medium.com/oracledevs/understanding-match-mode-settings-in-oracle-commerce-cloud-guided-search-6d155fa1c49?source=collection_archive---------9-----------------------#2022-07-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/46129f3a0bd6ce1e6eb96c7ab045170d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BU4Ij1stZTmU-MeuAz5Yag.jpeg"/></div></div></figure><p id="ffeb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Oracle Commerce Cloud Guided Search中检索结果的第一步是在给定的搜索界面中匹配关键字。例如，如果购物者输入多个搜索词，可能会出现不同级别的匹配。</p><p id="b8e3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">默认情况下，名为“matchallpartial”的匹配模式控制匹配。使用matchallpartial，它首先尝试将所有输入的术语与搜索界面中的字段进行匹配。如果找不到任何结果，那么就只能进行部分匹配。这将返回包含搜索词总数的子集的结果。</p><p id="cf31" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们来看一些使用默认设置的示例:</p><ul class=""><li id="ae6e" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">如果用户输入1个术语，它将必须匹配该术语</li><li id="66fd" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">如果用户输入两个词，默认情况下，它必须匹配这两个词</li><li id="fe52" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">如果用户输入3个词，它首先尝试匹配所有3个词。如果找不到任何结果，它将返回与两个词的不同组合相匹配的结果。</li><li id="87ab" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">对于4个学期来说，都差不多。首先，它尝试所有4个。如果没有匹配，它将返回3个词的组合的结果。</li></ul><p id="3cb7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意:一般来说，根据我们网站收集的分析，大多数购物者只输入1或2个词，有时是3个。购物者很少输入4个或更多的术语。因此，针对1、2和3期方案进行优化是有意义的。</p><h1 id="79ac" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">改变你的比赛模式</h1><p id="df14" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">引导式搜索具有更改匹配模式的选项，尽管我们建议使用上面记录的默认matchallpartial。要考虑的一些其他匹配模式:</p><ul class=""><li id="5145" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">matchall:这需要匹配所有术语。如果有零个，那就这样。</li><li id="f600" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">matchpartial:这需要始终匹配术语的子集。这会给你更多的结果。</li><li id="2138" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">matchpartialmax:这是matchallpartial的一个有趣的替代方案。它首先尝试匹配所有术语，如果没有找到任何记录，则按降序尝试组合。例如，如果输入了5个没有结果的词，那么它将尝试4个词的组合。如果仍然没有结果，则组合3，依此类推。如上所述，然而，大多数购物者并没有输入4+项。</li></ul><p id="5a4f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">没有用于更新匹配模式的配置。相反，它必须作为<code class="du le lf lg lh b">Ntx=</code>参数放在URL上。一个例子:<code class="du le lf lg lh b">&amp;Ntx=mode matchall</code></p><h1 id="b926" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">更改您的部分匹配设置</h1><p id="c27e" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">考虑到上面提到的默认行为，当购物者输入两个词时，它必须匹配这两个词。这可以防止在默认情况下返回可疑的结果。假设您正在搜索“blue shirts”，但是没有“shirts”本身的匹配项。默认设置阻止只返回“蓝色”的结果。</p><p id="174c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是，您可能希望更改此默认行为。您可以调整几个设置:</p><ul class=""><li id="91eb" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi"> maxWordsOmmitted </strong>:指定用户查询中可以忽略的最大术语数。如果“最多忽略”值设置为零，则可以忽略任意数量的单词。默认情况下，该值设置为1。</li><li id="75c3" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> minWordsIncluded </strong>:指定每个结果必须匹配的最少术语数。如果原始查询中没有足够的词来满足这个规则，那么整个查询必须匹配。默认情况下，该值设置为2。</li></ul><p id="de15" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的2个搜索项的例子中，<strong class="ir hi"> minWordsIncluded </strong> =2的默认值是防止只匹配1个搜索项的结果被返回。</p><p id="3347" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的4个搜索词的例子中，<strong class="ir hi"> maxWordsOmmitted=1 </strong>的默认值就是为什么返回3个结果的组合，而不是2个。</p><p id="e624" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">默认情况下，您的站点使用/GS admin/v1/cloud/search interfaces/All作为搜索界面。</p><p id="a55d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可以执行以下步骤来更改上述设置:</p><ol class=""><li id="ed40" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm li jt ju jv bi translated">GET/GS admin/v1/cloud/search interfaces/All</li><li id="2f15" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm li jt ju jv bi translated">创建“partial match”JSON配置</li><li id="067e" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm li jt ju jv bi translated">PUT/GS admin/v1/cloud/search interfaces/All</li><li id="dd16" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm li jt ju jv bi translated">POST/GS admin/v1/cloud/tasks { " type ":" publish " }以促进更改。或者，如果您发布了目录更改，下一个索引作业将负责提升这些更改。</li></ol><p id="2721" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是一个例子，购物者输入2个术语，配置将允许返回1个术语的部分匹配:</p><pre class="lj lk ll lm fd ln lh lo lp aw lq bi"><span id="7d70" class="lr kc hh lh b fi ls lt l lu lv">{<br/>    "ecr:type": "search-interface",<br/>    "crossFieldMatch": "always",<br/>    "partialMatch"<!-- --> <!-- -->: {<br/>        "maxWordsOmmitted"<!-- --> <!-- -->: 1,<br/>        "minWordsIncluded"<!-- --> <!-- -->: 1<br/>    },<br/>    "fields": [<br/>       {<br/>          "attribute": "product.displayName"<br/>       },<br/>       {<br/>          "attribute": "product.category"<br/>       }<br/>}</span></pre><h1 id="b475" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">最后的想法</h1><p id="9364" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">查看您的搜索指标和报告，了解您网站上的购物者行为是什么样的，这总是一个好主意。小心不要仅仅为了修复一两个场景就推出搜索配置更改。请记住，还有其他选项来调整您的搜索结果。</p><ul class=""><li id="fac9" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">关键词重定向</li><li id="953c" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">动态监管规则</li><li id="8e36" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">专门助推和掩埋产品</li></ul><p id="8d54" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">还要注意，匹配模式只控制返回哪些产品。它不<em class="lw">而</em>控制搜索结果的排序。这就是所谓的相关性排名，也是上一篇文章《<a class="ae lx" rel="noopener" href="/oracledevs/understanding-and-controlling-the-order-of-search-results-in-oracle-commerce-cloud-813359864c0d">了解和控制Oracle商务云搜索结果的顺序</a>》中涉及的主题</p></div><div class="ab cl ly lz go ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ha hb hc hd he"><h1 id="965e" class="kb kc hh bd kd ke mf kg kh ki mg kk kl km mh ko kp kq mi ks kt ku mj kw kx ky bi translated">OCI自由层</h1><p id="8efc" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">顺便说一句，如果你进入了OCI或者还没有开始体验它，<a class="ae lx" href="https://signup.cloud.oracle.com/?language=en&amp;sourceType=:ex:tb:::::&amp;SC=:ex:tb:::::&amp;pcode=" rel="noopener ugc nofollow" target="_blank">注册一个OCI免费层帐户</a>无限期地使用诸如块存储、数据库和计算之类的服务。</p><h1 id="94bb" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">加入对话！</h1><p id="d1f1" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">如果你对Oracle开发人员在他们的自然环境中发生的事情感到好奇，就来参加我们的公共休闲频道吧！我们不介意成为你的鱼缸🐠</p><p id="89ed" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lw">照片由</em> <a class="ae lx" href="https://unsplash.com/@saffu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="lw">萨夫</em> </a> <em class="lw">上</em> <a class="ae lx" href="https://unsplash.com/s/photos/loupe-cloud?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="lw">下</em> </a></p></div></div>    
</body>
</html>