<html>
<head>
<title>Data Modelling Isn’t Dead: But We Need It To Evolve</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据建模没有死亡:但是我们需要它来进化</h1>
<blockquote>原文：<a href="https://medium.com/version-1/data-modelling-isnt-dead-but-we-need-it-to-evolve-65dc7819fd62?source=collection_archive---------0-----------------------#2022-03-08">https://medium.com/version-1/data-modelling-isnt-dead-but-we-need-it-to-evolve-65dc7819fd62?source=collection_archive---------0-----------------------#2022-03-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="421a" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">虽然大数据项目背后的工程备受关注，但我们仍然需要关注数据如何提供商业价值。</h2></div><h2 id="cd18" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">对数据仓库建模的介绍给出了实现这一价值的另一种方法。</h2><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/1e1a0ed3fdfc0d1de0e46b623195bf58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cf_nHmZ_YMKWONZYpkYo5w.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Photo by <a class="ae kk" href="https://unsplash.com/@theshubhamdhage?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Shubham Dhage</a> on <a class="ae kk" href="https://unsplash.com/s/photos/data?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="0bff" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">TL；速度三角形定位法(dead reckoning)</h2><p id="0edd" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">Data Vault建模为我们提供了一种灵活的数据建模方法，允许我们的模型随着它所代表的业务而发展。<br/>这种灵活性意味着我们可以利用标准化的数据管道&amp;随着业务&amp;其数据模型的发展，降低数据工程的复杂性。</p><h2 id="4bb4" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">工程变更</h2><p id="4dee" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">组织越来越多地将他们的数据分析挑战视为纯粹的工程问题:如何及时向人们提供数据。</p><p id="ac19" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">以前，重点是使用Kimball星型模式等方法对组织的数据进行建模。延迟是次要的，因为报告关注的是后视镜视图，而昨天的数据足以支持战略规划。</p><p id="4e9b" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">随着新数据点的不断增加和旧数据点的淘汰，人们现在期望获得高细节水平的近实时数据，即多样性和速度。这推动了对数据工程和数据交付的关注。</p><h2 id="17fb" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">组织变革</h2><blockquote class="lj lk ll"><p id="8589" class="kl km lm kn b ko le ii kq kr lf il kt ln lg kv kw lo lh ky kz lp li lb lc ld ha bi translated">要预测几年后你会在哪里，你需要能够解释你是如何到达现在的位置的。</p></blockquote><p id="3884" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">业务在变化&amp;数据系统需要毫不费力地表现这种变化。随着操作系统和流程的发展，描述它的数据模型也必须发展。</p><p id="3055" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">在过去，夜间加载允许有时间重构转换逻辑，并将数据仓库重建到新的模型中。尽管这经常导致旧模式和真相版本的丢失。</p><p id="8b27" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">数据工程的改进和应用读取模式的能力允许我们推迟定义数据模型。然而，如果没有仔细的规划，这些模型背后的数据工程很快就会变得复杂，因为管道试图适应不断变化的组织。</p><p id="5171" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">最终，数据模型是业务的表示，它必须能够与业务一起发展，而不必重构大量的数据工程代码。我们不仅需要代表业务的现状，还需要代表它的过去以及这个过程中的所有过渡状态。</p><h2 id="22b9" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">数据仓库建模</h2><p id="97e0" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">在操作系统和分析数据集市之间建立一个层，可以将组织变革的混乱从需要简化视图的数据消费者那里抽象出来。无论这个中间层是一个数据湖还是一个数据仓库，它仍然必须以一种允许它发展和保留历史信息的方式建模。</p><p id="5c91" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">Data Vault方法是由Dan Linstedt在90年代提出的，此后不断得到发展，并在Daniel Linstedt和Michael Olschimke所著的《使用Data Vault 2.0构建可伸缩的数据仓库》一书中得到了最完整的描述。</p><p id="9f12" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">虽然许多人会将Data Vault方法的一个关键优势描述为其维护详细审计跟踪的能力，但我认为采用它的最有说服力的理由是它的进化能力。</p><p id="3c5e" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">这是可能的，这要归功于业务标识符(进入集线器)与其属性(进入卫星)的物理分离，以及允许关系基数改变的桥接表(链接)的使用。</p><p id="81c2" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">每个中枢使用多个卫星允许在不同的操作系统中掌握属性，具有不同的生命周期和变化率。这简化了数据管道，减少了数据平台内形成复杂依赖关系的机会。</p><h2 id="99b4" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">行动中的进化建模</h2><p id="162e" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">例如，如果我们想要了解商店中有哪些产品可供销售，我们可以创建如下模型。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es lq"><img src="../Images/7689bec6dda80224305d37447cc94721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRGM5lHotU0RXphVJ7ubxA.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Data Model of a relationship indicating products offered at a store</figcaption></figure><ul class=""><li id="9aa7" class="lr ls hh kn b ko le kr lf jh lt jl lu jp lv ld lw lx ly lz bi translated">Hub表只包含业务标识符和源数据中最后一次提供标识符的时间。</li><li id="12d4" class="lr ls hh kn b ko ma kr mb jh mc jl md jp me ld lw lx ly lz bi translated">链接表包含该产品至少在商店提供过一次的事实，但除此之外没有更多信息。</li><li id="fb0b" class="lr ls hh kn b ko ma kr mb jh mc jl md jp me ld lw lx ly lz bi translated">附属表包含所有属性，包括所提供产品的任何有效日期。</li></ul><p id="e6c7" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">这种模型的强大之处在于，数据永远不需要更新，这对审计和性能都有帮助。HashDiff属性不是用来更新的，而是用来检查自上一次加载以来属性是否发生了变化，如果发生了变化，则在卫星表中创建一个新记录，并设置旧记录的LoadEndDate。</p><p id="c777" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">你可以说这没有什么特别的，它非常类似于经典的2型渐变维度。然而，当严格实现时，它允许随着业务的变化对数据模型进行简单的改进。</p><p id="a9bb" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">当商店发展成为一个市场时，您可以看到一个新的链接表被创建，表明哪个供应商提供每种产品。我们没有删除旧的链接或卫星表，只是设置LoadEndDate来将所有数据标记为历史数据。</p><p id="7800" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">除此之外，所有的变化本质上都是附加的，允许从旧数据模型到新数据模型的平稳演进，同时支持任何历史报告需求。</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es mf"><img src="../Images/d49433033d83370f4bfbe65e46058fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--Y_rAP39G4vf8VK321wJQ.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">Data Model of a relationship indicating products offered at a store by vendor</figcaption></figure><h2 id="0a97" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">规划您的下一个数据平台</h2><p id="6b7f" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">数据仓库建模不如更熟悉的Inmon和Kimball方法直观。它需要更专业的建模技能，而且还没有得到与同行同等程度的关注。</p><p id="a2c7" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">虽然它增加了复杂性，但它定义的标准模式有助于模板化、元数据驱动的管道；不仅如此，由元数据驱动的平台比手工制作的平台更容易维护。</p><p id="fd25" class="pw-post-body-paragraph kl km hh kn b ko le ii kq kr lf il kt jh lg kv kw jl lh ky kz jp li lb lc ld ha bi translated">因此，下一次您在增强您的数据模型时，看看Data Vault方法，您可能会发现它解决了您面临的一些挑战，并允许您创建一个可以随着您的业务发展的模型。</p><h2 id="3275" class="iw ix hh bd iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">关于作者</h2><p id="211a" class="pw-post-body-paragraph kl km hh kn b ko kp ii kq kr ks il kt jh ku kv kw jl kx ky kz jp la lb lc ld ha bi translated">Carl Follows是第1版英国数字、数据&amp;云实践的解决方案架构师，专门研究基于微软Azure构建的数据分析平台。</p></div></div>    
</body>
</html>