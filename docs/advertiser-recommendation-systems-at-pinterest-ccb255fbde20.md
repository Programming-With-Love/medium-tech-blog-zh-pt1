# Pinterest 的广告客户推荐系统

> 原文：<https://medium.com/pinterest-engineering/advertiser-recommendation-systems-at-pinterest-ccb255fbde20?source=collection_archive---------1----------------------->

Erika Sun &[Keshava Subramanya](https://www.linkedin.com/in/keshavasubramanya/)| Ads 情报小组

Pinterest 的广告智能团队负责建立和维护机器学习和算法驱动的推荐和推荐排名器，为广告商提供接触相关 Pinners 的最佳体验，并帮助他们实现他们的活动目标。作为这项工作的一部分，我们利用各种算法中的数据来生成建议。这些建议会出现在多个界面上，例如面向外部的广告管理器和我们销售团队的内部工具。我们使用在过去的推荐采纳中发现的洞察力和反馈来改进未来的推荐生成逻辑。下图说明了我们的推荐系统的生命周期。

![](img/a8d6199ae0135cb14e8873e0fe0a25ed.png)

在下一节中，我们将介绍一些建议，并讨论它们是如何实现的。然后，我们将检查一个推荐排名系统，该系统使我们能够为我们的广告客户提供顶级推荐。

# 推荐

# 投标推荐

## **推荐信是什么样的？**

> “将*广告群 1* 的出价从 0.50 美元提高到 0.60 美元可以帮助增加 25%的展示次数。”

## 推荐是如何产生的？

Pinterest 上有多个竞价产品。它们可以分为两类:自动出价(autobid)和手动出价。

Autobid 是一种产品，可以帮助广告商在特定的预算限制下实现最低成本的投标。出价由系统实时自动调整。

手动竞价是广告主需要手动设置竞价的产品。与自动竞价相比，手动竞价允许广告商控制每次竞价的价格。然而，正确设置手动出价可能会很棘手。如果设置太低，广告将赢得很少的拍卖，从而失败的运动目标。另一方面，如果出价设置得太高，在预算相同的情况下，获胜拍卖的数量会随着出价的增加而再次减少。下图显示了投标更改百分比和中标之间的关系。

![](img/0bbc95708e0a4a50fe1a8d7f7126ae2a.png)

**Figure 1: Winning Auctions against Bid Change**

在推荐算法中，我们使用拍卖数据为每个广告组形成上面的图表。更具体地说，对于给定的广告组，我们有其所有参与拍卖的数据。对于每一次失败的拍卖，我们可以计算出赢得拍卖需要多少钱。

![](img/fa908edb7efe4edae339a4f221050c48.png)

然后，我们可以累积这些数据，以获得以下相对于出价增加百分比的累积额外中标拍卖计数。

![](img/00ad56837052675953bb3d65e0ed26e6.png)

类似地，对于所有胜出的拍卖，我们可以计算出输掉拍卖的最小出价下降。然后，我们可以绘制累计额外的拍卖失败计数与投标下降百分比的关系图。

然后，结合额外的成功和失败拍卖计数数据，我们得到图 1:针对出价变化的成功拍卖。我们向广告客户推荐对应于最高获胜拍卖的出价变化。

# 预算建议

## 推荐信是什么样的？

> “将*广告群 1* 的预算从 50 美元增加到 60 美元有助于增加 20%的展示次数。”

## 推荐是如何产生的？

活动可能从次优设置开始。通过采纳各种建议，营销活动可以达到甚至超过营销活动的目标。对于表演活动，广告商希望增加预算，以便在相同的成本效率下获得更多的覆盖面。对于此类活动，我们构建预算建议。

对于每个活动，广告客户通常创建多个具有不同大头针图像和目标规格的广告组。广告组的花费可以受到广告组级别预算和/或活动级别预算的限制。

利用拍卖数据，我们可以计算不同预算金额的潜在印象和点击量。广告商可以从图表中选择一个具有最佳成本到达权衡的点。

![](img/fb1437b7c4f552eaae1ed4fa4c361985.png)

# 扩展目标推荐

## 推荐信是什么样的？

> “为*广告群 1* 启用扩展目标定位有助于增加 20%的展示次数。”

## 推荐是如何产生的？

神经网络是机器学习的子集，是深度学习算法的核心。作为一个具有强大兴趣图的推荐引擎，我们将神经网络用于家庭反馈个性化(有机推荐产品和想法)以及广告。我们使用神经网络来提高用户看到的广告质量，以及它给广告商带来的相关性。

通常，广告客户对每个广告活动都有一个特定的到达目标。例如，认知活动以印象数衡量，流量活动以点击数衡量，转化活动以转化数衡量。有时，广告组和广告活动会面临交付不足的问题。换句话说，实际的展示/点击/转化远不如预期。原因之一可能是针对性窄。

在 Pinterest 广告平台上，定位配置包括人口统计、用户兴趣和搜索关键词。兴趣和关键词设置比人口统计设置更难设置。广告商需要为他们的大头针图像选择相关和流行的兴趣和关键词。

为了解决这一痛点，我们推出了扩展的目标产品。通过扩大目标定位，广告商不再需要设置兴趣和关键词。相反，广告检索神经网络模型将通过利用大头针图像和用户嵌入来自动向用户呈现相关的大头针图像。

该推荐被显示给广告商，其可以通过启用扩展的目标定位而受益。在应用了某些必要的业务规则过滤器之后，我们使用梯度推进决策树(GBDT)回归模型来预测每个广告组的印象，假设启用了扩展目标定位。然后，我们向预测印象明显大于当前印象的广告组推荐扩展目标。

![](img/32d2aebee78f64d12df4e5057268edc7.png)

# 其他建议

Pinterest 平台上提供的其他推荐可以基于商业规则，而其他的则纯粹基于算法，其余的则基于两者的结合。图 2:广告管理器上的示例推荐展示了广告管理器上的一些示例推荐。

![](img/fe83c2b157fc938549ab11bf795be204.png)

# 推荐排名

在 Pinterest 中，最重要的推荐面之一就是广告管理器中的推荐页面。

随着新推荐类型数量的不断增长，广告客户可能有数百个可用的推荐。需要一个排名层来为最上面的广告客户优先排序最感兴趣的推荐。这有助于防止认知超载，并保持推荐的高参与度。

我们建立了一个 GBDT 分类模型来预测正面点击事件的概率，并根据模型得分对通知进行降序排列。建模特征可以分为两类:用户特征和通知特征。

用户特征包括广告商、人口统计和其他属性，以及实体(特定通知的广告组或活动)属性。通知功能包括通知属性和历史性能。

![](img/443fdda35afb2532dc2613aab62eba15.png)

# 结论

自动化推荐和排名工作支持 Pinterest 更大范围的广告客户指导和体验。Ads Intelligence 团队构建并维护机器学习和算法驱动的推荐和推荐排名器。我们的愿景是为广告商提供最具影响力的信息，并帮助他们充分利用 Pinterest 产品。

# 我们在招人！

如果你对这些话题感兴趣，你可以点击这里查看我们的招聘信息！

# 承认

## **Ads 情报团队自动推荐和排名工作人员:**

工程:Erika Sun、Ruixin Qiang、Kelvin Jiang、Danilo Nunes Dos Santos、Keshava Subramanya、、Roelof van Zwol

产品:Perrye Ogunwole

## **指导团队:**

工程:Argun Alparslan、Bryan Chu、、Dena M、Jayanth Mettu、Kate Liu、Leo Lam、Mauricio Valderrama、Niket Arora、Priyanka Patil、Reynold Jesus Morel Diaz、Sowmya Prakash、图里奥 Araujo De Oliveira、Calvin Chhour、Giancarlo Hernandez、古斯塔沃·克劳泽、Kay Ashaolu、克勒贝尔 Infante、Ky 斯泰瑟姆、Rassan Walker、Prathibha Deshikachar、胡安·卡洛斯·罗哈斯 Vargas、Edison Sanchez

产品:Meera Srinivasan

设计:达伦·巴隆，普里安卡·拉亚马吉

UX 研究员:希尔帕·班纳吉

数据科学家:Rajat Tasgaonkar，Raveena Mathur

产品作家:琼·巴纳德

## **工作台团队:**

工程:菲尔·普莱斯

产品:丹·马兰兹