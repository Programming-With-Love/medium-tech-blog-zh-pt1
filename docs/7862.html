<html>
<head>
<title>The Role of DOM Order in Accessibility</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DOM顺序在可访问性中的作用</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/the-role-of-dom-order-in-accessibility-47071c886ca8?source=collection_archive---------5-----------------------#2020-03-06">https://medium.com/walmartglobaltech/the-role-of-dom-order-in-accessibility-47071c886ca8?source=collection_archive---------5-----------------------#2020-03-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/aa23b980eb9e069c08b194ddb17447a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9kacpWUgQTo3W3knInxIYQ.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by <a class="ae it" href="https://www.canva.com/gettyimagespro/" rel="noopener ugc nofollow" target="_blank">gustavofrazao</a></figcaption></figure><p id="5633" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在沃尔玛实验室，我们努力创造令人愉快的无缝用户界面，这些界面强大、包容且易于访问。我们这样做是为了让<strong class="iw hi">每个人</strong>都可以在做出任何决定之前轻松浏览页面并了解产品——这些决定可以是将产品保存到列表中，将其添加到注册表中，以及将其与任何最适合客户的保护计划一起购买。为了实现这一目标，我们必须考虑世界上各种各样的用户，了解已知会影响人们使用数字媒体的障碍，并了解他们可能使用的辅助技术的功能和局限性。</p><p id="d2ca" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">每天有数百万人访问www.walmart.com<a class="ae it" href="http://www.walmart.com" rel="noopener ugc nofollow" target="_blank"/>，其中许多人依赖于无障碍技术，如屏幕阅读器、键盘、盲文显示器、高对比度浏览器模式、浏览器缩放和文本到语音转换软件。</p><p id="56ab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为了说明支持这些技术有多重要，这里有一些美国残疾人的统计数据:</p><ul class=""><li id="0d53" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">2018年美国有326，155，000人，其中13.1%(42，630，000人)患有某种残疾。</li><li id="ed0e" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">大约2%的人口患有某种视力残疾(即失明或即使戴眼镜也很难看清)</li><li id="21e8" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">大约50%的人口有某种临床上显著的屈光不正(一种视觉障碍，如果足够轻微，可以用眼镜矫正)。</li><li id="7d5b" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">大约8%的男性和0.5%的女性患有先天性或遗传性色觉缺陷。</li><li id="df73" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">大约2%的成年人有听力障碍。</li><li id="c148" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">超过4%的人有认知障碍(难以记忆、集中注意力或做决定)。</li></ul><p id="fa0b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为了适应屏幕阅读器技术，软件开发人员应该确保正确表达HTML网页的所有语义。如果我们必须设计定制元素，这些元素需要具有与本地元素相同的行为(例如使用<div>标签创建的按钮)，我们还需要手动合并必要的功能，例如添加<em class="kg"> tabIndex </em>以使元素可聚焦。</div></p><p id="2659" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是2018年拍摄的沃尔玛的商品页面部分截图。该页面上的所有交互元素都是可聚焦的、可读的(对于屏幕阅读器来说)、可发现的，并且所有图像都使用“alt”属性提供了简洁的描述。</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/df7bf5fd54fbd79c9447a68f0d214305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTsnAfF-N9ffyaAiBwOFlQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">The early design as of Dec 2018 — screenshot image by Maya</figcaption></figure><p id="4e18" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然而，仍有改进的余地。虽然信息的视觉顺序是合乎逻辑和直观的，但事实证明，屏幕阅读器被置于一个潜在的混乱境地:运输和提货信息，当可用时显示在页面中更高的位置，当选择新的颜色或尺寸时会改变。屏幕阅读器用户可能会错过更新的信息，因为它位于页面中他们当前位置之前。</p><p id="8b5a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们希望<em class="kg">在选项之前直观地</em>显示运输和提货信息，但是由于屏幕阅读器根据DOM顺序读取内容，我们决定调整DOM顺序，同时在CSS中应用<em class="kg"> flexbox“顺序”</em>属性。这种方法允许屏幕阅读器在选项选择后读取运输和提货信息，但视力正常的用户仍然可以在选项上方看到可用的运输和提货信息(这是我们的UI设计的要求)。</p><p id="acca" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然而，改变DOM顺序来解决屏幕阅读器问题带来了副作用:交互式页面元素的跳转顺序不再与视觉顺序同步。这可能会破坏键盘用户的体验，因为他们会看到他们的焦点环以一种令人困惑的方式在元素之间跳跃。为了向典型用户以及屏幕阅读器和键盘用户提供同样易于理解的体验，我们需要确保信息的顺序以逻辑和直观的方式呈现(参见第1.3.2节中的Web AIM清单状态<a class="ae it" href="https://webaim.org/standards/wcag/checklist#sc1.3.2" rel="noopener ugc nofollow" target="_blank">)。</a></p><p id="94b2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果我们仍然在选项选择(可能是颜色、大小等)之前保留显示送货/取件信息的视觉顺序，就不能完美地适应屏幕阅读器和键盘用户。解决办法？我们不得不停止使用<em class="kg">flexbox“order”</em>样式，而是直接依赖于DOM顺序，我们将使用React动态设置这个顺序。</p><p id="373f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，在与其他前端开发人员、可访问性专家和UI/UX设计人员进行了长时间卓有成效的讨论后，我们一致同意重新设计视觉顺序，以便送货和取件信息出现在选项选择的下方。</p><p id="6c7f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是该部分的更新设计:</p><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es km"><img src="../Images/7c2eda3fab80aa1db446032a55695ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nIpGjohDeioSLAZ-vvssLQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">The updated design as of March 2019 — screenshot image by Maya</figcaption></figure><p id="ddc7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">新设计给我们带来了很多好处:</p><ol class=""><li id="4402" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr kn jy jz ka bi translated">我们可以依靠<em class="kg">仅仅</em>DOM顺序来决定视觉、跳转和屏幕阅读器的顺序。</li><li id="f79b" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr kn jy jz ka bi translated">因为视觉顺序已经被DOM处理了，我们可以删除CSS <em class="kg"> flexbox order </em>代码，这减少了潜在的技术债务。</li><li id="d043" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr kn jy jz ka bi translated">聚焦环按照与视觉顺序相匹配的逻辑顺序移动。</li><li id="103c" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr kn jy jz ka bi translated">屏幕阅读器用户可以很容易地理解信息，因为在做出任何影响他们的决定后<em class="kg">会读取相关信息，如运输和提货。</em></li></ol><p id="abcd" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一开始，一切看起来都很棒——UI设计对普通用户来说是令人愉快的，所有交互元素都是可聚焦的，所有屏幕阅读器应用程序都可以阅读有意义的信息。但是我们知道这还不够，我们之前对设计的假设需要根据更严格的标准重新评估。我很高兴地说，我们都带着全新的视角和对依赖辅助技术的人的更强的承诺走出了这段旅程。</p></div><div class="ab cl ko kp go kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="ha hb hc hd he"><p id="e819" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="kg">统计数据的来源</em>:</p><p id="d8a6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><a class="ae it" href="http://disabilitycompendium.org/" rel="noopener ugc nofollow" target="_blank">残疾纲要</a> | <a class="ae it" href="http://www.ncbi.nlm.nih.gov/books/NBK11538/" rel="noopener ugc nofollow" target="_blank">“对颜色的感知”</a>|<a class="ae it" href="http://archopht.jamanetwork.com/article.aspx?articleid=420707" rel="noopener ugc nofollow" target="_blank">“1999-2004年美国屈光不正的患病率”</a> | <a class="ae it" href="https://www.udacity.com/course/web-accessibility--ud891" rel="noopener ugc nofollow" target="_blank"> Udacity无障碍课程概述</a></p></div></div>    
</body>
</html>