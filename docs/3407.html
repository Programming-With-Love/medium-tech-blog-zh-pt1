<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/globant/flutter-dynamic-theme-dark-mode-custom-themes-bded572c8cdf?source=collection_archive---------0-----------------------#2020-04-27">https://medium.com/globant/flutter-dynamic-theme-dark-mode-custom-themes-bded572c8cdf?source=collection_archive---------0-----------------------#2020-04-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><p id="349d" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated"><strong class="hi ie">颤动动态主题:黑暗模式&amp;自定义主题</strong></p><figure class="ig ih ii ij fd ik er es paragraph-image"><div class="er es if"><img src="../Images/9665ca98d13d5b8402639c673d4f8391.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*JbmWcDToD1hqxrP6MLeIHg.gif"/></div><figcaption class="in io et er es ip iq bd b be z dx">Dynamic Themes</figcaption></figure><p id="5a5e" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">如今，所有设备和应用程序都带有黑暗模式。</p><p id="ec03" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated"><strong class="hi ie">为什么是黑暗模式？<br/>黑暗</strong>模式设置有助于使用有机发光二极管(有机发光二极管)和AMOLED(有源矩阵有机发光二极管)屏幕的设备消耗更少的功率并节省电池。有机发光二极管显示器上的每个像素都被单独点亮。所以，当你的显示器背景是白色的时候，所有的像素都会亮，消耗更多的能量。</p><p id="dd27" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">因此，让我们在Flutter中引入这种能力，<br/>每当应用程序主题改变时，我们使用提供者模式来通知UI。<br/>在pubspec.yaml中添加提供者依赖</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="7c6c" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">创建一个主题提供商，如下所示</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="3d8a" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">创建自定义的浅色主题和深色主题</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="2348" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">在MyApp类中，将你的自定义明暗主题分配给' darkTheme '和' Theme '属性。将“themeMode”值设置为“themeNotifier.getThemeMode()”。因此，每当我们在“ThemeProvider”中修改主题时，它就会更新“themeMode ”,应用程序主题也会随之修改。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="57fa" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">如果我们使用SharedPreferences来获取存储的主题，那么上面的代码将修改如下:</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="4abf" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">主页可以选择导航到设置屏幕来修改主题。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="8820" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">在设置界面中，我们给出了三个选项来改变主题为“系统”、“黑暗”或“光明”。点击任何选项，我们在共享的首选项中保存选择的主题，并更新主题通知程序，通知应用程序主题的变化。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="ir is l"/></div></figure><p id="a6d3" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">当主题由亮变暗或由暗变亮时，所有的图标、文本、应用程序栏主题都会根据AppTheme类中声明的自定义主题自动改变。如果你想给文本或任何部件自定义颜色，然后添加如下代码</p><pre class="ig ih ii ij fd it iu iv iw aw ix bi"><span id="3b94" class="iy iz hh iu b fi ja jb l jc jd"><strong class="iu ie">var isDarkTheme </strong>= Theme.<em class="je">of</em>(context).<strong class="iu ie">brightness </strong>== Brightness.<strong class="iu ie">dark</strong>;<br/>Text("APP",color : <strong class="iu ie">isDarkTheme </strong>? AppColors.<em class="je">darkPink </em>: AppColors.<em class="je">textBlack</em>,)</span></pre><p id="be1b" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">你可以从<a class="ae jf" href="https://github.com/mayamohite/dynamic_app_theme" rel="noopener ugc nofollow" target="_blank">这里</a>查看源代码。</p><p id="b3d3" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">我希望你喜欢这篇文章。</p><figure class="ig ih ii ij fd ik"><div class="bz dy l di"><div class="jg is l"/></div></figure><p id="7038" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">昼夜背景动画在Rive/Flare中创建。</p><p id="4e55" class="pw-post-body-paragraph hf hg hh hi b hj hk hl hm hn ho hp hq hr hs ht hu hv hw hx hy hz ia ib ic id ha bi translated">在这里看教程。</p></div></div>    
</body>
</html>