<html>
<head>
<title>ODP.NET 19.7 — What’s New</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ODP.NET 19.7版—新功能</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/odp-net-19-7-whats-new-2bb96174571f?source=collection_archive---------6-----------------------#2020-05-18">https://medium.com/oracledevs/odp-net-19-7-whats-new-2bb96174571f?source=collection_archive---------6-----------------------#2020-05-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/d9f9a3c735e45fd488a05ef78cf1b54b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*f-K1ia7MpW8CsbVAQEY4gg.png"/></div></figure><p id="500d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">上个月，我的团队发布了ODP.NET 19.7。您可以从NuGet Gallery免费下载和部署<a class="ae jj" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess" rel="noopener ugc nofollow" target="_blank">托管ODP.NET</a>和<a class="ae jj" href="https://www.nuget.org/packages/Oracle.ManagedDataAccess.Core" rel="noopener ugc nofollow" target="_blank">ODP.NET核心</a>。当然，这些新版本修复了错误。它们还包括19.6版本以来的一些新特性，包括WebSocket支持、新的连接字符串属性和SYSASM连接权限。让我描述一下现在有什么可用的以及如何使用它们。</p><h1 id="687c" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">WebSocket和带SSL/TLS的WebSocket</h1><p id="dcfa" class="pw-post-body-paragraph il im hh in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji ha bi translated">WebSocket是一种通过TCP连接提供双向通信通道的协议。具有SSL/TLS(安全套接字层/传输层安全性)的WebSocket提供了安全的WebSocket连接。它是HTTP的扩展，能够与HTTP代理和中介一起工作。</p><p id="a727" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在HTTP的请求-响应模型中，客户端总是发起资源请求，而服务器仍然是请求响应者的唯一角色。这是传统的网络交流模式。当数据和交互性适合静态场景时，它工作得很好。当数据不断变化并且体验更具交互性时，它就不那么有效了。WebSocket的全双工通信通道解决了这一限制。</p><p id="dc8a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在19.7版本中，托管ODP.NET和ODP.NET核心支持WebSocket和带SSL/TLS的WebSocket。非托管ODP.NET在早期19c版本中支持WebSocket。在数据库服务器端，从版本19开始提供WebSocket支持。</p><p id="487a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">ODP。NET WebSocket可以通过Oracle连接描述符来启用。首先，在<code class="du kn ko kp kq b">tnsnames.ora</code>中将WebSocket的<code class="du kn ko kp kq b">PROTOCOL</code>属性设置为“WS”，或者将安全WebSocket的属性设置为“WSS”。NET配置文件，或<code class="du kn ko kp kq b">OracleDataSourceCollection</code>类。接下来，设置客户端应该连接的WebSocket统一资源标识符(URI)。这些URIs可以设置在<code class="du kn ko kp kq b">tnsnames.ora</code>、<code class="du kn ko kp kq b">sqlnet.ora</code>、。NET配置文件，或<code class="du kn ko kp kq b">OracleConfiguration</code>类。下面是一个在. NET配置文件中设置WebSocket URI的示例:</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="5eac" class="kz jl hh kq b fi la lb l lc ld">&lt;oracle.manageddataaccess.client&gt;<br/>    &lt;version number="*"&gt;     <br/>        &lt;settings&gt;              <br/>            &lt;setting name="SQLNET.URI" value="&lt;WebSocket URI&gt;"/&gt; <br/>        &lt;/settings&gt; <br/>    &lt;/version&gt;<br/>&lt;/oracle.manageddataaccess.client&gt;</span></pre><p id="7d1f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">下面是设置WebSocket URI的. NET OracleConfiguration代码示例:</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="b726" class="kz jl hh kq b fi la lb l lc ld">OracleConfiguration.SqlnetURI = &lt;WebSocket URI&gt;;</span></pre><p id="6d77" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对于托管ODP.NET，URI开头的正斜杠是可选的。在非托管ODP.NET中设置URI时，它不能以正斜杠字符开头。</p><h1 id="6819" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">连接字符串属性:TNS管理和Wallet目录位置</h1><p id="556e" class="pw-post-body-paragraph il im hh in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji ha bi translated">随着硬件变得更强大，同时更便宜，整合是计算行业自诞生以来的一个主要趋势。越来越多的应用程序可以在同一台机器上共存，同时保持服务级别。因此，开发人员在整合不同的应用程序时，正在寻找更多选项和更精细的方法来设置ODP.NET配置值，如Oracle Net Services(也称为SQL*Net)配置文件和钱包目录。</p><p id="b991" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">SQL*Net配置文件目录在其变量名后通常称为TNS_Admin或TNS Admin。Oracle数据库客户机在这里找到它们的<code class="du kn ko kp kq b">sqlnet.ora</code>和<code class="du kn ko kp kq b">tnsnames.ora</code>配置文件。</p><p id="0ead" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在ODP.NET 19.7中，TNS管理和钱包目录现在可以在连接字符串和<code class="du kn ko kp kq b">OracleConnectionStringBuilder</code>类中设置。在连接字符串中，属性被命名为:</p><ul class=""><li id="e9ed" class="le lf hh in b io ip is it iw lg ja lh je li ji lj lk ll lm bi translated"><code class="du kn ko kp kq b">Tns_Admin</code></li><li id="5bef" class="le lf hh in b io ln is lo iw lp ja lq je lr ji lj lk ll lm bi translated"><code class="du kn ko kp kq b">Wallet_Location</code></li></ul><p id="d663" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在<code class="du kn ko kp kq b">OracleConnectionStringBuilder</code>中，属性被命名为:</p><ul class=""><li id="6b3f" class="le lf hh in b io ip is it iw lg ja lh je li ji lj lk ll lm bi translated"><code class="du kn ko kp kq b">TnsAdmin</code></li><li id="7a72" class="le lf hh in b io ln is lo iw lp ja lq je lr ji lj lk ll lm bi translated"><code class="du kn ko kp kq b">WalletLocation</code></li></ul><p id="424d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这些属性为使用ODP.NET部署设置提供了附加选项。</p><h1 id="97d4" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">使用SYSASM权限管理存储</h1><p id="da53" class="pw-post-body-paragraph il im hh in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji ha bi translated">Oracle自动存储管理(ASM)是Oracle数据库文件的卷管理器和文件系统。SYSASM是一种数据库系统特权，使管理员能够管理这些ASM实例。受管ODP.NET和ODP.NET核心现在可以使用SYSASM管理权限进行连接，以执行Oracle数据库的存储管理。非托管ODP.NET在ODAC 19c版本1中获得了此功能。</p><p id="e76a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">ODP。NET现在可以在使用SYSASM特权连接进行连接时执行数据库ASM管理。通过将连接字符串<code class="du kn ko kp kq b">DBA Privilege</code>设置为“SYSASM ”,可以获得这个新的特权。</p><h1 id="26a0" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论</h1><p id="2535" class="pw-post-body-paragraph il im hh in b io ki iq ir is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji ha bi translated">如果你想使用这些功能，或者只是想要最新的错误修复，请务必升级到ODP.NET 19.7。</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="5962" class="kz jl hh kq b fi la lb l lc ld">OracleConfiguration.SqlnetURI = &lt;WebSocket URI&gt;;</span></pre><p id="a6bd" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在非托管ODP.NET中设置URI时，它不能以正斜杠字符开头。对于托管ODP.NET，URI开头的正斜杠是可选的。</p></div></div>    
</body>
</html>