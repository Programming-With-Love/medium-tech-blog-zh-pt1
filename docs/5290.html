<html>
<head>
<title>Showing a Product Directory from Oracle Sales Cloud in Visual Builder Cloud Service</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Visual Builder云服务中显示Oracle Sales Cloud的产品目录</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/showing-a-product-directory-from-oracle-sales-cloud-in-visual-builder-cloud-service-c61b708ce62f?source=collection_archive---------1-----------------------#2017-08-25">https://medium.com/oracledevs/showing-a-product-directory-from-oracle-sales-cloud-in-visual-builder-cloud-service-c61b708ce62f?source=collection_archive---------1-----------------------#2017-08-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="78c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Oracle销售云(OSC)REST API包含产品组和产品的资源。由此，组织可以构建更深层次的产品目录。但是在像VBCS这样的REST客户端中显示和导航这些目录是有挑战性的。</p><p id="e393" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在VBCS定制代码大师David Konecny的帮助下，我们最近构建了一个目录，如下所示:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/99955aeeb7ee0422e70023f1db7a41e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSiANn_j5sORX-ia-cJhqA.png"/></div></div></figure><p id="ef11" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jo" href="http://docs.oracle.com/cloud/latest/salescs_gs/FAAPS/api-Product%20Groups.html" rel="noopener ugc nofollow" target="_blank">产品组REST API </a>有以下特点:</p><ul class=""><li id="3d67" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated">产品组(<em class="jy">/crmRestApi/resources/11 . 13 . 0 . 0/setupSalesCatalogs</em>)有称为子组和产品的子组。</li><li id="f86e" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ju jv jw jx bi translated">产品组的子组(<em class="jy">/crmRestApi/resources/11 . 13 . 0 . 0/setupsalestacations/{ prod groupid }/child/ProductGroupSubgroupAdministration</em>)不是常规的产品组，并且不具有其所有属性，尤其是子组的子组列表。</li><li id="c3de" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ju jv jw jx bi translated">类似地，产品组中的产品(<em class="jy">/crmRestApi/resources/11 . 13 . 0 . 0/setupsalestocals/{ prod groupid }/child/productgroupproducsetup</em>)不是常规产品(<em class="jy">/crmRestApi/resources/11 . 13 . 0 . 0/products</em>)，并且缺少关键属性。</li></ul><p id="6ab3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里的问题是，当您深入其中一个子组时，您想要显示的不是一个<em class="jy">ProductGroupSubgroupAdministration</em>对象，而只是一个普通的旧产品组。要做到这一点，我们必须插入一些自定义代码。</p><ol class=""><li id="d9fa" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ke jv jw jx bi translated">放下一个列表，并将其挂接到产品组业务对象。仅启用详细信息操作。</li><li id="618c" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ke jv jw jx bi translated">在产品组详细信息页面中，删除一个列表并将其绑定到子组。不要添加任何CRUD操作页面。</li><li id="ad75" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ke jv jw jx bi translated">选择子组名称，然后转到属性检查器中的“操作”选项卡。添加新的自定义操作。</li><li id="aaae" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ke jv jw jx bi translated">将自定义JavaScript块添加到操作中，并输入以下代码:</li></ol><pre class="jd je jf jg fd kf kg kh ki aw kj bi"><span id="5f1f" class="kk kl hh kg b fi km kn l ko kp"><strong class="kg hi">// Replace com_oracle_abcs_fa_V7OhT with the variable used in your page<br/>// Get the ProdGroupId for the subgroup</strong><br/>var prodId = $com_oracle_abcs_fa_V7OhT_setupSalesCatalogs_ProductGroupSubgroupAdministrationListArchetypeRecord.getValue('ProdGroupId');</span><span id="993f" class="kk kl hh kg b fi kq kn l ko kp"><strong class="kg hi">// Create a new record with the ProdGroupId</strong><br/>var record = new Record({'_breeze_system_id' : prodId});</span><span id="86fb" class="kk kl hh kg b fi kq kn l ko kp"><strong class="kg hi">//  Navigate to the ProductGroup details page and pass in the record with the ProdGroupId </strong>Abcs.Pages().navigateToPage('com_oracle_abcs_fa_V7OhT_setupSalesCatalogsPage',<br/>    ContextualData.createRecordToEditContext({entityId: 'com.oracle.abcs.fa.V7OhT.setupSalesCatalogs', data: record}));<br/>resolve();</span></pre><p id="9fad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要设置产品链接，请执行相同的操作。</p><ol class=""><li id="0863" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ke jv jw jx bi translated">拖放到列表中，并将其绑定到产品组的产品子级(<em class="jy">ProductGroupProductSetup</em>)<em class="jy"/>)。</li><li id="9dd9" class="jp jq hh ig b ih jz il ka ip kb it kc ix kd jb ke jv jw jx bi translated">将产品名称上的操作设置为以下自定义JavaScript:</li></ol><pre class="jd je jf jg fd kf kg kh ki aw kj bi"><span id="ebea" class="kk kl hh kg b fi km kn l ko kp">var prodId = $com_oracle_abcs_fa_V7OhT_setupSalesCatalogs_ProductGroupProductSetupListArchetypeRecord.getValue('InventoryItemId');</span><span id="607e" class="kk kl hh kg b fi kq kn l ko kp">var record = new Record({'_breeze_system_id' : prodId});</span><span id="982e" class="kk kl hh kg b fi kq kn l ko kp">Abcs.Pages().navigateToPage('ProductDetail',<br/>    ContextualData.createRecordToEditContext({entityId: 'com.oracle.abcs.fa.xPiEu.products', data: record}));<br/>resolve();</span></pre><p id="05b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里假设您已经创建了ProductDetail页面，方法是转到页面列表，创建一个Detail类型的新页面，并将其绑定到Product(<em class="jy">/crmRestApi/resources/11 . 13 . 0 . 0/products</em>)业务对象。</p></div></div>    
</body>
</html>