<html>
<head>
<title>Develop a Full Stack app using Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kotlin开发全栈应用</h1>
<blockquote>原文：<a href="https://medium.com/globant/develop-full-stack-app-using-kotlin-f3c1bb9db440?source=collection_archive---------1-----------------------#2020-05-18">https://medium.com/globant/develop-full-stack-app-using-kotlin-f3c1bb9db440?source=collection_archive---------1-----------------------#2020-05-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ef334e1a38d651915b353df94ed387bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CoPpjPjh3QI2HSs1SrikAA.png"/></div></div></figure><p id="8a39" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为软件开发人员，我们大多数人都梦想成为全栈开发人员，这样我们就可以开发前端、后端和移动应用程序。但是开发这样的应用程序需要学习不同的语言和各种工具，比如后端开发用Java，前端开发用JavaScript等等。</p><p id="52a2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果我们只学习一种语言，但仍然可以在多种平台上开发应用程序，会怎么样？这个的答案是<strong class="ir hi">科特林！</strong></p><p id="2bae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我是一名Android开发人员，所以我知道如何使用Kotlin来开发Android应用程序。我开始试验和探索如何将我所拥有的Kotlin知识用于开发Web前端或后端代码。</p><p id="e01a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，在这篇博客中，我将描述我是如何建立的:</p><ol class=""><li id="e3b9" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">使用Ktor的后端应用程序，它提供一个get API来获取待办事项列表</li><li id="d309" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">使用KotlinJs的Web应用程序，它使用这个API并显示待办事项列表</li></ol><p id="8234" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们从第一部分开始-</p><h1 id="4542" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak"> 1。使用Ktor的后端服务</strong></h1><p id="e54f" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">为了开发这个项目，我们将使用由Jetbrains和<a class="ae le" href="https://ktor.io/" rel="noopener ugc nofollow" target="_blank"> Ktor </a>框架构建的IntelliJ IDE。</p><p id="7f17" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Ktor是一个流行的基于Kotlin的框架，用于构建异步服务器和客户端。</p><p id="4ef1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们Ktor项目的范围是开发一个GET API，它将以JSON格式返回给我们一个预定义的Todos列表。</p><p id="3cd2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 1。</strong> <strong class="ir hi">创建Ktor项目</strong></p><p id="eb9c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要创建一个Ktor项目，我们需要安装<strong class="ir hi"> Ktor </strong>插件。一旦插件安装完毕，我们需要在“创建新项目”向导中选择Ktor。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lf"><img src="../Images/fb02a665203ac15d77ac2506ee579432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QB4ipcIquQz3YJkq"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">New project wizard</figcaption></figure><p id="52ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 2。定义路线</strong></p><p id="3e50" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用默认设置创建项目。项目创建成功后，打开<strong class="ir hi"> Application.kt </strong>文件，添加以下代码:</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="77b9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果我们仔细观察上面的代码，我们使用的是Kotlin的强大功能之一，即高阶函数。<strong class="ir hi">高阶函数</strong>是以函数为参数或返回函数的函数。</p><p id="1bf3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在上面的代码片段中，我们定义了一个路由，客户端将使用它来获取Todo列表。这是一个GET API。</p><p id="648c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当我们运行这个应用程序时，它会为我们生成一个URL，如<a class="ae le" href="http://0.0.0.0:8080/todos" rel="noopener ugc nofollow" target="_blank"> http://0.0.0.0:8080 </a>，我们可以使用这个基本URL访问任何API。</p><p id="978e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，如果我们点击http://0 . 0 . 0 . 0:8080/todosAPI，它会搜索路由，一旦找到匹配的路由，就会返回一个适当的响应，在我们的例子中，它是一个待办事项列表。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lq"><img src="../Images/8478ca59d7961d4e9f9ee5959784dcc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUSLDqzd30X6TyrFaCNitA.png"/></div></div></figure><p id="c865" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">总结一下，到目前为止我们所做的，</p><ol class=""><li id="4ec8" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">安装Ktor插件并创建新的Ktor项目</li><li id="78aa" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">定义了提取待办事项列表的路线</li><li id="89c1" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">运行应用程序并使用localhost获取Todo列表</li></ol><p id="3da5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，我们的服务器已经准备好了，让我们进入第二步，使用KotlinJs来构建web应用程序，以使用上面创建的API。</p><h1 id="f89a" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">2.使用Kotlin-JS的Web应用程序</h1><p id="4fca" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">为了开发我们的前端应用程序，我们将使用由Jetbrains和Kotlin+JS构建的IntelliJ IDE。</p><p id="4884" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 1。创建一个项目</strong></p><p id="1bfe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以使用一个简单的命令创建一个项目:<strong class="ir hi">yarn create react-kot Lin-app todofrontend</strong></p><p id="375b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它将为我们创建一个带有样板代码的项目，您可以使用<strong class="ir hi"> yarn start </strong>命令运行该项目。</p><p id="6258" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将保留使用上述命令创建的所有文件，只更改那些需要的文件。</p><p id="0393" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 2。index.kt —入口点</strong></p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="7349" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个文件将组件的整个层次结构注入到DOM的根div中，如上所示。除此之外，它还需要根级别的应用程序的整个CSS。</p><p id="8e6a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们来探索App.kt</p><p id="9b28" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 3。App.kt </strong></p><p id="1738" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">App.kt文件是一个父组件，由div、h1和一个子组件TodoList组成，它将为我们获取并显示Todo的列表。</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="fa3b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们看看TodoList组件。</p><p id="b1ba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 4。TodoList.kt </strong></p><p id="23b4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 4.1创建一个TodoList组件</strong></p><p id="7b4d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该组件负责从API获取待办事项列表，并将其呈现在UI上。</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="d39b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里道具和状态的概念非常类似于React。这里有两种状态:</p><ol class=""><li id="3ca2" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">实际待办事项列表</li><li id="4c4d" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">出现任何错误时显示的消息</li></ol><p id="0646" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">两者都可以为空，即它们可以在任何时间点保存空值。<a class="ae le" href="https://kotlinlang.org/docs/reference/null-safety.html" rel="noopener ugc nofollow" target="_blank">零安全</a>是Kotlin最常用的功能之一。</p><p id="cb6d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 4.2 UI渲染</strong></p><p id="6d2c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">每个组件都有一个render方法来显示它的UI。</p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="e64d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">上面的代码片段检查状态中的todo列表是否为not null，然后它将遍历它并在UI上呈现它。如果todo列表为空，它将只显示错误消息。</p><p id="04d7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们看看如何从我们刚刚创建的API中获取数据并处理它。</p><p id="9f89" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 4.3集成API和响应解析</strong></p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="371f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这里，我们调用一个API“<a class="ae le" href="http://0.0.0.0:8080/todos" rel="noopener ugc nofollow" target="_blank">http://0 . 0 . 0 . 0:8080/todos</a>”，结果将被解析为一个JSON对象。从这个JSON响应中，我们提取了todos数组，并通过对其进行迭代并将其设置为state，创建了一个最终的显示列表。一旦状态被更新，组件将重新呈现自己。如果有错误，我们会将errorMessage设置为状态。</p><p id="dead" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 4.4模型类</strong></p><figure class="lg lh li lj fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="2f7d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">执行<strong class="ir hi">纱线启动</strong>命令后，我们可以看到下面的输出</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lr"><img src="../Images/e7fd449260e9843ef4f89a99872c02a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqhkt0-MWSHgAZRutHCunA.png"/></div></div></figure><p id="d414" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">万岁…</p><p id="3a1e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们已经开发了一个后端来返回待办事项列表，还开发了一个前端应用程序来使用该API，只需使用一种语言Kotlin的知识。很简单吧！</p><h1 id="0386" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">摘要</h1><p id="d10a" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">由于多平台支持、协程、交叉编译能力和类型安全等各种原因，Kotlin是当今流行的语言之一。如果学习一种语言可以让我们在多个平台上开发应用程序受益，我们应该尝试一次！</p><p id="ebfd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">快乐编码…</p><p id="a712" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">团队演职员表:<a class="ae le" href="https://medium.com/u/62658ead3a79?source=post_page-----994756c7ea5e----------------------" rel="noopener">尼克尔·贾达夫</a> | <a class="ae le" href="https://medium.com/u/733fa45e5564?source=post_page-----d9cbcfba34a2----------------------" rel="noopener">穆昆德</a> | <a class="ae le" href="https://medium.com/u/fca6492380a9?source=post_page-----994756c7ea5e----------------------" rel="noopener">苏米特·苏塔尔</a> | <a class="ae le" href="https://medium.com/u/ddb5232e0b42?source=post_page-----994756c7ea5e----------------------" rel="noopener">阿尔卡纳0623 </a></p></div></div>    
</body>
</html>