# Mon-ifesto 第 3 部分:警报响应和事后分析

> 原文：<https://medium.com/capital-one-tech/the-mon-ifesto-part-3-alert-response-and-post-mortem-cd227c684ac0?source=collection_archive---------1----------------------->

## **更好应用监控的三部分指南**

![](img/f18192532ad4ba89b3aeb0dd33a9af51.png)

***监控三部曲中的第三部。你可以在这里阅读*** [***第一部分***](/capital-one-developers/the-mon-ifesto-part-1-metrics-808f6c944765) ***和*** [***第二部分***](/capital-one-developers/the-mon-ifesto-part-2-alerting-and-graphing-bf51828a008f) ***。***

你如何回应警报与你如何获得这些警报同样重要，如果不是更重要的话。工程师对问题的快速而恰当的反应保证了正常运行时间和满意的用户。每个应用程序都会在某个时候崩溃，因为它*有*的错误，你的代码质量扫描器错过了它们，因为*也有错误。*

在本节中，我将给出一些如何响应警报的想法，而不是给出如何以及何时做事情的指导方针，并由您来决定哪些方法最适合您的应用程序和您的组织。

我想在这里阐述两个重要且密切相关的概念——正式的事件响应和事后分析。

# 1.正式事故响应(FIR)

正式事故响应(fir)通常是为高优先级警报保留的，因为它们涉及多人，并且高度形式化。对于中低优先级的问题，经历这一过程可能会令人厌倦，在某些情况下根本不可能。什么是正式的事件响应？简而言之，这是一种响应警报的方法，为参与响应的每个人提供了明确定义的角色和结构化的指挥和控制层级。这一点非常重要——试图解决问题的人越多，问题就越难解决。这是生活的事实，而不仅仅是运营。

让我们来看看标准的 FIR 角色:

## **事故管理器**

事故经理是负责 FIR 的人员。此人不一定是头衔上的经理，但就 FIR 而言，此人是负责人，是整个 FIR 的最终权威。他们的工作是协调 FIR 的工作，确保工作不重复，在必要时引入第三方，并签署关闭事件。

## **事件记者**

事故报告员在 FIR 有一项工作:记录一切。他们负责记录所有重要的信息，包括在飞行情报区内写的、说的或发现的。像 Confluence 甚至 GitHub 这样的工具对于记录 FIR 事件和进行事后分析是非常宝贵的，我们将在下一节讨论。

## **桥式起重机**

桥跑者负责会议桥(如果有的话)。他们负责建立桥梁，将桥梁信息传达给所有必要方，并在需要时让第三方加入桥梁。

## **主工程师**

首席工程师是 FIR 期间的技术权威和协调点，应被视为事故经理的“二把手”。与事故经理一样，此人的工作职能或头衔与 FIR 的目的无关。但是，让高级工程师担任这一角色会有所帮助，因为他们负责调查事件的解决方案，并将任务委派给备用工程师。

所有的技术工作都要经过主工程师——没有主工程师的明确许可，飞行情报区的其他成员不得执行任何种类的*的技术任务。这可以防止*出现“厨房里厨师太多”*的情况，即太多人同时试图解决事件。*

## **待命工程师**

备用工程师是 FIR 的一部分，协助主工程师解决事故。他们的工作是由主工程师交给他们的，他们应该按任务工作；也就是说，他们执行的是交给他们的任务，仅此而已。这可确保他们不会重复工作或在解决事件时造成不必要的延迟。

## **第三方成员**

第三方成员是被请来帮助解决事件的外部团队或团体。当问题不在应用程序工程团队的范围内，或者问题与应用程序团队范围内的供应商提供的产品有关时，他们通常会参与进来。第三方成员应通过事件经理进行协调。

重要的是，在第一次*会议期间，所有*方积极参与决议工作。初次见面应该是非正式的交谈，并且有一个*“没有愚蠢的问题”*的空间。有时最不可能的建议最终是正确的！

现在，我意识到让不同的人担任所有这些角色对一些团队来说可能不可行。根据您的团队，一些角色可能会被组合或取消。重要的是在正式的事故响应中，在各方之间建立一个清晰的指挥链和沟通系统。

# 2.**验尸**

事后分析在正式事件响应结束后进行。它们不需要在之后立即发生，但是它们应该足够快地被举行，以便冷杉的细节仍然是新鲜的。将事后分析安排在下一个工作日，或者第二天，是一个很好的起点。但是什么是开膛破肚呢？

事后总结是会议，通常仅由应用团队(无第三方)进行，回顾 FIR 事件，并期望实现几个目标:

1.  确定事故的根本原因。
2.  生成并分配任务，以确保事故不再发生。
3.  回顾 FIR 流程并讨论改进措施。

应该注意的是，该列表中没有任何地方是*“归咎”*——责任不应该在事后鉴定中进行。如果是的话，他们很容易变成一个公开的羞辱论坛，这不会鼓励你的工程师出现和参与。如果需要对个人在事件中的角色进行咨询，应由他们的主管私下进行。

重要的是，应记录这些验尸结果，并将其附加到事故报告员生成的 FIR 记录中。这些报告构成了一个非常强大且可搜索的知识库的基础，如果将来发生类似事件，您的工程师和管理员可以参考该知识库。

希望在本系列中，我已经为您提供了一个强大而自由的框架，用于监控、响应和评估您的应用程序及其基础设施。虽然不同的公司、团队和应用程序会有不同的细节，但这个由三部分组成的系列可以被认为是探索如何改进流程的坚实基础。

## *[Mon-ifesto 第 1 部分:指标](/capital-one-developers/the-mon-ifesto-part-1-metrics-808f6c944765)

## * [周一至周五第二部分:报警和绘图](/capital-one-developers/the-mon-ifesto-part-2-alerting-and-graphing-bf51828a008f)

***披露声明:以上观点为作者个人观点。除非本帖中另有说明，否则 Capital One 不属于所提及的任何公司，也不被其认可。使用或展示的所有商标和其他知识产权都是其各自所有者的所有权。本文为 2018 首都一。***