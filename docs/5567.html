<html>
<head>
<title>Create a Sentiment Analysis Microservice using Stanford NLP and HELIDON Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用斯坦福NLP和HELIDON项目创建情感分析微服务</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/stanford-nlp-sentiment-analysis-using-oracle-helidon-and-docker-8569b02a92d5?source=collection_archive---------0-----------------------#2019-02-11">https://medium.com/oracledevs/stanford-nlp-sentiment-analysis-using-oracle-helidon-and-docker-8569b02a92d5?source=collection_archive---------0-----------------------#2019-02-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4739" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我的<a class="ae jc" rel="noopener" href="/oracledevs/stanford-nlp-on-oracle-cloud-application-container-d1f53512b6af">上一篇文章</a>中，我解释了如何使用斯坦福NLP执行情感分析算法并部署在Oracle Cloud上。在本文中，我将带您了解我们如何使用Helidon项目通过几个简单的步骤来转变微服务中的简单项目，并对微服务进行dockerize，使其能够在任何容器基础架构上执行，甚至在Kubernetes上执行。</p><p id="9b4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在开始构建微服务之前，让我给你解释一下斯坦福大学的自然语言处理和情感分析。斯坦福NLP是一个JAVA开源库，由斯坦福大学的一个团队开发。它有强大的语言支持，可以在各种环境中使用，但我们将重点放在它的情感分析部分。因此，我们将使用斯坦福大学的NLP库来获取句子(甚至是一个段落)的情感，并将其作为JSON对象输出。关于这方面的更多信息，你可以参考我的<a class="ae jc" rel="noopener" href="/oracledevs/stanford-nlp-on-oracle-cloud-application-container-d1f53512b6af">以前的文章</a>。</p><p id="812b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了利用斯坦福NLP库的能力，编写一个情感分析器作为微服务，可以用来预测一个句子或段落的情感，并作为JSON对象返回，我们选择了Helidon项目，这是一个开源项目。Helidon是一个Java库的集合，用于编写运行在Netty支持的快速web核心上的微服务，Helidon遵循MicroProfile规范，并组织起来帮助开发人员快速进入微服务世界。<br/>关于Helidon项目的更多细节可以在<a class="ae jc" href="https://helidon.io/" rel="noopener ugc nofollow" target="_blank"> https://helidon.io </a>中找到。</p><p id="f388" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在执行运行情绪分析器的步骤之前，让我们克隆/派生GitHub库:<a class="ae jc" href="https://github.com/saiyam1814/HelidonProject" rel="noopener ugc nofollow" target="_blank">https://github.com/saiyam1814/HelidonProject</a>理解代码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/46bf1cb20006b1297589f57dcc3de206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWVrWXqGsIYcmoPKVyURZg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Github Repo</figcaption></figure><p id="d3a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦您克隆了存储库，打开<strong class="ig hi"> pom文件</strong>，pom文件中包含的情感分析&amp; Helidon的依赖项是:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/cbb2b6de2c79f7333ac84a21ecdc5eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*iO3-ugOS_xbikmJRKpDtGQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">POM file</figcaption></figure><p id="f649" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> helidon-webserver </strong>用于在情感类中使用helidon类。<br/><strong class="ig hi">heli don-web server-json</strong>是必需的，因为我们在代码中有JSON实现。<br/> <strong class="ig hi">情感-corenlp </strong>用于在情感类中使用斯坦福nlp类<br/> <strong class="ig hi">模型</strong>用于获得语言支持。</p><p id="6b5c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们来理解一下<strong class="ig hi">Main.java</strong>文件中的代码，该文件用于通过Helidon、配置和设置不容易找到的路线来公开api，尽管(<a class="ae jc" href="https://twitter.com/langer_tomas" rel="noopener ugc nofollow" target="_blank">托马斯·兰格</a>)帮助我理解了这一部分:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/c5dc49713b3764d110f377b7486bba23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4LdVPKrb0eg_3KzePC_rFA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Main.java</figcaption></figure><p id="c07c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ServerConfiguration接口用于在Webserver.create方法使用创建的配置和Routing.builder用于创建所需端点的端口之后配置web服务器。<br/>最后，我们使用response“RES . send”方法传递“情感类”,根据请求参数执行情感分析，在本例中，请求参数是POST请求的主体。<br/>更多关于Helidon路由:<a class="ae jc" href="https://helidon.io/docs/latest/#/webserver/03_routing" rel="noopener ugc nofollow" target="_blank">https://helidon.io/docs/latest/#/webserver/03_routing</a><br/>我已经在我的<a class="ae jc" rel="noopener" href="/oracledevs/stanford-nlp-on-oracle-cloud-application-container-d1f53512b6af"> <strong class="ig hi">上一篇</strong> </a> <strong class="ig hi">中解释了<strong class="ig hi">情感</strong>类和<strong class="ig hi">斯坦福NLP </strong>库对于<strong class="ig hi">情感分析</strong>的使用。</strong></p><p id="4ebd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为我已经将这个应用程序归档，所以我将解释一下<strong class="ig hi">归档文件</strong>:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/1b2610666ea020013aba65d1f6febb90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*a_JJQt9URdxYzvq8EEcMDA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx">Dockerfile</figcaption></figure><p id="e749" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个非常简单的<strong class="ig hi"> Dockerfile </strong> —我们获取maven映像，在克隆它之后，将Dockerfile所在位置的内容复制到容器内的app文件夹，然后我们运行mvn全新安装来创建jar文件，实际上我们将使用端口8080作为api运行该文件。理想情况下，构建应该发生，我们应该将jar文件推送到artifactory，在另一个部分，我们应该拉然后运行它，但现在我已经在dockerfile本身中完成了mvn安装。</p><p id="1171" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要执行的步骤:<br/> <strong class="ig hi">第一步:docker build-t helidonsensation。<br/>第二步:docker标签Helidon情操saiyam 911/helidon情操</strong> <br/> <strong class="ig hi">第三步:docker run-d-p 8080:8080helidon情操<br/> </strong>和所有set you api通过Helidon webserver作为docker容器公开。您可以在任何平台上运行它，如oracle云基础架构，甚至也可以在Kubernetes集群上运行。我将在另一篇文章中介绍kubernetes集群部署和监控。</p><p id="619a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面你可以测试API:http:{ { IP } }:8080/情操作为一个职位的网址和句子在身体下面是相同的样本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/7fb3b2c7b652e06e6d3ba925159c3db7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h6WS4dxYXiqEW7oY9HVcQQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">output form JSON</figcaption></figure><p id="5162" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提醒一下，这些数字代表可以相应使用的情绪:我们使用它们作为:<br/> 0:“非常消极”<br/> 1:“消极”；<br/> 2:“中性”；<br/> 3:“正”；<br/> 4:“非常肯定”；<br/>(以上在我的<a class="ae jc" rel="noopener" href="/oracledevs/stanford-nlp-on-oracle-cloud-application-container-d1f53512b6af">上一篇</a>中也有提及)。</p><p id="4710" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是本教程的全部内容。希望你现在对如何使用Helidon webServer有所了解，并且觉得这个教程很有用。如果你有任何问题，请在评论中告诉我。谢谢，</p><p id="1b80" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">赛亚姆·帕塔克<br/>saiyam.pathak@oracle.com<br/>T3】https://www.linkedin.com/in/saiyam-pathak-97685a64/</p></div></div>    
</body>
</html>