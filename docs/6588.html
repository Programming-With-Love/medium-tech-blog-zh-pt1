<html>
<head>
<title>Considering Optimization and Time Complexity with JS Algorithms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JS算法考虑优化和时间复杂性</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/considering-optimization-and-time-complexity-with-js-algorithms-4c8915086518?source=collection_archive---------0-----------------------#2019-02-22">https://medium.com/quick-code/considering-optimization-and-time-complexity-with-js-algorithms-4c8915086518?source=collection_archive---------0-----------------------#2019-02-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4051" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi jc translated">最近从Flatiron的全栈沉浸式项目毕业后，我现在拥有了一个令人印象深刻的语言、框架和方法工具箱，可以作为一名软件开发人员进入我的新世界。我现在的目标是更好地理解这些工具，并达到这样的专业水平，即我确切地知道在每种特定情况下使用什么样的工具。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/00e030ea0c3441515651bc98cabd2298.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*vQ-lydob-3fWGWGk"/></div></figure><p id="6e00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最近我遇到了一个白板问题，表面上看起来很简单:给定一个正整数数组，写一个函数，如果数组中的任何元素都是其他元素的双精度数，则返回true。如果不是，则返回false。所以，如果给我一个数组[3，4，6]，我的函数应该返回true，因为6是3的两倍。给定数组[4，5，7]，我的函数应该返回false，因为该数组中没有任何数字是该数组中任何其他数字的两倍。</p><p id="44dc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从逻辑上思考这个问题，我最初的计划是…</p><ol class=""><li id="a3bb" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb jy jz ka kb bi translated">确定数组中每个数字的双精度值，然后</li><li id="f218" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">查看数组中是否包含任何双精度值。</li></ol><p id="4c62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是一个相当简单的计划，下面是它的代码:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kh"><img src="../Images/f3e338c744556508476f295be66b7d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*fb9AeeUyIl1RCVaMYmDNjQ.png"/></div></figure><p id="6b6b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个函数使用while循环遍历数组(array[i])中的每个数字，然后一个条件(if语句)使用。includes()方法检查该数字的double (array[i] * 2)是否包含在数组中。如果找到双精度值，该函数将跳出循环并返回true。否则，while循环将继续在整个数组中运行，并且在while循环的每次迭代中。includes()方法贯穿整个数组。当没有找到double时，循环结束，不返回任何内容，此时函数返回false。</p><p id="6da1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我的includesDouble函数易于阅读和理解，但是让我们考虑一下时间复杂性和大O符号…</p><h1 id="a86f" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated"><span class="l jd je jf bm jg jh ji jj jk di">输入法复杂度简单地说就是运行一个算法或一组代码所花费的时间。</span></h1><p id="3b8a" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">时间复杂度通常用<em class="ll">大O符号</em>来度量。如果你对大O不熟悉，这里有一篇很棒的文章用简单的术语来分解它。对于我的includesDouble函数，n(即输入的大小)将是3——如果我们使用之前的数组([3，4，6]或[4，5，7])。所以我们从O(n) = 3开始。</p><p id="881d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当考虑时间复杂性时，<em class="ll">最佳实践是计算最坏情况场景</em>。看我们的两个数组，那将是[4，5，7]，因为我们知道这个数组不包括double，所以两个循环(我们的while循环和。includes())将在整个数组中完全运行，因为没有真正的情况会使它们脱离循环。好的，如果[4，5，7]通过while循环运行，我们的线性运行时间为O(n) = 3，因为我们的while循环对数组中的每个元素运行一次(对4运行一次，对5运行两次，对7运行第三次)。<em class="ll">然而，对于while循环的每一次迭代，我们都有一个嵌套循环，它也运行。包括()。</em></p><h1 id="0c6b" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">小心嵌套循环——这是你的时间复杂度，或大O符号，开始指数增长的地方。</h1><p id="dbe7" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">让我解释一下…</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kh"><img src="../Images/f3e338c744556508476f295be66b7d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*fb9AeeUyIl1RCVaMYmDNjQ.png"/></div></figure><p id="820b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们的数组包含数字4、5和7，在第一次迭代中(其中array[i] = 4)，我们的。includes()方法将遍历数组中的每一项，查看数组是否包含8 (array[i] * 2)。然后，它将对数组中的所有其他数字(5，然后是7)做同样的事情。</p><p id="034e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了使事情更加明确，我们的JavaScript引擎将通过以下步骤运行:</p><ol class=""><li id="555e" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb jy jz ka kb bi translated">对于数字4，4等于8吗？</li><li id="bb78" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字4，5等于8吗？</li><li id="97fd" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字4，7等于8吗？</li><li id="cd2f" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字5，4等于10吗？</li><li id="2dda" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字5，5等于10吗？</li><li id="ef56" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字5，7等于10吗？</li><li id="94eb" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字7，4等于14吗？</li><li id="811f" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字7，5等于14吗？</li><li id="a6e1" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">对于数字7，7等于14吗？</li></ol><p id="d56a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为我们有一个嵌套循环，我们的大O符号从O(n) = 3到O(n ) = 3。大O值为3与大O值为9的差别并不大，但请记住，考虑到时间复杂性，我们要考虑最坏的情况——如果我们的数组有1000个数字那么长呢？突然O(n) = 1000，变成O(n) = 1，000，000有嵌套循环！现在这是一个很大的区别！想象一下，如果我们的数组包含一百万个数字！！！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es ln"><img src="../Images/66a4cef200e9eed4626a509950860a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*mFM7KlNtmvxlLI8m"/></div></figure><p id="9c4c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">那么，有没有办法用不使用嵌套循环的算法来解决这个问题呢？</p><p id="b61b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我很高兴你问了，因为答案是肯定的。</p><p id="c33f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输入哈希表…</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lo"><img src="../Images/0362aaf3bcb28cbf71674d8b609747b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*JUJe4U-a7IjB6Br-xg5IQg.png"/></div></figure><h1 id="579e" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">哈希表只是一种关联的数据结构，它将键映射到值。</h1><p id="3407" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">如果你已经编写了一段时间的代码，你应该见过这种类型的数据结构—(哈希表在JavaScript中也被称为对象，在Ruby中被称为散列)。</p><p id="c5ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“这真的很棒，”你可能在想——“但是一个关于猫的哈希表是如何解决上面的算法问题的？”</p><p id="2009" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我先跟大家分享一下解决方案，然后我们一步一步来。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lp"><img src="../Images/18e7256d3718309f2fb9a1780f9b607b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*QKzxFBv3kK2PaEn0eonDpw.png"/></div></figure><p id="6dc9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">同样，我们将使用之前的数组([4，5，7])遍历这个函数。</p><p id="11f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在函数的第一行，注意我声明了一个新变量doubles，并将其设置为一个空哈希表({})。我们将使用数组中的元素构建这个哈希表。</p><p id="62b5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">和以前一样，我们从while循环(O(n) = 3)开始。在while循环中，我将使用数组中的数字为我的新哈希表生成键(doubles[array[I]]= ' cats so cool ')。我们知道，对于这个数组，我们的while循环将返回而不返回true，因此在我们的while循环完成后，我们将得到一个如下所示的哈希表:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lq"><img src="../Images/8495fe6abd0f143a75973217a83e90cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*haYVcmnu3DlusdY1f6cq2g.png"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Cats ARE really, really cool.</figcaption></figure><p id="1f08" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，尽管它们充满了智慧，但我设定的值并不重要。<em class="ll">钥匙就是钥匙。</em></p><p id="fce0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们看看while循环中的第二行——这里我们有另一个条件——只有<em class="ll">这个</em>时间我们没有使用。包括()。相反，我们检查哈希表中的键与当前数字的对比，看是否有一个键是当前数字的两倍或一半。如果那把钥匙已经存在，那么我们就知道我们找到了一个替身！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lv"><img src="../Images/326ae688c571dfc044f66c5b15df65f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*PzPSLeYUoPx1rc5FfCuvLQ.png"/></div></figure><p id="e5b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了更明确地分解它…</p><ol class=""><li id="efa0" class="jt ju hh ig b ih ii il im ip jv it jw ix jx jb jy jz ka kb bi translated">我们第一次运行while循环(array[i] = 4)产生doubles = {4:'猫太酷了' }。它遍历条件而不返回任何内容，因为doubles只有一个键4，并且不包括键8或2。</li><li id="ddd1" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">第二次运行while循环(使用array[i] = 5)为doubles添加了一个新的键— {4:'猫太酷了'，5:'猫太酷了' }。同样，它在不匹配键的情况下通过条件。</li><li id="29f1" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">最后，我们最后一次运行产生doubles = {4:'猫很酷'，5:'猫很酷'，7:'猫很酷' }并退出条件循环和while循环，而不匹配一个键。</li><li id="895f" class="jt ju hh ig b ih kc il kd ip ke it kf ix kg jb jy jz ka kb bi translated">因为没有正例使我们脱离while循环，所以我们的函数返回false！</li></ol><p id="87de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意到什么了吗？</p><p id="d6d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们写了一个函数，不用嵌套循环就能完成它需要做的事情<em class="ll">！</em></p><p id="97c0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个版本的includesDouble函数的大O符号就是O(n) = 3。如果我们有一个由一百万个数字组成的数组，那么大的O就是O(n) = 1，000，000。与O(n ) = 1，000，000，000，000(1万亿)相比，我们已经削减了函数的大部分运行时间！</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lw"><img src="../Images/6703a89df870cd28d9f7181328f9c5e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*D0bPLFl1a_IlcPRk.gif"/></div><figcaption class="lr ls et er es lt lu bd b be z dx">Ahhh… isn’t life good?</figcaption></figure><p id="6759" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尽管我们的新函数很棒，但它确实带来了一些权衡——首先，我们的第二个函数比第一个函数更难理解。如果您关心可读性(也许您的员工中有一群像我一样的新手程序员)，并且您知道n永远不会像天文数字一样长，您可能更喜欢坚持第一个选项。另外，请注意，在第二个函数中，我们还创建了一个全新的变量(doubles = {})。这意味着您的计算机现在必须在内存中创建并留出一个特定的位置来存储新的数据。如果您担心内存空间，并且您知道n总是一个合理的长度，那么您可以再次选择选项#1。</p><p id="137e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">给猫剥皮的方法肯定不止一种…</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es lw"><img src="../Images/d2ccceac33e333d9a39aa44c4f527888.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*L6xbxiASEkhXJ_9c.gif"/></div></figure></div></div>    
</body>
</html>