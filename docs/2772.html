<html>
<head>
<title>Understand How Microservices Work With an Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过一个例子了解微服务是如何工作的</h1>
<blockquote>原文：<a href="https://medium.com/edureka/microservices-tutorial-with-example-a230413dfa13?source=collection_archive---------0-----------------------#2018-03-28">https://medium.com/edureka/microservices-tutorial-with-example-a230413dfa13?source=collection_archive---------0-----------------------#2018-03-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/222443a223fa80543d630db6121c0b8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*G56Vej9ZomTZZDsHRsVnbA.png"/></div><figcaption class="il im et er es in io bd b be z dx">Microservices Tutorial - Edureka</figcaption></figure><p id="8da1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">组织正在迅速转向微服务架构&amp;寻找具有微服务知识的专业人员。我希望您已经阅读了我之前的文章<strong class="ir hi"> <em class="jn">什么是微服务</em> </strong>，该文章解释了架构，将微服务与monolithic和SOA进行了比较，并借助用例探讨了何时使用微服务。</p><p id="fcad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本微服务教程中，将涵盖以下主题:</p><ol class=""><li id="9372" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">整体建筑</li><li id="97ca" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">单片架构的挑战</li><li id="f95c" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">什么是微服务</li><li id="1433" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">微服务架构</li><li id="6d8b" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">微服务示例—演示</li></ol><p id="9825" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们通过Mediamore.com的一个用例来探索微服务的概念。</p><p id="9f18" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Mediamore是一家提供流媒体和在线视频的娱乐公司。它由不同语言的各种类型的电视节目组成。像许多其他公司一样，mediamore以整体架构开始了它的旅程。</p><p id="1b2a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们来探索mediamore的整体框架。</p><h1 id="512b" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">整体建筑</h1><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es la"><img src="../Images/be91d952c9c68f3200cd2d53a06f8dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3qJv06Kd0MaqvhnS4az_yg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Monolithic Architecture of Mediamore — Microservices Tutorial</figcaption></figure><p id="2236" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">参考上图。我们可以推断，所有的功能，如搜索，用户信息，推荐，视频播放列表和其他放在一个单一的数据库使用单一的代码。</p><p id="836a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，让我通过一些场景告诉你开发人员在使用单一框架时所面临的挑战。</p><h1 id="cbd7" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">单片架构的挑战</h1><h2 id="7be1" class="lj kd hh bd ke lk ll lm ki ln lo lp km ja lq lr kq je ls lt ku ji lu lv ky lw bi translated"><strong class="ak">场景1:可伸缩性:</strong></h2><blockquote class="lx ly lz"><p id="de2d" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh">让我们假设开发人员想要根据最受欢迎的电视节目更新播放列表，同时还想要将所有视频更新为高清质量。</em></p><p id="ce02" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">开发人员不能同时扩展应用程序。每次开发或部署新功能时，都必须创建同一应用程序的新实例。</p></blockquote><h2 id="42a8" class="lj kd hh bd ke lk ll lm ki ln lo lp km ja lq lr kq je ls lt ku ji lu lv ky lw bi translated"><strong class="ak">场景2:敏捷性:</strong></h2><blockquote class="lx ly lz"><p id="60f3" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh">假设开发人员想要在应用程序中立即进行更改。</em></p><p id="db8b" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">单片应用程序肯定可以适应这些变化。但是，这里的问题是，开发人员必须为每一个小的变化重新构建代码。</p></blockquote><h2 id="28fd" class="lj kd hh bd ke lk ll lm ki ln lo lp km ja lq lr kq je ls lt ku ji lu lv ky lw bi translated"><strong class="ak">情景3:混合技术:</strong></h2><blockquote class="lx ly lz"><p id="c5b6" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh">假设这个应用程序的开发人员熟悉各种技术，如JAVA、C++、。NET，C#。</em></p><p id="4cb4" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">即使他们熟悉各种技术，他们仍然不得不在单一技术上构建大型复杂的应用程序。</p></blockquote><h2 id="3bf1" class="lj kd hh bd ke lk ll lm ki ln lo lp km ja lq lr kq je ls lt ku ji lu lv ky lw bi translated"><strong class="ak">场景4:容错:</strong></h2><blockquote class="lx ly lz"><p id="bff2" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh">让我们假设一个特定的特性在应用程序中不起作用。</em></p><p id="3145" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">整个系统因为这个问题而瘫痪。为了解决这个问题，必须重新构建、重新测试和重新部署应用程序。</p></blockquote><p id="b603" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">那么，mediamore的开发者是如何克服这些复杂性的呢？</p><p id="78ee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，开发人员决定将他们的整体应用程序重新架构成多个单独的可部署组件，称为微服务。</p><blockquote class="lx ly lz"><p id="eec7" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">这是一个百万美元的问题！</p></blockquote><h1 id="a637" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">什么是微服务？</h1><p id="e45d" class="pw-post-body-paragraph ip iq hh ir b is md iu iv iw me iy iz ja mf jc jd je mg jg jh ji mh jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn">微服务</em> </strong> <em class="jn">是一种架构，其中系统的所有组件都放入单独的组件中，这些组件可以单独构建、部署和扩展。</em></p><p id="73ec" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我用一个简单的类比来给你解释一下。</p><p id="57e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你一定见过蜜蜂如何通过排列六角形的蜡细胞来建造它们的蜂巢。他们最初使用各种材料从一小部分开始，然后继续用它建造一个大蜂巢。这些细胞形成一种模式，从而形成一种牢固的结构，将蜂窝的特定部分结合在一起。在这里，每个细胞都独立于其他细胞，但也与其他细胞相关。这意味着对一个细胞的损害不会损害其他细胞，因此，蜜蜂可以重建这些细胞，而不会影响整个蜂巢。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es la"><img src="../Images/357e90ad604f178b76fc47d1d86cad71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EM80YvRt9S4JCgdsaDq27Q.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Beehive Representation of Microservices — Microservices Tutorial</figcaption></figure><p id="6165" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">参考上图。这里，每个六边形代表一个单独的服务组件。类似于bees的工作，每个敏捷团队用可用的框架和选择的技术栈构建一个单独的服务组件。就像在蜂窝中一样，每个服务组件形成一个强大的微服务架构，以提供更好的可伸缩性。此外，每个服务组件的问题都可以由敏捷团队单独处理，对整个应用程序没有影响或影响很小。</p><p id="db13" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">您可能想到的下一个问题是微服务架构的不同组件如何协同工作。</p><p id="817e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是，在此之前，让我列出微服务架构的组件。</p><p id="cb15" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请参考下图。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/b8064b58faa3a7d1faa5f9c9c3ddb5cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7zwVwaWjW1ZpJwNrbXHKxg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Microservices Architecture — Microservices Tutorial</figcaption></figure><blockquote class="lx ly lz"><p id="382d" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">客户端</strong> —来自不同设备的不同用户发送请求。</p><p id="a8ca" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">身份提供者</strong> —验证用户或客户端身份并颁发安全令牌。</p><p id="35da" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi"> API网关</strong> —处理客户端请求。</p><p id="3e57" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">静态内容</strong> —包含系统的所有内容。</p><p id="5311" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">管理</strong> —平衡节点上的服务并识别故障。</p><p id="1043" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">服务发现</strong> —寻找微服务间通信路径的指南。</p><p id="7360" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">内容交付网络</strong> —代理服务器及其数据中心的分布式网络。</p><p id="341c" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">远程服务</strong> —支持远程访问驻留在IT设备网络上的信息。</p></blockquote><p id="8fec" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，让我通过考虑一个场景，向您简要介绍这些组件如何在mediamore上协同工作。</p><h1 id="eab1" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">微服务架构</h1><h2 id="65a0" class="lj kd hh bd ke lk ll lm ki ln lo lp km ja lq lr kq je ls lt ku ji lu lv ky lw bi translated">场景:</h2><p id="e813" class="pw-post-body-paragraph ip iq hh ir b is md iu iv iw me iy iz ja mf jc jd je mg jg jh ji mh jk jl jm ha bi translated">爱丽丝是mediamore的忠实用户。她经常使用mediamore在线观看她最喜欢的连续剧。她最近错过了一集她最喜欢的电视节目。</p><p id="44d5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当Alice登录该应用程序时，她会在自己的主页上看到最受推荐的内容。经过一番寻找，她终于找到了她的电视节目。</p><p id="3e45" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是，如果爱丽丝想通过一次点击获得她的电视节目。</p><p id="2447" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">开发人员将如何合作来满足爱丽丝的要求？T3】</p><p id="a010" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">爱丽丝的请求被传递给<strong class="ir hi">身份提供者</strong>。因此，身份提供者通过将Alice识别为mediamore上的普通用户来验证她的请求。</p><p id="ec2f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些请求被传递给<strong class="ir hi"> API网关</strong>，它充当Alice将她的请求转发给适当的微服务的入口点。</p><p id="13a0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">每个功能都有自己的工作微服务，处理自己的数据。这些微服务也有自己的<strong class="ir hi">负载平衡器</strong>和<strong class="ir hi">执行环境</strong>来正常运行。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/f296816c034aa7a19d299e8951841895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6eHqsX41fQbOoXHl8NymQ.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Microservices Architecture of Mediamore — Microservices Tutorial</figcaption></figure><p id="f870" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请参考下图。每个微服务由一个小的敏捷团队处理，例如内容团队、视频上传团队、最流行团队、搜索团队等。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/bd259a0b549571221684d02b751eb853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHJqJg4v_fgEXJ4cBV44Kw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Division of Teams of Mediamore — Microservices Tutorial</figcaption></figure><blockquote class="lx ly lz"><p id="2fb7" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">内容团队由应用程序提供的数百万个电视节目组成。</p><p id="48ca" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">视频上传团队负责将所有内容上传到应用程序中</p><p id="7353" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated">最受欢迎团队根据用户的地理位置等来存放最受欢迎的节目。</p></blockquote><p id="1bec" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些小型开发团队将每一条内容与描述搜索内容的元数据相关联。然后，元数据被提供给另一个微服务，即搜索功能，该功能确保Alice的搜索结果被捕获到内容目录中。</p><p id="7cca" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后，第三个微服务，即最有趋势的微服务，根据所有mediamore用户的地理位置捕获他们的趋势内容。</p><p id="40b4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个微服务的内容就是Alice第一次登录mediamore时看到的内容。</p><p id="938f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些可单独部署的微服务被放在特定的<strong class="ir hi">容器</strong>中，以加入应用程序。容器用于将代码交付给需要部署的部门。</p><p id="1e37" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但在他们加入应用程序一起工作之前，他们必须找到对方来满足爱丽丝的要求。</p><p id="bbfb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn">这些微服务是如何找到对方的？</em> </strong></p><p id="0d0f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="jn">微服务</em> </strong>使用<strong class="ir hi">服务发现</strong>作为向导来寻找它们之间的通信路径。微服务然后通过无状态服务器相互通信，即通过<strong class="ir hi"> HTTP请求/消息总线</strong>。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mj"><img src="../Images/8ae0f76caf83ad495f435245fd55e839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OI1ZSO7BJdAEHpdWZ8NTYA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Communication Between Microservices — Microservices Tutorial</figcaption></figure><p id="9e5c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些微服务使用<strong class="ir hi">应用程序接口(API) </strong>相互通信。在微服务内部通信之后，它们将<strong class="ir hi">静态内容</strong>部署到基于云的存储服务，该存储服务可以通过<strong class="ir hi">内容交付网络(CDNs) </strong>将它们直接交付给客户端。</p><p id="bb15" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，当Alice搜索她的电视节目时，搜索微服务与API中的内容目录服务进行通信，了解Alice在搜索什么，然后这些微服务将键入的单词与他们已经拥有的元数据进行比较。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/2ea32e5d8bca5c18ac6eccc1559c830e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pwOTuroDrSmF5F94B0KUIg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Representation of how to search operation is performed with the help of API — Microservices Tutorial</figcaption></figure><p id="cead" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦开发团队捕捉到Alice键入最多的单词，分析团队就会更新推荐微服务中的代码，并将Alice的最常观看的内容和偏好与同一地理区域内其他用户的热门内容进行比较。</p><p id="3229" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这意味着Alice下次登录该应用程序时，她不仅可以看到最受欢迎的内容，还可以找到包含她以前观看过的节目的个性化播放列表。</p><p id="f225" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过这种方式，开发团队可以快速满足Alice的请求，因为他们不必再次构建完整的应用程序，只需更新代码即可部署这一新功能。</p><p id="9fcd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，微服务通过这种方式调用并行环境来满足数百万兴趣各异的客户。</p><p id="a257" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，在这个微服务教程中，我的下一部分将重点放在实践上。</p><h1 id="a769" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">微服务示例—演示</h1><p id="f1ae" class="pw-post-body-paragraph ip iq hh ir b is md iu iv iw me iy iz ja mf jc jd je mg jg jh ji mh jk jl jm ha bi translated">为了演示微服务的概念，我使用Spring Boot创建了3个Maven项目，分别名为Doctor_Microservice_Edureka、Diagnosis_Microservice_Edureka和Patient_Microservice_Edureka。</p><p id="e1a7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请参考下面的快照。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mk"><img src="../Images/950122f6a7dc27b6ef8a481782fc5f31.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*mFDkC6RRA6UaPWWM-wkTqQ.png"/></div></div></figure><p id="6d73" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在您理解这三个项目如何相互作用之前。让我给你简单介绍一下这些项目的档案。</p><p id="ce76" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了解释这一点，我将考虑项目<strong class="ir hi">Patient _ Microservice _ edu reka</strong>并列出其基本文件。</p><p id="1fdc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请参考下面的快照。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/4a255767efac6376396dfed9e6d0c522.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*qxGdhmVOloeOkzaco41uQQ.png"/></div></figure><p id="a2e7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Pom.xml </strong> —为REST服务的创建添加了依赖关系。</p><p id="1404" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Application.java<strong class="ir hi">——三个项目中相同的班级。充当Spring Boot的发起者。</strong></p><p id="072f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">ApplicationConfiguration.java</strong>—研究配置类，负责向应用用户公开REST服务。</p><p id="44bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">Patient.java</strong>—一个简单的类，包含输入，如患者的姓名、id、电子邮件。</p><p id="954d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">PatientRest.java</strong>—开始实施项目中的其余服务。</p><p id="3201" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过这种方式，在Doctor_Microservice中为其他2个项目创建了类似的文件和一些附加文件。</p><p id="f019" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此创建了REST服务来搜索患者和诊断。患者和诊断的键作为参数传递给Doctor_Microservice中的方法(PatientDetails)。这种方法获取病人和疾病的数据。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es la"><img src="../Images/70cdd86c55818390e48ca7953d1f72c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YFLBRGRUyga1oI7X94khvw.png"/></div></div></figure><p id="0188" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">参考上面的快照。在这里，我们观察到病人和诊断类包含在Doctor_Microservice_Edureka中。这些类是从它们的原始项目中克隆出来的。</p><p id="2eff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后启动REST服务，我已经初始化了</p><blockquote class="lx ly lz"><p id="7cf2" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">端口<strong class="ir hi"> 8081 </strong>上的Patient _ Microservice _ edu reka</strong></p><p id="32f1" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">在<strong class="ir hi"> 8082 </strong>上的诊断_微维修_维修卡</strong></p><p id="5cae" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><strong class="ir hi">端口<strong class="ir hi"> 8083 </strong>上的Doctor_Microservice_Edureka </strong>。</p></blockquote><p id="da7c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用上面的配置，当我同时运行每个服务时，3个不同的控制台窗口在Eclipse控制台窗口中运行。</p><p id="d227" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如你在下面看到的，在我们运行项目之后，Spring Boot生成了一个引导日志。该日志包含关于初始化tomcat及其相关资源的信息。日志的最后一行告诉我们应用程序是否已经启动。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mm"><img src="../Images/5a0258e17df38679cb657c3f9438f061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJRKUdojm3SpGXIAgszQsA.png"/></div></div></figure><p id="712d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要测试患者和诊断服务是否正常运行，请使用浏览器(Mozilla Firefox)并转至<a class="ae mn" href="http://localhost:8081/" rel="noopener ugc nofollow" target="_blank"><strong class="ir hi">http://localhost:8081/</strong></a>和<strong class="ir hi"/><a class="ae mn" href="http://localhost:8082/" rel="noopener ugc nofollow" target="_blank"><strong class="ir hi">http://localhost:8082/</strong></a>URL。您应该得到如下所示的输出:</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mi"><img src="../Images/60792f6ac18528c631d8ed6a64b5239b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UWBgItOZH4GlVGbEFcvd3Q.png"/></div></div></figure><p id="0594" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，为了测试<strong class="ir hi">Doctor _ Microservice _ edu reka</strong>的功能性，我模拟了id为2的患者，患有id为3的疾病，咨询了咨询4的医生的信息。</p><p id="2a07" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用的网址如下:<strong class="ir hi">http://localhost:8083/doctor？id patient = 2&amp;id diagnosis = 3&amp;consulting = 4</strong></p><p id="84dc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请参考下面的输出快照。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es mo"><img src="../Images/b712006fc046416e843e6129e079f195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2UDriOlGgV3LQICPOZ0Zw.png"/></div></div></figure><p id="4437" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过这种方式，3个微服务相互作用以产生期望的结果。</p><p id="be3d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">希望你已经喜欢阅读这个<strong class="ir hi">微服务教程</strong>。我们已经看到了一个简单的例子来理解不同的微服务是如何相互通信的。如果你想查看更多关于人工智能、DevOps、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释微服务的各个方面。</p><blockquote class="lx ly lz"><p id="b4a4" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 1。</em> <a class="ae mn" rel="noopener" href="/edureka/what-is-microservices-86144b17b836"> <em class="hh">什么是微服务？</em> </a></p><p id="4aed" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 2。</em><a class="ae mn" href="https://www.edureka.co/blog/object-oriented-programming/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=java-exception-handling" rel="noopener ugc nofollow" target="_blank"><em class="hh"/></a><a class="ae mn" rel="noopener" href="/edureka/microservice-architecture-5e7f056b90f1"><em class="hh">微服务架构</em> </a></p><p id="e043" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 3。</em> <a class="ae mn" rel="noopener" href="/edureka/microservices-vs-soa-4d71c5590fc6"> <em class="hh">微服务vs SOA </em> </a></p><p id="17d5" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 4。</em> <a class="ae mn" rel="noopener" href="/edureka/microservices-design-patterns-50640c7bf4a9"> <em class="hh">微服务设计模式</em> </a></p><p id="d64d" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 5。</em> <a class="ae mn" rel="noopener" href="/edureka/microservices-with-spring-boot-ffab2ce8ac34"> <em class="hh">构建微服务应用使用Spring Boot </em> </a></p><p id="f556" class="ip iq jn ir b is it iu iv iw ix iy iz ma jb jc jd mb jf jg jh mc jj jk jl jm ha bi translated"><em class="hh"> 6。</em> <a class="ae mn" rel="noopener" href="/edureka/microservices-security-b01b8f2a9215"> <em class="hh">微服务安全</em> </a></p></blockquote></div><div class="ab cl mp mq go mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ha hb hc hd he"><p id="02c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">原载于2018年3月28日www.edureka.co</em><em class="jn">T21</em><a class="ae mn" href="https://www.edureka.co/blog/microservices-tutorial-with-example" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>