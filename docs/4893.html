<html>
<head>
<title>Android Animation Using Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kotlin的Android动画</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/android-animation-using-kotlin-ef385b5b5dea?source=collection_archive---------1-----------------------#2019-10-07">https://blog.kotlin-academy.com/android-animation-using-kotlin-ef385b5b5dea?source=collection_archive---------1-----------------------#2019-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="8af4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，让我们使用Kotlin编程在Android Studio上制作一些基本的动画。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/72337218b8d9c1afe1ff29b52c8f6e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ilHlkvOASDdq4QzxEbn_XQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Credits: <a class="ae lb" href="https://twitter.com/android/status/864911929143197696" rel="noopener ugc nofollow" target="_blank">Twitter</a></figcaption></figure><p id="d988" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，您将学习一种使用Kotlin编程语言在Android Studio中执行动画的简单方法。我已经尽了最大努力来提供好的文档和所有的指导，以使本教程更具可读性。如果你是Kotlin编程新手，想学习Kotlin编程的基础知识，那么请通过下面的链接，我写了一个Kotlin编程的基础教程:</p><div class="lc ld gp gr le lf"><a href="https://medium.com/@tanunprabhu95/8-minute-crash-course-on-kotlin-programming-language-e8a804ed3d8a" rel="noopener follow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">关于Kotlin编程语言的8分钟速成课程。</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">让我们了解一下Kotlin编程语言的基础知识。</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">medium.com</p></div></div><div class="lo l"><div class="lp l lq lr ls lo lt kv lf"/></div></div></a></div><p id="8b1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我根据YouTube上的一段视频编写了这篇教程，这段视频来自于<a class="ae lb" href="https://www.youtube.com/watch?v=K7waTmNi_x0&amp;t=2s" rel="noopener ugc nofollow" target="_blank"> CodeAndroid </a>。这是一个非常好的视频，但作者没有给出好的文档，所以这是我写这篇文章的原因。</p><p id="3a18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我将整个教程分为如下所示的五个步骤:</strong></p><ol class=""><li id="1010" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated">设置Android Studio环境。</li><li id="6ce6" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">更改布局(XML文件)。</li><li id="e58e" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">向文本添加动画。</li><li id="ffa1" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">编写科特林代码。</li><li id="7af8" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated">在内置仿真器上运行结果。</li></ol></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="092f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们开始吧:</p><h2 id="c355" class="mp mq iq bd mr ms mt dn mu mv mw dp mx jy my mz na kc nb nc nd kg ne nf ng nh bi translated">1.设置Android Studio环境</h2><p id="7da8" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">这是第一步，也是非常重要的一步。创建一个新项目，为统一起见，将其命名为“<strong class="jp ir">动画</strong>”。关于在Android Studio中创建一个项目的更多细节，请浏览Android Studio的官方文档，它会给你足够的设置环境的指导。</p><div class="lc ld gp gr le lf"><a href="https://developer.android.com/studio/projects/create-project" rel="noopener  ugc nofollow" target="_blank"><div class="lg ab fo"><div class="lh ab li cl cj lj"><h2 class="bd ir gy z fp lk fr fs ll fu fw ip bi translated">创建项目| Android开发者</h2><div class="lm l"><h3 class="bd b gy z fp lk fr fs ll fu fw dk translated">Android Studio可以轻松创建各种外形的Android应用，如手机、平板电脑、电视和穿戴设备等</h3></div><div class="ln l"><p class="bd b dl z fp lk fr fs ll fu fw dk translated">developer.android.com</p></div></div><div class="lo l"><div class="nn l lq lr ls lo lt kv lf"/></div></div></a></div></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="baf1" class="mp mq iq bd mr ms mt dn mu mv mw dp mx jy my mz na kc nb nc nd kg ne nf ng nh bi translated">2.更改布局(XML文件)</h2><p id="820e" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">一旦你建立了Android Studio环境，下一步就是编写包含我们动画的主活动的代码。当你设置好环境后，Android Studio需要一些时间来加载所有的文件，几秒钟后它会自动创建并加载我们将要操作的两个文件:</p><ol class=""><li id="5802" class="lu lv iq jp b jq jr ju jv jy lw kc lx kg ly kk lz ma mb mc bi translated"><strong class="jp ir"> MainActivity.kt (Kotlin文件)</strong></li><li id="7b58" class="lu lv iq jp b jq md ju me jy mf kc mg kg mh kk lz ma mb mc bi translated"><strong class="jp ir"> activity_main.xml (XML文件)</strong></li></ol><p id="8378" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要找到第一个，只需展开<strong class="jp ir">app&gt;Java&gt;com . example . animation&gt;main activity</strong>如下图所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi no"><img src="../Images/10b6f48b3cd85ff5d038a26e70127029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Tb5m7i-ewUwgyansf1imQ.png"/></div></div></figure></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="9224" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用activity_main.xml展开<strong class="jp ir"> app &gt; res &gt;布局&gt; activity_main.xml </strong>如下图所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/24c838118a120a7ce9da2d2928d99251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tlGrb3HKeUn8XnVYQuz3UQ.png"/></div></div></figure><p id="584d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们更改<strong class="jp ir"> activity_main.xml </strong>并在xml文件中添加新值</p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="64e8" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".MainActivity"</strong>&gt;</span><span id="367a" class="mp mq iq nr b gy oa nw l nx ny">    &lt;<strong class="nr ir">TextView<br/>        android:id="@+id/textView"<br/>        android:layout_width="match_parent"<br/>        android:layout_height="match_parent"<br/>        android:layout_above="@+id/btn_layout"<br/>        android:gravity="center"<br/>        android:text="Tanu Nanda Prabhu"<br/>        android:textSize="30sp"<br/>        android:textStyle="bold" </strong>/&gt;</span><span id="ee91" class="mp mq iq nr b gy oa nw l nx ny">&lt;<strong class="nr ir">LinearLayout<br/>        android:id="@+id/btn_layout"<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        android:layout_alignParentBottom="true"<br/>        android:orientation="vertical"</strong>&gt;</span><span id="f025" class="mp mq iq nr b gy oa nw l nx ny">        &lt;<strong class="nr ir">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:orientation="horizontal"<br/>            android:weightSum="2"</strong>&gt;</span><span id="2a86" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/fade_in"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Fade In"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="28ba" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/fade_out"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Fade Out"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="dc8e" class="mp mq iq nr b gy oa nw l nx ny">        &lt;/<strong class="nr ir">LinearLayout</strong>&gt;</span><span id="6e39" class="mp mq iq nr b gy oa nw l nx ny">        &lt;<strong class="nr ir">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:orientation="horizontal"<br/>            android:weightSum="2"</strong>&gt;</span><span id="8497" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/zoom_in"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Zoom In"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="cef3" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/zoom_out"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Zoom Out"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="10b1" class="mp mq iq nr b gy oa nw l nx ny">        &lt;/<strong class="nr ir">LinearLayout</strong>&gt;</span><span id="5105" class="mp mq iq nr b gy oa nw l nx ny">        &lt;<strong class="nr ir">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:orientation="horizontal"<br/>            android:weightSum="2"</strong>&gt;</span><span id="fe47" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/slide_down"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Slide Down"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="a1c9" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/slide_up"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Slide Up"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="5cf8" class="mp mq iq nr b gy oa nw l nx ny">        &lt;/<strong class="nr ir">LinearLayout</strong>&gt;</span><span id="2d27" class="mp mq iq nr b gy oa nw l nx ny">        &lt;<strong class="nr ir">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:orientation="horizontal"<br/>            android:weightSum="2"</strong>&gt;</span><span id="5ad9" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/bounce"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Bounce"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="4122" class="mp mq iq nr b gy oa nw l nx ny">            &lt;<strong class="nr ir">Button<br/>                android:id="@+id/rotate"<br/>                android:layout_width="0dp"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="Rotate"<br/>                android:textAllCaps="false" </strong>/&gt;</span><span id="efd2" class="mp mq iq nr b gy oa nw l nx ny">        &lt;/<strong class="nr ir">LinearLayout</strong>&gt;</span><span id="85ba" class="mp mq iq nr b gy oa nw l nx ny">    &lt;/<strong class="nr ir">LinearLayout</strong>&gt;</span><span id="09a9" class="mp mq iq nr b gy oa nw l nx ny">&lt;/<strong class="nr ir">RelativeLayout</strong>&gt;</span></pre><p id="547e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我将改变根布局为<a class="ae lb" href="https://developer.android.com/guide/topics/ui/layout/relative" rel="noopener ugc nofollow" target="_blank"> RelativeLayout </a>，我将使用<a class="ae lb" href="https://developer.android.com/reference/android/widget/LinearLayout" rel="noopener ugc nofollow" target="_blank"> LinearLayout </a>以按钮的形式放置动画。第二，我使用了<a class="ae lb" href="https://developer.android.com/guide/topics/ui/layout/linear" rel="noopener ugc nofollow" target="_blank">线性布局</a>，这是因为我想让所有的按钮水平或垂直对齐，在Linear Layout中，UI元素水平或垂直排列。在XML文件中，大多数代码都是不言自明的，例如文本视图、按钮及其属性。大部分代码只是不同id的重复。所以尽量不要因为理解XML文件太深而迷惑自己。只需确保将按钮放置在线性布局中。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="c2dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将动画添加到文本中。</p><p id="6f00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这一步中，在<strong class="jp ir"> res </strong>文件夹中添加8个单独的XML文件。为了统一，创建一个名为<strong class="jp ir"> anim、</strong>的新的<strong class="jp ir"> Android资源目录</strong>，然后在其中放置所有8个不同的XML文件，如下所示。要创建xml文件，只需右键单击，然后单击文件，然后添加文件名以及扩展名. XML。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ob"><img src="../Images/4281e4fd3e6dac4b995f4d3d470f21fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RW0nJ7y9Sit1vI9HeNBS3Q.png"/></div></div></figure><p id="1044" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确保您已经如上所示命名了文件。下面是所有不同动画的XML代码，只是相应地复制并粘贴到不同的文件中。所有的动画XML代码都是不言自明的。你可以用这些代码制作几乎所有的动画。</p><p id="ce76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> bounce.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="51a1" class="mp mq iq nr b gy nv nw l nx ny">&lt;<strong class="nr ir">set<br/>    xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:interpolator="@android:anim/linear_interpolator"<br/>    android:fillAfter="true"</strong>&gt;</span><span id="520e" class="mp mq iq nr b gy oa nw l nx ny">    &lt;<strong class="nr ir">translate<br/>        android:fromYDelta="100%"<br/>        android:toYDelta="-20%"<br/>        android:duration="300" </strong>/&gt;</span><span id="edb4" class="mp mq iq nr b gy oa nw l nx ny">    &lt;<strong class="nr ir">translate<br/>        android:startOffset="500"<br/>        android:fromYDelta="-20%"<br/>        android:toYDelta="10%"<br/>        android:duration="150" </strong>/&gt;</span><span id="f369" class="mp mq iq nr b gy oa nw l nx ny">    &lt;<strong class="nr ir">translate<br/>        android:startOffset="1000"<br/>        android:fromYDelta="10%"<br/>        android:toYDelta="0"<br/>        android:duration="100" </strong>/&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="97eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> fade_in.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="f72c" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:interpolator="@android:anim/linear_interpolator"</strong>&gt;<br/>    &lt;<strong class="nr ir">alpha<br/>        android:duration="1000"<br/>        android:fromAlpha="0.1"<br/>        android:toAlpha="1.0" </strong>/&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="7d66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> fade_out.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="84cd" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:interpolator="@android:anim/linear_interpolator"</strong>&gt;<br/>    &lt;<strong class="nr ir">alpha<br/>        android:duration="1000"<br/>        android:fromAlpha="1.0"<br/>        android:toAlpha="0.1" </strong>/&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="5147" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> rotate.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="43ad" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">rotate xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:duration="1000"<br/>    android:fromDegrees="0"<br/>    android:interpolator="@android:anim/linear_interpolator"<br/>    android:pivotX="50%"<br/>    android:pivotY="50%"<br/>    android:startOffset="0"<br/>    android:toDegrees="360" </strong>/&gt;</span></pre><p id="9b56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> slide_down.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="8b86" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"</strong>&gt;<br/>    &lt;<strong class="nr ir">translate<br/>        android:duration="1000"<br/>        android:fromYDelta="-100%"<br/>        android:toYDelta="0" </strong>/&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="94af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> slide_up.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="f865" class="mp mq iq nr b gy nv nw l nx ny">&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"</strong>&gt;<br/>    &lt;<strong class="nr ir">translate<br/>        android:duration="1000"<br/>        android:fromYDelta="0"<br/>        android:toYDelta="-100%" </strong>/&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="2f9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> zoom_in.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="3081" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:fillAfter="true"</strong>&gt;<br/>    &lt;<strong class="nr ir">scale xmlns:android="http://schemas.android.com/apk/res/android"<br/>        android:duration="1000"<br/>        android:fromXScale="1"<br/>        android:fromYScale="1"<br/>        android:pivotX="50%"<br/>        android:pivotY="50%"<br/>        android:toXScale="1.5"<br/>        android:toYScale="1.5"</strong>&gt;</span><span id="baf4" class="mp mq iq nr b gy oa nw l nx ny">    &lt;/<strong class="nr ir">scale</strong>&gt;<br/>&lt;/<strong class="nr ir">set</strong>&gt;</span></pre><p id="079c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> zoom_out.xml </strong></p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="3d0a" class="mp mq iq nr b gy nv nw l nx ny"><em class="nz">&lt;?</em><strong class="nr ir">xml version="1.0" ﻿﻿﻿﻿﻿﻿﻿encoding="utf-8"</strong><em class="nz">?&gt;<br/></em>&lt;<strong class="nr ir">set xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:fillAfter="true" </strong>&gt;</span><span id="aea4" class="mp mq iq nr b gy oa nw l nx ny">    &lt;<strong class="nr ir">scale<br/>        xmlns:android="http://schemas.android.com/apk/res/android"<br/>        android:duration="1000"<br/>        android:fromXScale="1.0"<br/>        android:fromYScale="1.0"<br/>        android:pivotX="50%"<br/>        android:pivotY="50%"<br/>        android:toXScale="0.5"<br/>        android:toYScale="0.5" </strong>&gt;<br/>    &lt;/<strong class="nr ir">scale</strong>&gt;</span><span id="76b7" class="mp mq iq nr b gy oa nw l nx ny">&lt;/<strong class="nr ir">set</strong>&gt;</span></pre></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="2685" class="mp mq iq bd mr ms mt dn mu mv mw dp mx jy my mz na kc nb nc nd kg ne nf ng nh bi translated">4.编写科特林代码</h2><p id="ba2d" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">现在让我们做主要部分。我们已经完成了所有的外部工作，但是现在内部的工作正在等待Kotlin的编码。下面是下面Kotlin代码的解释。</p><p id="b95b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用科特林语言编码。</p><pre class="km kn ko kp gt nq nr ns nt aw nu bi"><span id="c58c" class="mp mq iq nr b gy nv nw l nx ny"><strong class="nr ir">package </strong>com.example.animation</span><span id="aafc" class="mp mq iq nr b gy oa nw l nx ny"><strong class="nr ir">import </strong>android.animation.Animator</span><span id="df8f" class="mp mq iq nr b gy oa nw l nx ny"><strong class="nr ir">import </strong>androidx.appcompat.app.AppCompatActivity<br/><strong class="nr ir">import </strong>android.os.Bundle<br/><strong class="nr ir">import </strong>android.os.Handler<br/><strong class="nr ir">import </strong>android.view.View<br/><strong class="nr ir">import </strong>android.view.animation.Animation<br/><strong class="nr ir">import </strong>android.view.animation.AnimationUtils<br/><strong class="nr ir">import </strong>kotlinx.android.synthetic.main.activity_main.*</span><span id="3e6f" class="mp mq iq nr b gy oa nw l nx ny"><strong class="nr ir">class </strong>MainActivity : AppCompatActivity() {</span><span id="38e8" class="mp mq iq nr b gy oa nw l nx ny"><strong class="nr ir">  override fun </strong>onCreate(savedInstanceState: Bundle?) {<br/>    <strong class="nr ir">super</strong>.onCreate(savedInstanceState)<br/>    setContentView(R.layout.<em class="nz">activity_main</em>)</span><span id="5281" class="mp mq iq nr b gy oa nw l nx ny">    fade_in.setOnClickListener <strong class="nr ir">{<br/>      </strong>textView.<em class="nz">visibility </em>= View.<em class="nz">VISIBLE<br/>      </em><strong class="nr ir">val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">fade_in</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="8436" class="mp mq iq nr b gy oa nw l nx ny">    fade_out.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">fade_out</em>)<br/>      textView.startAnimation(animation)<br/>      Handler().postDelayed(<strong class="nr ir">{ <br/>        </strong>textView.<em class="nz">visibility </em>= View.<em class="nz">GONE <br/>      </em><strong class="nr ir">}</strong>, 1000)<br/>    <strong class="nr ir">}</strong></span><span id="f46d" class="mp mq iq nr b gy oa nw l nx ny">    zoom_in.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">zoom_in</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="aee8" class="mp mq iq nr b gy oa nw l nx ny">    zoom_out.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">zoom_out</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="2fdd" class="mp mq iq nr b gy oa nw l nx ny">    slide_down.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">slide_down</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="b69a" class="mp mq iq nr b gy oa nw l nx ny">    slide_up.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">slide_up</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="4bcd" class="mp mq iq nr b gy oa nw l nx ny">    bounce.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">bounce</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}</strong></span><span id="1480" class="mp mq iq nr b gy oa nw l nx ny">    rotate.setOnClickListener <strong class="nr ir">{<br/>      val </strong>animation = AnimationUtils.loadAnimation(<strong class="nr ir">this</strong>, R.anim.<em class="nz">rotate</em>)<br/>      textView.startAnimation(animation)<br/>    <strong class="nr ir">}<br/>  }<br/>}</strong></span></pre><p id="0adf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每当使用按钮时，通过使用<a class="ae lb" href="https://developer.android.com/reference/android/widget/Button" rel="noopener ugc nofollow" target="_blank"> setOnClickListener </a>指定其动作。我们将表演的不同动画是<strong class="jp ir">淡入、淡出、放大、缩小、向下滑动、向上滑动、旋转和弹跳。</strong>现在用上述名称创建8个函数，然后调用<strong class="jp ir">animation utils . load animation</strong>，传递参数如下(我们使用该关键字的原因是我们引用当前对象)和动画XML文件的位置(在这种情况下，您必须为所有动画编写8个单独的XML文件，然后将它们存储在res文件夹中)，因此它是<strong class="jp ir"> R.anim. <em class="nz"> fade_in，</em>r . anim .<em class="nz">fade _ out</em></strong>我将在下一节详细讨论这一点。同时，当您编写这些方法及其函数时，您必须导入它们的库。你不必担心Android Studio内置了IntelliJ，它会自动建议你导入库。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="c8a7" class="mp mq iq bd mr ms mt dn mu mv mw dp mx jy my mz na kc nb nc nd kg ne nf ng nh bi translated"><strong class="ak"> 5)在内置仿真器上运行结果。</strong></h2><p id="554a" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">这是一个简单的步骤，你所要做的就是在一个内置的模拟器上运行代码。在此之前，运行<strong class="jp ir"> </strong>你的代码检查是否有错误。为此，只需点击右上角看起来像播放按钮的绿色按钮或按下<strong class="jp ir"> Shift + F10。</strong>一旦你没有得到错误，你可以使用内置的模拟器来查看输出。现在来设置一个模拟器，观看下面的视频，它可以帮助你设置一个模拟器或你的选择:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oc od l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">YouTube: <a class="ae lb" href="https://www.youtube.com/watch?v=LgRRmgfrFQM&amp;t=390s" rel="noopener ugc nofollow" target="_blank">Vlad Voytenko</a></figcaption></figure><p id="f6df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你想在哪个版本或什么手机上运行输出并不重要。从2019年开始我就用谷歌Pixel 3XL作为我的模拟器(因为我是Pixel粉丝)。下面是模拟器结果的快照。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/24145982d043f461bd2cecdc63ab5180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*5x8yXwtj0ScJiteCj0PjVQ.png"/></div></figure><p id="688a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是我撰写这篇文章的原始YouTube视频:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oc od l"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">YouTube: <a class="ae lb" href="https://www.youtube.com/watch?v=K7waTmNi_x0&amp;t=243s" rel="noopener ugc nofollow" target="_blank">CodeAndroid</a></figcaption></figure><p id="0706" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">本教程就这些了，这些都是一些可以在Android Studio上用Kotlin进行的基本动画。我希望你明白这个教程，如果你有任何疑问，那么评论区是你的，我会回答你的问题。谢谢你们阅读我的文章。祝你愉快。</strong></p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="83fc" class="of mq iq bd mr og oh oi mu oj ok ol mx om on oo na op oq or nd os ot ou ng ov bi translated">单击👏说“谢谢！”并帮助他人找到这篇文章。</h1><p id="4a3e" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">了解卡帕头最新的重大新闻。学院，<a class="ae lb" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅时事通讯</a>，<a class="ae lb" href="https://twitter.com/ktdotacademy" rel="noopener ugc nofollow" target="_blank">观察Twitter </a>关注我们medium。</p><p id="b8da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您需要Kotlin工作室，请查看我们如何帮助您:<a class="ae lb" href="https://www.kt.academy/" rel="noopener ugc nofollow" target="_blank"> kt.academy </a>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><a href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a"><div class="gh gi ow"><img src="../Images/3146970f03e44cb07afe660b0d43e045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54OqlYA4etu7wfpmMP5TKQ.png"/></div></a></figure></div></div>    
</body>
</html>