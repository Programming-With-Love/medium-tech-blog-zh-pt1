<html>
<head>
<title>Build Hooks on Oracle JET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Oracle JET上构建钩子</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/jet-build-hooks-a2b8b006606c?source=collection_archive---------1-----------------------#2017-09-01">https://medium.com/oracledevs/jet-build-hooks-a2b8b006606c?source=collection_archive---------1-----------------------#2017-09-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ad94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我喜欢JET 的原因是因为我们可以用它免费得到一些东西。在我看来，这些免费的东西中有一部分包括了被严重低估的构建工具。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/4a7c876e34e3c8bc8e97a4fe029597be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/0*-gVwyObI-JLNgIad.jpg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx">Oracle JET Data Visualization Components</figcaption></figure><p id="8871" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，当我开始考虑如何挂接“后处理”事件时，比如说，丑化和压缩我的override.css，我有点困惑。</p><p id="0933" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我开始误入歧途，试图绑定到我们用来发布的命令(serve命令)。我这样做是因为我想要JET附带的所有好的丑陋、压缩的东西，再加上我最后的自定义动作。</p><p id="83e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，如果您尝试扩展serve命令，问题就来了。你不能这样做，因为服务行动永远不会结束，因为它忙于托管您的网站！</p><p id="ee49" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，我忽略的一个明显的事情是，构建选项实际上做了所有丑陋的事情，也压缩了东西，它没有试图为你的应用服务。</p><p id="7a76" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这意味着我终于可以正确地连接到JET构建工具，并在JET完成构建后压缩我的override.css。</p><p id="ccec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你是怎么做到的？简单:</p><p id="00fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">编辑脚手架应用程序附带的Gruntfile.js，并注册一个新任务:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="47c1" class="ju jv hh jq b fi jw jx l jy jz">grunt.registerTask("<strong class="jq hi">cm-build</strong>","build for chef market", function (buildType) {<br/> <br/>console.info("running Jasons super duper release task")</span><span id="aa55" class="ju jv hh jq b fi ka jx l jy jz">if (buildType == "release" ){<br/>    //do some cool stuff here for a normal build<br/> } else {<br/>    //do some cool stuff here for a normal build<br/>})</span></pre><p id="0904" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并确保我们在已经预先定义的运行中调用新任务:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="ce7a" class="ju jv hh jq b fi jw jx l jy jz">grunt.task.run([`oraclejet-build:${buildType}`,<strong class="jq hi">`cm-build:${buildType}`</strong>]);</span></pre><p id="01da" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">注意，我的cm-build任务接受build type——我们用它来确定是否传递了release。这让我们很好地了解了如何运行这项任务:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="8253" class="ju jv hh jq b fi jw jx l jy jz">grunt build:release</span></pre><p id="1941" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构建类型被设置为发布，或者如果我们做一个普通的、简单的构建，它是未定义的。这意味着在我们的任务中，我们可以确定它是否是一个发布版本。</p><p id="5ea3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，这里的要点是:你可以使用构建来发布；你不必依赖发球！</p><p id="60fd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">——杰森·斯卡费::<a class="ae jc" href="http://www.griffiths-waite.co.uk" rel="noopener ugc nofollow" target="_blank">格里菲斯·韦特</a></p></div></div>    
</body>
</html>