<html>
<head>
<title>How to develop with best practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用最佳实践进行开发</h1>
<blockquote>原文：<a href="https://medium.com/mendix/how-to-develop-with-best-practices-mendix-how-to-1040f341672?source=collection_archive---------0-----------------------#2021-01-26">https://medium.com/mendix/how-to-develop-with-best-practices-mendix-how-to-1040f341672?source=collection_archive---------0-----------------------#2021-01-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/88b622deaef57b1f85a2a61de3546695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kfu_1P9ZmNxnXlZxtpV2IQ.png"/></div></div></figure><div class=""/><div class=""><h2 id="02cf" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">在我真正加入Mendix之前，我是一家大型公司的顾问，为他们的客户开发Mendix应用。一位客户(我不想透露其姓名)经常抱怨他们的一些应用程序存在性能问题。在加入他们的应用程序开发团队后不久，我的任务是让他们的应用程序运行得更好。那么你从哪里开始这样的任务呢？当然是通过检查项目中的最佳实践！</h2></div><p id="ac9a" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">正确实施最佳实践是提高应用程序性能和团队开发速度的最简单方法。通过遵守它们，它可以确保你避免容易犯的编码错误，提高你的应用程序的性能，并有助于在studio和studio pro中导航。</p><p id="b052" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">如果你只想要事实，那么你可以在这里跳转到文档<a class="ae kp" href="https://docs.mendix.com/howto/general/dev-best-practices" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kq kr ks kt fq hw"><div class="bz el l di"><div class="ku kv l"/></div></figure><h1 id="6965" class="kw kx if bd ky kz la lb lc ld le lf lg jl lh jm li jo lj jp lk jr ll js lm ln dt translated">所以让我们从顶层文件夹结构开始</h1><p id="36c8" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">一个好的、经过深思熟虑的文件夹结构是确保你的应用程序不会丢失或遗忘任何东西的最好方法。一般来说，你应该把你的文件夹分成两个独立的类别:</p><ol class=""><li id="b5c7" class="lt lu if bd b jw jx jz ka kc lv kg lw kk lx ko ly lz ma mb dt translated">与流程相关的文件夹(考虑工作流或向导)</li><li id="ed92" class="lt lu if bd b jw mc jz md kc me kg mf kk mg ko ly lz ma mb dt translated">与实体相关的文件夹(这些是维护、验证流或事件微流的概述页面，应该都放在这里。</li></ol><h1 id="26da" class="kw kx if bd ky kz la lb lc ld le lf lg jl lh jm li jo lj jp lk jr ll js lm ln dt translated">领域模型命名约定和可读性</h1><p id="4641" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">在我的开发生涯中，有无数次，由于一个命名不当的属性导致的问题，我无法继续下去。始终确保您的属性名称具有描述性和可读性。避免不明确的名称，如$Success，它不能解释属性的整个功能。</p><p id="1b7c" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">默认情况下，当添加实体之间的关联时，平台会自动以最佳实践形式命名它们。但是，当重命名实体时，您必须自己更新关联名称(在Mendix 8以上不需要，studio pro会为您完成)。</p><h1 id="9fac" class="kw kx if bd ky kz la lb lc ld le lf lg jl lh jm li jo lj jp lk jr ll js lm ln dt translated">微流命名约定和最佳实践</h1><p id="0327" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">在我看来，微流是最佳实践发挥最大作用的地方。如果经常使用，一个糟糕的建模流程会导致整个应用程序变慢。创建微流或纳流时，最好根据下面列出的命名约定进行创建:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff mh"><img src="../Images/c5e1e1926f6e45593602bf5f60bd3499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*R9BlYdgykuuAN0IsKodBUQ.png"/></div></figure><p id="13cd" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">通过遵循最佳实践，您可以确保您的所有流程都有清晰的描述，以便其他开发人员能够理解它们的目的和功能。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/bc050ab8a008f15a4236c6983e2ea0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*56v2eZyR5S6l7JXN43luJQ.jpeg"/></div></figure><h1 id="ae88" class="kw kx if bd ky kz la lb lc ld le lf lg jl lh jm li jo lj jp lk jr ll js lm ln dt translated">一般最佳实践</h1><p id="7d48" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">然而，开发不仅仅是命名惯例和项目组织。为了让你的应用程序运行良好，反应灵敏，还有一些你应该遵循的编码指南。</p><p id="9cec" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">计算属性</strong> —虽然它们可能是一个有用的工具，但是您应该对使用流来计算属性值非常谨慎。这是因为每当实体或对象显示在UI中或在流中被访问时，都会调用这个流。这意味着在处理数据列表时，根据数据集的大小，微流可能会被调用数百次或数千次。正如你可以想象，这很容易消耗你所有的应用程序的内存，导致它变慢。</p><p id="37ef" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">继承</strong>——人们普遍认为继承是一个有用的工具，但是你应该总是尽量避免多层继承。这是因为在几个级别之后，实体可能会增长到巨大的比例，因为它们包含每个继承的实体属性。</p><p id="28fa" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">删除行为</strong> —为了防止系统中的孤立数据占用空间。最好确保在您的域模型中正确设置删除行为。然而，当执行大批量删除数据时，最好隐式检索关联的实体并直接删除它们，而不是依赖于删除行为</p><p id="4b05" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">事件处理程序</strong> —总是尽量避免在一个实体上使用太多的事件处理程序流。使用太多会导致提交数据时出现意外行为。如果您想对一个对象应用多个流程，最好在使用子流程之前、提交数据之前这样做。</p><p id="b6ba" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">微流</strong> —大的微流也是要避免的。虽然我经常看到开发人员吹嘘他们的流程中有大型的复杂模式，但实际上在您的流程中最好总是有少于25个动作或元素。如果太长，您应该考虑使用子流将流分成几个部分。除非你独自工作，否则记录你的工作也是必不可少的，因为在你离开后，很可能有人会继续使用你的应用程序。记录和添加注释对于试图理解你的作品的人来说是一个很大的帮助，同时也确保你的逻辑以一种清晰易读的方式展现出来，类似于“常规老式编码”中的缩进。</p><p id="011f" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">检查任何复杂的嵌套IF/和/或语句也是很好的。如果可能的话，考虑将这些分成多个行动。</p><p id="ddca" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">由于集成实现不佳或<strong class="bd mj"> Java/Javascript </strong>动作导致的应用崩溃或异常会导致内存泄漏，严重影响应用正常运行。确保在这些上添加错误处理，以确保错误得到正确处理。</p><p id="e0bb" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">XPath是一个非常强大的数据约束工具。但是长而复杂的语句会降低数据库交互的速度。您可以使用find操作在应用程序中查找长的xpath查询。要解决这些问题，请尝试分解单个函数并执行多次检索，然后使用列表操作连接列表。</p><p id="d6fc" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated">虽然错误会阻止您的应用程序启动，但警告不会。但这并不意味着我们不应该摆脱他们。例如，解决未使用变量的警告是释放一些应用程序内存的一种快速简单的方法。</p><h1 id="3f21" class="kw kx if bd ky kz la lb lc ld le lf lg jl lh jm li jo lj jp lk jr ll js lm ln dt translated">微流和纳流建模最佳实践</h1><p id="9eba" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">一旦你组织好了你的项目，并且你遵循了上面提到的大多数实践，最后一步就是确保你的流程符合标准。这里有几件事要记住:</p><p id="3c26" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">循环</strong> —在流中使用循环时，确保不在循环中提交任何数据至关重要。最好将对象添加到一个名为$Obeject_CommitList的列表中，并一次提交整个列表，而不是在每次循环迭代中单独调用数据库。类似地，当循环内部需要数据时，在循环之前获取所有需要的数据，并使用列表操作过滤循环内部的数据。最后，如果循环中有决策，考虑是否可以将这些决策抽象成数据约束，以便在从数据库中获取数据时应用于数据，而不是每次循环迭代。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/f41f96a3b629dcb5cfd322a64a40ebaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*6jE8i9rF0grWnwarySejbg.jpeg"/></div></figure><p id="1ffc" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">子流</strong> —创建子流时，考虑是否有数据可以作为参数传递，而不是对其执行检索操作。除了执行复杂的检索操作之外，最好使用列表操作来过滤/聚合所需的数据。这是因为平台优化了这些操作并同时执行它们。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/82403b30ae0154f6a5c10918338636ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*M08r_tiMHvJfnm_hoSJpug.jpeg"/></div></figure><p id="5819" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">检索</strong> —在获取数据时，如果可能的话，尽可能使用关联检索。这使用了缓存数据，这种数据可读性更好，也是一种索引。</p><p id="f7cd" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><strong class="bd mj">提交数据</strong> —最后，最好避免提交数据，直到在您的逻辑中尽可能晚。这是因为一旦对象被提交，它就锁定该对象或列表，直到数据库交互完成。如果对相同对象进行了另一次提交，应用程序将不得不等待其完成，然后才能执行第二次提交操作。</p><h2 id="95be" class="mk kx if bd ky ml mm mn lc mo mp mq lg kc mr ms li kg mt mu lk kk mv mw lm mx dt translated">做完了，现在做什么？</h2><p id="5fd5" class="pw-post-body-paragraph ju jv if bd b jw lo jg jy jz lp jj kb kc lq ke kf kg lr ki kj kk ls km kn ko hn dt translated">一旦你应用了尽可能多的这些规则，你的应用程序就会变得更好。如果你想衡量你的应用程序的改进，我会推荐一些负载测试。要做到这一点，你需要有一些软件或一个人谁能够做到这一点。我会推荐<a class="ae kp" href="https://www.microfocus.com/en-us/products/loadrunner-professional/free-trial" rel="noopener ugc nofollow" target="_blank"> Loadrunner </a>来完成这个任务，因为它被很多公司广泛使用，并为你的应用程序性能提供可靠的结果。为了获得最佳结果，我建议在优化前后对你的应用程序进行负载测试，这样你就可以更准确地衡量改进。</p><p id="80ca" class="pw-post-body-paragraph ju jv if bd b jw jx jg jy jz ka jj kb kc kd ke kf kg kh ki kj kk kl km kn ko hn dt translated"><em class="my">如果您或您的公司想要为您定制制作指南，请联系我</em> <a class="ae kp" href="https://medium.com/ep/profile/1gg9uA1iUgdDmqkTo2qowQL4SaAjX9zsQB2MwWT9HmlrDYiKilBr" rel="noopener"> <em class="my"> @Ryan M </em> </a> <em class="my">或在</em> <a class="ae kp" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="my"> Mendix社区slack频道</em> </a>中寻找我</p></div></div>    
</body>
</html>