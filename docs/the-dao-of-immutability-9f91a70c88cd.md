# 永恒之道

> 原文：<https://medium.com/javascript-scene/the-dao-of-immutability-9f91a70c88cd?source=collection_archive---------1----------------------->

## 函数式程序员之道

# 向前

我在一个旧图书馆的档案室里闲逛，发现了一条通向计算室的黑暗隧道。在那里，我发现了一个卷轴，它似乎掉在了地板上，被遗忘了。

卷轴被装在一个布满灰尘的钢管里，贴着标签:“来自拉姆达教堂的档案。”

它被包在一张薄纸里，上面写着:

*一位编程大师和他的徒弟坐在图灵冥想中，思考着 Lambda。徒弟看着师傅问:“师傅，你跟我说要简化，但是程序很复杂。框架通过消除艰难的选择来减轻创造的工作。一个类和一个框架哪个好？”*

*编程大师看着他的徒弟问道:“你没有读过智慧大师卡马克的教导吗？”，引用…*

> “有时候，优雅的实现只是一个函数。不是方法。不是一个班。不是框架。只是一个功能。”

*“但是师傅，”徒弟开始了——但是师傅打断了他，问道:*

*“非功能性”这个词不就是‘功能失调’吗？”*

*然后徒弟就明白了。*

在纸的背面是一个索引，似乎是指在计算室的许多书籍。我偷偷看了看书，但里面都是我不理解的大单词，所以我把它们放回原处，继续阅读卷轴。我注意到索引的空白处写满了简短的评论，我将在这里忠实地复制这些评论，以及卷轴上的文字:

> **不变性:**真正不变的是变化。突变隐藏了变化。隐藏的变化表明混乱。因此，智者拥抱历史。

如果你有一美元，我再给你一美元，这不会改变一个事实，即刚才你只有一美元，现在你有两美元。变异试图抹去历史，但历史无法真正抹去。当过去没有被保存，它会回来困扰你，在程序中表现为错误。

> **分离:**逻辑是思想。效果就是行动。因此，智者在行动之前先思考，只有在思考完成后才行动。

如果你试图同时执行效果和逻辑，你可能会产生隐藏的副作用，导致逻辑上的错误。保持小功能。一次做一件事，并且做好。

> **构图:**自然界万物和谐运行。没有水，树就不能生长。没有空气，鸟就不能飞。因此，聪明的人会把配料混合在一起，让汤味道更好。

计划作文。编写一些函数，其输出自然会作为许多其他函数的输入。保持函数签名尽可能简单。

> **节约:**时间宝贵，努力需要时间。因此，聪明人尽可能多地重复使用他们的工具。愚蠢的人为每一个新的创造物创造特殊的工具。

特定于类型的函数不能被不同类型的数据重用。明智的程序员提升函数来处理许多数据类型，或者包装数据，使其看起来像函数所期望的那样。列表和条目是很好的通用抽象。

> **流量:**静水流不安全，不可饮用。食物放在一边会腐烂。聪明人成功是因为他们让事物流动。

*【编者注:卷轴上唯一的插图是一排看起来不同的鸭子，就在这一节上面顺流而下。我没有复制这个插图，因为我不相信我能把它做好。奇怪的是，它的标题是:]*

> 随时间表达的列表是一个流。

*【对应的注释读:】*

共享对象和数据设备会导致函数相互干扰。争夺相同资源的线程可能会相互出错。只有当数据通过纯函数自由流动时，程序才能被推理，结果才能被预测。

*【编者注:卷轴以这最后一节结束，没有评论:】*

> **智慧:**聪明的程序员在走小路之前，先了解道路。因此，聪明的程序员是实用的，而不聪明的程序员会迷失在丛林中。

> **注:**这是《排版软件》系列 **s** [**(现在一本书！)**](https://leanpub.com/composingsoftware) 从基础开始学习 JavaScript 6+中的函数式编程和组合软件技术。敬请关注。还会有更多这样的事情发生！
> [*买书*](https://leanpub.com/composingsoftware) *|* [*索引*](/javascript-scene/composing-software-the-book-f31c77fc3ddc)*|*[*<上一篇*](/javascript-scene/composing-software-an-introduction-27b72500d6ea) *|* [*下一篇>*](/javascript-scene/the-rise-and-fall-and-rise-of-functional-programming-composable-software-c2d91b424c8c)

# 在 EricElliottJS.com 了解更多信息

EricElliottJS.com 会员可以参加互动代码挑战视频课程。如果您还不是会员，[今天就注册吧](https://ericelliottjs.com/)。

***Eric Elliott*** *是分布式系统专家，著有书籍* [*【排版软件】*](https://leanpub.com/composingsoftware)*[*【编程 JavaScript 应用】*](https://ericelliottjs.com/product/programming-javascript-applications-ebook/) *。作为*[*devanywhere . io*](https://devanywhere.io/)*的联合创始人，他向开发人员传授远程工作和实现工作/生活平衡所需的技能。他为加密项目组建开发团队并提供建议，为 Adobe Systems、* ***、Zumba Fitness、*** ***【华尔街日报、*******【ESPN、*******BBC、*** *以及包括* ***亚瑟、弗兰克·奥申、金属乐队在内的顶级录音艺术家提供软件体验******

**他和世界上最美丽的女人享受着与世隔绝的生活方式。**