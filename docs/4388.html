<html>
<head>
<title>Control the theme of your app like a pro â€” FlutterğŸ’™</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åƒä¸“ä¸šäººå£«ä¸€æ ·æ§åˆ¶åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ğŸ’™</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/google-developer-experts/control-theme-flutter-578e4aaf2ccf?source=collection_archive---------2-----------------------#2021-10-29">https://medium.com/google-developer-experts/control-theme-flutter-578e4aaf2ccf?source=collection_archive---------2-----------------------#2021-10-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="7304" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ…æˆ–çŠ¶æ€ç®¡ç†æŠ€æœ¯è½»æ¾åœ°å°†ä¸»é¢˜ä»äº®å˜æš—ï¼Œåä¹‹äº¦ç„¶ã€‚ä½†æ˜¯è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä¸ä½¿ç”¨ä¸€ä¸ªè½¯ä»¶åŒ…å°±èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/f7c31606859b77d6780e559183fc20c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*teGawNhZXSE3eQbP46LLCw.png"/></div></div></figure></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><p id="6ba8" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">ä¸åŒçš„ç”¨æˆ·å–œæ¬¢ä¸åŒçš„ä¸»é¢˜ã€‚æœ‰äº›äººå–œæ¬¢æµ…è‰²ä¸»é¢˜ï¼Œè€Œæœ‰äº›äººå–œæ¬¢æ·±è‰²ä¸»é¢˜ã€‚ç°åœ¨ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­æä¾›è¿™ä¸¤ç§ä¸»é¢˜å°±æˆäº†å¼€å‘è€…çš„è´£ä»»ï¼</p><p id="ae28" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„åŒ…ä»¥ç¼–ç¨‹æ–¹å¼æ›´æ”¹åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ã€‚æ›´æ”¹ä¸»é¢˜èƒŒåçš„ä¸»è¦æ¦‚å¿µæ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®è®¿é—®MaterialAppï¼Œç„¶åæ›´æ”¹ä¸»é¢˜å¹¶é‡æ–°æ„å»ºMaterialAppã€‚è¿™å¯ä»¥ä½¿ç”¨ä¸åŒçš„çŠ¶æ€ç®¡ç†åŒ…æ¥å®Œæˆï¼Œå°±åƒProviderä¸€æ ·ã€‚ç„¶è€Œï¼Œå¯¹äºä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œä½¿ç”¨åŒ…ä»æ¥éƒ½ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼å› æ­¤ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨ä¸ä½¿ç”¨å•ä¸€è½¯ä»¶åŒ…çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ç¼–ç¨‹æ¥æ›´æ”¹åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ï¼</p><h2 id="7c51" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">åŒå€¦äº†é˜…è¯»ï¼Ÿè¯·éšæ„ä»<a class="ae lg" href="https://github.com/AbhishekDoshi26/theme_example" rel="noopener ugc nofollow" target="_blank"> GitHub </a>å…‹éš†è¿™ä¸ªåº“ï¼</h2></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="037e" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">æ­¥éª¤1:å°†MyAppæ›´æ”¹ä¸ºæœ‰çŠ¶æ€å°éƒ¨ä»¶</h2><p id="3598" class="pw-post-body-paragraph jp jq hh jr b js lh ii ju jv li il jx jy lj ka kb kc lk ke kf kg ll ki kj kk ha bi translated">ç¬¬ä¸€æ­¥æ˜¯å°†MyAppç±»æ”¹ä¸ºæœ‰çŠ¶æ€å°éƒ¨ä»¶ï¼Œè€Œä¸æ˜¯æ— çŠ¶æ€å°éƒ¨ä»¶ã€‚è¿™å°†å…è®¸æˆ‘ä»¬ä½¿ç”¨ç»§æ‰¿çš„å°éƒ¨ä»¶æ¦‚å¿µæ¥è®¿é—®stateç±»ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†èƒ½å¤Ÿé‡æ–°æ„å»ºMaterialAppã€‚</p><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="a696" class="kl km hh ln b fi lr ls l lt lu">import 'package:flutter/material.dart';</span><span id="77e0" class="kl km hh ln b fi lv ls l lt lu">void main() =&gt; runApp(MyApp());</span><span id="1d08" class="kl km hh ln b fi lv ls l lt lu">class MyApp extends StatefulWidget {<br/>  <a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  _MyAppState createState() =&gt; _MyAppState();<br/>}</span><span id="2b09" class="kl km hh ln b fi lv ls l lt lu">class _MyAppState extends State&lt;MyApp&gt; {<br/>  <a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>      title: 'Material App',<br/>      home: Home(),<br/>    );<br/>  }<br/>}</span></pre><p id="3b1c" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">è¿™é‡Œï¼ŒHome()ç±»å°†æ˜¯æˆ‘ä»¬çš„ä¸»é¡µï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­è¿›ä¸€æ­¥çœ‹åˆ°ã€‚</p></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="a9ba" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">ç¬¬äºŒæ­¥:åœ¨_MyAppStateé‡Œé¢åˆ›å»ºä¸€ä¸ªThemeModeå˜é‡ï¼Œå¹¶æä¾›åˆå§‹ä¸»é¢˜ï¼</h2><p id="f4fa" class="pw-post-body-paragraph jp jq hh jr b js lh ii ju jv li il jx jy lj ka kb kc lk ke kf kg ll ki kj kk ha bi translated">ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå°†ä¸»é¢˜è®¾ç½®ä¸ºäº®æˆ–æš—ï¼Œå¹¶è®¾ç½®åˆå§‹ä¸»é¢˜ã€‚è¿˜è¦å‘MaterialAppæä¾›themeDataå’ŒdarkThemeå€¼ï¼</p><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="2a8f" class="kl km hh ln b fi lr ls l lt lu">class _MyAppState extends State&lt;MyApp&gt; {<br/>  ThemeMode _themeMode = ThemeMode.light;</span><span id="1a7b" class="kl km hh ln b fi lv ls l lt lu"><a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>      title: 'Material App',<br/>      themeMode: _themeMode,<br/>      theme: ThemeData(),<br/>      darkTheme: ThemeData.dark(),<br/>      home: Home(),<br/>    );<br/>  }<br/>}</span></pre></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="1202" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">æ­¥éª¤3:åœ¨MyAppä¸­åˆ›å»ºä¸€ä¸ªé™æ€å‡½æ•°ã€‚</h2><p id="9aaa" class="pw-post-body-paragraph jp jq hh jr b js lh ii ju jv li il jx jy lj ka kb kc lk ke kf kg ll ki kj kk ha bi translated">ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªåä¸ºçš„<strong class="jr hi">çš„é™æ€å‡½æ•°ï¼Œå®ƒå°†BuildContextä½œä¸ºå‚æ•°å¹¶è¿”å›_MyAppStateç±»ã€‚å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å®Œæˆ:</strong></p><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="6e5a" class="kl km hh ln b fi lr ls l lt lu">class MyApp extends StatefulWidget {<br/>  <a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  _MyAppState createState() =&gt; _MyAppState();</span><span id="1ba6" class="kl km hh ln b fi lv ls l lt lu">static _MyAppState? of(BuildContext context) =&gt; context.findAncestorStateOfType&lt;_MyAppState&gt;();<br/>}</span></pre></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="04b5" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">æ­¥éª¤4:åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ›´æ”¹_MyAppStateä¸­çš„ä¸»é¢˜</h2><p id="8bdb" class="pw-post-body-paragraph jp jq hh jr b js lh ii ju jv li il jx jy lj ka kb kc lk ke kf kg ll ki kj kk ha bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå°†æ”¹å˜åº”ç”¨ç¨‹åºä¸»é¢˜çš„å‡½æ•°ã€‚è¿™å°†æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ƒé‡‡ç”¨æ–°çš„ThemeModeä½œä¸ºå…¶å‚æ•°ï¼Œå¹¶å°†å…¶èµ‹ç»™æˆ‘ä»¬çš„local _themeModeå˜é‡ã€‚</p><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="9e54" class="kl km hh ln b fi lr ls l lt lu">void changeTheme(ThemeMode themeMode) {<br/>    setState(() {<br/>      _themeMode = themeMode;<br/>    });<br/>  }</span></pre></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><p id="fe3b" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">å¤§ä½“ä¸Šå°±æ˜¯è¿™æ ·ã€‚dartæ–‡ä»¶ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯ä»€ä¹ˆæ ·å­çš„:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="70c6" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">æ­¥éª¤5:è®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬çš„home.dartï¼Œå®ƒçš„ä¸­é—´æœ‰ä¸€ä¸ªå¼€å…³ï¼</h2><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="c5d5" class="kl km hh ln b fi lr ls l lt lu">import 'package:flutter/material.dart';<br/>import 'package:theme_example/main.dart';</span><span id="685c" class="kl km hh ln b fi lv ls l lt lu">class Home extends StatefulWidget {<br/>  const Home({Key? key}) : super(key: key);</span><span id="c6fa" class="kl km hh ln b fi lv ls l lt lu"><a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  _HomeState createState() =&gt; _HomeState();<br/>}</span><span id="83c1" class="kl km hh ln b fi lv ls l lt lu">class _HomeState extends State&lt;Home&gt; {<br/>  bool _value = false;</span><span id="3d72" class="kl km hh ln b fi lv ls l lt lu"><a class="ae lg" href="http://twitter.com/override" rel="noopener ugc nofollow" target="_blank">@override</a><br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      body: Center(<br/>        child: Switch(<br/>          value: _value,<br/>          onChanged: (value) {},<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><p id="9a43" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">ä»£ç çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨å±å¹•ä¸­å¤®æœ‰ä¸€ä¸ªå°å¼€å…³ï¼Œå®ƒä¼šæ”¹å˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„ä¸»é¢˜ã€‚ç°åœ¨è®©æˆ‘ä»¬ä¸ºå®ƒæ·»åŠ åŠŸèƒ½å§ï¼</p></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h2 id="6c8b" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">æ­¥éª¤6:ä½¿ç”¨é™æ€å‡½æ•°(åœ¨MyAppä¸­åˆ›å»º)è°ƒç”¨changeThemeå‡½æ•°(åœ¨_MyAppStateä¸­åˆ›å»º)</h2><pre class="ix iy iz ja fd lm ln lo lp aw lq bi"><span id="4b0c" class="kl km hh ln b fi lr ls l lt lu">setState(() {<br/>              _value = value;<br/>              if (_value)<br/>                MyApp.of(context)!.changeTheme(ThemeMode.dark);<br/>              else<br/>                MyApp.of(context)!.changeTheme(ThemeMode.light);<br/>            });</span></pre><p id="21f0" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">è®©æˆ‘ä»¬çœ‹çœ‹home.dartæ˜¯ä»€ä¹ˆæ ·å­çš„:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><p id="a772" class="pw-post-body-paragraph jp jq hh jr b js jt ii ju jv jw il jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">å°±æ˜¯è¿™æ ·ï¼ä½ å·²ç»æˆåŠŸåœ°å®ç°äº†æ²¡æœ‰ä»»ä½•åŒ…çš„ä¸»é¢˜æ”¹å˜ï¼</p><h2 id="6dad" class="kl km hh bd kn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">è¾“å‡º:</h2><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ly"><img src="../Images/cf66edf47524d963951d8c6af542d054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rG9cGzgLtVng7x63gDZzAQ.gif"/></div></div></figure></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h1 id="5781" class="lz km hh bd kn ma mb mc kr md me mf kv in mg io ky iq mh ir lb it mi iu le mj bi translated">å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼</h1></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><h1 id="94e1" class="lz km hh bd kn ma mb mc kr md me mf kv in mg io ky iq mh ir lb it mi iu le mj bi translated">ä¸è¦å¿˜è®°é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸æˆ‘è”ç³»:</h1><ul class=""><li id="dbc2" class="mk ml hh jr b js lh jv li jy mm kc mn kg mo kk mp mq mr ms bi translated"><a class="ae lg" href="https://www.instagram.com/abhishekdoshi26/" rel="noopener ugc nofollow" target="_blank"> <strong class="jr hi"> Instagram </strong> </a></li><li id="0588" class="mk ml hh jr b js mt jv mu jy mv kc mw kg mx kk mp mq mr ms bi translated"><a class="ae lg" href="https://twitter.com/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank"> <strong class="jr hi">æ¨ç‰¹</strong> </a></li><li id="f548" class="mk ml hh jr b js mt jv mu jy mv kc mw kg mx kk mp mq mr ms bi translated"><a class="ae lg" href="https://www.linkedin.com/in/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank">T5ã€‘é¢†è‹±T7ã€‘</a></li><li id="5b16" class="mk ml hh jr b js mt jv mu jy mv kc mw kg mx kk mp mq mr ms bi translated"><a class="ae lg" href="https://github.com/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank"> <strong class="jr hi"> GitHub </strong> </a></li></ul></div><div class="ab cl ji jj go jk" role="separator"><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn jo"/><span class="jl bw bk jm jn"/></div><div class="ha hb hc hd he"><blockquote class="my"><p id="ba10" class="mz na hh bd nb nc nd ne nf ng nh kk dx translated">ä¸è¦åœæ­¢ï¼Œç›´åˆ°ä½ å‘¼å¸ï¼ğŸ’™<br/> -é˜¿å¸ƒèˆå…‹Â·å¤šå¸Œ</p></blockquote></div></div>    
</body>
</html>