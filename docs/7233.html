<html>
<head>
<title>The Coffee Shop Kiosk</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">咖啡店售货亭</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/the-coffee-shop-kiosk-68454b20ec53?source=collection_archive---------0-----------------------#2017-08-01">https://medium.com/square-corner-blog/the-coffee-shop-kiosk-68454b20ec53?source=collection_archive---------0-----------------------#2017-08-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie"><p id="ec70" class="if ig hh bd ih ii ij ik il im in io dx translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们的新家<a class="ae ip" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">https://developer.squareup.com/blog</a></p></blockquote><p id="02ce" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm io ha bi translated">当我加入Square的开发团队时，我做的第一件事就是构建一个使用我们的API的应用程序。团队中的每个新工程师都这样做(你可以在这里阅读我同事的示例Android应用<a class="ae ip" rel="noopener" href="/square-corner-blog/the-bikeshop-da7d52fc6317"/>)，这样我们就可以站在客户的角度出发。在构建真实世界的应用程序时，它已经成为加强来自开发人员的反馈的一个很好的工具。对于我的项目，我选择构建一个面向客户的kiosk应用程序，因为我们看到对这种类型的定制应用程序的需求越来越多。对于我构建的应用程序，我使用了我们的销售点API，它利用iOS应用程序切换API，使应用程序能够接受使用Square销售点应用程序的当面支付。我们还提供了一个<a class="ae ip" href="https://docs.connect.squareup.com/api/point-of-sale/#navsection-point-of-sale" rel="noopener ugc nofollow" target="_blank">销售点SDK </a>，它是我们API的一个薄薄的包装，使它非常快速和容易地启动和运行。</p><p id="7fe5" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">咖啡店是一个面向客户的kiosk应用程序，允许客户在一个虚拟的咖啡店订购饮料并付款。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/43b35027a84d263401f9158183625020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PU53sFTinFtHHwDyVJNMPQ.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">The Coffee Shop</figcaption></figure><p id="fe37" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">售货亭的优势在于顾客可以自己下订单，让咖啡师有时间专注于制作饮料和与顾客互动，而不是管理收银台。因为这是一个面向客户的应用程序，所以界面需要既简单又快速。顾客应该能够轻松地选择饮料，定制它，并支付。</p><h2 id="1f30" class="ki kj hh bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">数据模型</h2><p id="71f9" class="pw-post-body-paragraph iq ir hh is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm io ha bi translated">饮料模型定义了一些基本属性，如名称和描述，以及一组DrinkOptionGroups。</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="5348" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">当你在咖啡店买饮料时，你通常有几个选择:</p><ul class=""><li id="e978" class="lk ll hh is b it jn ix jo jb lm jf ln jj lo io lp lq lr ls bi translated">你想要多大的饮料？</li><li id="0643" class="lk ll hh is b it lt ix lu jb lv jf lw jj lx io lp lq lr ls bi translated">你想要鲜奶油吗？</li><li id="0fec" class="lk ll hh is b it lt ix lu jb lv jf lw jj lx io lp lq lr ls bi translated">你想要什么样的牛奶？</li></ul><p id="66b9" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">DrinkOptionGroup是一个简单的结构，可用于对这些用例进行建模:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="98b2" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">它定义了一组可以应用于饮料的相关选项。例如，下面的DrinkOptionGroup定义了饮料的可用尺寸:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="f7ab" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">我添加了几种不同价位(以美分计)的不同尺寸，并指定客户必须选择一个且只能选择一个选项。您还可以定义一个DrinkOptionGroup，其中有多个选项可供选择:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="9eb4" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">综上所述，咖啡的饮料定义如下:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="58d6" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">在这个示例应用程序中，在一个<a class="ae ip" href="https://github.com/square/SquarePointOfSaleSDK-iOS/blob/master/Examples/The%20Coffee%20Shop/Sources/Models/DrinkMenu.swift" rel="noopener ugc nofollow" target="_blank">配置文件</a>中静态地定义了几种饮料，但是您也可以想象它们是从服务器中提取的。</p><h2 id="ed35" class="ki kj hh bd kk kl km kn ko kp kq kr ks jb kt ku kv jf kw kx ky jj kz la lb lc bi translated">App流量</h2><p id="0fc7" class="pw-post-body-paragraph iq ir hh is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm io ha bi translated">该应用程序有两个屏幕，由AppFlowController类管理。AppFlowController是一个UIViewController子类，负责应用程序中屏幕的显示和转换。它用一组饮料实例化，并通过显示SelectDrinkViewController来显示它们:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/43b35027a84d263401f9158183625020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PU53sFTinFtHHwDyVJNMPQ.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">SelectDrinkViewController</figcaption></figure><p id="e4e8" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">一旦客户选择了一种饮料，CustomizeDrinkViewController就会显示各种选项，可用于对其进行定制:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ly"><img src="../Images/81bc9715218827f1a4df2acfea76cd41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/1*5s-8tK63VQ2HvtOLvkLg9g.gif"/></div><figcaption class="ke kf et er es kg kh bd b be z dx">Customizing a drink</figcaption></figure><p id="ea08" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">最后，当客户点击结帐按钮时，AppFlowController启动销售点API请求，该请求将客户转换到Square销售点应用程序，以便他们可以为饮料付款。一旦客户完成支付，Square Point of Sale应用程序会自动切换回咖啡店，接受下一位客户的订单。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lz"><img src="../Images/de1ba99ec40a3d2c8d3f8b26cf5d2e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0THb6UuTkWPzmvKuYnQbHg.gif"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Checkout</figcaption></figure><blockquote class="ma mb mc"><p id="959c" class="iq ir md is b it jn iv iw ix jo iz ja me jp jd je mf jq jh ji mg jr jl jm io ha bi translated">专业提示:在iOS设置中启用“减少运动”以改善应用程序切换体验</p></blockquote><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="030b" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">生产应用程序通常比这个简单的例子复杂得多。通过使用Square的API，你不需要理解或担心接受支付的复杂性。相反，您可以专注于为您的客户打造卓越的体验。</p><p id="14e5" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">这款应用的所有代码都可以在Github上获得，而T2的文档也可以在我们的开发者门户网站上获得。随意克隆回购，并尝试为自己建立一个类似咖啡店的信息亭！</p><p id="49b4" class="pw-post-body-paragraph iq ir hh is b it jn iv iw ix jo iz ja jb jp jd je jf jq jh ji jj jr jl jm io ha bi translated">我们相信商业正在发生变化，而这种变化伴随着需要解决的新的大问题。<a class="ae ip" href="https://careers.smartrecruiters.com/Square/?search=Developer%20Platform" rel="noopener ugc nofollow" target="_blank">来Square </a>加入我们，我们将打造一个商业平台，帮助开发者授权卖家启动、运营和发展他们的业务。</p></div></div>    
</body>
</html>