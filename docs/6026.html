<html>
<head>
<title>Deploy Ingress Nginx using Helm in OCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在OCI使用Helm部署入口Nginx</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploy-ingress-nginx-using-helm-in-oci-c3ff4d9d5450?source=collection_archive---------0-----------------------#2022-12-27">https://medium.com/oracledevs/deploy-ingress-nginx-using-helm-in-oci-c3ff4d9d5450?source=collection_archive---------0-----------------------#2022-12-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/43a5cd928c27711279a6df30bc30ce4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*yBLuT54JI99LXPrOIGaw9A.jpeg"/></div></figure><p id="fd49" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">有多种方法可以在Kubernetes (OKE)的OCI容器引擎上安装Nginx控制器。你可以按照官方<a class="ae jn" href="https://docs.oracle.com/en-us/iaas/Content/ContEng/Tasks/contengsettingupingresscontroller.htm" rel="noopener ugc nofollow" target="_blank">文件</a>的建议，使用YAML清单，用<code class="du jj jk jl jm b">kubectl apply</code>安装它，或者利用<a class="ae jn" href="https://github.com/kubernetes/ingress-nginx/tree/main/charts/ingress-nginx" rel="noopener ugc nofollow" target="_blank">图表</a>安装Helm。</p><p id="0671" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我使用幂等命令来安装基于官方<a class="ae jn" href="https://kubernetes.github.io/ingress-nginx/deploy/#quick-start" rel="noopener ugc nofollow" target="_blank">快速入门</a>的图表。幂等性意味着如果它还没有安装，它将被安装，或者如果已经存在，它将被升级。简单的命令如下所示:</p><pre class="jo jp jq jr fd js jm jt bn ju jv bi"><span id="3335" class="jw jx hh jm b be jy jz l ka kb">helm upgrade --install ingress-nginx ingress-nginx \<br/>  --repo https://kubernetes.github.io/ingress-nginx \<br/>  --namespace ingress-nginx --create-namespace</span></pre><p id="a814" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">尽管如此，如果没有定制，例如负载平衡器形状、带宽和其他基于云控制管理器<a class="ae jn" href="https://github.com/oracle/oci-cloud-controller-manager/blob/master/docs/load-balancer-annotations.md" rel="noopener ugc nofollow" target="_blank">注释</a>的定制，控制器将不会很方便。完整的命令，包括负载平衡器的形状和带宽，现在如下所示:</p><pre class="jo jp jq jr fd js jm jt bn ju jv bi"><span id="cdf8" class="jw jx hh jm b be jy jz l ka kb">helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace \<br/>   --set controller.service.annotations.service\\.beta\\.kubernetes\\.io/oci-load-balancer-shape=flexible \<br/>   --set controller.service.annotations.service\\.beta\\.kubernetes\\.io/oci-load-balancer-shape-flex-min=10 \<br/>   --set controller.service.annotations.service\\.beta\\.kubernetes\\.io/oci-load-balancer-shape-flex-max=50</span></pre><p id="a66b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">每个注释都设置有配置参数<code class="du jj jk jl jm b">controller.service.annotations</code>。不要忘记用双反斜杠对注释点进行转义，瞧，您已经部署好了Nginx入口控制器。</p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="c1d5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果你对甲骨文开发人员在他们的自然栖息地发生的事情感到好奇，来<a class="ae jn" href="https://bit.ly/odevrel_slack" rel="noopener ugc nofollow" target="_blank">加入我们的公共休闲频道</a>！</p><p id="ba1a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果您还没有这样做，您可以立即<a class="ae jn" href="https://signup.cloud.oracle.com/?language=en" rel="noopener ugc nofollow" target="_blank">注册Oracle云免费层帐户</a>。如果你对如何开始学习OCI感兴趣，注册是第一步，没有必要跟着这篇文章走。</p></div></div>    
</body>
</html>