<html>
<head>
<title>Incrementally migrate from SQLite to Room</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从SQLite到Room的增量迁移</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/incrementally-migrate-from-sqlite-to-room-66c2f655b377?source=collection_archive---------3-----------------------#2017-12-19">https://medium.com/androiddevelopers/incrementally-migrate-from-sqlite-to-room-66c2f655b377?source=collection_archive---------3-----------------------#2017-12-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/6c90dee4a58939001c954c4cbf3860c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zoWpyj2lq7EpWiRuIhBwuQ.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">Photo by <a class="ae hu" href="https://unsplash.com/photos/bJhT_8nbUA0?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mikito Tateisi</a> on <a class="ae hu" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="9c4e" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">将您复杂的数据库迁移到配有可管理PRs的房间。</em></p><p id="5b97" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你听说过Room——也许你查阅了<a class="ae hu" href="https://developer.android.com/topic/libraries/architecture/room.html" rel="noopener ugc nofollow" target="_blank">文档</a>，看了<a class="ae hu" href="https://www.youtube.com/watch?v=H7I3zs-L-1w" rel="noopener ugc nofollow" target="_blank">视频</a>或<a class="ae hu" href="https://youtu.be/DeIKyVfCvC0" rel="noopener ugc nofollow" target="_blank">两个</a>，并决定开始将Room整合到你的项目中。如果您的数据库只有几个表和简单的查询，那么您可以通过下面的7个步骤，用一个相对较小的pull请求轻松地迁移到Room。</p><div class="hg hh ez fb hi jt"><a rel="noopener follow" target="_blank" href="/google-developers/7-steps-to-room-27a5fe5f99b2"><div class="ju ab dw"><div class="jv ab jw cl cj jx"><h2 class="bd hy fi z dy jy ea eb jz ed ef hw bi translated">7步到房间</h2><div class="ka l"><h3 class="bd b fi z dy jy ea eb jz ed ef dx translated">如何将您的应用程序迁移到Room的分步指南</h3></div><div class="kb l"><p class="bd b fp z dy jy ea eb jz ed ef dx translated">medium.com</p></div></div><div class="kc l"><div class="kd l ke kf kg kc kh ho jt"/></div></div></a></div><p id="bea6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然而，如果您的数据库比较大或者有复杂的查询，那么实现所有的实体、Dao、Dao的测试以及替换<code class="du ki kj kk kl b">SQLiteOpenHelper</code>的用法可能需要很长时间；你最终会得到一个大的拉取请求，需要时间来实现和审查。让我们看看如何使用可管理的PRs逐步从SQLite迁移到Room。</p><h2 id="d58d" class="km kn hx bd ko kp kq kr ks kt ku kv kw jf kx ky kz jj la lb lc jn ld le lf lg bi translated">TL；博士:</h2><blockquote class="lh li lj"><p id="25c1" class="iu iv js iw b ix iy iz ja jb jc jd je lk jg jh ji ll jk jl jm lm jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="hx">首先PR </em> </strong> <em class="hx">:创建您的</em> <strong class="iw hy"> <em class="hx">实体</em> </strong> <em class="hx">类，将</em><strong class="iw hy"><em class="hx">room database</em></strong><em class="hx">，并从您自定义的SQLiteOpenHelper更新为</em><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/db/SupportSQLiteOpenHelper.html" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy"><em class="hx">SupportSQLiteOpenHelper</em></strong></a><em class="hx">。</em></p><p id="c74c" class="iu iv js iw b ix iy iz ja jb jc jd je lk jg jh ji ll jk jl jm lm jo jp jq jr ha bi translated"><strong class="iw hy"> <em class="hx">跟随</em> </strong> <em class="hx">:逐渐创建</em><strong class="iw hy"><em class="hx">DAOs</em></strong><em class="hx">来替换光标和内容值代码。</em></p></blockquote><h1 id="446f" class="ln kn hx bd ko lo lp lq ks lr ls lt kw lu lv lw kz lx ly lz lc ma mb mc lf md bi translated">项目设置</h1><p id="3dbb" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">让我们考虑以下情况:</p><ul class=""><li id="1725" class="mj mk hx iw b ix iy jb jc jf ml jj mm jn mn jr mo mp mq mr bi translated">我们的数据库有10个表，每个表都有一个对应的模型对象。例如，对于<code class="du ki kj kk kl b">users</code>表，我们有一个相应的<code class="du ki kj kk kl b">User</code>对象。</li><li id="78c6" class="mj mk hx iw b ix ms jb mt jf mu jj mv jn mw jr mo mp mq mr bi translated">一个<code class="du ki kj kk kl b">CustomDbHelper</code>类扩展<code class="du ki kj kk kl b">SQLiteOpenHelper</code></li><li id="e348" class="mj mk hx iw b ix ms jb mt jf mu jj mv jn mw jr mo mp mq mr bi translated">使用<code class="du ki kj kk kl b">CustomDbHelper</code>访问数据库的类是<code class="du ki kj kk kl b">LocalDataSource</code>。</li><li id="c2d7" class="mj mk hx iw b ix ms jb mt jf mu jj mv jn mw jr mo mp mq mr bi translated">我们有<code class="du ki kj kk kl b">LocalDataSource</code>的测试。</li></ul><h1 id="8a72" class="ln kn hx bd ko lo lp lq ks lr ls lt kw lu lv lw kz lx ly lz lc ma mb mc lf md bi translated">首次公关</h1><p id="f7a2" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">您的初始PR将包含设置房间数据库所需的最少量的更改。</p><h2 id="9845" class="km kn hx bd ko kp kq kr ks kt ku kv kw jf kx ky kz jj la lb lc jn ld le lf lg bi translated">创建实体类</h2><p id="e079" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">如果已经有了每个表的数据模型对象，只需添加<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/Entity.html" rel="noopener ugc nofollow" target="_blank">@Entity</a></code>、<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/PrimaryKey.html" rel="noopener ugc nofollow" target="_blank">@PrimaryKe</a>y</code>和<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/ColumnInfo.html" rel="noopener ugc nofollow" target="_blank">@ColumnInfo</a></code>注释。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="3d18" class="km kn hx kl b fi nf ng l nh ni">+ @Entity(tableName = "users")<br/>  public class User {<br/><br/>    + @PrimaryKey<br/>    + @ColumnInfo(name = "userid")<br/>      private int mId;<br/><br/>    + @ColumnInfo(name = "username")<br/>      private String mUserName;<br/><br/>      public User(int id, String userName) {<br/>          this.mId = id;<br/>          this.mUserName = userName;<br/>      }<br/><br/>      public int getId() { return mId; }<br/><br/>      public String getUserName() { return mUserName; }<br/>}</span></pre><h2 id="ddf9" class="km kn hx bd ko kp kq kr ks kt ku kv kw jf kx ky kz jj la lb lc jn ld le lf lg bi translated">创建房间数据库</h2><p id="7a2c" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">创建一个扩展<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/RoomDatabase.html" rel="noopener ugc nofollow" target="_blank">RoomDatabase</a></code>的抽象类。在<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/Database.html" rel="noopener ugc nofollow" target="_blank">@Database</a></code>注释中，列出您已经创建的所有实体类。目前，我们不需要创建DAO类。</p><p id="39e2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">增加数据库版本号并实施迁移。如果您没有更改数据库模式，您仍然需要实现一个空迁移来告诉空间保留现有的数据。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="c4fe" class="km kn hx kl b fi nf ng l nh ni"><strong class="kl hy">@Database</strong>(<strong class="kl hy">entities</strong> = {&lt;all entity classes&gt;}, <br/>          version = &lt;<strong class="kl hy">incremented_sqlite_version</strong>&gt;)<br/>public abstract class AppDatabase extends RoomDatabase {</span><span id="6cac" class="km kn hx kl b fi nj ng l nh ni">    private static UsersDatabase INSTANCE;</span><span id="1921" class="km kn hx kl b fi nj ng l nh ni">    static final <strong class="kl hy">Migration</strong>      MIGRATION_&lt;sqlite_version&gt;_&lt;incremented_sqlite_version&gt; <br/>= new Migration(&lt;sqlite_version&gt;, &lt;incremented_sqlite_version&gt;) {</span><span id="79dc" class="km kn hx kl b fi nj ng l nh ni">         @Override public void migrate(<br/>                    SupportSQLiteDatabase database) {<br/>           // Since we didn’t alter the table, there’s nothing else <br/>           // to do here.<br/>         }<br/>    };</span></pre><h1 id="66fe" class="ln kn hx bd ko lo lp lq ks lr ls lt kw lu lv lw kz lx ly lz lc ma mb mc lf md bi translated">更新使用SQLiteOpenHelper的类</h1><p id="48ee" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">最初，我们的<code class="du ki kj kk kl b">LocalDataSource</code>与一个<code class="du ki kj kk kl b">CustomOpenHelper</code>类一起工作。我们将对此进行更新，以使用来自<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/room/RoomDatabase.html#getOpenHelper()" rel="noopener ugc nofollow" target="_blank">RoomDatabase.getOpenHelper()</a></code>的<code class="du ki kj kk kl b"><strong class="iw hy">SupportSQLiteOpenHelper</strong></code>。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="035f" class="km kn hx kl b fi nf ng l nh ni">public class LocalUserDataSource {<br/>    private SupportSQLiteOpenHelper mDbHelper;</span><span id="7aad" class="km kn hx kl b fi nj ng l nh ni">    LocalUserDataSource(@NonNull SupportSQLiteOpenHelper helper) {<br/>       mDbHelper = helper;<br/>    }</span></pre><p id="f68c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因为<code class="du ki kj kk kl b">SupportSQLiteOpenHelper</code>不直接扩展<code class="du ki kj kk kl b">SQLiteOpenHelper</code>，而是对其进行包装，我们需要更新调用以获得可写和可读的数据库，并使用<code class="du ki kj kk kl b">SupportSQLiteDatabase</code>而不是<code class="du ki kj kk kl b">SQLiteDatabase</code>。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="096f" class="km kn hx kl b fi nf ng l nh ni"><strong class="kl hy">SupportSQLiteDatabase</strong> db = mDbHelper.getWritableDatabase();</span></pre><p id="4e45" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/db/SupportSQLiteDatabase.html" rel="noopener ugc nofollow" target="_blank">SupportSQLiteDatabase</a></code>是一个数据库抽象，提供了与<code class="du ki kj kk kl b">SQLiteDatabase</code>相似的方法。因为它为插入和查询数据库提供了一个更简洁的API，所以需要对代码进行一些修改。</p><p id="bf0b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于插入，Room删除可选的<code class="du ki kj kk kl b">nullColumnHack</code>参数。用<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/db/SupportSQLiteDatabase.html#insert(java.lang.String,%20int,%20android.content.ContentValues)" rel="noopener ugc nofollow" target="_blank">SupportSQLiteDatabase.insert</a></code>代替<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#insertWithOnConflict(java.lang.String,%20java.lang.String,%20android.content.ContentValues,%20int)" rel="noopener ugc nofollow" target="_blank">SQLiteDatabase.insertWithOnConflict</a></code>。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="92b2" class="km kn hx kl b fi nf ng l nh ni">@Override<br/>public void insertOrUpdateUser(User user) {<br/>    <strong class="kl hy">SupportSQLiteDatabase</strong> db = mDbHelper.getWritableDatabase();<br/><br/>    ContentValues values = new ContentValues();<br/>    values.put(<em class="js">COLUMN_NAME_ENTRY_ID</em>, user.getId());<br/>    values.put(<em class="js">COLUMN_NAME_USERNAME</em>, user.getUserName());<br/><br/>    - db.insertWithOnConflict(<em class="js">TABLE_NAME</em>, null, values,<br/>    -        SQLiteDatabase.<em class="js">CONFLICT_REPLACE</em>);</span><span id="eccb" class="km kn hx kl b fi nj ng l nh ni">    + db.<strong class="kl hy">insert</strong>(TABLE_NAME, SQLiteDatabase.CONFLICT_REPLACE,<br/>    + values);</span><span id="dc51" class="km kn hx kl b fi nj ng l nh ni">    db.close();<br/>}</span></pre><p id="7284" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于查询，<code class="du ki kj kk kl b">SupportSQLiteDatabase</code>提供了4种方法:</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="237e" class="km kn hx kl b fi nf ng l nh ni">Cursor query(String query);<br/>Cursor query(String query, Object[] bindArgs);<br/>Cursor query(SupportSQLiteQuery query);<br/>Cursor query(SupportSQLiteQuery query, CancellationSignal cancellationSignal);</span></pre><p id="594b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果您使用原始查询，那么不需要任何更改。如果您的查询更复杂，您必须通过<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/database/sqlite/SQLiteQueryBuilder.html" rel="noopener ugc nofollow" target="_blank">SupportSQLiteQueryBuilder</a></code>创建一个<code class="du ki kj kk kl b"><a class="ae hu" href="https://developer.android.com/reference/android/arch/persistence/db/SupportSQLiteQuery.html" rel="noopener ugc nofollow" target="_blank">SupportSQLiteQuery</a></code>。</p><p id="c518" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">例如，我们有一个<code class="du ki kj kk kl b">users</code>表，我们只想得到表中的第一个用户，按姓名排序。下面是使用<code class="du ki kj kk kl b">SQLiteDatabase</code>和<code class="du ki kj kk kl b">SupportSQLiteDatabase</code>时该方法的样子。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="cf1d" class="km kn hx kl b fi nf ng l nh ni">public User getFirstUserAlphabetically() {<br/>        User user = null;<br/>        SupportSQLiteDatabase db = mDbHelper.getReadableDatabase();<br/>        String[] projection = {<br/>                <em class="js">COLUMN_NAME_ENTRY_ID</em>,<br/>                <em class="js">COLUMN_NAME_USERNAME<br/>        </em>};<br/>    <br/>        // Get the first user from the table ordered alphabetically<br/>        - Cursor cursor = db.query(<em class="js">TABLE_NAME</em>, projection, null,<br/>        - null, null, null, <em class="js">COLUMN_NAME_USERNAME </em>+ “ ASC “, “1”);<br/>        <br/>        + SupportSQLiteQuery query =<br/>        +  SupportSQLiteQueryBuilder.builder(<em class="js">TABLE_NAME</em>)<br/>        +                           .columns(projection)<br/>        +                           .orderBy(<em class="js">COLUMN_NAME_USERNAME</em>)<br/>        +                           .limit(“1”)<br/>        +                           .create();<br/>        <br/>        + Cursor cursor = db.query(query);<br/>        <br/>        if (c !=null &amp;&amp; c.getCount() &gt; 0){<br/>            // read data from cursor<br/>              ...</span><span id="3d5e" class="km kn hx kl b fi nj ng l nh ni">        }<br/>        if (c !=null){<br/>            cursor.close();<br/>        }<br/>        db.close();<br/>        return user;<br/>    }</span></pre><blockquote class="lh li lj"><p id="d33d" class="iu iv js iw b ix iy iz ja jb jc jd je lk jg jh ji ll jk jl jm lm jo jp jq jr ha bi translated">如果您没有针对SQLiteOpenHelper实现用法的<strong class="iw hy">测试</strong>，我强烈建议您首先编写测试，然后迁移到Room，以降低回归问题的风险。</p></blockquote><h1 id="28b6" class="ln kn hx bd ko lo lp lq ks lr ls lt kw lu lv lw kz lx ly lz lc ma mb mc lf md bi translated">遵循PRs</h1><p id="0df0" class="pw-post-body-paragraph iu iv hx iw b ix me iz ja jb mf jd je jf mg jh ji jj mh jl jm jn mi jp jq jr ha bi translated">现在您的数据层正在使用Room，您可以开始逐步创建DAO(通过测试)并用DAO调用替换<code class="du ki kj kk kl b">Cursor</code>和<code class="du ki kj kk kl b">ContentValue</code>代码。</p><p id="784c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从按姓名排序的<code class="du ki kj kk kl b">users</code>表中获取第一个用户的查询将在<code class="du ki kj kk kl b">UserDao</code>类中定义。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="56b5" class="km kn hx kl b fi nf ng l nh ni">@Dao<br/>public interface UserDao {</span><span id="36c8" class="km kn hx kl b fi nj ng l nh ni">    @Query(“SELECT * FROM Users ORDERED BY name ASC LIMIT 1”)<br/>    User getFirstUserAlphabetically();</span><span id="3b19" class="km kn hx kl b fi nj ng l nh ni">}</span></pre><p id="f947" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">该方法将在<code class="du ki kj kk kl b">LocalDataSource</code>中使用。</p><pre class="mx my mz na fd nb kl nc nd aw ne bi"><span id="6f90" class="km kn hx kl b fi nf ng l nh ni">public class LocalDataSource {</span><span id="aab7" class="km kn hx kl b fi nj ng l nh ni">     private UserDao mUserDao;</span><span id="0eab" class="km kn hx kl b fi nj ng l nh ni">     public User getFirstUserAlphabetically() {<br/>        return mUserDao.getFirstUserAlphabetically();<br/>     }<br/>}</span></pre></div><div class="ab cl nk nl go nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ha hb hc hd he"><p id="9c4b" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在单个PR中将大型数据库从SQLite移动到Room将包含大量新的和更新的文件；它可能需要相当长的时间来实施，从而使公关更难审查。使用<code class="du ki kj kk kl b">RoomDatabase</code>公开的OpenHelper对初始PR的代码进行最小的修改，然后逐渐添加Dao来替换后续PR中的<code class="du ki kj kk kl b">Cursor</code>和<code class="du ki kj kk kl b">ContentValue</code>代码。</p><p id="ea1f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">有关房间的更多信息，请查看以下文章:</p><div class="hg hh ez fb hi jt"><a rel="noopener follow" target="_blank" href="/google-developers/7-pro-tips-for-room-fbadea4bfbd1"><div class="ju ab dw"><div class="jv ab jw cl cj jx"><h2 class="bd hy fi z dy jy ea eb jz ed ef hw bi translated">房间的7个小贴士</h2><div class="ka l"><h3 class="bd b fi z dy jy ea eb jz ed ef dx translated">了解如何充分利用空间</h3></div><div class="kb l"><p class="bd b fp z dy jy ea eb jz ed ef dx translated">medium.com</p></div></div><div class="kc l"><div class="nr l ke kf kg kc kh ho jt"/></div></div></a></div><div class="hg hh ez fb hi jt"><a rel="noopener follow" target="_blank" href="/google-developers/understanding-migrations-with-room-f01e04b07929"><div class="ju ab dw"><div class="jv ab jw cl cj jx"><h2 class="bd hy fi z dy jy ea eb jz ed ef hw bi translated">了解迁移与空间</h2><div class="ka l"><h3 class="bd b fi z dy jy ea eb jz ed ef dx translated">用SQLite API执行数据库迁移总是让我感觉像是在拆除一颗炸弹——好像我就是一颗…</h3></div><div class="kb l"><p class="bd b fp z dy jy ea eb jz ed ef dx translated">medium.com</p></div></div><div class="kc l"><div class="ns l ke kf kg kc kh ho jt"/></div></div></a></div><div class="hg hh ez fb hi jt"><a rel="noopener follow" target="_blank" href="/google-developers/testing-room-migrations-be93cdb0d975"><div class="ju ab dw"><div class="jv ab jw cl cj jx"><h2 class="bd hy fi z dy jy ea eb jz ed ef hw bi translated">测试室迁移</h2><div class="ka l"><h3 class="bd b fi z dy jy ea eb jz ed ef dx translated">在之前的一篇文章中，我解释了带房间的数据库迁移是如何工作的。我们看到一个不正确的…</h3></div><div class="kb l"><p class="bd b fp z dy jy ea eb jz ed ef dx translated">medium.com</p></div></div><div class="kc l"><div class="nt l ke kf kg kc kh ho jt"/></div></div></a></div><div class="hg hh ez fb hi jt"><a rel="noopener follow" target="_blank" href="/google-developers/room-rxjava-acb0cd4f3757"><div class="ju ab dw"><div class="jv ab jw cl cj jx"><h2 class="bd hy fi z dy jy ea eb jz ed ef hw bi translated">房间🔗RxJava</h2><div class="ka l"><h3 class="bd b fi z dy jy ea eb jz ed ef dx translated">使用RxJava在房间中进行查询</h3></div><div class="kb l"><p class="bd b fp z dy jy ea eb jz ed ef dx translated">medium.com</p></div></div><div class="kc l"><div class="nu l ke kf kg kc kh ho jt"/></div></div></a></div></div></div>    
</body>
</html>