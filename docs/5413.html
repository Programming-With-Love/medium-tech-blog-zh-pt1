<html>
<head>
<title>REST Paging Support by Oracle Offline Persistence in JET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JET中Oracle离线持久性对REST分页的支持</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/rest-paging-support-by-oracle-offline-persistence-in-jet-16a52d08055f?source=collection_archive---------1-----------------------#2018-03-06">https://medium.com/oracledevs/rest-paging-support-by-oracle-offline-persistence-in-jet-16a52d08055f?source=collection_archive---------1-----------------------#2018-03-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="983d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Oracle离线持久性查询处理程序— <a class="ae jc" href="https://oracle.github.io/offline-persistence-toolkit/queryHandlers.html" rel="noopener ugc nofollow" target="_blank"> Oracle Rest查询处理程序</a>支持开箱即用的Oracle ADF BC REST服务分页。查看我以前的帖子，了解如何通过ADF BC REST服务的离线持久性工具包进行查询— <a class="ae jc" href="http://andrejusb.blogspot.lt/2018/02/shredding-and-querying-with-oracle.html" rel="noopener ugc nofollow" target="_blank">使用JET中的Oracle离线持久性进行分解和查询</a>。</p><p id="2dee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于大型REST资源来说，分页是必须的，Oracle offline persistence toolkit支持分页真是太好了。让我们看看它的实际效果。</p><p id="babb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我用左/右箭头浏览数据，这触发了带有分页参数的REST调用——limit和offset。这些是ADF BC REST支持的标准参数。在线执行请求:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5af9bc9ed9ba2fcf2f94c7ce59570d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zAi_GlUxwd5fAFmvk7njqQ.png"/></div></div></figure><p id="83aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所有页面的数据都被离线工具包缓存，如果我们在离线时试图通过执行带有分页参数的REST请求来访问之前缓存的页面，我们将从离线工具包中获取数据。现在我切换到离线状态，并尝试导航到缓存页面之一—数据是自动从缓存中检索的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/c60da834fbd44627966c50f285ed6777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oSGiNpwT9ca8_rCOckJpIw.png"/></div></div></figure><p id="ddc2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我导航到未被缓存的页面(意味着在线时未被访问)，则不会返回任何结果。在这种情况下，我可以向后导航(分页参数将被更新),并且将显示缓存的页面的缓存数据:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/d535b78f9c70ad3b8aa5d70f426daf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Mvb4sme8wAaBtsA1c7tYA.png"/></div></div></figure><p id="adbe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分页导航控件按钮正在调用JS函数更新startIndex:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/e00be2b9f7b80b38e60d09febafbd025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JSXY7Ln0iKINs_iyasCbA.png"/></div></div></figure><p id="0d67" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">示例应用程序使用JET Collection API来执行提取请求。使用getURL函数扩展集合，该函数设置限制和偏移参数以执行分页请求:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/36074b0418a3d40f5c1c74a834c70c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z1bfTPjSZZtVkAYS54TeXw.png"/></div></div></figure><p id="2bba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">同样，确保在离线持久性工具包配置中使用Oracle Rest查询处理程序:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/c7b202c3fa20bb7863630c1cb42c63ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q734Qj4OMlla4QSckJEMAA.png"/></div></div></figure><p id="6109" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过JET集合API调用Fetch函数。开始索引值是动态计算的—这允许执行分页请求。相同的功能在线和离线工作，无需担心连接状态，所有在线/离线逻辑由持久性工具包处理:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/7ff18e3a5a5bcc0fb8634d3d7753020f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dpu_o3FxoP4hWFQMdGBn8Q.png"/></div></div></figure><p id="6262" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该职位的申请样本可在<a class="ae jc" href="https://github.com/abaranovskis-redsamurai/persistencejetapp" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p></div><div class="ab cl jv jw go jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="ha hb hc hd he"><p id="41b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="kc">原载于2018年3月6日</em><a class="ae jc" href="https://andrejusb.blogspot.lt/2018/03/rest-paging-support-by-oracle-offline.html" rel="noopener ugc nofollow" target="_blank"><em class="kc">andrejusb.blogspot.com</em></a><em class="kc">。</em></p></div></div>    
</body>
</html>