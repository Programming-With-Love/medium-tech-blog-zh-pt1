<html>
<head>
<title>Data Lifecycle management: Statuses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据生命周期管理:状态</h1>
<blockquote>原文：<a href="https://medium.com/mendix/data-lifecycle-management-statuses-d742770ac69d?source=collection_archive---------5-----------------------#2021-07-27">https://medium.com/mendix/data-lifecycle-management-statuses-d742770ac69d?source=collection_archive---------5-----------------------#2021-07-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/0459d0c911677dcee2a8563ba1869cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E3xC1jJYlHU7WgVVxdWIgA.png"/></div></div></figure><div class=""/><h1 id="69ed" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">猫的地位</h1><p id="2cd9" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">在我的上一篇文章中，我检查了一幅山上猫的古画。没有人知道为什么要制作这幅画，但是我们知道这幅画的创作是一个项目的完美范例。有人提出了画一只猫的想法，另一个印加人选择了这座山，另一个人批准了这个项目，然后有人开始创作。创建花费了一些时间，最终它被批准，其状态变为“已完成”。在未来的某个时候，它可能会被“删除”。</p><p id="13fa" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">因此，图纸显然有一个状态，但甚至这个项目中的工人也可能有一个状态，如“已招聘”、“正在工作”、“已完成”，而图纸的初始草稿也有自己的状态，如“概念”、“未批准”、“已批准”。</p><p id="b2c0" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">不难看出与行政系统的相似之处。在大多数系统中，我知道一些实体有状态。而且，在许多情况下，状态和状态变化使用固定值进行编码，也称为“硬编码”。由于编码需要时间，许多没有状态但应该有状态的实体没有用它们的状态信息来充实，因为开发人员优先考虑其他更重要的事情。</p><h1 id="a1e8" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">状态设计</h1><p id="1f17" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">从业务角度来看，状态看起来像这样:</p><figure class="ld le lf lg fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff lc"><img src="../Images/eed70c05cbf9dc42c3e4370bcb9624c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4vnOvQCM6NCnGvfC2XgjA.png"/></div></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Example of the status flow on an entity</figcaption></figure><p id="a86a" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">黄色路线是最普通的路线。出现一些特殊情况。允许的每个状态状态更改都有直接访问它们的代码:这些代码没有意义，仅用作参考。有一些数字顺序允许检查状态是否已经发生。</p><p id="8684" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在这个例子中，所有状态都是固定的。但是可能存在更动态的状态(例如，如果状态是“活动的”，但是没有活动的合同，则将状态呈现为“非活动的”)。</p><h1 id="a004" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">为什么企业会在意？</h1><p id="d4b8" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">使用状态标志可以自动处理用户的数据生命周期:</p><p id="a2a8" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">通过使用状态数据，更改可以与数据所具有的角色保持一致。</p><p id="d06c" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">报告和选择可以取决于状态，表格只需要显示相关数据。</p><p id="9f7b" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">通过自动维护状态，可以在不依赖于用户是否看到正确状态的情况下做出决策。</p><p id="4a65" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">适当的历史。</p><p id="dcd2" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">通过一个通用特性来调整所有相关实体的状态处理是有意义的。</p><h1 id="d959" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">使用通用状态功能</h1><p id="176f" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">因此，在开始应用程序构建之前，为状态创建这个通用特性，并为所有需要状态的(功能)实体使用它是有意义的。</p><p id="a251" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">使用通用状态功能有许多优点:</p><p id="c848" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">它只需要开发和测试一次。如果它有效，它可以很容易地被添加到另一个实体中:因此它增加了应用程序的灵活性；</p><p id="3143" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">像状态更改、授权、渲染和历史记录这样的功能只需开发一次，并且质量有保证；</p><p id="c38d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">最重要的是:创建了实体的完整生命周期，因此改进了(功能性)故障排除、纠错、可听度等。</p><p id="9cc8" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">通用功能应该:</p><p id="b5b4" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">注意对象的初始状态。</p><p id="49fc" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在允许状态改变之前必须进行的检查。</p><p id="e20e" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">处理状态变化。</p><p id="1fe9" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">处理动态状态。</p><p id="3e59" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">处理新状态对其他对象状态的影响。</p><p id="9a5d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">提交所有要做的事情，因为状态发生了变化。</p><p id="be80" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">跟踪对象状态历史。</p><p id="ef03" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">向实体添加状态应该只需要在实体上设置一个标志，并提供上述状态流的内容。</p><figure class="ld le lf lg fq hw fe ff paragraph-image"><div class="fe ff ll"><img src="../Images/dad7076f5ddd5951cfcddce5ec525198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*pstaRhc78kcUZgTiBO5B2A.png"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek"><a class="ae lm" href="https://bit.ly/MXW21" rel="noopener ugc nofollow" target="_blank">https://bit.ly/MXW21</a></figcaption></figure><h1 id="b9c1" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">Mendix实现</h1><p id="1146" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">Mendix应用程序可轻松创建状态功能:</p><p id="e5df" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">使用MxReflection，标记实体并填充状态定义。</p><p id="2c34" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">包含状态名称的枚举。</p><p id="8b1d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">创建包含所有实体的所有状态历史的状态历史表。</p><p id="986c" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">添加与实体的状态的关联，并且还添加由提交前事件维护的改变时刻、状态级别和状态字的属性。</p><p id="b969" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">创建一些微流:1直接检索状态，1根据状态变化(代码)检索新的状态。</p><p id="eafc" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在更高级的环境中，您可以添加:</p><p id="94c4" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">允许更改状态之前应满足的条件。</p><p id="909f" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">状态改变后应该启动的微流。</p><p id="f696" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在我看来，每个应用程序都需要至少一个实体的状态(假设有必要至少管理一些或多或少可重复的东西)。我希望有一天Mendix会考虑将这一特性添加到平台中，这肯定会使创建每个管理应用程序的功能数据基础的一部分更加容易和更加标准化。</p><p id="b949" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">如果你想知道更多关于如何处理这个功能特性，或者复制我的，请联系我们。</p><h2 id="f732" class="ln jd if bd je lo lp lq ji lr ls lt jm kk lu lv jq ko lw lx ju ks ly lz jy ma dt translated">报名门迪克斯世界:<a class="ae lm" href="https://bit.ly/MXW21" rel="noopener ugc nofollow" target="_blank">https://bit.ly/MXW21</a></h2></div><div class="ab cl mb mc hb md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hn ho hp hq hr"><p id="0b5b" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="mi">来自发布者- </em></p><p id="7c80" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="mi">如果你喜欢这篇文章，你可以在我们的</em> <a class="ae lm" href="https://medium.com/mendix" rel="noopener"> <em class="mi">媒体页面</em> </a> <em class="mi">或我们自己的</em> <a class="ae lm" href="https://developers.mendix.com/community-blog/" rel="noopener ugc nofollow" target="_blank"> <em class="mi">社区博客网站</em> </a> <em class="mi">找到更多类似的文章。</em></p><p id="06d9" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="mi">希望入门的创客，可以注册一个</em> <a class="ae lm" href="https://signup.mendix.com/link/signup/?source=direct" rel="noopener ugc nofollow" target="_blank"> <em class="mi">免费账号</em> </a> <em class="mi">，通过我们的</em> <a class="ae lm" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="mi">学苑</em> </a> <em class="mi">即时获取学习。</em></p><p id="a60d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">有兴趣更多地参与我们的社区吗？你可以加入我们的 <a class="ae lm" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="mi">闲散社区频道</em> </a> <em class="mi">或者想更多参与的人，看看加入我们的</em> <a class="ae lm" href="https://developers.mendix.com/meetups/#meetupsNearYou" rel="noopener ugc nofollow" target="_blank"> <em class="mi">遇见ups </em> </a> <em class="mi">。</em></p></div></div>    
</body>
</html>