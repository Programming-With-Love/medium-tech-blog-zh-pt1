<html>
<head>
<title>Now in Android #4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现在在Android #4中</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/now-in-android-4-23b0d6cdea40?source=collection_archive---------1-----------------------#2019-09-19">https://medium.com/androiddevelopers/now-in-android-4-23b0d6cdea40?source=collection_archive---------1-----------------------#2019-09-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/101f11572cb21ed87a9f3d7858062138.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETgQ3H18JaCXeowfKU_f7A.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">Exciting new, shiny Now in Android series illustration by <a class="ae hu" href="https://twitter.com/VPoltrack" rel="noopener ugc nofollow" target="_blank">Virginia Poltrack</a></figcaption></figure><div class=""/><div class=""><h2 id="a4cd" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">Android 10，AndroidX稳定库，codelabs和样例，视图绑定。这几周很忙。</h2></div><h1 id="c91c" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">安卓把它调到10</h1><figure class="kf kg kh ki fd hj er es paragraph-image"><div class="er es ke"><img src="../Images/fd0d004688d25135d871102333e9b29f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*_BQtdMSh3n8xunR3.png"/></div></figure><p id="a34e" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">一方面，发布预览版很棒，因为我们可以获得关于API和特性的重要反馈，并且可以在发布最终版本之前改进事情。</p><p id="fd4e" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">另一方面，预览版让操作系统的实际发布变得不那么令人兴奋，因为每个人都已经知道里面有什么了。这就像在你面前打开别人包好的礼物；没有太多惊喜。</p><p id="f83c" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">但有一种满足感，知道事情已经完成，我们可以真正依赖所有的API，并根据它构建我们的应用程序，还有一个额外的优势是可以获得源代码。当然，现在用户将开始获得并使用这个版本。</p><p id="4996" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">Android 10上周发布了——<a class="ae hu" href="https://source.android.com/" rel="noopener ugc nofollow" target="_blank">开源</a>、<a class="ae hu" href="https://developer.android.com/about/versions/10/get" rel="noopener ugc nofollow" target="_blank">开发者下载</a>等等——我们一直在努力的所有功能的最终版本:手势导航、隐私功能、直播字幕、通知中的智能回复、黑暗主题、艺术优化等等！查看<a class="ae hu" href="https://android-developers.googleblog.com/2019/09/welcoming-android-10.html" rel="noopener ugc nofollow" target="_blank"> Android开发者博客文章</a>中的概述，或者直接进入<a class="ae hu" href="https://developer.android.com/about/versions/10/" rel="noopener ugc nofollow" target="_blank">开发者网站</a>获取扩展文档和下载。</p><h1 id="7003" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">充满马厩的马厩</h1><figure class="kf kg kh ki fd hj er es paragraph-image"><div class="er es lf"><img src="../Images/e0a3389919cf87ce41fac7e608502035.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*-GPDjVNyrLRWs_NDDGkL2A.png"/></div><figcaption class="hq hr et er es hs ht bd b be z dx">New AndroidX stable versions. Lots of</figcaption></figure><p id="b799" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">大量的AndroidX库刚刚稳定下来，包括许多基础模块以及一些架构组件和媒体库。看看左边⬅︎.的那个长长的列表</p><h1 id="7b9b" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">安卓版本，分类！</h1><figure class="kf kg kh ki fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lg"><img src="../Images/59fdd803164d2eee23e914a372194347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PDRIA5-8bAmCqmN7"/></div></div></figure><p id="421d" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">我最喜欢的AndroidX版本页面最近变得更有用了。对于那些只关心稳定版本的人(或者那些只想知道最新版本的人)，顶部有一些链接可以为你过滤信息。例如，如果你想知道上面提到的过多的稳定库，只需点击页面右上角的<a class="ae hu" href="https://developer.android.com/jetpack/androidx/versions/stable-channel" rel="noopener ugc nofollow" target="_blank">稳定</a>链接，你就会看到一个列表，就像上一篇关于稳定版本的文章中的列表一样。</p><h1 id="597e" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">大样本迁移</h1><figure class="kf kg kh ki fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lh"><img src="../Images/1c63fc09bac27e4018afe6fc0ca16ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qf0NQ0h4xzgY0FG93OemLg.png"/></div></div></figure><p id="c89a" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi li translated"><span class="l lj lk ll bm lm ln lo lp lq di"> O </span>组织代码有点像组织一个家庭:开始时一切都有一个合理的位置，几年后黄油碟在车库的架子上，订书机在糖碗旁边，节日装饰品全年都在，因为它们不再有地方住了。</p><p id="4a3e" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">我们的Android样本有点像那个家庭；当我们开始的时候，组织不是很重要，但是在几百个项目之后，事情变得有点混乱。</p><figure class="kf kg kh ki fd hj er es paragraph-image"><div class="er es lr"><img src="../Images/1d747d481d725925350a37648a6029dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*hBJhw00n3kuGkcozZFfDRw.png"/></div></figure><p id="5bc9" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">Jeremy Walker 对我们的Android样本进行了大规模清理。现在你应该能在一个地方找到它们，github.com/android。更好的是，他们现在被组织成17个团体回购，以便更容易找到相关领域的样本。此外，新系统允许我们接受pull请求，如果您想要贡献修复(旧系统，由于历史原因和不太有趣的原因，不接受修复，因为外部版本是内部版本的下游)。</p><p id="db73" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">迁移项目还没有完全完成，但是到目前为止我们已经迁移了136个中的127个；其余的将在未来几周内着陆。</p><p id="4f8c" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">详情请看杰里米的文章。</p><h1 id="15c1" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">Java友好的Kotlin代码实验室</h1><p id="920a" class="pw-post-body-paragraph kj kk hx kl b km ls iy ko kp lt jb kr ks lu ku kv kw lv ky kz la lw lc ld le ha bi translated">Kotlin如此受Android开发人员欢迎的原因之一(除了它是一种很好的语言这一部分)是它与Java编程语言的良好互操作性。毕竟，大多数Android开发人员都有现成的代码库，Android SDK是一组Java APIs，所以语言之间的平滑集成非常重要。</p><p id="fd0c" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">但是在添加Kotlin代码时需要注意一些事情，这会使将来使用Java代码更加容易。这就是为什么<a class="lx ly ge" href="https://medium.com/u/2bbf49fa59bf?source=post_page-----23b0d6cdea40--------------------------------" rel="noopener" target="_blank">妮可·博雷利</a>最近发布了<a class="ae hu" href="https://codelabs.developers.google.com/codelabs/java-friendly-kotlin" rel="noopener ugc nofollow" target="_blank">代码实验室</a>来帮助想要确保与Java代码流畅交互的Kotlin开发者。</p><h1 id="e770" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">视图绑定</h1><figure class="kf kg kh ki fd hj"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="810c" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">程序员讨厌样板代码。在我们的一生中，我们只能键入有限数量的字符；为什么要把点击浪费在不必要的语法和表达式上呢？</p><p id="e313" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">Android开发中困扰开发者的样板代码库之一是<code class="du mb mc md me b">findViewById()</code>。每当您想要引用层次结构中的视图时，您必须使用正确的视图ID并重复类型信息。</p><p id="52ef" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">你最终会写出这样的东西:</p><pre class="kf kg kh ki fd mf me mg mh aw mi bi"><span id="b17a" class="mj jn hx me b fi mk ml l mm mn"><strong class="me hy">var </strong>b: Button = findViewById(R.id.<em class="mo">button23</em>)<br/>// or<br/><strong class="me hy">var </strong>b = findViewById&lt;Button&gt;(R.id.<em class="mo">button23</em>)<br/>// or even<br/><strong class="me hy">var </strong>b = findViewById(R.id.<em class="mo">button23</em>) <strong class="me hy">as </strong>Button</span></pre><p id="e695" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">…这不是一大堆<em class="mo">代码，但是当你必须在任何地方对每个视图都这样做的时候，这就增加了。</em></p><p id="e4e9" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">在库<a class="ae hu" href="https://jakewharton.github.io/butterknife/" rel="noopener ugc nofollow" target="_blank"> ButterKnife </a>中可以找到一个解决这种冗长的流行方法，它允许您像这样注释变量:</p><pre class="kf kg kh ki fd mf me mg mh aw mi bi"><span id="e971" class="mj jn hx me b fi mk ml l mm mn"><a class="ae hu" href="http://twitter.com/BindView" rel="noopener ugc nofollow" target="_blank">@BindView</a>(R.id.button23)<br/>lateinit var button: Button</span></pre><p id="d727" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">人们还使用数据绑定来<a class="ae hu" rel="noopener" href="/androiddevelopers/no-more-findviewbyid-457457644885">实现类似的效果</a>，本质上是在与布局文件相关联的绑定对象中为视图创建一个变量。</p><p id="5162" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">回到谷歌I/O 2019，我们谈到了杰克·沃顿正在研究的一种新机制，称为<a class="ae hu" href="https://developer.android.com/topic/libraries/view-binding" rel="noopener ugc nofollow" target="_blank">视图绑定</a>。视图绑定更接近于数据绑定，避免了ButterKnife的注释处理方法。用Jake的话说，“这是findViewById和完全数据绑定之间的中间地带。”</p><p id="7f01" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">要使用视图绑定，首先需要在您的gradle build中启用它:</p><pre class="kf kg kh ki fd mf me mg mh aw mi bi"><span id="e43d" class="mj jn hx me b fi mk ml l mm mn">android {<br/>    viewBinding.enabled = true<br/>}</span></pre><p id="a195" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">然后，在您的代码中，您可以获得一个对绑定对象的引用，并将视图作为该绑定对象上的字段来引用。这与数据绑定的工作方式类似，但是不需要专门的数据资源文件；您只需使用普通的XML布局文件。</p><p id="2f75" class="pw-post-body-paragraph kj kk hx kl b km kn iy ko kp kq jb kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">自<a class="ae hu" href="https://androidstudio.googleblog.com/2019/09/android-studio-36-canary-11-available.html" rel="noopener ugc nofollow" target="_blank">Android Studio 3.6 Canary 11</a>起，视图绑定现已可用。你也可以在这里阅读更多关于视图绑定<a class="ae hu" href="https://developer.android.com/topic/libraries/view-binding" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><h1 id="aba3" class="jm jn hx bd jo jp jq jr js jt ju jv jw jd jx je jy jg jz jh ka jj kb jk kc kd bi translated">那么现在…</h1><p id="18fb" class="pw-post-body-paragraph kj kk hx kl b km ls iy ko kp lt jb kr ks lu ku kv kw lv ky kz la lw lc ld le ha bi li translated">这次是为了什么。去下载<a class="ae hu" href="https://developer.android.com/about/versions/10/get" rel="noopener ugc nofollow" target="_blank"> Android 10 </a>的最终版本吧！玩最新的<a class="ae hu" href="https://developer.android.com/jetpack/androidx/versions/stable-channel" rel="noopener ugc nofollow" target="_blank">稳定版</a> AndroidX库！查看Github上的<a class="ae hu" href="https://github.com/android" rel="noopener ugc nofollow" target="_blank">示例</a>并提交一个pull请求！乱搞<a class="ae hu" href="https://developer.android.com/topic/libraries/view-binding" rel="noopener ugc nofollow" target="_blank">视图绑定</a>和<a class="ae hu" href="https://developer.android.com/studio/preview" rel="noopener ugc nofollow" target="_blank"> Android Studio 3.6金丝雀</a>构建！请尽快回到这里，收听Android开发者世界的下一次更新。</p></div></div>    
</body>
</html>