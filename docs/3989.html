<html>
<head>
<title>Essential Guide to HTTP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTTP基本指南</h1>
<blockquote>原文：<a href="https://medium.com/globant/essential-guide-to-http-b7d6f7023b7f?source=collection_archive---------2-----------------------#2022-09-21">https://medium.com/globant/essential-guide-to-http-b7d6f7023b7f?source=collection_archive---------2-----------------------#2022-09-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7cdf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">特点、优点、缺点和安全方面</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a935b4d5d2465da95f9cf761dc87f204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AHn1w3yXaaoOoIMwg2aSw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">source: <a class="ae jt" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/</a></figcaption></figure><h1 id="358c" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">概观</h1><p id="3392" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated"><strong class="ig hi"> HTTP </strong>代表超文本传输协议。HTTP是一个应用层协议，用于传输超媒体文档，如HTML。专为客户端和服务器之间的通信而设计。HTTP遵循经典的客户机-服务器模型。HTTP客户端向HTTP服务器发送请求消息，作为回报，服务器对该消息做出响应。</p><p id="ff5e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将描述不同版本的HTTP协议，如HTTP-1.1、HTTP-2和HTTP-3。</p><h1 id="0f6e" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">HTTP/1.1</h1><p id="21f6" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">HTTP/1.1是HTTP的第一个标准版本，于1997年发布，它通常被设计得简单易懂。HTTP/1.1头使得该协议易于扩展和试验。</p><blockquote class="kx ky kz"><p id="67a5" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">HTTP/1.1的特点</strong></p></blockquote><ul class=""><li id="5d28" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">TCP连接可以被多个资源重用，不需要多次打开连接。后续请求的等待时间减少了，因为没有在握手上花费时间。</li><li id="1cfd" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">引入了一个新的主机头，允许在同一个IP地址上托管不同的域。</li><li id="9b9a" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它支持流水线操作:我们可以发送另一个请求，而不必等待第一个请求完全传输。</li><li id="5f40" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">引入了内容协商。客户端和服务器可以就交换哪些内容达成一致。</li><li id="b9aa" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">引入了附加的高速缓存控制机制。为此我们可以使用<strong class="ig hi"> <em class="jc">缓存控制</em> </strong>头。</li><li id="c1d2" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">服务器可以分块发送响应。</li></ul><blockquote class="kx ky kz"><p id="1125" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">安全方面</strong></p></blockquote><ul class=""><li id="fc07" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">严格传输安全头通知浏览器所有端点都应该从HTTP重定向到HTTPS。</li><li id="e590" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">个人信息可能会被泄露，因为它是基于纯文本的协议。</li><li id="9b55" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">由于缓存控制机制，可能会发生DNS欺骗，以避免服务器观察DNS报告的TTL(离开时间)信息。</li><li id="c334" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">建议对数据交换进行加密。</li><li id="660c" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">建议使用TLS加载活动资源，如HTTPS。</li><li id="461d" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">所有cookies都必须设置安全标志。</li><li id="e3ba" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">禁用内容安全策略的内联脚本。</li></ul><blockquote class="kx ky kz"><p id="f89e" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">优点</strong></p></blockquote><ul class=""><li id="9882" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">Keep-alive报头显著减少了连接中的延迟。</li><li id="21fa" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">多个域名可以使用同一个IP地址。</li><li id="dcef" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它还支持管道，我们可以发送多个未完成的请求，但响应仍然是序列化的。</li></ul><blockquote class="kx ky kz"><p id="5ca4" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">缺点</strong></p></blockquote><ul class=""><li id="574f" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">仅限于处理单个TCP连接的一个请求。</li><li id="0b59" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">标头信息在每个请求中都重复出现。</li></ul><h1 id="40c4" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">HTTP/2</h1><p id="7262" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">HTTP/1.1已经服务于互联网世界超过15年，但是对于新的现代web，大多数应用程序需要在多种多媒体内容格式的支持下进行动态信息更新。此外，HTTP/1.1也有它的缺点，所以为了克服它的缺点并考虑新的现代web应用程序的需要，引入了HTTP/2。</p><p id="ed82" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">HTTP/2主要是为了高性能和健壮性而创建的，这是通过引入一些新的特性来实现的，如报头压缩、多路复用、请求优先级和服务器推送机制。</p><blockquote class="kx ky kz"><p id="c55c" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">HTTP/2的特性</strong></p></blockquote><ul class=""><li id="50d3" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">复用</strong></li></ul><p id="2051" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">二进制成帧层将HTTP有效载荷分解成独立的小帧。这些帧通过HTTP2发送，没有使用单一TCP连接的行首阻塞。对于多个请求，我们可以通过一个TCP连接发送，HTTP/2消除了在客户机和服务器之间建立多个连接的需要。</em></p><ul class=""><li id="25d4" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">支持流优先级</strong></li></ul><p id="1a19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">客户端可以决定首先加载哪些资源，从而提高渲染页面的性能。</em></p><ul class=""><li id="0a7e" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">二进制编码</strong></li></ul><p id="acdb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc"> HTTP/2使用二进制命令(0和1)来完成请求-响应循环。这消除了使用文本命令时出现的安全问题。</em></p><ul class=""><li id="d6da" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">使用HPAC的报头压缩</strong></li></ul><p id="3fea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">它使用HPAC进行报头压缩，即每个报头在被HPAC传输之前压缩其值。</em></p><ul class=""><li id="dfa2" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated"><strong class="ig hi">服务器推送机制</strong></li></ul><p id="bc18" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">服务器可以发送渲染页面所需的资源，而无需等待客户端的请求，这些资源存储在客户端缓存中以备后用。</em></p><blockquote class="kx ky kz"><p id="3deb" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">安全方面</strong></p></blockquote><ul class=""><li id="739b" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">它更安全，因为它使用二进制数据传输，现在攻击者不能操纵头部。</li><li id="cbb4" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">HTTP/2包含二进制命令，并支持压缩HTTP头元数据，遵循“模糊安全”方法来保护客户端和服务器之间传输的敏感数据。</li><li id="befb" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">与HTTP 1.1相比，它使用了一种高级报头压缩算法，即HPACK算法消除了针对基于文本的应用层协议的安全相关威胁。</li><li id="d39f" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">HTTP/2完全支持加密，并需要传输层安全性(TLS1.2)的改进版本，以获得更好的数据保护。</li></ul><blockquote class="kx ky kz"><p id="48db" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">优点</strong></p></blockquote><ul class=""><li id="49e4" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">多路复用使HTTP/2比它的前辈快得多。</li><li id="61df" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">一个服务器可以在一个TCP连接中发送多个资源。</li><li id="55d7" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它为客户端提供了一个服务器推送选项，以进一步加快进程。</li><li id="5170" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它提供了与大多数浏览器的更高兼容性以及与以前协议的向后兼容性。</li><li id="838e" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">对于大多数浏览器，HTTP2是SSL/TLS证书的强制要求。</li></ul><blockquote class="kx ky kz"><p id="167c" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">缺点</strong></p></blockquote><ul class=""><li id="8992" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">不需要加密。</li><li id="8fb7" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">Cookie安全性仍然是一个问题。</li><li id="aa56" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它遭受线路头部阻塞问题，即，如果在数据传输中单个分组失败，那么所有其他分组等待失败分组的重传。</li><li id="3903" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">与HTTP/1相比，HTTP/2的新的关键特性提高了性能，但同时也给HTTP实现带来了额外的攻击面。</li></ul><h1 id="b16a" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">HTTP/3</h1><p id="72c2" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">HTTP/3是HTTP的第三个主要版本。它使用TCP协议上的<strong class="ig hi"> QUIC </strong>(快速UDP互联网连接)协议在客户端和服务器之间进行通信。<br/> QUIC使用UDP连接客户端和服务器。它实现了TCP的几乎所有功能，如流量控制和拥塞控制，以及一些附加功能，如0-RTT连接、连接迁移和独立字节流。</p><blockquote class="kx ky kz"><p id="502a" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">HTTP/3的特点</strong></p></blockquote><p id="7fe8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> QUIC正在使用TLS 1.3 </strong></p><p id="272a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">它是完全加密的，这意味着它加密所有报头字段和传输层信息，如数据包编号</em></p><p id="cd87" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">支持多个独立的字节流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/c2b1feb43fbf79ef78abcf85100dba50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PTDIRpX_Es16Wug1-Yw88g.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">source:<a class="ae jt" href="https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/7981cb82-395c-4484-8873-46fd92804b4d/hol-blocking-basic.png" rel="noopener ugc nofollow" target="_blank">https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/7981cb82-395c-4484-8873-46fd92804b4d/hol-blocking-basic.png</a></figcaption></figure><p id="e0e3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">支持连接迁移</strong></p><p id="b128" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">当用户切换网络时，QUIC使用连接id来识别正确的目的地</em></p><blockquote class="kx ky kz"><p id="9ce6" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">安全方面</strong></p></blockquote><ul class=""><li id="47f0" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">端到端加密:默认情况下，QUIC是完全加密的，它有助于防止无孔不入的监控等攻击。</li><li id="5e75" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">由于QUIC使用TLS 1.3来交换密钥，因此它使用短暂的Diffie-Hellman密钥交换协议，该协议为应用程序提供了前向保密功能。</li><li id="0ec5" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">重放攻击保护:如果用相同的密钥重复请求，这样的请求会被服务器识别并丢弃。初始请求不支持QUIC重播保护。</li><li id="7f60" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">IP欺骗保护:在握手过程中，它使用所有必需的签名地址证明进行地址验证。它使用源地址令牌，其中包含加密的客户端地址和服务器时间戳。</li><li id="0957" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">与HTTP2相比，0-RTT连接功能可以减少连接时间，但对于最常见的攻击之一，即可能导致重放攻击，攻击者可以在请求中发送初始数据包，这可能会迫使服务器认为该请求来自以前的客户端。</li><li id="8f65" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">QUIC使用连接ID进行数据交换，如果攻击者在初始请求期间操纵这些ID，则可能会导致连接ID操纵攻击。</li></ul><blockquote class="kx ky kz"><p id="9d11" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">优点</strong></p></blockquote><ul class=""><li id="7abe" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">这对最终用户来说更安全。</li><li id="4dc8" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">更快的连接建立，它只需要一个来回的连接。</li><li id="d0dc" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">它支持多个独立的字节流，消除了行首阻塞问题。</li><li id="1405" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">与以前的版本相比，它支持更多的流。</li></ul><blockquote class="kx ky kz"><p id="2c31" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated"><strong class="ig hi">缺点</strong></p></blockquote><ul class=""><li id="b09a" class="ld le hh ig b ih ii il im ip lf it lg ix lh jb li lj lk ll bi translated">由于引入了新的底层传输层，采用HTTP3更具挑战性。</li><li id="1f33" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">QUIC不提供请求优先级</li><li id="54d5" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">由于0 RTT特性，可能会出现安全问题。</li><li id="15cd" class="ld le hh ig b ih lm il ln ip lo it lp ix lq jb li lj lk ll bi translated">数据包检测更具挑战性。</li></ul><h1 id="9291" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="56ad" class="pw-post-body-paragraph ie if hh ig b ih ks ij ik il kt in io ip ku ir is it kv iv iw ix kw iz ja jb ha bi translated">随着时间的推移，HTTP协议的整体安全性有所提高，但是新版本也带来了一系列新的挑战。</p><p id="2878" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请求方法、状态代码和消息字段是在这些HTTP协议版本中使用和发展的一些日常事物。这些协议之间的实现差异在于它们的传输层。</p><p id="eadd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">像HTTP/1.1和HTTP/2，在其架构中使用传输层的TCP。另一方面，HTTP/3正在使用新的基于UDP的QUIC协议进行数据传输，以改善整体web体验。它提供了HTTP2的所有基本特性和一些附加特性。</p><h1 id="fe89" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">团队积分</h1><blockquote class="kx ky kz"><p id="a85f" class="ie if jc ig b ih ii ij ik il im in io la iq ir is lb iu iv iw lc iy iz ja jb ha bi translated">特别感谢<a class="ls lt ge" href="https://medium.com/u/e2f019b8d321?source=post_page-----b7d6f7023b7f--------------------------------" rel="noopener" target="_blank">桑托什·瓦尔马</a>、<a class="ls lt ge" href="https://medium.com/u/cdb3c9096bff?source=post_page-----b7d6f7023b7f--------------------------------" rel="noopener" target="_blank">阿克沙塔·谢拉尔</a>和<a class="ls lt ge" href="https://medium.com/u/5db22db5c9d6?source=post_page-----b7d6f7023b7f--------------------------------" rel="noopener" target="_blank">迪克沙·高塔姆</a>。</p></blockquote></div></div>    
</body>
</html>