# GIT 修复命令:重置、恢复、重新登录和修改

> 原文：<https://medium.com/quick-code/useful-git-commands-a0d410c835f8?source=collection_archive---------0----------------------->

*对 git 初学者来说，简单的修正可以提高效率*

![](img/410a8e1f39efa610553beac834c8c173.png)

在本文中，我们将快速了解如何重置、恢复和完全返回到以前的状态，所有这些都很简单。

## 放弃未声明的更改

最初，如果您想查看未声明的更改，可以使用以下命令

```
git diff
```

如果您想撤销 git 中未声明的更改，那么这是您的命令

```
git checkout -- <file name>
```

> 要放弃 git 中工作目录中所有文件的未声明更改，可以使用以下命令

```
git checkout -- .
```

![](img/f8b9d52d477c7abf1f27390b96c533ec.png)

## 更改提交消息

如果出现错误的提交消息，这是一个即时修复。

```
git commit --amend -m "commit message"
```

如果您希望某个文件成为您最后一次提交的一部分，这是在转移该文件之后进行的操作。

```
git commit --amend
```

> 请记住，只有在您还没有将更改推送到远程的情况下，才建议您使用上述两个命令，否则会弄乱其他合作者的历史。

## 撤消已提交的更改

要撤销您的提交并重置本地到先前的提交，可以使用`**revert**`命令，它在 git 历史结束时添加一个新的提交。

```
 git revert <commit hash>
```

如果您不想提交更改，请使用

```
git revert -n <commit hash> 
```

> 如果您想继续之前的提交，请复制您想返回并执行的提交的散列

```
git reset --hard <commit hash>
```

![](img/f1122a855a7d001926266ce9199908ca.png)

## 将本地分支重置为原始分支

设置本地分支就像远程存储库中的分支一样，可以通过两个简单的步骤来完成

```
git fetch origingit reset --hard origin/<branch-name>
```

## 将原始分支重置为本地分支

如果远程历史偏离了本地历史，则`--force`标志可用于覆盖行为，并使远程存储库的分支与您的本地分支匹配，从而删除可能发生的任何上游更改。

```
git push --force
```

## 回到历史中

与现实世界不同，这在 git 中是可能的。我们不仅可以追溯历史，还可以通过使用

```
git reflog
```

> git reflog 按照最后一次引用它们的顺序显示提交。运行 git reflog，您可以看到它准确地向我们展示了我们一直在做的事情。

如果您想返回，只需在您想保留更改之前获取哈希，您就完成了。

```
git checkout <hash>
```

同样，如果其他人已经做出了改变，不要改变历史。