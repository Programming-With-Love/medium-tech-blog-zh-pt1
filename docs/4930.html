<html>
<head>
<title>Kotlin for Interviews — Part 2: Collection Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面试考林第2部分:集合函数</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/kotlin-for-interviews-part-2-collection-functions-a4a488fa0a14?source=collection_archive---------3-----------------------#2020-10-29">https://blog.kotlin-academy.com/kotlin-for-interviews-part-2-collection-functions-a4a488fa0a14?source=collection_archive---------3-----------------------#2020-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b6422f0079e3a0bef19e9b464651be6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G6Mh_PHGmgrSzelG"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@syinq?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Susan Yin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="26ee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是Kotlin for Interviews的第2部分，在这个系列中，我回顾了在Android面试准备期间经常出现的Kotlin函数和代码片段。我还编辑了一个备忘单，涵盖了这个系列的所有5个部分，你可以在这里找到<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-cheatsheet-88a9831e9d55"/>。</p><p id="01a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里找到第1部分:常用数据类型<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-1-common-data-types-886ea1e40645">，在这里</a>找到第3部分:数字和数学<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-3-numbers-and-math-786660295cea">，在这里</a>找到第4部分:迭代和第12部分，在这里找到第5部分:常用代码片段<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-part-5-frequently-used-code-snippets-444ad4d137f5">。</a></p><p id="b016" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一部分包括:</p><ol class=""><li id="ef03" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated"><a class="ae kc" href="#b776" rel="noopener ugc nofollow">吸气剂</a></li><li id="9d4a" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#6f94" rel="noopener ugc nofollow">搜索并找到</a></li><li id="669f" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#9820" rel="noopener ugc nofollow">排序</a></li><li id="dd64" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#79c6" rel="noopener ugc nofollow">布尔汇总</a></li><li id="783a" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated"><a class="ae kc" href="#dae6" rel="noopener ugc nofollow">统计汇总</a></li></ol><p id="f75e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Kotlin标准库提供了许多对集合执行操作的函数。我将只涉及我在面试问题中经常用到的那些，但是这里有一篇很棒的文章对它们进行了概述。</p><h1 id="b776" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">吸气剂</h1><ul class=""><li id="9139" class="lb lc iq kf b kg mn kk mo ko mp ks mq kw mr la ms lh li lj bi translated"><code class="fe mt mu mv mw b">get(key: V)</code> <em class="mx"> </em>是基本的getter，返回你传入的任何索引或键的值。在Kotlin中，还可以使用<code class="fe mt mu mv mw b">someCollection[key]</code>作为getter。</li><li id="742c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">getOrDefault(key: K, defaultValue: V)</code> <em class="mx"> </em>返回指定键映射到的值，如果此映射不包含键的映射，则返回defaultValue。这对于使用地图非常有用。</li><li id="32c4" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">getOrNull(index: Int)</code> <em class="mx"> </em>返回给定索引处的元素，如果索引越界，则返回<code class="fe mt mu mv mw b">null</code>。这对于处理数组和列表很有用。</li></ul><h1 id="6f94" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">搜索和查找</h1><ul class=""><li id="41d6" class="lb lc iq kf b kg mn kk mo ko mp ks mq kw mr la ms lh li lj bi translated"><code class="fe mt mu mv mw b">first(predicate: (T) -&gt; Boolean): T</code>返回匹配给定谓词的第一个元素。如果没有元素与谓词匹配，它将抛出一个异常。</li><li id="18f0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">firstOrNull(predicate: (T) -&gt; Boolean): T?</code>和<code class="fe mt mu mv mw b">find(predicate: (T) -&gt; Boolean): T?</code>都返回匹配给定谓词的第一个元素，如果没有找到这样的元素，则返回<code class="fe mt mu mv mw b">null</code>。你可以互换使用它们。</li></ul><pre class="my mz na nb gt nc mw nd ne aw nf bi"><span id="09fc" class="ng lq iq mw b gy nh ni l nj nk"><em class="mx">// Example of first()</em><br/><strong class="mw ir">val numbers = listOf("one", "two", "three", "four", "five", "six")</strong><br/><strong class="mw ir">numbers.first { it.length &gt; 3 }</strong> <em class="mx">// returns “three”</em><br/><strong class="mw ir">numbers.first { it.length &gt; 8 }</strong> <em class="mx">// throws NoSuchElementException<br/></em><strong class="mw ir">numbers.firstOrNull { it.length &gt; 8 }</strong> <em class="mx">// returns null<br/></em><strong class="mw ir">numbers.find { it.length &gt; 8 }</strong> <em class="mx">// returns null</em></span></pre><ul class=""><li id="5887" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la ms lh li lj bi translated"><code class="fe mt mu mv mw b">last(predicate: (T) -&gt; Boolean): T</code>返回匹配给定谓词的最后一个元素。如果没有元素与谓词匹配，它将抛出一个异常。</li><li id="ceeb" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">lastOrNull(predicate: (T) -&gt; Boolean): T</code> <strong class="kf ir"> </strong>和<code class="fe mt mu mv mw b">findLast(predicate: (T) -&gt; Boolean): T</code> <strong class="kf ir"> </strong>都返回与给定谓词匹配的最后一个元素，如果没有找到这样的元素，则返回<code class="fe mt mu mv mw b">null</code>。你可以互换使用它们。</li><li id="57bc" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">indexOf(element: T): Int</code>返回元素的第一个索引，如果数组不包含元素，则返回<code class="fe mt mu mv mw b">-1</code>。</li><li id="98e6" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">lastIndexOf(element: T): Int</code>返回元素的最后一个索引，如果数组不包含元素，则返回<code class="fe mt mu mv mw b">-1</code>。</li><li id="24a1" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">indexOfFirst(predicate: (T) -&gt; Boolean): Int</code> <strong class="kf ir"> <em class="mx"> </em> </strong>返回与给定谓词匹配的第一个元素的索引，如果数组不包含元素，则返回<code class="fe mt mu mv mw b">-1</code>。</li><li id="5d5b" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">indexOfFirst(predicate: (T) -&gt; Boolean): Int</code> <strong class="kf ir"> <em class="mx"> </em> </strong>返回与给定谓词匹配的最后一个元素的索引，如果数组不包含元素，则返回<code class="fe mt mu mv mw b">-1</code>。</li><li id="205d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">binarySearch(element: T?): Int</code>在排序的集合中搜索元素并返回其索引。</li><li id="7c8c" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">binarySearchBy(key: K?, selector: (T) -&gt; K?): Int</code>搜索由指定选择器函数返回的键等于所提供的键值的元素，并返回其索引。</li></ul><pre class="my mz na nb gt nc mw nd ne aw nf bi"><span id="744f" class="ng lq iq mw b gy nh ni l nj nk"><em class="mx">// Example of binarySearchBy()</em><strong class="mw ir"><br/>data class Box(val number: Int)</strong></span><span id="daa5" class="ng lq iq mw b gy nl ni l nj nk"><strong class="mw ir">val numbers = listOf(Box(1), Box(3), Box(7), Box(10), Box(12))<br/></strong><em class="mx">// returns 3 because the element at index 3 has it.number == 10.<br/></em><strong class="mw ir">boxes.binarySearchBy(10) { it.number }</strong></span></pre><h1 id="9820" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">整理</h1><ul class=""><li id="4b67" class="lb lc iq kf b kg mn kk mo ko mp ks mq kw mr la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sort()</code> <strong class="kf ir"> </strong>使用元素的自然顺序按升序排序。sort方法将给定的集合就地排序，并且不返回任何内容。</li><li id="12f9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sorted(): List&lt;T&gt;</code> <strong class="kf ir"> <em class="mx"> </em> </strong>使用元素的自然顺序按升序排序并返回结果。</li><li id="71bf" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sortBy(selector: (T) -&gt; R?)</code> <em class="mx"> </em>根据指定选择器函数返回值的排序顺序，按升序对元素进行就地排序。它不返回任何内容。</li><li id="3be7" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sortedBy(selector: (T) -&gt; R?): List&lt;T&gt;</code> <em class="mx"> </em>使用指定选择器函数返回值的排序顺序，按升序排序并返回结果。</li><li id="e28b" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sortWith(comparator: Comparator&lt;in T&gt;)</code> <strong class="kf ir"> </strong>使用给定比较器指定的顺序按升序对集合进行就地排序。它不返回任何内容。科特林有一个<code class="fe mt mu mv mw b"><a class="ae kc" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html" rel="noopener ugc nofollow" target="_blank">compareBy()</a></code>功能，可以帮助轻松创建<code class="fe mt mu mv mw b">Comparator</code>对象。</li><li id="72f0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sortedWith(comparator: Comparator&lt;in T&gt;): List&lt;T&gt;</code> <em class="mx"> </em>使用给定比较器指定的顺序对集合进行升序排序并返回结果。</li><li id="ec05" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sortDescending()</code> <em class="mx">、</em> <code class="fe mt mu mv mw b">sortedDescending()</code> <em class="mx">、</em> <code class="fe mt mu mv mw b">sortByDescending()</code> <em class="mx">、</em>、<code class="fe mt mu mv mw b">sortedByDescending()</code> <strong class="kf ir"> <em class="mx"> </em> </strong>与上述功能效果相同，但按降序排列。</li></ul><pre class="my mz na nb gt nc mw nd ne aw nf bi"><span id="c63a" class="ng lq iq mw b gy nh ni l nj nk"><em class="mx">// Need to use a mutableList since sort() mutates the list</em><br/><strong class="mw ir">val sortNumbers = mutableListOf(1, 2, 7, 6, 5, 6)<br/>sortNumbers.sort()</strong> <em class="mx">// sortNumbers becomes [1, 2, 5, 6, 7]</em></span><span id="3a50" class="ng lq iq mw b gy nl ni l nj nk"><strong class="mw ir">val sortValues = mutableListOf(1 to "a", 5 to "c", 2 to "c", 7 to "b", 6 to "d")<br/>sortValues.sortBy { it.second } </strong><br/><em class="mx">// sortValues becomes [(1, a), (7, b), (5, c), (2, c), (6, d)] </em></span><span id="e79f" class="ng lq iq mw b gy nl ni l nj nk"><em class="mx">// sort by letter, and then by number<br/></em><strong class="mw ir">sortValues.sortWith(compareBy({it.second}, {it.first}))<br/></strong><em class="mx">// sortValues becomes [(1, a), (7, b), (2, c), (5, c), (6, d)]</em></span></pre><p id="ff32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">大量不同的排序函数可能会让人感到困惑，所以我创建了下表来总结它们:</p><figure class="my mz na nb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/4fc1da3da51b9060bfbebcd5123fc325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtOSOsYiA0Vp0sQ8tOhRqQ.png"/></div></div></figure><h1 id="79c6" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">布尔汇总</h1><p id="bb10" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">这些函数都通过所有相关元素计算一个谓词，并返回一个布尔结果。</p><ul class=""><li id="e9ca" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la ms lh li lj bi translated"><code class="fe mt mu mv mw b">all()</code> <em class="mx"> </em>如果所有元素都匹配给定的谓词，则返回true。</li><li id="a070" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">any()</code> <em class="mx"> </em>如果有任何元素匹配给定的谓词，则返回true。</li><li id="a07d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">none()</code> <em class="mx"> </em>如果没有元素匹配给定的谓词，则返回true。</li><li id="2f27" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">contains()</code>如果在集合中找到给定元素，则返回true。</li><li id="b9b0" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">isEmpty()</code>如果集合为空，则返回true。如果集合是可空的，您可以使用<code class="fe mt mu mv mw b">isNullOrEmpty()</code>。<strong class="kf ir"> </strong>对于琴弦，可以使用<code class="fe mt mu mv mw b">isNullOrBlank()</code> <em class="mx">。</em>这些通常用作while循环的退出条件，或者作为递归函数中基本情况的检查。</li></ul><h1 id="dae6" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">统计摘要</h1><p id="8069" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">这些函数返回一个数字，表示评估所有元素后的统计结果。</p><ul class=""><li id="ab6a" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la ms lh li lj bi translated"><code class="fe mt mu mv mw b">average()</code>返回集合中元素的平均值。</li><li id="11cb" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">count()</code>返回集合中元素的个数。</li><li id="54c5" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">maxOrNull()</code>返回最大的元素，如果没有元素，则返回null。</li><li id="2a8e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated">我们还有<code class="fe mt mu mv mw b">max()</code>、<strong class="kf ir">、<em class="mx">、</em>、</strong>、<code class="fe mt mu mv mw b">maxWith()</code>，它们分别使用自然排序、选择器函数和比较器返回集合中的最大值。它们遵循与排序函数相同的命名模式。</li><li id="28a1" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">min()</code>、<strong class="kf ir">、<em class="mx">、</em>、</strong>、<code class="fe mt mu mv mw b">minWith()</code>、<em class="mx">、</em>分别使用自然排序、选择器函数和比较器返回集合中的最小值。</li><li id="5f46" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sum()</code>返回集合中所有元素的总和。</li><li id="ce1a" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la ms lh li lj bi translated"><code class="fe mt mu mv mw b">sumBy()</code>返回应用于集合中每个元素的给定选择器函数产生的所有值的总和。</li></ul><p id="7415" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里是到备忘单的<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/kotlin-for-interviews-cheatsheet-88a9831e9d55">链接，再次涵盖所有5个零件。</a></p><p id="6aac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第二部分到此结束！在第三部分中，我用科特林语复习了数字和数学。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="4177" class="lp lq iq bd lr ls nx lu lv lw ny ly lz ma nz mc md me oa mg mh mi ob mk ml mm bi translated">点击👏说“谢谢！”并帮助他人找到这篇文章。</h1><p id="b26e" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko nn kq kr ks no ku kv kw np ky kz la ij bi translated">了解卡帕头最新的重大新闻。学院，<a class="ae kc" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅时事通讯</a>，<a class="ae kc" href="https://twitter.com/ktdotacademy" rel="noopener ugc nofollow" target="_blank">观察Twitter </a>关注我们Medium。</p><p id="b751" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你需要一个Kotlin工作室，看看我们如何帮助你:<a class="ae kc" href="https://kt.academy/" rel="noopener ugc nofollow" target="_blank"> kt.academy </a>。</p><figure class="my mz na nb gt jr gh gi paragraph-image"><a href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a"><div class="gh gi oc"><img src="../Images/3146970f03e44cb07afe660b0d43e045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54OqlYA4etu7wfpmMP5TKQ.png"/></div></a></figure></div></div>    
</body>
</html>