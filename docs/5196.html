<html>
<head>
<title>Health and Efficiency in Mendix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Mendix的健康和效率</h1>
<blockquote>原文：<a href="https://medium.com/mendix/health-and-efficiency-in-mendix-86a02a4c70a3?source=collection_archive---------2-----------------------#2022-08-18">https://medium.com/mendix/health-and-efficiency-in-mendix-86a02a4c70a3?source=collection_archive---------2-----------------------#2022-08-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/cc80d83be501bbca3e48328987c4e5d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFvETkQ3nngH7_VyBl2O9w.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Health and Efficiency in Mendix</figcaption></figure><h1 id="62dd" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">所有应用程序都可能效率低下，包括Mendix应用程序。低效率可能在开发过程中几乎看不到，只有当应用程序进入批量或压力测试时才会出现问题。然而，确实可以在开发过程中识别出常见的模式，并立即做出改进。</h1><p id="a334" class="pw-post-body-paragraph ke kf hu bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la hn dt translated">在这个简短的系列中，我想介绍一些简单的——和不那么简单的——可以使Mendix应用程序更高效的方法。理想的结果应该是一个应用程序在尽可能短的时间内完成工作，消耗尽可能少的资源。</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff lb"><img src="../Images/8c9386dbd63256b95ff0d61c98089b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*A4Qkbt5rJ15gc79laaUcfA.jpeg"/></div></figure><h1 id="2c56" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">总是吗？</h1><p id="fcdc" class="pw-post-body-paragraph ke kf hu bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la hn dt translated">号码</p><p id="df76" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">有时，在可读和可维护的<strong class="bd ll">选项</strong>或更高度优化的版本<strong class="bd ll">巧妙的</strong>和<strong class="bd ll">更高效的</strong><strong class="bd ll"/><strong class="bd ll">但难以理解的</strong>之间会有一个<strong class="bd ll">权衡，这将是你或其他将来必须维护代码的开发人员的一个问题。</strong></p><div class="lc ld le lf fq ab cb"><figure class="lm iv ln lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><img src="../Images/662585e24a6ddb01d082a3ffbcfd2849.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*0QFlICPXArFua6wjnTIAEA.png"/></div></figure><figure class="lm iv ls lo lp lq lr paragraph-image"><img src="../Images/75fe447a56e68a491a59b3568810182b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1640/format:webp/1*iS1Qm5eEb0eKCkzkDkXAoA.png"/></figure></div><p id="77e5" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">这是团队在开发过程中或者在调查性能问题时做出的判断，高质量的注释或文档可能有助于促进对不清楚的代码的理解。</p><p id="7b51" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">同样，<strong class="bd ll">某事运行</strong>越频繁，从<strong class="bd ll">提高效率</strong>中获益<strong class="bd ll">的可能性就越大。一个可以优化为花费5分钟而不是10分钟，但一个月只运行一次的动作，在寻求效率增益时可能不应该是重点，而一个每天运行数千次的动作的半秒效率增益肯定是更高的优先级。</strong></p><h1 id="7883" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">黄金老歌</h1><p id="c2fc" class="pw-post-body-paragraph ke kf hu bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la hn dt translated">Mendix中的一些设计模式以前已经被强调过，但是值得再次访问，因为有时新的和经验丰富的开发人员会忽略它们。</p><h1 id="1eb1" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">环路环路</h1><figure class="lc ld le lf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/e82173286b26256275fb25e49bef8b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RYgWQlXfVKe_1xCJd3MtXA.jpeg"/></div></div></figure><p id="4eee" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">当使用循环在微流<strong class="bd ll">中创建或修改对象时，在<strong class="bd ll">列表</strong>和<strong class="bd ll">提交</strong>列表</strong>之外的<strong class="bd ll">循环</strong>中收集同类型的新/修改对象。</p><p id="e423" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">而不是:</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/9feda124fd5443a798696e51c7ced6e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*48gZebmPGxPlZhWwkbFDRQ.png"/></div></figure><p id="d4e3" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">您可以使用:</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lv"><img src="../Images/7e68f19c0f951e67081328a0af94d754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z7gIW1ZVxiC33W126W89nw.png"/></div></div></figure><p id="de11" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">这将意味着在新的和改变的对象的过程结束时，有一个用于订单对象的单个提交<strong class="bd ll">和另一个用于OrderUpdateAudit对象的提交</strong>。<strong class="bd ll">提交可能会很昂贵</strong>因为每一次提交都需要您的应用程序运行一次到数据库的往返行程，并且每次往返行程都会带来开销，所以批量提交可以减少往返行程的数量，从而降低开销。</p><h1 id="5867" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">让你的聚合体飞起来！</h1><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/8421275eeb92ff65a2e00e6ee2247235.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*EeAhpxwmQ4I6s-EPUKl4tg.png"/></div></figure><p id="76ca" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">Mendix运行时在优化由您编写的低代码导致的数据库查询方面走得太远，例如，在您的微流中，您可以在retrieve activity 之后立即放置一个<strong class="bd ll"> list聚合活动:</strong></p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/b481c81d490113f43d7d39f110091baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*SgSCMNCqWsWGqG5eoPD5vw.png"/></div></figure><p id="8815" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">这导致<strong class="bd ll">运行时</strong>对数据库<strong class="bd ll">执行一条语句</strong>，该语句将计算订单上订单值的平均值。订单记录根本不会被检索到应用程序中，也不会实际生成订单列表。这将使执行速度更快。</p><p id="c23e" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">然而，可以通过在之后重用生成的列表来打破这种优化。</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/21e422d0248b06c45e2f7c658f0945b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*WpLhUzF03daJAsTWtyU2JQ.png"/></div></figure><p id="3cdc" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">现在，OrderList在聚合运行后再次被使用(作为IteratorOrder循环的数据源)，这意味着Mendix恢复到标准行为，执行检索将所有记录加载到OrderList中，然后通过向下扫描该列表中的记录来计算平均值。</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/5f4e12f9ed073cf435b29f6ff6e638b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*7XXcrXkV7lhRntmF9xT5UA.png"/></div></figure><p id="c2ec" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">在这些情况下，运行两次的<strong class="bd ll">检索</strong> <strong class="bd ll">活动</strong><strong class="bd ll">——一次让<strong class="bd ll">聚合使用</strong>，另一次让<strong class="bd ll">获取记录列表</strong>，可能会更快<strong class="bd ll">。这在本例中特别适用，因为第二次检索(现在是IteratorOrder循环的源)仅在计算的平均值足够大时运行，因此如果平均值很低，则根本不会检索列表。</strong></strong></p><h1 id="c9f4" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">使用纳米流代替微流</h1><figure class="lc ld le lf fq iv fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/0972a02f82714deb07331503441e9145.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*fLl8JgaIMdtkBm-o1fAemw.png"/></div></figure><p id="a0ee" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated"><strong class="bd ll">微流</strong>是在<strong class="bd ll"> Mendix </strong> <strong class="bd ll">服务器</strong>上执行的强大代码动作，通常由用户的Mendix客户端发起。纳米流可以执行许多与微流相同的活动，尽管在某些情况下，它们的工作方式与微流不同。最大的区别是，纳米流运行在<strong class="bd ll"> Mendix客户端</strong>(用户的浏览器或本地应用程序)中，这可以使纳米流比执行类似功能的微流具有更大的效率优势。</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ma"><img src="../Images/0dd28e37b6044a0206b8997ccee0241e.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*pm8Em8gnlREzI2JVSjzSyg.png"/></div></div></figure><p id="2080" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">这个微流是从用户界面上的一个按钮调用的，它实现了一个可以更新被显示对象的业务规则。单击该按钮会导致从Mendix客户端向服务器上的应用程序发出一个调用，请求运行微流并将结果返回给客户端。</p><figure class="lc ld le lf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mb"><img src="../Images/f638197f0a24a2676fb813a3f27f5fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*HuBVXnTfdN649oqtYM7R2g.png"/></div></div></figure><p id="cb4e" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">这种纳米流也做同样的事情。在功能上，它几乎与微流相同，但是整个操作在用户的Mendix客户机中执行，因此从客户机到服务器的调用、在服务器上执行代码以及将结果返回给客户机都不会发生。这减少了网络流量，并避免了服务器在为用户执行更改时被中断。</p><p id="93c6" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">使用纳米流并不总是一个好主意。如果您的Nanoflow需要调用微流作为其功能的一部分，那么您可能无法保存任何东西，因为仍然会发生网络交互和服务器中断。如果您的纳米流需要调用多个微流，或者需要从数据库中检索更多数据来执行其功能，那么使用纳米流而不是微流很可能会适得其反。</p><h1 id="c82a" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">下次…</h1><p id="f97f" class="pw-post-body-paragraph ke kf hu bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la hn dt translated">我希望你喜欢读这篇文章。我的下一篇文章将解决我遇到的一个非常具体的性能问题，给出一个使用Java动作的解决方案。</p><p id="2502" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">您的应用程序是否存在性能问题？请在评论中告诉我！</p><h2 id="7595" class="mc jh hu bd ji md me mf jm mg mh mi jq ko mj mk ju ks ml mm jy kw mn mo kc mp dt translated">阅读更多</h2><div class="mq mr fm fo ms mt"><a href="https://docs.mendix.com/howto/general/dev-best-practices/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hv fv z el my eo ep mz er et ht dt translated">实施Mendix最佳发展实践</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">1简介本文档可用作采用一致的命名和建模约定的参考，同时…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">docs.mendix.com</p></div></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://docs.mendix.com/howto/general/community-best-practices-for-app-performance/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hv fv z el my eo ep mz er et ht dt translated">为应用性能实施社区最佳实践</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">1简介本文档由Mendix社区创建并为其服务。它收集了以下方面的最佳性能实践…</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">docs.mendix.com</p></div></div></div></a></div><div class="mq mr fm fo ms mt"><a href="https://docs.mendix.com/refguide/mx-assist-performance-bot/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab ej"><div class="mv ab mw cl cj mx"><h2 class="bd hv fv z el my eo ep mz er et ht dt translated">MxAssist性能机器人</h2><div class="na l"><h3 class="bd b fv z el my eo ep mz er et ek translated">描述Mendix Studio Pro中的MxAssist性能机器人。</h3></div><div class="nb l"><p class="bd b gc z el my eo ep mz er et ek translated">docs.mendix.com</p></div></div></div></a></div></div><div class="ab cl nc nd hb ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="hn ho hp hq hr"><p id="8292" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated"><em class="nj">来自发布者- </em></p><p id="efc2" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated"><em class="nj">如果你喜欢这篇文章，你可以在我们的</em> <a class="ae nk" href="https://medium.com/mendix" rel="noopener"> <em class="nj">中页</em> </a> <em class="nj">找到更多喜欢的。对于精彩的视频和直播会话，您可以前往</em><a class="ae nk" href="https://www.mendix.com/live/" rel="noopener ugc nofollow" target="_blank"><em class="nj">MxLive</em></a><em class="nj">或我们的社区</em><a class="ae nk" href="https://www.youtube.com/c/MendixCommunity/community" rel="noopener ugc nofollow" target="_blank"><em class="nj">Youtube PAG</em></a><em class="nj">e .</em></p><p id="8ed6" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated"><em class="nj">希望入门的创客，可以注册一个</em> <a class="ae nk" href="https://signup.mendix.com/link/signup/?source=direct" rel="noopener ugc nofollow" target="_blank"> <em class="nj">免费账号</em> </a> <em class="nj">，通过我们的</em> <a class="ae nk" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="nj">学苑</em> </a> <em class="nj">获得即时学习。</em></p><p id="f4cc" class="pw-post-body-paragraph ke kf hu bd b kg lg ki kj kk lh km kn ko li kq kr ks lj ku kv kw lk ky kz la hn dt translated">有兴趣加入我们的社区吗？加入我们的 <a class="ae nk" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="nj">松弛社区频道</em> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>