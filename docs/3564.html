<html>
<head>
<title>Lettuce — An Advanced Java Client for Redis implementation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">莴苣Redis实现的高级Java客户端</h1>
<blockquote>原文：<a href="https://medium.com/globant/lettuce-an-advanced-java-client-for-redis-implementation-90c267424a01?source=collection_archive---------0-----------------------#2020-12-02">https://medium.com/globant/lettuce-an-advanced-java-client-for-redis-implementation-90c267424a01?source=collection_archive---------0-----------------------#2020-12-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie if ig"><p id="6e3f" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">Ritesh担心他的应用程序的性能。当请求到达他的应用程序时，他的应用程序每次都与数据库交互静态数据库信息。Ritesh正在寻找一种解决方案来减少应用程序的数据库调用。一边搜索。他开始了解雷迪斯。</p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/bbcf1fb825fe29270bccaf9d0f951655.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*AcclS6ri2NfKVO2W3tMJDQ.png"/></div></figure><p id="7a1c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">Ritesh开始从互联网上阅读以下信息。</p><h1 id="51ba" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated"><strong class="ak">Redis的基本概念:</strong></h1><p id="4333" class="pw-post-body-paragraph ih ii hh ik b il kp in io ip kq ir is jo kr iv iw jp ks iz ja jq kt jd je jf ha bi translated">Redis是一个开源的NoSQL数据库，它遵循键值在内存中存储的原则。它被用作数据库、缓存和消息代理。它支持数据结构，如字符串、哈希、列表、集合、带有范围查询的排序集合、位图、超级日志、带有radius查询的地理空间索引和流。</p><ul class=""><li id="d635" class="ku kv hh ik b il im ip iq jo kw jp kx jq ky jf kz la lb lc bi translated">NoSQL数据库</li><li id="79c5" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">键值存储</li><li id="9d97" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">内存数据库中</li><li id="22cd" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">数据结构服务器</li><li id="7d30" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">开放源码</li></ul><h1 id="1b0c" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">当我们使用Redis时:</h1><ul class=""><li id="7f4e" class="ku kv hh ik b il kp ip kq jo li jp lj jq lk jf kz la lb lc bi translated">隐藏物</li><li id="2d8b" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">排行榜</li><li id="8ea9" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">长队</li><li id="e803" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">Cookie存储</li><li id="d7f8" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">信息发送</li><li id="2ce4" class="ku kv hh ik b il ld ip le jo lf jp lg jq lh jf kz la lb lc bi translated">使用主/从服务器等进行数据复制。</li></ul><h1 id="494e" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">Redis缓存的系统架构</h1><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ll"><img src="../Images/e1e5d865f8c89f7920f15213fde1e0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*m56kGEln39ZSA7m4NXmfYQ.jpeg"/></div></figure></div><div class="ab cl lm ln go lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ha hb hc hd he"><p id="0215" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><strong class="ik hi">Redis的Java客户端:</strong></p><p id="574d" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">为了在Java中使用Redis，您需要一个Java Redis客户机。<a class="ae lt" href="https://github.com/mp911de/lettuce/" rel="noopener ugc nofollow" target="_blank"> <strong class="ik hi"> <em class="ij">莴苣</em> </strong> </a> <strong class="ik hi"> <em class="ij">和</em></strong><a class="ae lt" href="https://github.com/xetorthio/jedis" rel="noopener ugc nofollow" target="_blank"><strong class="ik hi"><em class="ij">Jedis</em></strong></a>是Redis最常见的两个Java客户端。</p><p id="65de" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><strong class="ik hi">生菜概述:</strong></p><p id="1d12" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">莴苣提供同步、异步和反应式API与Redis交互。</p><p id="ddd8" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">莴苣为从Redis数据库服务器发出异步请求和创建流提供了一个自然的接口。</p><p id="d14d" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><strong class="ik hi">为什么生菜胜过杰迪斯:</strong></p><p id="39fd" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">Jedis可以与集群同步工作。<br/>然而，莴苣能够与集群进行同步、异步的反应式交互。</p><p id="1d91" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><strong class="ik hi">主/从:</strong></p><p id="2689" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">Redis服务器在主/从配置中进行自我复制。主服务器向从服务器发送将主缓存复制到从服务器的命令流。Redis不支持双向复制，所以从属服务器是只读的。</p><h2 id="e7b7" class="lu js hh bd jt lv lw lx jx ly lz ma kb jo mb mc kf jp md me kj jq mf mg kn mh bi translated">哨兵</h2><p id="de34" class="pw-post-body-paragraph ih ii hh ik b il kp in io ip kq ir is jo kr iv iw jp ks iz ja jq kt jd je jf ha bi translated">Redis Sentinel监控主实例和从实例，并在主实例发生故障转移时协调从实例的故障转移。莴苣可以连接到Sentinel，用它来发现当前主机的地址，然后返回一个到它的连接。</p><h1 id="6213" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">实施:</h1><blockquote class="ie if ig"><p id="62dd" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">在了解Redis缓存之后，他决定在自己的java应用程序中实现Redis。他为自己的应用程序选择了莴苣java客户端，因为它具有主/从概念，能够与集群进行同步、异步、反应式交互。在他的应用程序中添加了莴苣依赖项后，应用程序开始出错。他很困惑。</p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mi"><img src="../Images/7605d364f9456073a868a3533af35c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*wfWSX9f5tK0m6Ax5j3d58A.jpeg"/></div></figure><p id="28cf" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">他又开始探索如何用2.0.x以上的Spring boot实现Redis缓存。</p><p id="a9bd" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><strong class="ik hi">用Spring boot实现Redis缓存:</strong></p><p id="f5a2" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">添加Redis和莴苣的依赖项。<br/>在application.properties中添加属性<br/>编写Redis连接的配置。<br/>为Redis操作写一个Util类，如putValues，getValues，setExpire等。<br/>为了存储或获取缓存，使用Redis键和值调用RedisUtil方法。<br/>将可缓存列表传递给CacheManager。<br/>检查Redis服务器中的Redis缓存。</p><p id="4520" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">Git链接:</p><p id="fcfc" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated"><a class="ae lt" href="https://github.corp.globant.com/scalableplatform/lettuce-A-Java-Redis-Client" rel="noopener ugc nofollow" target="_blank">https://github . corp . globant . com/scalable platform/莴苣-A-Java-Redis-Client </a></p><blockquote class="ie if ig"><p id="b22d" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated">现在Ritesh很开心。他的申请太快了。他的工作得到了客户的赞赏。现在，如果您的应用程序也面临类似的性能问题，那么您可以使用莴苣客户端实现Redis。</p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mj"><img src="../Images/47b78e40fc7744b20f284eaa650552f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:374/format:webp/1*v8xEkWga5WKRZPJJyUWBZw.jpeg"/></div></figure><p id="30ab" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is jo iu iv iw jp iy iz ja jq jc jd je jf ha bi translated">真的管用。</p></div></div>    
</body>
</html>