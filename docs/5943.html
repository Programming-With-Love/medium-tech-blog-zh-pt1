<html>
<head>
<title>Deploy Redis &amp; PostgreSQL on Oracle Cloud Infrastructure A1 Ampere ARM Instance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Oracle云基础架构A1安培ARM实例上部署Redis和PostgreSQL</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploy-redis-postgresql-on-oracle-cloud-infrastructure-a1-ampere-arm-instance-c4d364c87546?source=collection_archive---------2-----------------------#2022-07-20">https://medium.com/oracledevs/deploy-redis-postgresql-on-oracle-cloud-infrastructure-a1-ampere-arm-instance-c4d364c87546?source=collection_archive---------2-----------------------#2022-07-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="36f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">甲骨文云基础设施(OCI)有一个新的<a class="ae jc" href="https://www.oracle.com/au/cloud/compute/arm/" rel="noopener ugc nofollow" target="_blank">基于ARM的Ampere A1实例</a>类型。Ampere Altra处理器是业内首款80核Arm服务器，每核小时仅售0.01美元，每核可灵活配置1至80个OCPUs和1至64 GB内存。OCI Ampere Altra A1计算平台提供确定性性能、线性可扩展性和安全架构，具有市场上最佳的性价比。新实例在所有商业OCI地区都可用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7d4a67ed1a8aea9891d8900cfef8ebd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ntuxZniu-76-7ODdQmaemA.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Credit : Unsplash</figcaption></figure><p id="747e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以在这里<a class="ae jc" href="https://blogs.oracle.com/linux/develop-arm-applications-quickly-using-oracle-linux-cloud-developer-image?source=:so:ch:or:awr::::" rel="noopener ugc nofollow" target="_blank">开始使用Oracle Linux 8云开发者映像部署新的ARM实例。一旦映像被部署，SSH进入实例并安装Podman，它是Docker的OSS等价物。</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/e786252080502a3bb8a1044195afd017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TIHAdeeqsssOieCM0xORZQ.png"/></div></div></figure><p id="2948" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在OCI A1安臂上安装波德曼实例</strong></p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="9001" class="jz ka hh jv b fi kb kc l kd ke">$ ssh -i key.priv opc@110.x.x.x</span><span id="45ff" class="jz ka hh jv b fi kf kc l kd ke">$ sudo -s </span><span id="91c1" class="jz ka hh jv b fi kf kc l kd ke">$ yum install podman</span><span id="ee9e" class="jz ka hh jv b fi kf kc l kd ke">$ podman login docker.io<br/>Username: 9*******8<br/>Password:<br/>Login Succeeded!</span></pre><p id="18ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> A .使用pod man</strong><em class="kg">*</em><a class="ae jc" href="https://hub.docker.com/r/arm64v8/postgres/" rel="noopener ugc nofollow" target="_blank"><em class="kg">【1】</em></a>部署PostgreSQL容器</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="0e52" class="jz ka hh jv b fi kb kc l kd ke">$ <!-- -->podman run --name postgres-arm64 -e POSTGRES_PASSWORD=PAssw0rd1234#_ -d docker.io/arm64v8/postgres</span><span id="c540" class="jz ka hh jv b fi kf kc l kd ke">$ podman container list</span><span id="68a3" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</strong><br/>d******7 docker.io/arm64v8/postgres:latest postgres 3 minutes ago Up 3 minutes ago postgres-arm64</span></pre><p id="40a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">A-1。创建PostgreSQL表并插入记录</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="a5f2" class="jz ka hh jv b fi kb kc l kd ke">$ podman exec -it <!-- -->postgres-arm64<!-- --> psql -U postgres -c “CREATE TABLE users(id SERIAL PRIMARY KEY, col1 VARCHAR(200));”</span><span id="5218" class="jz ka hh jv b fi kf kc l kd ke">$ podman exec -it <!-- -->postgres-arm64<!-- --> psql -U postgres -c “INSERT INTO public.users(col1) VALUES(‘record1’);”</span><span id="334c" class="jz ka hh jv b fi kf kc l kd ke">$ podman exec -it <!-- -->postgres-arm64<!-- --> psql -U postgres -c “INSERT INTO public.users(col1) VALUES(‘record2’);”</span><span id="147a" class="jz ka hh jv b fi kf kc l kd ke">$ podman exec -it <!-- -->postgres-arm64<!-- --> psql -U postgres -c “SELECT * FROM public.users;”</span><span id="a40a" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">id |  col1<br/>----+---------</strong><br/>  1 | record1<br/>  2 | record2<br/><strong class="jv hi">(2 rows)</strong></span></pre><p id="c89c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> B .使用pod man</strong><em class="kg">*</em><a class="ae jc" href="https://hub.docker.com/r/arm64v8/redis/" rel="noopener ugc nofollow" target="_blank"><em class="kg">【2】</em></a>部署Redis容器</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="dcbc" class="jz ka hh jv b fi kb kc l kd ke">$ podman run --name redis-arm64 -d docker.io/arm64v8/redis redis-server --save 60 1 --loglevel warning</span><span id="0a2e" class="jz ka hh jv b fi kf kc l kd ke">$ podman container list</span><span id="2f89" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">CONTAINER ID  IMAGE                              COMMAND               CREATED         STATUS             PORTS       NAMES</strong><br/>d*****7  docker.io/arm64v8/postgres:latest  postgres              20 minutes ago  Up 20 minutes ago              postgres-arm64</span><span id="3b05" class="jz ka hh jv b fi kf kc l kd ke">a*****1  docker.io/arm64v8/redis:latest     redis-server --sa...  11 seconds ago  Up 11 seconds ago              redis-arm64</span><span id="8219" class="jz ka hh jv b fi kf kc l kd ke">$ podman image list</span><span id="c811" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">REPOSITORY                  TAG         IMAGE ID      CREATED       SIZE</strong><br/>docker.io/arm64v8/redis     latest      5****d  44 hours ago  115 MB<br/>docker.io/arm64v8/postgres  latest      4****c  8 days ago    363 MB</span></pre><p id="6934" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">B-1。通过redis-cli检查</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="4682" class="jz ka hh jv b fi kb kc l kd ke">$ podman exec -it <!-- -->redis-arm64<!-- --> redis-cli</span><span id="443a" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">127.0.0.1:6379&gt;</strong> ZADD mycolorset 1 white<br/>(integer) 1</span><span id="6f1c" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">127.0.0.1:6379&gt;</strong> ZADD mycolorset 2 black<br/>(integer) 1</span><span id="c20e" class="jz ka hh jv b fi kf kc l kd ke"><strong class="jv hi">127.0.0.1:6379&gt;</strong> ZRANGE mycolorset 0 -1<br/>1) "white"<br/>2) "black"</span></pre><p id="4376" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来是什么</p><p id="b93e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">OCI自由层</p><p id="db13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://www.oracle.com/au/cloud/free/" rel="noopener ugc nofollow" target="_blank">立即开始使用</a><em class="kg">*[3]</em>OCI服务。永远免费层包括您可以无限期使用的服务和以下功能:</p><ul class=""><li id="c83e" class="kh ki hh ig b ih ii il im ip kj it kk ix kl jb km kn ko kp bi translated">两个具有强大工具的Oracle自治数据库，如Oracle Application Express (APEX)和Oracle SQL Developer</li><li id="1c77" class="kh ki hh ig b ih kq il kr ip ks it kt ix ku jb km kn ko kp bi translated">两台AMD计算虚拟机</li><li id="3d18" class="kh ki hh ig b ih kq il kr ip ks it kt ix ku jb km kn ko kp bi translated">最多四个Arm安培A1计算实例</li><li id="e966" class="kh ki hh ig b ih kq il kr ip ks it kt ix ku jb km kn ko kp bi translated">数据块、对象和归档存储、负载平衡器、数据出口、监控和通知</li></ul><p id="8b78" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你也可以在我们的<a class="ae jc" href="https://bit.ly/devrel_slack" rel="noopener ugc nofollow" target="_blank"> DevRel公共松弛频道</a>上讨论这个和其他话题！</p><p id="6c83" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">参考文献:</strong></p><p id="0fa0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[1]<a class="ae jc" href="https://hub.docker.com/r/arm64v8/postgres/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/r/arm64v8/postgres/</a></p><p id="7239" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://hub.docker.com/r/arm64v8/redis/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/r/arm64v8/redis/</a></p><p id="939e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://www.oracle.com/au/cloud/free/" rel="noopener ugc nofollow" target="_blank">https://www.oracle.com/au/cloud/free/</a></p></div></div>    
</body>
</html>