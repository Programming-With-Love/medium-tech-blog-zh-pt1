<html>
<head>
<title>Applying .patch File From Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正在申请。来自Git的补丁文件</h1>
<blockquote>原文：<a href="https://medium.easyread.co/applying-patch-file-from-git-eca61fc18db6?source=collection_archive---------0-----------------------#2018-03-02">https://medium.easyread.co/applying-patch-file-from-git-eca61fc18db6?source=collection_archive---------0-----------------------#2018-03-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1ff5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我的工作场所，我们使用这种git分支和流程来协同工作:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="3d6e" class="kr ks in kn b gy kt ku l kv kw">+ master<br/>+ prod<br/>+ branchA<br/>+ branchB<br/>+ ...</span></pre><p id="f7d3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">master</code>分支是开发和试运行级别的分支，所以如果有人想开发一个新特性，他/她必须向这个分支提交一个PR ( <a class="ae la" href="https://help.github.com/articles/about-pull-requests/" rel="noopener ugc nofollow" target="_blank"> pull request </a>)。</p><p id="4f04" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">prod</code>分支是生产级分支。所有发布都将从此分支进行标记。</p><p id="ae83" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">branchA</code>和<code class="fe kx ky kz kn b">branchB</code>是另一个例子分支，如果有人想在应用程序上做些什么，在PR被接受后很快就会被删除。</p><p id="3daa" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">有了这种工作流程，每当我想从开发部门发布一些东西时，我必须做一个关于从<code class="fe kx ky kz kn b">master</code>合并到<code class="fe kx ky kz kn b">prod</code>分支的公关。但问题是，除了我唯一的改动，我不想发布另一个代码。</p><p id="6918" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我怎样才能做到这一点，而不需要删除除我的代码之外的所有代码呢？</p><figure class="ki kj kk kl gt lc gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/43e9ee9e296cd6f583b6f64cd1ba7a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*W0dW-tFiLCuaLMo481OCxQ.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk">Release only certain commit</figcaption></figure><p id="48fd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">感谢我在办公室的导师，我从git找到了一个非常有用的文件:</p><blockquote class="lj lk ll"><p id="e3e5" class="jk jl lm jm b jn jo jp jq jr js jt ju ln jw jx jy lo ka kb kc lp ke kf kg kh ig bi translated">*.补丁和*。差速器</p></blockquote><p id="732f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这些类型的文件仅包含我们在某次提交中所做的更改，这里有一个来自<a class="ae la" href="https://stackoverflow.com/questions/8279602/what-is-a-patch-in-git-version-control" rel="noopener ugc nofollow" target="_blank"> stackoverflow </a>中回复的图表，显示了什么是补丁:</p><figure class="ki kj kk kl gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi lq"><img src="../Images/d55d2f50a53d465946936eb907da37f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U7dItQwGGiaAnTaO4GUtYQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk">patch diagram by Jan Aerts from <a class="ae la" href="http://saaientist.blogspot.co.id/2008/06/bioruby-with-git-how-would-that-work.html" rel="noopener ugc nofollow" target="_blank">http://saaientist.blogspot.co.id/2008/06/bioruby-with-git-how-would-that-work.html</a></figcaption></figure><h2 id="c14d" class="kr ks in bd lv lw lx dn ly lz ma dp mb jv mc md me jz mf mg mh kd mi mj mk ml bi translated">生成。补丁文件</h2><p id="4b75" class="pw-post-body-paragraph jk jl in jm b jn mm jp jq jr mn jt ju jv mo jx jy jz mp kb kc kd mq kf kg kh ig bi translated">要生成一个. patch文件，您可以通过在url末尾添加<code class="fe kx ky kz kn b">.patch</code>从github提交页面保存它，例如:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="709d" class="kr ks in kn b gy kt ku l kv kw"><a class="ae la" href="https://github.com/ridhoperdana/multibranch/commit/a533bbbdadea57a84617ea76374e88fbe595901c" rel="noopener ugc nofollow" target="_blank">https://github.com/ridhoperdana/multibranch/commit/a533bbbdadea57a84617ea76374e88fbe595901c</a>.patch</span></pre><p id="532f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">或者，您可以通过键入以下命令从命令行生成该文件:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="222a" class="kr ks in kn b gy kt ku l kv kw">git format-patch -1 &lt;sha&gt;</span></pre><p id="0411" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于生成的文件，您可以通过在命令行中键入以下内容来应用补丁:</p><pre class="ki kj kk kl gt km kn ko kp aw kq bi"><span id="8b63" class="kr ks in kn b gy kt ku l kv kw">git am name-of-the-patch-file.patch</span><span id="c219" class="kr ks in kn b gy mr ku l kv kw">or</span><span id="bd5e" class="kr ks in kn b gy mr ku l kv kw">git apply --check name-of-the-patch-file.patch</span><span id="6df8" class="kr ks in kn b gy mr ku l kv kw">or</span><span id="56ba" class="kr ks in kn b gy mr ku l kv kw">git apply --stat name-of-the-patch-file.patch</span></pre><p id="fac1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">就这样，现在我可以只用我的修改来做公关了。</p><h2 id="e110" class="kr ks in bd lv lw lx dn ly lz ma dp mb jv mc md me jz mf mg mh kd mi mj mk ml bi translated"><strong class="ak">结论</strong></h2><p id="e1aa" class="pw-post-body-paragraph jk jl in jm b jn mm jp jq jr mn jt ju jv mo jx jy jz mp kb kc kd mq kf kg kh ig bi translated">在某些时候，当你们一起工作的时候，你会面临一个问题，你想要得到你所做的唯一的改变，并且用那些改变做一个拉请求。Git支持一个. patch文件，其中包含您所做的更改。使用生成的。补丁文件，您可以看到与远程分支的变化和差异。如果您想要将您唯一的更改与远程分支合并，那么可以将该文件应用到某个分支。</p><p id="5262" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">参考资料:</p><ul class=""><li id="4c35" class="ms mt in jm b jn jo jr js jv mu jz mv kd mw kh mx my mz na bi translated"><a class="ae la" href="https://coderwall.com/p/yeh5tw/how-to-create-and-apply-a-patch-with-git" rel="noopener ugc nofollow" target="_blank">https://coder wall . com/p/ye H5 tw/how-to-create-and-apply-a-patch with-git</a></li><li id="4c46" class="ms mt in jm b jn nb jr nc jv nd jz ne kd nf kh mx my mz na bi translated"><a class="ae la" href="https://stackoverflow.com/a/8279647/4089955" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/a/8279647/4089955</a></li><li id="56a2" class="ms mt in jm b jn nb jr nc jv nd jz ne kd nf kh mx my mz na bi translated"><a class="ae la" href="https://stackoverflow.com/a/9339460/4089955" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/a/9339460/4089955</a></li></ul></div></div>    
</body>
</html>