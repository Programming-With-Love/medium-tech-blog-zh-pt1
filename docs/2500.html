<html>
<head>
<title>Build a Real-Time App with Redis Pub/Sub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Build a Real-Time App with Redis Pub/Sub</h1>
<blockquote>原文：<a href="https://medium.easyread.co/build-a-real-time-app-with-redis-pub-sub-a99e46d000d5?source=collection_archive---------3-----------------------#2020-05-19">https://medium.easyread.co/build-a-real-time-app-with-redis-pub-sub-a99e46d000d5?source=collection_archive---------3-----------------------#2020-05-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="babf" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Bagaimana membuat <em class="kc"> real-time app </em> menggunakan redis pub/sub?</h2></div><p id="40f7" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Di tulisan kali ini saya akan memberikan tutorial bagaimana membuat <em class="kz"> real-time app </em> menggunakan redis pub/sub. Melalui langkah-langkah yang kita lakukan nanti, kita bisa melihat bagaimana sharing data secara <em class="kz"> real-time </em> tersebut dilakukan. Sebelumnya kita bahas dulu apa itu <em class="kz"> real-time data processing </em> dan bagaimana ia bekerja.</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi la"><img src="../Images/728b7411cfe0c6f22b3789d95b2989c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3ucbwWRlCQzg4T6DkACZw.jpeg"/></div></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Photo by <a class="ae lq" href="https://unsplash.com/@goumbik?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a> on <a class="ae lq" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b704" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><a class="ae lq" href="https://www.techopedia.com/definition/31742/real-time-data-processing" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io"> <em class="kz"> Real-time data processin </em> </strong> <em class="kz"> g </em> </a> adalah proses pengambilan tindakan pada data yang diterima ( <em class="kz"> received </em> ) dalam periode singkat (hampir seketika) di waktu data tersebut dibuat atau diterbitkan. Dari istilah tersebut kita bisa menyimpulkan bahwa akan ada 3 proses penting yang terjadi, yaitu proses menerima data, pengambilan tindakan dan proses membuat atau menerbitkan ( <em class="kz"> publish </em> ) data.</p><p id="b871" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><em class="kz"> Nah, </em> yang menjadi fokus perhatian kita adalah bagaimana cara data tersebut dapat diterbitkan dan diterima. Proses menerima data dilakukan oleh <em class="kz"> subscriber/receiver </em> dan proses pembuatan atau penerbitan data dilakukan oleh <em class="kz"> publisher </em> . Data yang dimaksudkan disebut <em class="kz"> message </em> . Di dalam dunia <em class="kz"> software architecture </em> , istilah ini disebut <a class="ae lq" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io"> <em class="kz"> publish–subscribe pattern </em> </strong> </a> . Bagi yang sudah tahu atau sering mendengar istilah <em class="kz"> message queuing </em> , ini mirip tetapi tidak serupa.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="efa4" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><a class="ae lq" href="https://redis.io/topics/introduction" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io"> Redis </strong> </a> adalah salah satu tool dari sekian tools yang menyediakan fitur <em class="kz"> publish </em> dan <em class="kz"> subscribe </em> . Contoh lainnya yang mungkin familiar ialah <a class="ae lq" href="https://cloud.google.com/pubsub/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-ID-all-en-dr-bkws-all-all-trial-e-dr-1008074&amp;utm_content=text-ad-none-none-DEV_c-CRE_308495403071-ADGP_Hybrid+%7C+AW+SEM+%7C+BKWS+~+T1+%7C+EXA+%7C+Big+Data+%7C+M:1+%7C+ID+%7C+en+%7C+Cloud+PubSub-KWID_43700029830238360-kwd-395094646964&amp;userloc_1007706&amp;utm_term=KW_google%20pub%20sub&amp;gclid=EAIaIQobChMI_p-24vy-6QIVmDUrCh3XKwg0EAAYASAAEgK9rfD_BwE" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io"> Google Pub/Sub </strong> </a> . Redis menyediakan beberapa commands seperti <code class="fe lt lu lv lw b"><strong class="kf io">SUBSCRIBE</strong></code> , <code class="fe lt lu lv lw b"><strong class="kf io">UNSUBSCRIBE</strong></code> , dan <code class="fe lt lu lv lw b"><strong class="kf io">PUBLISH</strong></code> . Command ini akan kita gunakan untuk melakukan <em class="kz"> publish </em> <em class="kz"> message </em> ke <em class="kz"> channel </em> , <em class="kz"> subscribe </em> dan <em class="kz"> unsubscribe </em> <em class="kz"> channel </em> . Untuk lebih jelasnya, kamu dapat membacanya di situs <a class="ae lq" href="https://redis.io/topics/pubsub" rel="noopener ugc nofollow" target="_blank"> ini </a> .</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/ef947a2572c38819d6e5e123e15dc54e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*lDjxhJG5mH278H0-0K6rZA.png"/></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Publish and subscribe data in Redis</figcaption></figure><p id="bf6d" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><em class="kz"> Sudah cukup perkenalannya, sekarang kita akan mempraktekkannya. </em></p><p id="6f37" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Kita akan membuat 2 program sederhana sebagai <em class="kz"> publisher </em> dan <em class="kz"> subscriber </em> . Disini saya menggunakan bahasa Go dan saya anggap kalian sudah memiliki <em class="kz"> Redis </em> dan Go di perangkat masing-masing.</p><h2 id="af37" class="ly lz in bd ma mb mc dn md me mf dp mg km mh mi mj kq mk ml mm ku mn mo mp mq bi translated">Publisher</h2><p id="4cee" class="pw-post-body-paragraph kd ke in kf b kg mr jo ki kj ms jr kl km mt ko kp kq mu ks kt ku mv kw kx ky ig bi translated">Program pertama akan berperan sebagai <em class="kz"> publisher </em> . Di sini kita akan mengirimkan 10 <em class="kz"> message </em> ke <em class="kz"> channel </em> <code class="fe lt lu lv lw b"><strong class="kf io">EXAMPLE</strong></code> dalam interval waktu 1 detik. Jadi kita berharap <em class="kz"> subscriber </em> akan mendapatkan 10 <em class="kz"> message </em> juga dan harus sama persis.</p><p id="8a2f" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Karena kita berkomunikasi via Redis, <strong class="kf io"> pertama-tama </strong> kita harus membuat sebuah redis client.</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi mw"><img src="../Images/9d0dfc710e79cc07cb97fc8ce77f688d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ae3ZO0Y-htTGgqHO4C-2A.png"/></div></div></figure><p id="1fb2" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kf io"> Kedua </strong> , kita perlu <code class="fe lt lu lv lw b"><strong class="kf io">SUBSCRIBE</strong></code> channel <code class="fe lt lu lv lw b"><strong class="kf io">EXAMPLE</strong></code> menggunakan method <code class="fe lt lu lv lw b"><strong class="kf io">Subscribe</strong></code> dan channel akan secara otomatis terbuat. Perlu diketahui method Subscribe tidak menunggu response apapun dari Redis, jadi <em class="kz"> subscription </em> mungkin tidak akan aktif secara langsung. Untuk <strong class="kf io"> <em class="kz"> ‘memaksa’ </em> </strong> program kita menunggu response dari Redis, kita perlu menambahkan method <strong class="kf io"> Receive </strong> .</p><figure class="lb lc ld le gt lf gh gi paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="gh gi mx"><img src="../Images/d3dba091373bdcf4997c39f23bcdae38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ONAizEa1k0bAraVSxPkZw.png"/></div></div></figure><p id="d8d9" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated"><strong class="kf io"> Ketiga </strong> , kita akan mengirimkan 10 <em class="kz"> message </em> ke <em class="kz"> channel </em> per detik. Karena ini hanya sebatas contoh, kita akan mengirimkan angka acak yang unik saja. Dan untuk message terakhir, kita akan mengirimkan angka <code class="fe lt lu lv lw b"><strong class="kf io">-1</strong></code> sebagai penanda kalau kita sudah selesai mem- <em class="kz"> publish </em> <em class="kz"> message </em> dan akan menutup <em class="kz"> client </em> dan <em class="kz"> channel </em> juga.</p><p id="b876" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Untuk code lengkapnya bisa dilihat di bawah ini.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="my ls l"/></div></figure><h2 id="236e" class="ly lz in bd ma mb mc dn md me mf dp mg km mh mi mj kq mk ml mm ku mn mo mp mq bi translated">Subscriber</h2><p id="3af3" class="pw-post-body-paragraph kd ke in kf b kg mr jo ki kj ms jr kl km mt ko kp kq mu ks kt ku mv kw kx ky ig bi translated">Program kedua adalah sebagai <em class="kz"> subscriber </em> . Disini kita akan menerima 10 message dari channel <code class="fe lt lu lv lw b"><strong class="kf io">EXAMPLE</strong></code> dalam waktu yang sama ketika <em class="kz"> message </em> di-publish.</p><p id="03b9" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Langkah pertama dan kedua sama seperti di program pertama. Bedanya disini kita memanggil method <code class="fe lt lu lv lw b"><strong class="kf io">Channel</strong></code> . Method ini akan mengembalikan sebuah Go <em class="kz"> channel </em> untuk secara konkuren menerima <em class="kz"> message </em> dari <em class="kz"> channel </em> yang kita <em class="kz"> subscribe </em> .</p><p id="1678" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Untuk code lengkapnya bisa dilihat di bawah ini.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="my ls l"/></div></figure><p id="497e" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Untuk menjalankannya, pertama jalanin <em class="kz"> subscriber </em> -nya dulu, lalu kemudian <em class="kz"> publisher </em> . Contohnya bisa dilihat di bawah ini.</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="mz ls l"/></div></figure><p id="bbfa" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Dari hasil di atas, kita bisa lihat bahwa program <em class="kz"> subscriber </em> kita berhasil menerima <em class="kz"> message </em> yang sama persis seperti <em class="kz"> publisher </em> kirimkan. <em class="kz"> Message </em> tersebut bisa kita proses sebagaimana yang kita inginkan.</p></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><h1 id="134d" class="nh lz in bd ma ni nj nk md nl nm nn mg jt no ju mj jw np jx mm jz nq ka mp nr bi translated">Kesimpulan</h1><p id="b0f7" class="pw-post-body-paragraph kd ke in kf b kg mr jo ki kj ms jr kl km mt ko kp kq mu ks kt ku mv kw kx ky ig bi translated">Sebagai penutup, berikut hal-hal yang kita pelajari dan lakukan, yaitu:</p><ul class=""><li id="a9ed" class="ns nt in kf b kg kh kj kk km nu kq nv ku nw ky nx ny nz oa bi translated">Pemahaman mengenai konsep <em class="kz"> real-time dat </em> a</li><li id="0f54" class="ns nt in kf b kg ob kj oc km od kq oe ku of ky nx ny nz oa bi translated">Pemahaman mengenai konsep <em class="kz"> publish-subscribe pattern </em></li><li id="895d" class="ns nt in kf b kg ob kj oc km od kq oe ku of ky nx ny nz oa bi translated">Membuat aplikasi <em class="kz"> real-time </em> sederhana dengan <em class="kz"> Redis Pub/Sub </em></li></ul><p id="1fb1" class="pw-post-body-paragraph kd ke in kf b kg kh jo ki kj kk jr kl km kn ko kp kq kr ks kt ku kv kw kx ky ig bi translated">Sekian dan terimakasih.</p><h1 id="0a67" class="nh lz in bd ma ni og nk md nl oh nn mg jt oi ju mj jw oj jx mm jz ok ka mp nr bi translated">Referensi</h1><ol class=""><li id="2545" class="ns nt in kf b kg mr kj ms km ol kq om ku on ky oo ny nz oa bi translated"><a class="ae lq" href="https://www.techopedia.com/definition/31742/real-time-data-processing" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io"> Real-Time Data Processing </strong> </a></li><li id="169a" class="ns nt in kf b kg ob kj oc km od kq oe ku of ky oo ny nz oa bi translated"><a class="ae lq" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io">发布-订阅模式</strong> </a></li><li id="7d01" class="ns nt in kf b kg ob kj oc km od kq oe ku of ky oo ny nz oa bi translated"><a class="ae lq" href="https://cloud.google.com/pubsub/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-ID-all-en-dr-bkws-all-all-trial-e-dr-1008074&amp;utm_content=text-ad-none-none-DEV_c-CRE_308495403071-ADGP_Hybrid+%7C+AW+SEM+%7C+BKWS+~+T1+%7C+EXA+%7C+Big+Data+%7C+M:1+%7C+ID+%7C+en+%7C+Cloud+PubSub-KWID_43700029830238360-kwd-395094646964&amp;userloc_1007706&amp;utm_term=KW_google%20pub%20sub&amp;gclid=EAIaIQobChMI_p-24vy-6QIVmDUrCh3XKwg0EAAYASAAEgK9rfD_BwE" rel="noopener ugc nofollow" target="_blank"> <strong class="kf io">云Pub/Sub </strong> </a></li><li id="c20c" class="ns nt in kf b kg ob kj oc km od kq oe ku of ky oo ny nz oa bi translated"><a class="ae lq" href="https://redis.io/topics/introduction" rel="noopener ugc nofollow" target="_blank">T9】RedisT11】</a></li></ol></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="op ls l"/></div></figure></div></div>    
</body>
</html>