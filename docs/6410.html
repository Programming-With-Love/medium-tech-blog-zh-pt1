<html>
<head>
<title>Laravel: Clearing Cache with a click of a button (Artisan Shortcuts)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Laravel:点击按钮清除缓存(Artisan快捷键)</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/laravel-clearing-cache-with-a-click-of-a-button-artisan-shortcuts-b528f55028f8?source=collection_archive---------6-----------------------#2018-02-01">https://medium.com/quick-code/laravel-clearing-cache-with-a-click-of-a-button-artisan-shortcuts-b528f55028f8?source=collection_archive---------6-----------------------#2018-02-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/a366566958f5dd48052c9f913335c067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W1CgxUGcGPymni2O228cZQ.jpeg"/></div><figcaption class="il im et er es in io bd b be z dx">Copyright: <a class="ae ip" href="https://blog.42mate.com" rel="noopener ugc nofollow" target="_blank">https://blog.42mate.com</a></figcaption></figure><p id="1363" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">在本教程中，我们将学习如何使用Laravel命令清除编译后的视图和缓存。</p><p id="b0a0" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">对于一些只有一台显示器的人来说，在应用程序之间来回切换可能很麻烦。多亏了Laravel中的命令，我们可以在任何地方创建和调用这些命令。</p><p id="0e8b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><strong class="is hi">在开始之前，</strong>请记住，这种方法只能用于开发目的。因为清除和重新缓存可能会影响站点的性能</p><p id="5a33" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">让我们首先为我们的操作创建一个控制器，如下所示:</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="f830" class="jx jy hh jt b be jz ka l kb kc">php artisan make:controller <!-- -->DevClearCacheController</span></pre><p id="70f3" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">现在向DevClearCacheController类添加以下方法，如下所示:</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="0f17" class="jx jy hh jt b be jz ka l kb kc">&lt;?php</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="974c" class="jx jy hh jt b be jz ka l kb kc">namespace App\Controllers;</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="b601" class="jx jy hh jt b be jz ka l kb kc"><strong class="jt hi">class</strong> DevClearCacheController <strong class="jt hi">extends</strong> Controller<br/>{<br/>    <strong class="jt hi">public function</strong> clear_views()<br/>    {<br/>        \Artisan::call('view:clear');</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="fe55" class="jx jy hh jt b be jz ka l kb kc"><strong class="jt hi">        return</strong> redirect()-&gt;back()-&gt;with('status','Views Cleared!');<br/>    }</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="f38a" class="jx jy hh jt b be jz ka l kb kc"><strong class="jt hi">    public function</strong> clear_cache()<br/>    {<br/>        \Artisan::call('cache:clear');</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="60e4" class="jx jy hh jt b be jz ka l kb kc"><strong class="jt hi">        return</strong> redirect()-&gt;back()-&gt;with('status','Cache Cleared!');<br/>    }</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="6b19" class="jx jy hh jt b be jz ka l kb kc">    // you can also add methods for queue:start, queue:restart etc.<br/>}</span></pre><p id="77a2" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">现在让我们将这些添加到routes目录下的web.php文件中。</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="9272" class="jx jy hh jt b be jz ka l kb kc">&lt;?php</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="13f1" class="jx jy hh jt b be jz ka l kb kc">...</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="4104" class="jx jy hh jt b be jz ka l kb kc">Route::get('clear-views', '<a class="ae ip" href="https://tahirjan.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>_views')<br/>     -&gt;name('clear-views');</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="287b" class="jx jy hh jt b be jz ka l kb kc">Route::get('clear-cache', '<a class="ae ip" href="https://tahirjan.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>_cache')<br/>    -&gt;name('clear-cache');</span></pre><pre class="kd js jt ju bn jv jw bi"><span id="4690" class="jx jy hh jt b be jz ka l kb kc">...</span></pre><p id="668d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">现在，让我们创建一个包含按钮的视图(我更喜欢在<code class="du ke kf kg jt b">navbar</code>中添加这些按钮):</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="6d04" class="jx jy hh jt b be jz ka l kb kc">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="{{ App::getLocale() }}"&gt;<br/>&lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br/>    &lt;meta name="csrf-token" content="{{ csrf_token() }}"&gt;<br/>    &lt;title&gt;{{ config('app.name', 'Artisan Shortcuts') }}&lt;/title&gt;    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css"&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>&lt;nav class="navbar navbar-inverse navbar-fixed-top"&gt;<br/>    &lt;div class="container"&gt;<br/>        &lt;div class="navbar-header"&gt;<br/>            &lt;ul class="nav navbar-nav"&gt;<br/>            &lt;li&gt;<strong class="jt hi">&lt;a href="{{ route('clear-views') }}"&gt;Clear Views&lt;/a&gt;</strong>&lt;/li&gt;<br/>            &lt;li&gt;<strong class="jt hi">&lt;a href="{{ route('clear-cache') }}"&gt;Clear Cache&lt;/a&gt;</strong>&lt;/li&gt;<br/>            &lt;/ul&gt;<br/>        &lt;/div&gt;&lt;!--/.nav-collapse --&gt;<br/>    &lt;/div&gt;<br/>&lt;/nav&gt;<br/>&lt;div class="body-content"&gt;<br/>@if (session('status'))<br/>&lt;div class="alert alert-success"&gt;{{ session('status') }}&lt;/div&gt; @endif<br/>&lt;p&gt;Test App&lt;/p&gt;<br/>&lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="66c3" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">现在让我们测试我们的应用程序，结果将类似如下:</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kh"><img src="../Images/0e6ec24a79b3619ef7ec0e083a4d2f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0O-1u26FPtCVzd6uFyCnA.png"/></div></div></figure><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es km"><img src="../Images/0c252b2fd7b25a821aa6774fd575e71d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cWwxCcpRV3-2xPn3mgi5qw.png"/></div></div></figure></div><div class="ab cl kn ko go kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ha hb hc hd he"><p id="7187" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><em class="ku">最初发表于</em><a class="ae ip" href="https://tahirjan.com/laravel-clearing-cache-with-a-click-of-a-button/" rel="noopener ugc nofollow" target="_blank"><em class="ku"/></a><em class="ku">。</em></p><figure class="jo jp jq jr fd ii"><div class="bz dy l di"><div class="kv kw l"/></div></figure><p id="6e14" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><strong class="is hi">请点击👏按钮下面几下，以示支持！⬇⬇谢谢！</strong></p></div></div>    
</body>
</html>