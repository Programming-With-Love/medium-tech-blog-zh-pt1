<html>
<head>
<title>What is the Difference between String, StringBuilder, and StringBuffer?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">String、StringBuilder、StringBuffer有什么区别？</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/what-is-the-difference-between-string-stringbuilder-and-stringbuffer-6b8a998f6eae?source=collection_archive---------0-----------------------#2021-10-20">https://medium.com/quick-code/what-is-the-difference-between-string-stringbuilder-and-stringbuffer-6b8a998f6eae?source=collection_archive---------0-----------------------#2021-10-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a886a27b200271da522339c3242e7c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6mIvQQXXr7UYXw0W"/></div></div></figure><h2 id="8839" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated"><strong class="ak">String、StringBuilder、StringBuffer有什么区别？</strong></h2><p id="59a3" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh ha bi translated">我们先来了解一下什么是String、StringBuilder、StringBuffer。</p><h1 id="e03c" class="ki iq hh bd ir kj kk kl iv km kn ko iz kp kq kr jd ks kt ku jh kv kw kx jl ky bi translated"><strong class="ak">弦</strong></h1><ul class=""><li id="af8e" class="kz la hh jp b jq jr ju jv ja lb je lc ji ld kh le lf lg lh bi translated">Java中的字符串是一个表示字符序列的对象。</li><li id="7806" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">Java字符串是不可变的，这意味着一旦它被声明就不能被改变</li><li id="2474" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">我们可以用两种方法创建字符串对象。1)通过使用字符串文字，2)通过new关键字。</li><li id="6402" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">Java中的字符串对象存储在一个叫做字符串常量池的空间中。如果池中已经存在该字符串，则返回对池实例的引用。</li></ul><p id="d07b" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">让我们看下面的例子来理解不变性和创建Java字符串对象的不同方法。</p><figure class="lt lu lv lw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/7024d3b4c7ea223e475cac7afde8766e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y0PpEiHGCXinUZ3V"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Immutability of string</figcaption></figure><h1 id="3d71" class="ki iq hh bd ir kj kk kl iv km kn ko iz kp kq kr jd ks kt ku jh kv kw kx jl ky bi translated"><strong class="ak"> StringBuilder </strong></h1><ul class=""><li id="0ea6" class="kz la hh jp b jq jr ju jv ja lb je lc ji ld kh le lf lg lh bi translated">与字符串类似，StringBuilder也是一个表示字符序列的对象。</li><li id="5e74" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">Java StringBuilder类用于创建可变字符串。</li><li id="9c2a" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">除了Java StringBuilder类不是线程安全的之外，这意味着它不能保证同步。</li></ul><p id="69b3" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">下面的例子展示了StringBuilder类的可变性。</p><figure class="lt lu lv lw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/f9804678866c77b8be56bb996c0ccea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tLaZNBIa1NFK0eE6"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">The mutability of the StringBuilder class</figcaption></figure><p id="5718" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">下面的例子说明了为什么StringBuilder不是线程安全的。</p><figure class="lt lu lv lw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/fa096d2e88e55ecae5b8dc14f848191e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*USqGWeZWr5rAHWVX"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Example of how StringBuilder class is not thread-safe</figcaption></figure><p id="a364" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">正如我们看到的，我们有两个线程，每个线程添加了50000个“A”字符，因此结果字符串的理想长度应该是100000，但它是98885，这是意外的。因此，我们可以明确地说StringBuilder类不是线程安全的。</p><h1 id="cc60" class="ki iq hh bd ir kj kk kl iv km kn ko iz kp kq kr jd ks kt ku jh kv kw kx jl ky bi translated"><strong class="ak"> StringBuffer </strong></h1><ul class=""><li id="8413" class="kz la hh jp b jq jr ju jv ja lb je lc ji ld kh le lf lg lh bi translated">与StringBuilder类似，StringBuffer也是一个表示字符序列的对象，它用于创建可变字符串。</li><li id="3c87" class="kz la hh jp b jq li ju lj ja lk je ll ji lm kh le lf lg lh bi translated">Java StringBuffer类是线程安全的。这意味着多个线程不能同时访问它，并保证同步。</li></ul><p id="41dd" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">下面的例子展示了StringBuffer类是线程安全的和可变的。</p><figure class="lt lu lv lw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/540247063f78aedbb8f2635d1f59fb5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hQqBXYVNpHS6ZJRn"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Thread-safe and mutable StringBuffer class</figcaption></figure><p id="4096" class="pw-post-body-paragraph jn jo hh jp b jq ln js jt ju lo jw jx ja lp jz ka je lq kc kd ji lr kf kg kh ha bi translated">在这里，我们可以看到我们有两个线程，每个线程添加了50000个“A”字符，因此结果字符串的理想长度应该是100000，实际上是100000。因此，我们可以明确地说StringBuffer类是线程安全的。</p><h2 id="0128" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">我们可以将String、StringBuilder和StringBuffer之间的区别总结如下。</h2><figure class="lt lu lv lw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mb"><img src="../Images/33c3bada558c935ae7903e1f2fee3e8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3jfVMjoPZH9s2xXdLZdsw.png"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">Difference between String, StringBuilder, and StringBuffer</figcaption></figure></div></div>    
</body>
</html>