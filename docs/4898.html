<html>
<head>
<title>The problem with extension functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ‰©å±•å‡½æ•°çš„é—®é¢˜æ˜¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.kotlin-academy.com/the-problem-with-extension-functions-dffd22eb5df9?source=collection_archive---------3-----------------------#2019-10-21">https://blog.kotlin-academy.com/the-problem-with-extension-functions-dffd22eb5df9?source=collection_archive---------3-----------------------#2019-10-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/d7ac68c5fcecbc32cf157dcc4580f583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oMJlVLiDbxb1YtL0BIFqug.jpeg"/></div></div></figure><div class=""/><p id="c907" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ‰©å±•å‡½æ•°â€”â€”åƒæˆå‘˜å‡½æ•°ä¸€æ ·ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨ç±»ä¹‹å¤–å®šä¹‰çš„å‡½æ•°â€”â€”æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼Œå—åˆ°å¾ˆå¤šäººçš„å–œçˆ±ã€‚è™½ç„¶å®ƒä»¬å¼€å§‹è¢«è¿‡åº¦ä½¿ç”¨ï¼Œä½†å¯¼è‡´äº†æˆ‘ä»¬è¿˜ä¸çŸ¥é“å¦‚ä½•è§£å†³çš„é—®é¢˜ã€‚ç›¸åï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€äº›å›¾ä¹¦é¦†æ˜¯å¦‚ä½•ä½¿ç”¨æ£˜æ‰‹è€Œç³Ÿç³•çš„è§£å†³æ–¹æ¡ˆæ¥é¿å…è¿™äº›é—®é¢˜çš„ã€‚è¿™æ˜¯å…³äºæ‰©å±•å‡½æ•°çš„é»‘æš—é¢çš„æ•…äº‹ã€‚</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="7c31" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">fun </strong>CharSequence.isBlank(): Boolean = <br/>    <strong class="ky iz">length </strong>== 0 || <em class="li">indices</em>.<em class="li">all </em><strong class="ky iz">{ this</strong>[<strong class="ky iz">it</strong>].<em class="li">isWhitespace</em>() <strong class="ky iz">}</strong></span><span id="cbda" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">"  "</strong>.<em class="li">isBlank</em>() <em class="li">// true<br/></em><strong class="ky iz">" :) "</strong>.<em class="li">isBlank</em>() <em class="li">// false</em></span></pre><figure class="kt ku kv kw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi lk"><img src="../Images/23164fa051ae361715b2aed9af583921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JFhDQrHlekRxuGez.png"/></div></div></figure><h1 id="d378" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ‰©å±•å‡½æ•°ï¼Ÿ</h1><p id="96e1" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæ‰©å±•å‡½æ•°çš„è¡Œä¸ºç±»ä¼¼äºæˆå‘˜å‡½æ•°ã€‚æœ‰ä¸€äº›ä¸åŒâ€”â€”æ¯”å¦‚æ‰©å±•æ˜¯åœ¨ç±»å‹ä¸Šï¼Œè€Œä¸æ˜¯åœ¨ç±»ä¸Š(æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨<code class="fe mn mo mp ky b">String?</code>æˆ–<code class="fe mn mo mp ky b">List&lt;Int&gt;</code>ä¸Šè¿›è¡Œæ‰©å±•)ï¼Œæˆ–è€…å®ƒä»¬ä¸æ˜¯è™šæ‹Ÿçš„(æ‰€æœ‰çš„ä¸åŒéƒ½åœ¨<a class="ae mq" href="https://leanpub.com/effectivekotlin/" rel="noopener ugc nofollow" target="_blank"> Effective Kotlin </a>çš„ç¬¬40é¡¹ä¸­è¯¦ç»†è§£é‡Š)ã€‚å°½ç®¡é€šå¸¸æ‰©å±•çš„ä½¿ç”¨ç±»ä¼¼äºæˆå‘˜å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰çš„æ”¶é›†å¤„ç†åŠŸèƒ½éƒ½æ˜¯ä½œä¸º<code class="fe mn mo mp ky b">List&lt;T&gt;</code>çš„æ‰©å±•æ¥å®ç°çš„:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="9464" class="lc ld iy ky b gy le lf l lg lh">listOf(1,2,3)<br/>    .filter <strong class="ky iz">{ </strong>it % == 2 <strong class="ky iz">}<br/>    </strong>.map <strong class="ky iz">{ </strong>it * 2 <strong class="ky iz">}<br/>    </strong>.sort()</span><span id="f47d" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>&lt;T&gt; Iterable&lt;T&gt;.filter(predicate: (T) -&gt; Boolean): List&lt;T&gt; {<br/>    <strong class="ky iz">return </strong><em class="li">filterTo</em>(ArrayList&lt;T&gt;(), predicate)<br/>}</span></pre><p id="cab3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¿®æ”¹å¯å˜é›†åˆä¹Ÿæ˜¯å¦‚æ­¤:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="1abc" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">val </strong>mutable = <em class="li">arrayListOf</em>(4,2,3)<br/>mutable.sort()</span><span id="d58a" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>&lt;T : Comparable&lt;T&gt;&gt; MutableList&lt;T&gt;.sort() {<br/>    <strong class="ky iz">if </strong>(<strong class="ky iz">size </strong>&gt; 1) java.util.Collections.sort(<strong class="ky iz">this</strong>)<br/>}</span></pre><p id="8f71" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å®ƒä»¬è¿˜ç”¨äºå®šä¹‰ç±»å¤–éƒ¨çš„è¿ç®—ç¬¦é‡è½½:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="1494" class="lc ld iy ky b gy le lf l lg lh"><em class="li">listOf</em>(1,2) + <em class="li">listOf</em>(3,4)</span><span id="6380" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">operator fun </strong>&lt;T&gt; Collection&lt;T&gt;.plus(elements: Iterable&lt;T&gt;): List&lt;T&gt;{<br/>    <strong class="ky iz">if </strong>(elements <strong class="ky iz">is </strong>Collection) {<br/>        <strong class="ky iz">val </strong>result = ArrayList&lt;T&gt;(<strong class="ky iz">this</strong>.size + elements.size)<br/>        result.addAll(<strong class="ky iz">this</strong>)<br/>        result.addAll(elements)<br/>        <strong class="ky iz">return </strong>result<br/>    } <strong class="ky iz">else </strong>{<br/>        <strong class="ky iz">val </strong>result = ArrayList&lt;T&gt;(<strong class="ky iz">this</strong>)<br/>        result.addAll(elements)<br/>        <strong class="ky iz">return </strong>result<br/>    }<br/>}</span></pre><p id="f11f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è™½ç„¶è¿˜æœ‰ä¸€ä¸ªæ›´é‡è¦çš„æ‰©å±•å‡½æ•°ä½¿ç”¨ã€‚<strong class="jx iz">å®ƒä»¬æ˜¯Kotlin </strong>ä¸­DSLå®šä¹‰çš„åŸºç¡€ã€‚åœ¨DSLså‡½æ•°ä¸­ï¼Œæ‰“å¼€lambdaè¡¨è¾¾å¼ï¼Œåœ¨å®ƒä»¬å†…éƒ¨ï¼Œæœ‰å…¶ä»–å‡½æ•°è¢«å¦ä¸€ä¸ªlambdaè¡¨è¾¾å¼è°ƒç”¨ã€‚ä½†é—®é¢˜æ˜¯è¿™ä¸ªå‡½æ•°è°ƒç”¨çš„æœ¬åœ°åŒ–å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒä»¬åœ¨ä¿®æ”¹çˆ¶å‡½æ•°ã€‚æƒ³æƒ³ä¸‹é¢è¿™ä¸ªç®€å•çš„DSL:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="ff8e" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">fun </strong>View.makeView() = <em class="li">table </em><strong class="ky iz">{ <br/>    </strong><em class="li">tr </em><strong class="ky iz">{ <br/>        </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"A" }<br/>        </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"B" }<br/>    } <br/>    </strong><em class="li">tr </em><strong class="ky iz">{ <br/>        </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"C" }<br/>        </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"D" }<br/>    }<br/>}</strong></span></pre><p id="6c95" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">éœ€è¦æ³¨æ„çš„æ˜¯<code class="fe mn mo mp ky b">tr</code>åªèƒ½ç”¨åœ¨<code class="fe mn mo mp ky b">table</code>çš„èŒƒå›´å†…ï¼Œè€Œä¸”å®ƒä¿®é¥°äº†å®ƒ(æ‰€ä»¥æœ‰å…³ç³»)ã€‚ä¸<code class="fe mn mo mp ky b">td</code>å’Œ<code class="fe mn mo mp ky b">tr</code>ç›¸åŒã€‚è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸º<code class="fe mn mo mp ky b">table</code>ã€<code class="fe mn mo mp ky b">tr</code>å’Œ<code class="fe mn mo mp ky b">td</code>ä¸­çš„å‡½æ•°ä¸æ˜¯æ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯å¸¦æœ‰æ¥æ”¶å™¨çš„å‡½æ•°ç±»å‹ï¼Œå¹¶ä¸”<code class="fe mn mo mp ky b">table</code>ã€<code class="fe mn mo mp ky b">tr</code>å’Œ<code class="fe mn mo mp ky b">td</code>æ˜¯æ¥æ”¶å™¨ä¸Šçš„æ–¹æ³•(æˆå‘˜æˆ–æ‰©å±•å‡½æ•°)ã€‚</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="578e" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">fun </strong>View.makeView() = this@makeView.<em class="li">table </em><strong class="ky iz">{ <br/>    </strong>this@<em class="li">table</em>.<em class="li">tr </em><strong class="ky iz">{ <br/>        </strong>this@<em class="li">tr</em>.<em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"A" }<br/>        </strong>this@<em class="li">tr</em>.<em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"B" }<br/>    } <br/>    </strong>this@<em class="li">table</em>.<em class="li">tr </em><strong class="ky iz">{ <br/>        </strong>this@<em class="li">tr</em>.<em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"C" }<br/>        </strong>this@<em class="li">tr</em>.<em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"D" }<br/>    }<br/>}</strong></span><span id="a259" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>View.table(init: Table.()-&gt;Unit) { /*...*/ }<br/><strong class="ky iz">fun </strong>Table.tr(init: Tr.()-&gt;Unit) { /*...*/ }<br/><strong class="ky iz">fun </strong>Table.td(init: Td.()-&gt;Unit) { /*...*/ }</span></pre><p id="8ddf" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„Kotlin DSLçš„å®Œæ•´å®ç°:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="7a78" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">abstract class </strong>View(<br/>   <strong class="ky iz">var childrens</strong>: List&lt;View&gt; = <em class="li">emptyList</em>()<br/>) {<br/>    <em class="li">// This already must be a member extension<br/>    // because we need 2 receivers: Text and String<br/>    </em><strong class="ky iz">operator fun </strong>String.unaryPlus() {<br/>        <strong class="ky iz">childrens </strong>+= Text(<strong class="ky iz">this</strong>)<br/>    }<br/>}</span><span id="c563" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">class </strong>Table: View()<br/><strong class="ky iz">class </strong>Tr: View()<br/><strong class="ky iz">class </strong>Td: View()<br/><strong class="ky iz">class </strong>Div: View() <br/><strong class="ky iz">class </strong>Text(<strong class="ky iz">var text</strong>: String): View()</span><span id="a233" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>View.table(init: Table.()-&gt;Unit) {<br/>    <strong class="ky iz">val </strong>view = Table()<br/>    view.init()<br/>    <strong class="ky iz">childrens </strong>+= view<br/>}</span><span id="339f" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>View.div(init: Div.()-&gt;Unit) {<br/>    <strong class="ky iz">val </strong>view = Div()<br/>    view.init()<br/>    <strong class="ky iz">childrens </strong>+= view<br/>}</span><span id="06aa" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>Table.tr(init: Tr.()-&gt;Unit) {<br/>    <strong class="ky iz">val </strong>view = Tr()<br/>    view.init()<br/>    <strong class="ky iz">childrens </strong>+= view<br/>}</span><span id="7d01" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>Table.td(init: Td.()-&gt;Unit) {<br/>    <strong class="ky iz">val </strong>view = Td()<br/>    view.init()<br/>    <strong class="ky iz">childrens </strong>+= view<br/>}</span><span id="3c64" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>View.makeView() = <em class="li">div </em><strong class="ky iz">{ <br/>    </strong><em class="li">table </em><strong class="ky iz">{ <br/>        </strong><em class="li">tr </em><strong class="ky iz">{ <br/>            </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"A" }<br/>            </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"B" }<br/>        } <br/>        </strong><em class="li">tr </em><strong class="ky iz">{ <br/>            </strong><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"C" }<br/>            </strong><em class="li">td </em><strong class="ky iz">{ </strong><em class="li">div </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"D" } }<br/>        }<br/>    }<br/>}</strong></span></pre><p id="0f07" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">(æ›´å¥½çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨applyæ¥ç®€åŒ–è¿™ç§è¯­æ³•ï¼Œè¿™æ˜¯DSLçš„ä¸€ç§æµè¡Œçš„ä¹ è¯­)</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6631" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">fun </strong>View.table(init: Table.()-&gt;Unit) {<br/>    <strong class="ky iz">childrens </strong>+= Table().<em class="li">apply</em>(init)<br/>}</span><span id="c5e5" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>View.div(init: Div.()-&gt;Unit) {<br/>    <strong class="ky iz">childrens </strong>+= Div().<em class="li">apply</em>(init)<br/>}</span><span id="abab" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>Table.tr(init: Tr.()-&gt;Unit) {<br/>    <strong class="ky iz">childrens </strong>+= Tr().<em class="li">apply</em>(init)<br/>}</span><span id="6b21" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>Table.td(init: Td.()-&gt;Unit) {<br/>    <strong class="ky iz">childrens </strong>+= Td().<em class="li">apply</em>(init)<br/>}</span></pre><p id="5841" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬å¯ä»¥åˆ›å»º<code class="fe mn mo mp ky b">table</code>ã€<code class="fe mn mo mp ky b">div</code>ã€<code class="fe mn mo mp ky b">tr</code>å’Œ<code class="fe mn mo mp ky b">td</code>æˆå‘˜å‡½æ•°ï¼Œä½†è¿™åªæ˜¯æŒ‡å®šæ¥æ”¶è€…çš„ä¸åŒæ–¹å¼ã€‚é—®é¢˜æ˜¯ï¼Œç°åœ¨æ¥æ”¶è€…åœ¨è¡¨è¾¾å…³ç³»ä¸­æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„è§’è‰²ï¼Œé—®é¢˜ä¹‹ä¸€æ˜¯æˆ‘ä»¬åªæœ‰ä¸€ä¸ª(æˆ–ä¸¤ä¸ª)æ¥æ”¶è€…çš„ç©ºé—´ï¼Œä¸èƒ½å†å¤šäº†ã€‚</p><figure class="kt ku kv kw gt ip gh gi paragraph-image"><a href="https://leanpub.com/effectivekotlin/c/3YYtCtqCC6a4"><div class="gh gi mr"><img src="../Images/0742a8ad0cfd3851db2d28061bf6f214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xbef0K0JtDZ6F2vBVUDZsg.jpeg"/></div></a></figure><h1 id="a178" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">è®¸å¤šå…³ç³»</h1><p id="10dc" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">å¦‚æœä½ åœ¨DSLä¸­æœ‰ä¸€äº›é‡å¤çš„è¡Œä¸ºï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥æå–å®ƒï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒä¸çˆ¶ç±»çš„å…³ç³»ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ‰©å±•å‡½æ•°ã€‚</p><p id="8c98" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åœ¨HTML DSLä¸­æœ‰ä¸€ä¸ªé‡å¤å—æ—¶:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="bb53" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">body {<br/>    div</strong>(classes = <strong class="ky iz">"main-head"</strong>) <strong class="ky iz">{<br/>        </strong>+<strong class="ky iz">"Title1"<br/>    }<br/>}</strong></span><span id="6df4" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">body {<br/>    div</strong>(classes = <strong class="ky iz">"main-head"</strong>) <strong class="ky iz">{<br/>        </strong>+<strong class="ky iz">"Title2"<br/>    }<br/>}</strong></span></pre><p id="656c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°æå–å®ƒ:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="e3b1" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">body {<br/>    </strong><em class="li">head</em>(<strong class="ky iz">"Title1"</strong>)<br/><strong class="ky iz">}</strong></span><span id="fa37" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">body {<br/>    </strong><em class="li">head</em>(<strong class="ky iz">"Title2"</strong>)<br/><strong class="ky iz">}</strong></span><span id="ce11" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>BODY.head(title: String) {<br/>    <strong class="ky iz">div</strong>(classes = <strong class="ky iz">"main-head"</strong>) <strong class="ky iz">{<br/>        </strong>+title<br/>    <strong class="ky iz">}<br/></strong>}</span></pre><p id="e15c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åŒæ ·ï¼Œå½“æˆ‘ä»¬åœ¨Ktor DSLä¸­æœ‰ä¸€ä¸ªé‡å¤å“åº”æ¨¡å—æ—¶:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="a3c0" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"endpoint1"</strong>) <strong class="ky iz">{<br/>    </strong>ok()<br/><strong class="ky iz">}</strong></span><span id="bbb0" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"endpoint2"</strong>) <strong class="ky iz">{<br/>    </strong>ok()<br/><strong class="ky iz">}</strong></span><span id="a98d" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">suspend fun </strong>PipelineContext&lt;Unit, ApplicationCall&gt;.ok() {<br/>    <em class="li">call</em>.<em class="li">respond</em>(HttpStatusCode.<strong class="ky iz">OK</strong>)<br/>}</span></pre><p id="e9b7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦æå–ä¸€ä¸ªå±äº2 DSLsçš„è¡Œä¸ºå‘¢ï¼Ÿæ¯”å¦‚æ„å»ºHTMLå’Œä½¿ç”¨å…³äºå‘¼å«çš„æ•°æ®ï¼Ÿ</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="1822" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"endpoint1"</strong>) <strong class="ky iz">{<br/>    </strong><em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            val </strong>name = <em class="li">call</em>.<strong class="ky iz">parameters</strong>[<strong class="ky iz">"name"</strong>]<br/>            <em class="li">application</em>.<strong class="ky iz">environment</strong>.<strong class="ky iz">log</strong>.info(<strong class="ky iz">"Parameter name is $</strong>name<strong class="ky iz">"</strong>)<br/>            <strong class="ky iz">div</strong>(classes = <strong class="ky iz">"param-display"</strong>) <strong class="ky iz">{<br/>                </strong>+<strong class="ky iz">"Parameter name is $</strong>name<strong class="ky iz">"<br/>            }<br/>        }<br/>    }<br/>}<br/>get</strong>(<strong class="ky iz">"endpoint2"</strong>) <strong class="ky iz">{<br/>    </strong><em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            val </strong>surname = <em class="li">call</em>.<strong class="ky iz">parameters</strong>[<strong class="ky iz">"surname"</strong>]<br/>            <em class="li">application</em>.<strong class="ky iz">environment</strong>.<strong class="ky iz">log</strong>.info(<strong class="ky iz">"Parameter surname is $</strong>surname<strong class="ky iz">"</strong>)<br/>            <strong class="ky iz">div</strong>(classes = <strong class="ky iz">"param-display"</strong>) <strong class="ky iz">{<br/>                </strong>+<strong class="ky iz">"Parameter surname is $</strong>surname<strong class="ky iz">"<br/>            }<br/>        }<br/>    }<br/>}</strong></span></pre><p id="4734" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬åªèƒ½éšå¼ä¼ é€’ä¸€ä¸ªæ¥æ”¶è€…ã€‚å¦ä¸€ä¸ªéœ€è¦ä½œä¸ºå‚æ•°æ˜¾å¼ä¼ é€’(å¦‚æœä½ çœŸçš„æƒ³è¿™ä¹ˆåšçš„è¯)ã€‚</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="94f3" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"endpoint1"</strong>) <strong class="ky iz">{<br/>    </strong><em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            </strong><em class="li">parameterDisplay</em>(<strong class="ky iz">this</strong>@get, <strong class="ky iz">"name"</strong>)<br/>        <strong class="ky iz">}<br/>    }<br/>}<br/>get</strong>(<strong class="ky iz">"endpoint2"</strong>) <strong class="ky iz">{<br/>    </strong><em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            </strong><em class="li">parameterDisplay</em>(<strong class="ky iz">this</strong>@get, <strong class="ky iz">"surname"</strong>)<br/>        <strong class="ky iz">}<br/>    }<br/>}</strong></span><span id="5e77" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">private fun </strong>BODY.parameterDisplay(<br/>    pipelineContext: PipelineContext&lt;Unit, ApplicationCall&gt;,<br/>    paramName: String<br/>) {<br/>    <strong class="ky iz">val </strong>value = pipelineContext.<em class="li">call</em>.<strong class="ky iz">parameters</strong>[paramName]<br/>    pipelineContext.<em class="li">application</em>.<strong class="ky iz">environment</strong>.<strong class="ky iz">log</strong>.info(<strong class="ky iz">"Parameter $</strong>paramName<strong class="ky iz"> is $</strong>value<strong class="ky iz">"</strong>)<br/>    <strong class="ky iz">div</strong>(classes = <strong class="ky iz">"param-display"</strong>) <strong class="ky iz">{<br/>        </strong>+<strong class="ky iz">"Parameter $</strong>paramName<strong class="ky iz"> is $</strong>value<strong class="ky iz">"<br/>    }<br/></strong>}</span></pre><p id="2492" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™çœ‹èµ·æ¥åƒä¸€ä¸ªå¯æ€•çš„åæ¨¡å¼ï¼Œä½†è¿™æ ·çš„æƒ³æ³•å¬èµ·æ¥å¹¶ä¸ä¸å¯æ€è®®ã€‚æˆ‘ä»¬è¶Šæ¥è¶Šé¢‘ç¹åœ°ä½¿ç”¨DSLï¼Œæˆ‘ä»¬æƒ³è¦æå–åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»æœ‰äº†è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå³ä¸€ä¸ªæ¥æ”¶å™¨å·²ç»è¢«å ç”¨ï¼Œè€Œæˆ‘ä»¬ä¸èƒ½æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼æ¥åšã€‚</p><h1 id="19c7" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">åªæ˜¯å¤šäº†ä¸€ä¸ªæ¥æ”¶å™¨</h1><p id="0015" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å†éšè—ä¸€ä¸ªæ¥æ”¶è€…â€”â€”ä½¿ç”¨æˆå‘˜æ‰©å±•ã€‚å®ƒå·²ç»åœ¨<code class="fe mn mo mp ky b">table</code>çš„ä¾‹å­ä¸­ä½¿ç”¨äº†ã€‚<code class="fe mn mo mp ky b">unaryPlus</code>éœ€è¦æˆä¸º<code class="fe mn mo mp ky b">String</code>ä¸Šçš„è¿ç®—ç¬¦ï¼Œå¹¶ä¸”éœ€è¦ä¿®æ”¹ç±»å‹<code class="fe mn mo mp ky b">View</code>çš„çˆ¶ç±»å‹ã€‚å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿å®ƒæˆä¸ºæˆå‘˜æ‰©å±•:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6a23" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">abstract class </strong>View(<br/>   <strong class="ky iz">var childrens</strong>: List&lt;View&gt; = <em class="li">emptyList</em>()<br/>) {<br/>    <em class="li">// This already must be a member extension<br/>    // because we need 2 receivers: Text and String<br/>    </em><strong class="ky iz">operator fun </strong>String.unaryPlus() {<br/>        <strong class="ky iz">childrens </strong>+= Text(<strong class="ky iz">this</strong>)<br/>    }<br/>}</span><span id="913c" class="lc ld iy ky b gy lj lf l lg lh"><em class="li">td </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"A" }<br/></strong><em class="li">div </em><strong class="ky iz">{ </strong>+<strong class="ky iz">"B" }</strong></span></pre><p id="7bc9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯æ€•çš„æ¨¡å¼ï¼Œæˆ‘åœ¨<a class="ae mq" href="https://leanpub.com/effectivekotlin/" rel="noopener ugc nofollow" target="_blank">æœ‰æ•ˆç§‘ç‰¹æ—</a>çš„ç¬¬41é¡¹ä¸­è­¦å‘Šè¿‡å®ƒã€‚è¿™ä¸ªæŠ€å·§åº”è¯¥åªåœ¨æŸäº›DSLå†…éƒ¨ä½¿ç”¨ï¼Œå¹¶ä¸”åªåœ¨æˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ—¶å€™ä½¿ç”¨ã€‚ä¸åº”è¯¥æˆä¸ºä¸€ä¸ªæ ‡å‡†ã€‚</p><h1 id="7869" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">ç»“æ„åŒ–å¹¶å‘</h1><p id="e2aa" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">ä¸€ä¸ªæµè¡Œçš„DSLä¾‹å­æ˜¯Kotlinåç¨‹ä¸­çš„ç»“æ„åŒ–å¹¶å‘ã€‚å®ƒçš„å·¥ä½œæ–¹å¼æ˜¯é™¤äº†<code class="fe mn mo mp ky b">runBlocking</code>(æ‰€ä»¥<code class="fe mn mo mp ky b">launch</code>ï¼Œ<code class="fe mn mo mp ky b">async</code>)ä¹‹å¤–çš„æ‰€æœ‰åç¨‹æ„å»ºå™¨éƒ½æ˜¯<code class="fe mn mo mp ky b">CoroutineScope</code>çš„æ‰©å±•:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="c835" class="lc ld iy ky b gy le lf l lg lh"><em class="li">runBlocking </em><strong class="ky iz">{<br/>    </strong><em class="li">launch </em><strong class="ky iz">{ <br/>        val </strong>a = <em class="li">async </em><strong class="ky iz">{ </strong><em class="li">getValue1</em>() <strong class="ky iz">}<br/>        val </strong>b = <em class="li">async </em><strong class="ky iz">{ </strong><em class="li">getValue2</em>() <strong class="ky iz">}<br/>        </strong><em class="li">print</em>(a.await() + b.await())<br/>    <strong class="ky iz">}<br/>}</strong></span><span id="7a94" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">public fun </strong>CoroutineScope.launch(<br/>    context: CoroutineContext = EmptyCoroutineContext,<br/>    start: CoroutineStart = CoroutineStart.DEFAULT,<br/>    block: <strong class="ky iz">suspend </strong>CoroutineScope.() -&gt; Unit<br/>): Job {<br/>    <strong class="ky iz">val </strong>newContext = newCoroutineContext(context)<br/>    <strong class="ky iz">val </strong>coroutine = <strong class="ky iz">if </strong>(start.isLazy)<br/>        LazyStandaloneCoroutine(newContext, block) <strong class="ky iz">else<br/>        </strong>StandaloneCoroutine(newContext, active = <strong class="ky iz">true</strong>)<br/>    coroutine.start(start, coroutine, block)<br/>    <strong class="ky iz">return </strong>coroutine<br/>}</span><span id="2725" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">public fun </strong>&lt;T&gt; CoroutineScope.async(<br/>    context: CoroutineContext = EmptyCoroutineContext,<br/>    start: CoroutineStart = CoroutineStart.<strong class="ky iz">DEFAULT</strong>,<br/>    block: <strong class="ky iz">suspend </strong>CoroutineScope.() -&gt; T<br/>): Deferred&lt;T&gt; {<br/>    <strong class="ky iz">val </strong>newContext = <em class="li">newCoroutineContext</em>(context)<br/>    <strong class="ky iz">val </strong>coroutine = <strong class="ky iz">if </strong>(start.<strong class="ky iz">isLazy</strong>)<br/>        LazyDeferredCoroutine(newContext, block) <strong class="ky iz">else<br/>        </strong>DeferredCoroutine&lt;T&gt;(newContext, active = <strong class="ky iz">true</strong>)<br/>    coroutine.start(start, coroutine, block)<br/>    <strong class="ky iz">return </strong>coroutine<br/>}</span></pre><p id="1bd8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™ä¸ª<code class="fe mn mo mp ky b">CoroutineScope</code>æ˜¯ä¸€ä¸ªç”±çˆ¶èŠ‚ç‚¹ç”Ÿæˆï¼Œç”±å­èŠ‚ç‚¹ä½¿ç”¨çš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œå®ƒå½¢æˆäº†ä½œä¸ºç»“æ„åŒ–å¹¶å‘åŸºç¡€çš„çˆ¶å­å…³ç³»ã€‚å®ƒåœ¨æ¯ä¸ªåç¨‹å‡½æ•°ä¸­éƒ½æ˜¯éœ€è¦çš„ï¼Œæˆ–è€…è‡³å°‘æ›¾ç»æ˜¯éœ€è¦çš„ï¼Œå› ä¸ºè¿™ä¸ªåç¨‹ä½œç”¨åŸŸæ­£åœ¨å»ºç«‹è¿™ç§å…³ç³»ã€‚</p><p id="5ff4" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å°½ç®¡æœ‰å¿…è¦åœ¨<code class="fe mn mo mp ky b">CoroutineScope</code>ä¸Šæ‰©å±•æ‰€æœ‰è¿™äº›åŠŸèƒ½ï¼Œä½†è¿™ç¡®å®æ˜¯ä¸€ç§é™åˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¥æ”¶å™¨ä½ç½®è¢«é”å®šã€‚ä¾‹å¦‚ï¼Œçœ‹åˆ°é›†åˆå¤„ç†æ˜¯å¦‚ä½•å®ç°çš„(åœ¨<code class="fe mn mo mp ky b">Iterable&lt;T&gt;</code>ä¸Šçš„æ‰©å±•å‡½æ•°)ï¼Œæ‚¨å¯èƒ½ä¼šæ€€ç–‘æˆ‘ä»¬åº”è¯¥ä¸ºKotliné€šé“æä¾›ç±»ä¼¼çš„ä¸œè¥¿ã€‚å°½ç®¡è¿™ä¸æ˜¯å®˜æ–¹æ–‡æ¡£å»ºè®®å®ç°å¤„ç†å™¨çš„æ–¹å¼:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="4d54" class="lc ld iy ky b gy le lf l lg lh">fun CoroutineScope.produceNumbers() = produce&lt;Int&gt; {<br/>   var x = 1 // start from 1<br/>   while (true) {<br/>   send(x++) // produce next<br/>   delay(100) // wait 0.1s<br/>   }<br/>}</span><span id="26b3" class="lc ld iy ky b gy lj lf l lg lh">fun CoroutineScope.launchProcessor(id: Int, channel: ReceiveChannel&lt;Int&gt;) = launch {<br/>   for (msg in channel) {<br/>   println(â€œProcessor #$id received $msgâ€)<br/>   } <br/>}</span><span id="691c" class="lc ld iy ky b gy lj lf l lg lh">val producer = produceNumbers()<br/>repeat(5) { launchProcessor(it, producer) }<br/>delay(950)<br/>producer.cancel() // cancel producer coroutine and thus kill them all</span></pre><p id="b6fe" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™æ˜¯å› ä¸ºä¿¡é“ä»£è¡¨äº†ä¸€ç§ä¸åŒçš„æŠ½è±¡ï¼Œå®ƒç°åœ¨å·²ç»åœ¨<code class="fe mn mo mp ky b">Flows</code>ä¸­å¾ˆå¥½åœ°(å®éªŒæ€§åœ°)å®ç°äº†:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="48f9" class="lc ld iy ky b gy le lf l lg lh">flow.<em class="li">filter </em><strong class="ky iz">{ it </strong>% 2 == 0 <strong class="ky iz">}<br/>      </strong>.<em class="li">map </em><strong class="ky iz">{ it </strong>* 2 <strong class="ky iz">}</strong></span></pre><p id="ac80" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™ç§å…³ç³»æ˜¾ç„¶å­˜åœ¨ã€‚æ‚¨å¯ä»¥åœ¨ç¤ºä¾‹ä¸­çœ‹åˆ°ï¼Œå› ä¸ºæˆ‘åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­å¯åŠ¨äº†<code class="fe mn mo mp ky b">collect</code>ï¼Œæ‰€ä»¥å®ƒåœ¨ä¸åŒçš„è°ƒåº¦ç¨‹åºä¸­æ‰§è¡Œï¼Œæˆ‘ä¹Ÿå¯ä»¥ä»å¤–éƒ¨å–æ¶ˆå®ƒ:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6457" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">import </strong>kotlinx.coroutines.*<br/><strong class="ky iz">import </strong>kotlinx.coroutines.flow.*<br/>@UseExperimental(InternalCoroutinesApi::<strong class="ky iz">class</strong>)<br/><strong class="ky iz">fun </strong>main() {<br/>    <em class="li">runBlocking </em><strong class="ky iz">{<br/>        val </strong>foo: Flow&lt;Int&gt; = <em class="li">flow </em><strong class="ky iz">{<br/>            for </strong>(i <strong class="ky iz">in </strong>1..100) {<br/>                <strong class="ky iz">val </strong>threadName = Thread.currentThread().<em class="li">name<br/>                println</em>(<strong class="ky iz">"Emitting $</strong>i<strong class="ky iz"> at $</strong>threadName<strong class="ky iz">"</strong>)<br/>                emit(i)<br/>                <em class="li">delay</em>(500)<br/>            }<br/>        <strong class="ky iz">}<br/>                </strong>.<em class="li">filter </em><strong class="ky iz">{ it </strong>% 2 == 0 <strong class="ky iz">}<br/>                </strong>.<em class="li">map </em><strong class="ky iz">{ it </strong>* 2 <strong class="ky iz">}<br/><br/>        val </strong>consume: <strong class="ky iz">suspend </strong>(Int) -&gt; Unit = <strong class="ky iz">{ </strong>value: Int <strong class="ky iz">-&gt;<br/>            </strong><em class="li">println</em>(<strong class="ky iz">"Consumed $</strong>value<strong class="ky iz"> at ${</strong>Thread.currentThread().<em class="li">name</em><strong class="ky iz">}"</strong>)<br/><br/>        <strong class="ky iz">}<br/><br/>        val </strong>job = <em class="li">Job</em>()<br/>        <em class="li">launch</em>(job + <em class="li">newSingleThreadContext</em>(<strong class="ky iz">"MyThread"</strong>)) <strong class="ky iz">{<br/>            </strong>foo.<em class="li">collect</em>(consume)<br/>            <em class="li">/*<br/>            Emitting 1 at MyThread<br/>            Emitting 2 at MyThread<br/>            Consumed 4 at MyThread<br/>            Emitting 3 at MyThread<br/>            */<br/>        </em><strong class="ky iz">}<br/>        </strong><em class="li">delay</em>(1200)<br/>        job.<em class="li">cancelAndJoin</em>()<br/>    <strong class="ky iz">}<br/></strong>}</span></pre><p id="e4d2" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸ºä»€ä¹ˆä¸ºäº†ä½¿å®ƒæˆä¸ºå¯èƒ½ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ª<code class="fe mn mo mp ky b">collect</code>åŠŸèƒ½å’Œä¸Šä¸‹æ–‡ä¹‹é—´æœ‰ä¸€äº›è”ç³»ã€‚å®ƒè¿‡å»æ˜¯é€šè¿‡<code class="fe mn mo mp ky b">CoroutineScope</code>æ¥æ”¶å™¨ä¼ é€’çš„ï¼Œä½†ç°åœ¨æ˜¾ç„¶ä¸æ˜¯äº†ã€‚ç­”æ¡ˆæ˜¯è¿™ä¸ªé—®é¢˜ä»¥ä¸€ç§æœ‰ç‚¹ç‹¡çŒ¾çš„æ–¹å¼è¢«å›é¿äº†ã€‚<code class="fe mn mo mp ky b">CoroutineContext</code>(è¿™æ˜¯<code class="fe mn mo mp ky b">CorouitneScope</code>æ¥å£çš„å”¯ä¸€ç»„ä»¶)å‡ºç°åœ¨continuationä¸­(éšå¼ä¼ é€’ç»™æŒ‚èµ·å‡½æ•°)ï¼Œå¹¶ä»é‚£é‡Œè·å–ã€‚åˆ¶ä½œè¿™ç§æŠŠæˆçš„ä¸€ç§æ–¹æ³•æ˜¯æš‚åœå‡½æ•°ä»¥è·å–ä¸Šä¸‹æ–‡ï¼Œç„¶åç«‹å³æ¢å¤å®ƒã€‚è¿™å°±æ˜¯<code class="fe mn mo mp ky b">coroutineScope</code>ç›®å‰çš„å®ç°æ–¹å¼:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="acbe" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">suspend fun </strong>&lt;R&gt; coroutineScope(block: <strong class="ky iz">suspend </strong>CoroutineScope.() -&gt; R): R =<br/>    <em class="li">suspendCoroutineUninterceptedOrReturn </em><strong class="ky iz">{ </strong>uCont <strong class="ky iz">-&gt;<br/>        val </strong>coroutine = ScopeCoroutine(uCont.<strong class="ky iz">context</strong>, uCont)<br/>        coroutine.<em class="li">startUndispatchedOrReturn</em>(coroutine, block)<br/>    <strong class="ky iz">}</strong></span></pre><p id="14ba" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å—¯â€¦â€¦è¿™æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„æ–¹æ³•ï¼Œä½†ç”±äºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ¥æ”¶è€…ï¼Œä½†ä»ç„¶ä¸çˆ¶æ¯æœ‰å…³ç³»ã€‚</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="58cc" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">suspend fun </strong>fakeOperation(): Int = <strong class="ky iz">try </strong>{<br/>    <em class="li">delay</em>(Long.<strong class="ky iz">MAX_VALUE</strong>)<br/>    42<br/>} <strong class="ky iz">finally </strong>{<br/>    <em class="li">println</em>(<strong class="ky iz">"Cancelled"</strong>)<br/>}<br/><br/><strong class="ky iz">suspend fun </strong>fakeOperations() = <em class="li">coroutineScope </em><strong class="ky iz">{<br/>    val </strong>a = <em class="li">async </em><strong class="ky iz">{ </strong><em class="li">fakeOperation</em>() <strong class="ky iz">}<br/>    val </strong>b = <em class="li">async </em><strong class="ky iz">{ </strong><em class="li">fakeOperation</em>() <strong class="ky iz">}<br/>    </strong>a.await() + b.await()<br/><strong class="ky iz">}<br/><br/>suspend fun </strong>main() = <em class="li">coroutineScope </em><strong class="ky iz">{<br/>    val </strong>job = <em class="li">Job</em>()<br/>    <em class="li">launch</em>(job) <strong class="ky iz">{<br/>        val </strong>ret = <em class="li">fakeOperations</em>()<br/>        <em class="li">print</em>(ret)<br/>    <strong class="ky iz">}<br/>    </strong><em class="li">delay</em>(1000)<br/>    job.<em class="li">cancelAndJoin</em>()<br/>    <em class="li">// Cancelled<br/>    // Cancelled<br/></em><strong class="ky iz">}</strong></span></pre><p id="5ff7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¥½åƒå—ï¼Ÿä¿®æ­£äº†ä¸€äº›é‡è¦çš„ç”¨ä¾‹ï¼Œä½†æ˜¯ä½¿å¾—å­èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»æ›´åŠ éšå«ã€‚ä¸ä¹…å‰ï¼ŒKotlinä¸ºæ­¤æ¨å‡ºäº†ä¸€ä¸ªæ›´å¼ºå¤§çš„å·¥å…·ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨Kotlin stdlibä¸­æ‰¾åˆ°ä»¥ä¸‹æ‰©å±•å±æ€§:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="8064" class="lc ld iy ky b gy le lf l lg lh"><em class="li">/**<br/> * Returns the context of the current coroutine.<br/> */<br/></em>@SinceKotlin(<strong class="ky iz">"1.3"</strong>)<br/>@Suppress(<strong class="ky iz">"WRONG_MODIFIER_TARGET"</strong>)<br/>@InlineOnly<br/><strong class="ky iz">public suspend inline val </strong><em class="li">coroutineContext</em>: CoroutineContext<br/>    <strong class="ky iz">get</strong>() {<br/>        <strong class="ky iz">throw </strong>NotImplementedError(<strong class="ky iz">"Implemented as intrinsic"</strong>)<br/>    }</span></pre><p id="8899" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç”±äºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¯ä¸ªæŒ‚èµ·å‡½æ•°çš„ä¸Šä¸‹æ–‡:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="7412" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">suspend fun </strong>a() {<br/>    <em class="li">coroutineContext<br/></em>}</span></pre><p id="a8cd" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç¤ºä¾‹ç”¨é€”:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="b5fb" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">import </strong>kotlin.coroutines.<em class="li">coroutineContext</em></span><span id="cb27" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">suspend fun </strong>a() {<br/>    <em class="li">print</em>(<em class="li">coroutineContext</em>[CoroutineName]?.<strong class="ky iz">name</strong>)<br/>}</span><span id="02a7" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">fun </strong>main() {<br/>    <em class="li">runBlocking </em><strong class="ky iz">{<br/>        </strong><em class="li">withContext</em>(CoroutineName(<strong class="ky iz">"A"</strong>)) <strong class="ky iz">{<br/>            </strong><em class="li">a</em>() <em class="li">// A<br/>        </em><strong class="ky iz">}<br/>        </strong><em class="li">withContext</em>(CoroutineName(<strong class="ky iz">"B"</strong>)) <strong class="ky iz">{<br/>            </strong><em class="li">a</em>() <em class="li">// B<br/>        </em><strong class="ky iz">}<br/>    }<br/></strong>}</span></pre><p id="c99d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å®ƒä¹‹æ‰€ä»¥å­˜åœ¨ï¼Œæ˜¯å› ä¸ºæŒ‚èµ·å‡½æ•°å°†å»¶ç»­ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å½¼æ­¤ï¼Œå¹¶ä¸”å®ƒåŒ…å«è¿™ä¸ªä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯´æˆ‘ä»¬æ‰¾åˆ°äº†ä¼ é€’å¦ä¸€ä¸ªéšå¼å€¼çš„æ–¹æ³•ã€‚å®ƒè§£å†³äº†ä¸€èˆ¬çš„é—®é¢˜å—ï¼Ÿä¸å®Œå…¨æ˜¯ã€‚</p><p id="6333" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ³¨æ„ï¼ŒæŒ‚èµ·å‡½æ•°çš„å®ç°æ–¹å¼æœ‰ä¸€äº›é™åˆ¶ã€‚æŒ‚èµ·å‡½æ•°éœ€è¦å»¶ç»­ï¼Œæ‰€ä»¥åªèƒ½åœ¨æŒ‚èµ·å‡½æ•°ä¸­è°ƒç”¨ã€‚è¿™åœ¨éå†…è”çš„lambdasä¸­ä¹Ÿå¯èƒ½æ˜¯ä¸ªé—®é¢˜ã€‚æ¯”æ–¹è¯´ï¼Œåœ¨Ktoræ¡†æ¶ä¸­ï¼Œæˆ‘æƒ³åŸºäºæ¥è‡ªæ•°æ®åº“çš„æ•°æ®æ„å»ºHTML:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6f24" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"editPublicWorkshop/{key}"</strong>) <strong class="ky iz">{<br/>    val </strong>key = <em class="li">requireParameter</em>(<strong class="ky iz">"key"</strong>)<br/>    <em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            form {<br/>                for </strong>(lang <strong class="ky iz">in </strong>Languages.values()) {<br/>                    <strong class="ky iz">val </strong>publicWorkshop = publicWorkshopsRepo.getPublicWorkshop(key, lang.<strong class="ky iz">key</strong>) // ERROR<br/>                    +lang.<strong class="ky iz">key<br/>                    textArea</strong>(cols = <strong class="ky iz">"60"</strong>, rows = <strong class="ky iz">"5"</strong>) <strong class="ky iz">{<br/>                        name</strong>=lang.<strong class="ky iz">key<br/>                        </strong>+(publicWorkshop?.<em class="li">toJson</em>() ?: <strong class="ky iz">""</strong>)<br/>                    <strong class="ky iz">}<br/>                </strong>}<br/>                <strong class="ky iz">button</strong>(type = ButtonType.<strong class="ky iz">submit</strong>) <strong class="ky iz">{ </strong>+<strong class="ky iz">"Submit" }<br/>            }<br/>        }<br/>    }<br/>}</strong></span></pre><p id="dc6f" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">çœ‹èµ·æ¥ä¸é”™ï¼Œä½†æ˜¯ä¸å·¥ä½œï¼Œå› ä¸º<code class="fe mn mo mp ky b">getPublicWorkshop</code>æ˜¯ä¸€ä¸ªæ‚¬æµ®å‡½æ•°ã€‚å®ƒå¯ä»¥åœ¨<code class="fe mn mo mp ky b">get</code>çš„èŒƒå›´å†…å·¥ä½œï¼Œä½†ä¸èƒ½åœ¨<code class="fe mn mo mp ky b">form</code>çš„èŒƒå›´å†…å·¥ä½œã€‚è¿™æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="7f71" class="lc ld iy ky b gy le lf l lg lh"><strong class="ky iz">get</strong>(<strong class="ky iz">"editPublicWorkshop/{key}"</strong>) <strong class="ky iz">{<br/>    val </strong>key = <em class="li">requireParameter</em>(<strong class="ky iz">"key"</strong>)<br/>    <strong class="ky iz">val </strong>langToPublicWorkshop = Languages.values()<br/>        .<em class="li">associate </em><strong class="ky iz">{ </strong>lang <strong class="ky iz">-&gt; </strong>lang <em class="li">to </em>publicWorkshopsRepo.getPublicWorkshop(key, lang.<strong class="ky iz">key</strong>) <strong class="ky iz">}</strong></span><span id="6709" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">    </strong><em class="li">call</em>.<em class="li">respondHtml </em><strong class="ky iz">{<br/>        body {<br/>            form {<br/>                for </strong>(lang <strong class="ky iz">in </strong>Languages.values()) {<br/>                    +lang.<strong class="ky iz">key<br/>                    textArea</strong>(cols = <strong class="ky iz">"60"</strong>, rows = <strong class="ky iz">"5"</strong>) <strong class="ky iz">{<br/>                        name</strong>=lang.<strong class="ky iz">key<br/>                        </strong>+(langToPublicWorkshop[lang]?.<em class="li">toJson</em>() ?: <strong class="ky iz">""</strong>)<br/>                    <strong class="ky iz">}<br/>                </strong>}<br/>                <strong class="ky iz">button</strong>(type = ButtonType.<strong class="ky iz">submit</strong>) <strong class="ky iz">{ </strong>+<strong class="ky iz">"Submit" }<br/>            }<br/>        }<br/>    }<br/>}</strong></span></pre><h1 id="4650" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">Jetpackæ’°å†™</h1><p id="e9d5" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">å¦ä¸€ä¸ªè‘—åçš„DSLæ„å»ºå™¨æ˜¯Jetpack Compose:</p><pre class="kt ku kv kw gt kx ky kz la aw lb bi"><span id="6ada" class="lc ld iy ky b gy le lf l lg lh">@Composable<br/><strong class="ky iz">fun </strong>Counter() {<br/>    <strong class="ky iz">val </strong>amount = +state <strong class="ky iz">{ </strong>0 <strong class="ky iz">}</strong></span><span id="922d" class="lc ld iy ky b gy lj lf l lg lh"><strong class="ky iz">    </strong>Column <strong class="ky iz">{<br/>        </strong>Text(text = <strong class="ky iz">"Counter demo"</strong>)<br/>        Button(text = <strong class="ky iz">"Add"</strong>, onClick = <strong class="ky iz">{ </strong>amount.<em class="li">value</em>++ <strong class="ky iz">}</strong>)<br/>        Button(text = <strong class="ky iz">"Subtract"</strong>, onClick = <strong class="ky iz">{ </strong>amount.<em class="li">value</em>-- <strong class="ky iz">}</strong>)<br/>        Text(text = <strong class="ky iz">"Clicks: ${</strong>amount.<em class="li">value</em><strong class="ky iz">}"</strong>)<br/>    <strong class="ky iz">}<br/></strong>}</span></pre><p id="1aa0" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆå®ƒæ²¡æœ‰æ‰©å±•æ¥æ”¶å™¨ã€‚å®ƒç¡®å®å’Œè®¸å¤šå…¶ä»–å…ƒç´ åœ¨ä¸€èµ·ï¼Œä½†å®ƒä»¬éƒ½å¾ˆå¤æ‚ï¼Œè€Œ<code class="fe mn mo mp ky b">Composable</code>æ³¨é‡Šæ˜¯ä½œä¸ºä¸€ç§æ›´ç®€å•çš„æ–¹å¼å¼•å…¥çš„(åœ¨è¿™é‡Œ<a class="ae mq" href="http://intelligiblebabble.com/compose-from-first-principles/" rel="noopener ugc nofollow" target="_blank">é˜…è¯»</a>)ã€‚å› æ­¤ï¼Œè¯¥ä½ç½®å·²ç»è¢«é”å®šï¼Œæ‚¨å¯ä»¥å¿˜è®°<code class="fe mn mo mp ky b">Composable</code>æ‰©å±•åŠŸèƒ½ã€‚</p><figure class="kt ku kv kw gt ip gh gi paragraph-image"><a href="https://kt.academy/workshop/automaticTestingForBeginners"><div class="gh gi mr"><img src="../Images/3abcc7bf2c50c85e442eda42ef18d587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zMYtScxROfxxZWVgepGaug.png"/></div></a></figure><h1 id="e4e7" class="ll ld iy bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">å…³é—­</h1><p id="8db9" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">åœ¨æˆ‘çš„æ¼”è®²â€œKotlinç¦æ­¢åšçš„äº‹æƒ…â€ä¸­ï¼Œæˆ‘æŠŠâ€œéšè—å¤ªå¤šâ€åˆ—ä¸ºKotlinå¼€å‘è€…æœ€å¤§çš„é”™è¯¯ä¹‹ä¸€ã€‚éšå¼ä¼ é€’parentçš„æ¥æ”¶å™¨åœ¨ç¼–ç¨‹ç•Œæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„æƒ³æ³•ï¼Œä½†å®ƒå·²ç»å—åˆ°Kotlinå¼€å‘äººå‘˜çš„å–œçˆ±å’Œé«˜åº¦ä½¿ç”¨ã€‚è™½ç„¶æˆ‘ä»¬å¼€å§‹è§¦åŠè¾¹ç•Œï¼Œä½†æˆ‘ä»¬åªèƒ½é€šè¿‡ä¸€ä¸ªæ¥æ”¶å™¨ã€‚è¿™ä¸ªé™åˆ¶ä¼šé˜»æ­¢æˆ‘ä»¬ä»¥æˆ‘ä»¬å·²ç»ä¹ æƒ¯çš„æ–¹å¼è¿›è¡Œä»£ç æå–ã€‚</p><p id="36d9" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å½¢å¼ä¸Šï¼Œè¯­è¨€è®¾è®¡è€…å¯ä»¥å…è®¸ä¸€ä¸ªä»¥ä¸Šçš„éšå¼æ¥æ”¶è€…(æ¯”å¦‚åœ¨æˆå‘˜æ‰©å±•ä¸­)ï¼Œä½†æ˜¯è¿™ä¸ªæƒ³æ³•å¬èµ·æ¥éå¸¸å¯æ€•ã€‚ä¸æ¸…æ¥šä»€ä¹ˆä¸œè¥¿æ¥è‡ªå“ªé‡Œï¼Œä¿®æ”¹äº†ä»€ä¹ˆï¼Œä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆâ€¦æˆå‘˜æ‰©å±•å·²ç»æ˜¯ä¸€ä¸ªåä¸»æ„ï¼Œå…è®¸æ›´å¤šçš„æ¥æ”¶è€…å°±åƒå¢åŠ äº†æ‰€æœ‰çš„é—®é¢˜ã€‚</p><p id="bbe8" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦ä¸€æ–¹é¢ï¼Œåœ¨ä¸€äº›ç”¨ä¾‹ä¸­ï¼Œå—é˜»æŒ¡çš„æ¥æ”¶å™¨ä½ç½®ä¼šé€ æˆé™åˆ¶ã€‚å¯¹äºåç¨‹ç¨‹åºï¼Œåˆ›å»ºè€…è®¾æ³•ç”¨æ›´éšå«çš„æŠ€å·§æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨<code class="fe mn mo mp ky b">coroutineContext</code>ä¸ºæ—¢æœ‰è¶£åˆæœ‰ç‚¹å¯æ€•çš„å¯èƒ½æ€§æ‰“å¼€äº†å¤§é—¨ã€‚</p><p id="4720" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç›®å‰ï¼Œå¯¹äºè¿™ç§è®¾è®¡é™åˆ¶è¿˜æ²¡æœ‰é€šç”¨çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬çš„æ„ŸçŸ¥åœ¨è¿›åŒ–ï¼Œæˆ‘ä»¬åœ¨å¯»æ‰¾æ›´å¥½çš„æ–¹æ³•ã€‚åº“è®¾è®¡è€…æ…¢æ…¢äº†è§£åˆ°å¼ºè¿«ç”¨æˆ·åœ¨æ¥æ”¶å™¨ä¸Šæ“ä½œçš„ä»£ä»·ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„è¯é¢˜ï¼Œæˆ‘ä¼šè§‚å¯Ÿå®ƒçš„å‘å±•ã€‚</p></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="fd25" class="ll ld iy bd lm ln mz lp lq lr na lt lu lv nb lx ly lz nc mb mc md nd mf mg mh bi translated">å•å‡»ğŸ‘è¯´â€œè°¢è°¢ï¼â€å¹¶å¸®åŠ©ä»–äººæ‰¾åˆ°è¿™ç¯‡æ–‡ç« ã€‚</h1><p id="d95b" class="pw-post-body-paragraph jv jw iy jx b jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks ig bi translated">äº†è§£å¡å¸•å¤´æœ€æ–°çš„é‡å¤§æ–°é—»ã€‚å­¦é™¢ï¼Œ<a class="ae mq" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">è®¢é˜…æ—¶äº‹é€šè®¯</a>ï¼Œ<a class="ae mq" href="https://twitter.com/ktdotacademy" rel="noopener ugc nofollow" target="_blank">è§‚å¯ŸTwitter </a>å¹¶åœ¨mediumä¸Šå…³æ³¨æˆ‘ä»¬ã€‚</p><p id="c624" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœæ‚¨éœ€è¦Kotlinå·¥ä½œå®¤ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬å¦‚ä½•å¸®åŠ©æ‚¨:<a class="ae mq" href="https://kt.academy/" rel="noopener ugc nofollow" target="_blank"> kt.academy </a>ã€‚</p><figure class="kt ku kv kw gt ip gh gi paragraph-image"><a href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a"><div class="gh gi mr"><img src="../Images/3146970f03e44cb07afe660b0d43e045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54OqlYA4etu7wfpmMP5TKQ.png"/></div></a></figure></div></div>    
</body>
</html>