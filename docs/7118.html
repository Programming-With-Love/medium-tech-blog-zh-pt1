<html>
<head>
<title>[ Space Commader]: Take Command of Objective-C Whitespace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[空格命令]:控制目标-空格</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/space-commader-take-command-of-objective-c-whitespace-d1b69213097d?source=collection_archive---------5-----------------------#2015-06-03">https://medium.com/square-corner-blog/space-commader-take-command-of-objective-c-whitespace-d1b69213097d?source=collection_archive---------5-----------------------#2015-06-03</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="99f0" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">一组用于团队设置、定制和实施Objective-C格式的工具。</h2></div><p id="7750" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">作者</em> <a class="jt ju ge" href="https://medium.com/u/6710389d9d0?source=post_page-----d1b69213097d--------------------------------" rel="noopener" target="_blank"> <em class="js">艾伦·芬伯格</em> </a> <em class="js">。</em></p><blockquote class="jv"><p id="5b4a" class="jw jx hh bd jy jz ka kb kc kd ke jr dx translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们的新家<a class="ae kf" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">https://developer.squareup.com/blog</a></p></blockquote><figure class="kh ki kj kk kl km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kg"><img src="../Images/3e3cd3388c80f4eab12104f30bb8532e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dLbvcjUtV8vkYLk6.jpg"/></div></div></figure><p id="2330" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Square在<a class="ae kf" href="http://github.com/square/spacecommander" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上释放<strong class="iy hi">【空间指挥官】</strong>。<strong class="iy hi">【Space Commander】</strong>是一套工具，我们使用这套工具在注册iOS团队中设置、定制和实施Objective-C格式，并回收手动格式化代码所花费的时间。</p><h1 id="10e4" class="kt ku hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">不再吹毛求疵</h1><p id="86ed" class="pw-post-body-paragraph iw ix hh iy b iz ll ii jb jc lm il je jf ln jh ji jj lo jl jm jn lp jp jq jr ha bi translated">手动修复代码格式问题会耗费大量开发周期，这些周期用在其他地方会更好——但另一种情况是“窗口破碎”,因为不一致性增加，可读性降低。输入自动代码格式！</p><p id="a50e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">到目前为止，我们已经自动化了3500多个不同的Objective-C文件的格式，并且消除了对1200多个拉取请求和计数的格式进行注释的需要，估计节省了(至少)200个开发人员小时的时间。</p><h1 id="00dd" class="kt ku hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">太空指挥官已经着陆</h1><p id="174e" class="pw-post-body-paragraph iw ix hh iy b iz ll ii jb jc lm il je jf ln jh ji jj lo jl jm jn lp jp jq jr ha bi translated">由<a class="ae kf" href="https://corner.squareup.com/2015/06/llvm.org" rel="noopener ugc nofollow" target="_blank"> LLVM </a>提供的clang-format ，是一个让我们在Square感到兴奋的工具，因为它可以自动修复代码格式。它做了很多工作，但是我们需要额外的工具来满足我们的需求，将Objective-C代码格式化为我们特定的规范，并且轻松地协调开发团队。这就是<strong class="iy hi">【太空司令】</strong>的用武之地。</p><p id="9774" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">【太空指挥官】</strong>提供:</p><ul class=""><li id="bb3c" class="lq lr hh iy b iz ja jc jd jf ls jj lt jn lu jr lv lw lx ly bi translated">一个脚本，使用clang-format自动格式化已经改变的文件(根据git)。</li><li id="f8d2" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">钩子来添加clang-format目前没有提供的定制格式规则，并提供了示例，包括:</li><li id="99fa" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">在类定义之间添加一个额外的换行符(所以有2个换行符)。</li><li id="9e6c" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">文件末尾的换行符。</li><li id="7559" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">预格式化Objective-C代码，这样clang-format将产生最佳结果。</li><li id="f90d" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">添加提交前检查的脚本，这对于未格式化的代码将会失败，并提供如何用单个命令修复代码的有用说明。</li><li id="5af5" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">简化了整个团队的格式化规则的协调，这些规则可以随着时间的推移而改变，而没有任何持续的开销。</li><li id="7807" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">…以及测试脚本和装置，以防止随着规则的发展而出现倒退。</li><li id="9c24" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">在存储库上运行初始设置脚本后，将在每次提交时检查格式。</li><li id="4b9e" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">部署的格式更新将自动应用，无需任何额外的步骤(在前面提到的设置脚本运行之后)。</li><li id="70a3" class="lq lr hh iy b iz lz jc ma jf mb jj mc jn md jr lv lw lx ly bi translated">我们还提供了一个示例脚本，它可以作为构建过程的一部分运行，以便在发出拉请求时强制格式化。</li></ul><h1 id="78a6" class="kt ku hh bd kv kw kx ky kz la lb lc ld in le io lf iq lg ir lh it li iu lj lk bi translated">发射</h1><p id="526b" class="pw-post-body-paragraph iw ix hh iy b iz ll ii jb jc lm il je jf ln jh ji jj lo jl jm jn lp jp jq jr ha bi translated"><strong class="iy hi">【太空司令】</strong>把我们iOS团队带入了自动格式化代码文件的未来。我们很乐意交出空格、制表符、大括号等的“指挥权”。进入我们的Objective-C文件，这样我们可以更快地发布原始代码。</p><p id="c364" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可以<a class="ae kf" href="http://github.com/square/spacecommander" rel="noopener ugc nofollow" target="_blank">克隆</a> <strong class="iy hi">【太空司令】</strong>以便使用Square的代码风格，或者分叉它定制自己喜欢的格式规则。</p><p id="95a6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们希望<strong class="iy hi">【空间指挥官】</strong>带给你原始的代码并节省你的时间，当然我们也欢迎改进的贡献！</p><p id="e03d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">本帖是Square的“</em> <a class="ae kf" href="https://corner.squareup.com/2015/06/a-week-of-ios.html" rel="noopener ugc nofollow" target="_blank"> <em class="js">周iOS </em> </a> <em class="js">”系列的一部分。</em></p></div><div class="ab cl me mf go mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ha hb hc hd he"><div class="ml mm mn mo fd mp"><a rel="noopener follow" target="_blank" href="/@dunbar151"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hi fi z dy mu ea eb mv ed ef hg bi translated">艾伦·芬伯格-简介</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">债务:最初的5000年给我留下了深刻的印象，所以我急切地阅读了大卫·格雷伯的《规则的乌托邦》。它…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd kr mp"/></div></div></a></div></div></div>    
</body>
</html>