<html>
<head>
<title>Guide to implementing App Linking on Android 6.0 Marshmallow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android 6.0棉花糖上实现应用链接指南</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/heuristic-outcomes-by-ade-oshineye-6a360cc923ad?source=collection_archive---------3-----------------------#2015-09-30">https://medium.com/androiddevelopers/heuristic-outcomes-by-ade-oshineye-6a360cc923ad?source=collection_archive---------3-----------------------#2015-09-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/95dcbfe5ea1c20f106c0543bcc7e6f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*JOmj5Chk2UAKk30G_NlNYg.jpeg"/></div></figure><p id="a557" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Android Marshmallow有一个功能，可以让那些觉得他们的应用程序体验比他们的web体验更好的开发者的生活变得更好。它被称为<a class="ae jj" href="https://developer.android.com/training/app-links/index.html" rel="noopener ugc nofollow" target="_blank">应用链接</a>，它确保你的应用总是处理你的域的链接，而没有你通常会看到的歧义对话框。</p><figure class="jl jm jn jo fd ii jp jq jr js jt paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es jk"><img src="../Images/c9f8668a1159746ef315de26ac037be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*7nU6lRc-_osvwEgH3pPVEQ.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx">This is the disambiguation dialog I see when I click on a link to Stack Overflow.</figcaption></figure><p id="ff81" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">该功能称为应用链接，但应用和网站之间的连接称为应用链接。而且，如果你想知道的话，这与AppLinks.org的脸书<a class="ae jj" href="http://applinks.org/" rel="noopener ugc nofollow" target="_blank">计划无关。这是实现和测试该特性的简短指南。我们开始吧。</a></p><ol class=""><li id="dd5b" class="kc kd hh in b io ip is it iw ke ja kf je kg ji kh ki kj kk bi translated">浏览您的清单，确定您的应用程序声称能够支持的域(和子域)。</li><li id="2c96" class="kc kd hh in b io kl is km iw kn ja ko je kp ji kh ki kj kk bi translated">添加一个<a class="ae jj" href="https://developers.google.com/digital-asset-links/v1/getting-started" rel="noopener ugc nofollow" target="_blank"> assetlinks.json </a>文件，将你的应用(或多个应用)指向每个域或子域。如果有一个你不能控制的域或子域，那么验证过程将会失败。您可以从清单中删除主机，也可以从清单中删除<a class="ae jj" href="http://developer.android.com/reference/android/content/Intent.html#CATEGORY_BROWSABLE" rel="noopener ugc nofollow" target="_blank">CATEGORY _ BROWSABLE CATEGORY</a>,因为这将产生相同效果:您的应用程序不会拦截对其他人的域或子域的请求。</li><li id="695a" class="kc kd hh in b io kl is km iw kn ja ko je kp ji kh ki kj kk bi translated">请确保您在支持的每个域或子域上通过HTTPS提供assetlinks.json文件。你的整个网站不一定要支持HTTPS。在HTTPS上只提供assetlinks.json文件就足够了。</li><li id="1060" class="kc kd hh in b io kl is km iw kn ja ko je kp ji kh ki kj kk bi translated">确保assetlinks.json文件由内容类型“application/json”提供，因为它不能与任何其他内容类型一起使用。</li><li id="ecf0" class="kc kd hh in b io kl is km iw kn ja ko je kp ji kh ki kj kk bi translated">正如这里记录的<a class="ae jj" href="https://developer.android.com/preview/features/app-linking.html#test-dal-files" rel="noopener ugc nofollow" target="_blank"/>您应该使用我们的调试工具来验证每个域或子域都有一个有效的assetlinks.json文件。这里有一个我的网站的例子。</li></ol><p id="8c1a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">如果一切正常，您应该会看到如下消息:</p><figure class="jl jm jn jo fd ii"><div class="bz dy l di"><div class="kq kr l"/></div></figure><p id="c6ed" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为每个域的清单中的intents添加一个autoVerify属性。</p><figure class="jl jm jn jo fd ii"><div class="bz dy l di"><div class="kq kr l"/></div></figure><p id="6916" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请注意，验证器不遵循重定向，因此如果您试图通过一个所有其他URL都重定向到的规范文件来简化它，它将不起作用。通过阅读Christopher Orr 的这本<a class="ae jj" href="https://chris.orr.me.uk/android-app-linking-how-it-works/" rel="noopener ugc nofollow" target="_blank">优秀但现在已经过时的指南，您可以找到关于安装时验证过程的更多细节。</a></p><p id="5f6a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">不要忘记，所有这些文件必须完全匹配，因此，如果您更新其中一个文件，您必须更新所有文件。幸运的是，assetlinks.json中的SHA256是基于你的应用程序的私钥，所以一旦你添加了你的发布和调试密钥，你就永远不需要改变它。</p><p id="3aec" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">有了这个指南和<a class="ae jj" href="https://developer.android.com/training/app-links/index.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>，你现在知道了在Android棉花糖上创建应用程序链接所需的一切。如果你还有任何问题，请使用标签<a class="ae jj" href="http://stackoverflow.com/questions/tagged/android-app-linking" rel="noopener ugc nofollow" target="_blank"> android-app-linking </a>询问堆栈溢出问题。</p></div><div class="ab cl ks kt go jr" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ha hb hc hd he"><p id="ebfb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="ky">原载于2015年9月30日</em><a class="ae jj" href="http://blog.oshineye.com/2015/09/guide-to-implementing-app-linking-on.html" rel="noopener ugc nofollow" target="_blank"><em class="ky">blog.oshineye.com</em></a><em class="ky">。</em></p></div></div>    
</body>
</html>