<html>
<head>
<title>OCI Media Services — Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OCI媒体服务-简介</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/oci-media-services-introduction-970308af5bc8?source=collection_archive---------0-----------------------#2022-10-04">https://medium.com/oracledevs/oci-media-services-introduction-970308af5bc8?source=collection_archive---------0-----------------------#2022-10-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="6cd2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">甲骨文云基础设施(OCI)提供了两款新产品，一款通过“OCI媒体流”将视频编码和转码为不同的格式副本、容器和格式一旦视频被处理，你可以通过其他新产品，OCI边缘位置或CDN使用“OCI媒体流”OCI媒体服务是低成本、可扩展、人工智能集成、丰富的API驱动的服务。</p><p id="f510" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">基于视频的分析应用服务已经成为商业和个人生活不可或缺的一部分。5G和光纤互联网连接在家里变得越来越普遍，但相机设备为一个短视频长度产生了大量数据，无法直接传输给更广泛的观众。除了数据流，视频内容分析对于验证内容是否适合观众、检测视频中的对象、视频中显示的文本以及音频转录也变得至关重要。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/0070613178251137696009bf789bc22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*brOIUg8VWWOEavyHzl5kDg.jpeg"/></div></figure></div><div class="ab cl jk jl go jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="ha hb hc hd he"><p id="333c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> OCI媒体流:</strong>基于工作流的视频处理服务，将视频文件编码或转码为不同的编解码器和容器，生成缩略图，并集成OCI人工智能语音、人工智能语言和人工智能视觉服务。工作流由最小的工作“任务”组成。</p><p id="5105" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">视频被放入OCI对象存储桶，媒体工作流任务将提取文件进行代码转换，并使用核心任务处理文件。所有结果文件被转移到OCI对象存储桶。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/916800d42526b5c77499fb9253a7a4e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g3tQtd4XXQez6yqO-0VDXA.jpeg"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx">Architecture</figcaption></figure><p id="388b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">任务是离散的；然而，每一个都有需要满足的先决条件。例如，如果不从对象存储中获取文件，代码转换任务就无法进行。用配置定义的一组组合任务称为“<strong class="ig hi">媒体工作流</strong>“<strong class="ig hi">媒体工作流作业</strong>”是媒体工作流的实例，其利用作为媒体工作流作业参数提供的输入文件来运行定义的任务。</p><p id="45a3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">媒体工作流程可以包含以下任务:</p><p id="0782" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">获取文件</strong> —将文件从OCI对象存储桶获取到OCI媒体流服务。</p><p id="1efc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">转码</strong> —文件被转码为请求的编解码器&amp;容器。有三种不同类型的转码选项:</p><ol class=""><li id="39b5" class="ka kb hh ig b ih ii il im ip kc it kd ix ke jb kf kg kh ki bi translated"><em class="kj">标准代码转换</em> —标准参数用于平衡质量和速度。</li><li id="5cd4" class="ka kb hh ig b ih kk il kl ip km it kn ix ko jb kf kg kh ki bi translated"><em class="kj">速度优化</em> —代码转换经过优化，输出内容经过优化，可快速传送内容。</li><li id="1175" class="ka kb hh ig b ih kk il kl ip km it kn ix ko jb kf kg kh ki bi translated"><em class="kj">质量优化</em> —转码参数专注于带来最佳质量的输出。</li></ol><p id="702d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">转录</strong> —提取音频，发送给OCI AI语音服务，取回带有语音转文本内容的JSON。</p><p id="b9e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> visionDetection </strong> —从视频中提取帧，传输给OCI AI视觉服务，通过物体检测取回JSON。</p><p id="418f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">缩略图</strong> —从配置了尺寸的视频中生成的缩略图。</p><p id="958c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">摄取</strong> —如果转码任务创建OCI媒体流支持的文件，则有效。例如，代码转换创建HLS打包对于接收到OCI媒体流中的分发渠道是有效的。</p><p id="79cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> putFiles </strong> —转码和缩略图任务生成的所有输出文件都存储回OCI对象存储器。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es kp"><img src="../Images/5ecfa64ede06a92ac3478414e4c72f7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXbtB7faPfBEFV4cwLp2mQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx">Components of OCI Media Services</figcaption></figure><p id="f744" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">媒体工作流程使用JSON进行管理，并且可以在此处找到的<a class="ae kq" href="https://docs.oracle.com/en-us/iaas/Content/dms-mediaflow/media-flow-json-modal.htm" rel="noopener ugc nofollow" target="_blank">指令的帮助下进行访问。</a></p><p id="7edd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是构建带有任务定义的媒体工作流和运行媒体工作流作业的示例代码。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kr ks l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx">Media Flow Python Sample Code</figcaption></figure><p id="bd82" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Java示例代码<a class="ae kq" href="https://www.oracle.com/cloud/media-flow/" rel="noopener ugc nofollow" target="_blank">https://www.oracle.com/cloud/media-flow/</a></p><p id="6c2f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在视频方面，OCI媒体服务的关键元素是每个视频，其输出可以注册到OCI媒体服务以获得唯一的资产ID。用户可以将资产映射到父子关系以简化操作。</p><p id="8437" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在putFiles任务中，有一个通过“register metadata”:true来传达是否需要资产注册的选项</p></div><div class="ab cl jk jl go jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="ha hb hc hd he"><p id="61af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> OCI媒体流:</strong>通过CDN或OCI边缘位置，使用HTTP技术(HLS/Dash)传送由OCI媒体流会话令牌授权的媒体内容。内容主要通过OCI媒体流进行处理，并作为输入提供给OCI媒体流。OCI媒体流在服务中有Akamai CDN集成选项；然而，其他cdn也适用于OCI媒体流。</p><ol class=""><li id="a4b4" class="ka kb hh ig b ih ii il im ip kc it kd ix ke jb kf kg kh ki bi translated">分发渠道—它是一个具有CDN或Edge配置定义的HTTP流端点。</li><li id="eb2a" class="ka kb hh ig b ih kk il kl ip km it kn ix ko jb kf kg kh ki bi translated">打包—定义内容需要如何打包以便交付，例如该段需要在HLS流中存在多少秒，使用AES128加密。<br/>对于AES 128对称加密，密钥可以是Oracle管理的或客户管理的密钥。</li><li id="6c84" class="ka kb hh ig b ih kk il kl ip km it kn ix ko jb kf kg kh ki bi translated">摄取—获取提供的主播放列表以验证其子内容，并使其为即时打包做好准备。这仅将主播放列表作为输入，否则将出错。后处理，它产生一个资产id。</li><li id="289b" class="ka kb hh ig b ih kk il kl ip km it kn ix ko jb kf kg kh ki bi translated">会话令牌—一个字母数字值，提供对通过OCI媒体流传输的特定视频的访问。会话令牌的有效期最长可达24小时，超过该期限后需要生成新的会话令牌。</li></ol><p id="07e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个分发渠道可以有多个打包配置(例如，一个采用AES128加密，另一个不采用AES128加密)，以及多个摄取的视频。要回放视频，需要使用资产id和打包配置ID作为参数来生成会话令牌。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kt"><img src="../Images/dc1d5cd9cac2499fb08652ac08a57a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*T7LKMvz82UFYPL8v7iNs1Q.jpeg"/></div><figcaption class="jw jx et er es jy jz bd b be z dx">Media Streams Components</figcaption></figure><p id="4b41" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是一个示例代码，用于创建媒体流组件，接收由媒体流产生的资源，并生成用于回放的URL。<em class="kj">注意:生成的URL可以在HLS播放器上工作，如video.js和Safari web浏览器。</em></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kr ks l"/></div></figure><p id="8583" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Java示例代码:【https://www.oracle.com/cloud/media-streams/ T2】</p></div><div class="ab cl jk jl go jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="ha hb hc hd he"><p id="fe20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> IAM政策</strong></p><p id="43a1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">OCI媒体服务是一个平台即服务，客户需要授权访问媒体服务，以代表他们与其他相关服务(如OCI保险库或OCI对象存储)一起工作，以使媒体服务正常工作。</p><p id="9bdf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">确保<a class="ae kq" href="https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policies.htm" rel="noopener ugc nofollow" target="_blank"> OCI IAM政策概念</a>与以下内容一起应用。</p><p id="36f8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要授予隔离专区读取对象存储的权限，请在您的租用中创建此策略:</p><pre class="jd je jf jg fd ku kv kw kx aw ky bi"><span id="c51c" class="kz la hh kv b fi lb lc l ld le">Allow service mediaservices to read object-family in compartment &lt;compartment_name&gt;</span></pre><p id="b51f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要允许媒体流读取媒体元数据，请在您的租用中创建此策略:</p><pre class="jd je jf jg fd ku kv kw kx aw ky bi"><span id="f550" class="kz la hh kv b fi lb lc l ld le">Allow service mediaservices to read media-family in compartment &lt;compartment_name&gt;</span></pre><p id="f3f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论</strong></p><p id="9d5b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">媒体和娱乐是一个不断发展、不断创新、竞争激烈的行业。许多初创公司正在通过预算有限的基础开发产生巨大的创新浪潮。</p><p id="258d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">OCI媒体服务的价格极具竞争力，同时以一种简单的方式为媒体应用程序开发者提供OCI人工智能集成的广泛优势。</p><p id="4936" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">参考文献</strong></p><div class="lf lg ez fb lh li"><a href="https://docs.oracle.com/en-us/iaas/tools/python/2.81.0/api/media_services/client/oci.media_services.MediaServicesClient.html" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hi fi z dy ln ea eb lo ed ef hg bi translated">MediaServicesClient - oci 2.81.0文档</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">使用媒体服务API来配置媒体工作流程和运行媒体流作业，创建分发渠道，摄取…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><div class="lf lg ez fb lh li"><a href="https://docs.oracle.com/en-us/iaas/tools/java/2.42.0/com/oracle/bmc/mediaservices/package-frame.html" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hi fi z dy ln ea eb lo ed ef hg bi translated">com.oracle.bmc.mediaservices</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">编辑描述</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">docs.oracle.com</p></div></div></div></a></div><div class="lf lg ez fb lh li"><a href="https://hls-js.netlify.app/demo/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hi fi z dy ln ea eb lo ed ef hg bi translated">hls.js演示</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">在所有支持的浏览器中测试你的HLS流(Chrome/Firefox/IE11/Edge/Safari)。高级控件可从以下网址获得…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">hls-js.netlify.app</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ji li"/></div></div></a></div></div></div>    
</body>
</html>