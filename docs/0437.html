<html>
<head>
<title>Dependency Injection guidance on Android — ADS 2019</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android上的依赖注入指南— ADS 2019</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/dependency-injection-guidance-on-android-ads-2019-b0b56d774bc2?source=collection_archive---------4-----------------------#2019-11-06">https://medium.com/androiddevelopers/dependency-injection-guidance-on-android-ads-2019-b0b56d774bc2?source=collection_archive---------4-----------------------#2019-11-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/11b930e3ddc362473bc439f6cc3a230f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9URxLs3d3Q7RcFbV73BDuQ.png"/></div></div></figure><div class=""/><p id="b4b1" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">根据我们的<a class="ae jn" href="https://developer.android.com/training/dependency-injection" rel="noopener ugc nofollow" target="_blank">对依赖注入</a> (DI)的介绍，我们相信你应该在你的应用中一直使用DI原则。如果你正在开发一个专业的Android应用，使用<a class="ae jn" href="https://dagger.dev/" rel="noopener ugc nofollow" target="_blank"> Dagger </a>来更好地管理你的依赖。</p><p id="d6e7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们推荐中大型应用使用Dagger对于小的app或者宠物项目来说，你使用的工具并不重要，但是越早在你的项目中加入Dagger，它就越好，你以后需要重构的就越少。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jo"><img src="../Images/1c11409ac0255113aea550cd91c06287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*axxAjSBLLtq_8FF5"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><em class="jx">DI tool to use depending on the size of your project. This is relative, use your own judgement since every app is different.</em></figcaption></figure><p id="a092" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你比较一下使用Dagger和其他工具管理依赖关系的成本，Dagger一开始的成本相对较高，但随着应用程序变大，成本会趋于平稳。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es jo"><img src="../Images/c744ca688f3d596e4b943f5a574d3a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p-hjhK4DU9SH4s6F"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><em class="jx">Made up graph showing the scalability of different DI techniques</em></figcaption></figure><p id="f59a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">匕首真的闪耀着:</p><ul class=""><li id="648b" class="jy jz hs ir b is it iw ix ja ka je kb ji kc jm kd ke kf kg bi translated"><strong class="ir ht">表演</strong>。没有反射和在构建时生成的代码，Dagger可以提供最好的性能。</li><li id="ac5b" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><strong class="ir ht">正确性</strong>。匕首在建造时给你安全感。如果一个类型在DI应用程序图中不可用，您将无法构建项目，而是在运行时得到这些崩溃。</li><li id="dd18" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><strong class="ir ht">可扩展性</strong>。Dagger是按比例构建的，适用于Gmail、Google Photos或YouTube等大型应用程序。</li></ul><p id="b82c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">DI和Dagger是复杂的主题，因此我们提供文档和示例来学习这些专业工具。</p><h1 id="8e86" class="km kn hs bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">新文档</h1><p id="e1d3" class="pw-post-body-paragraph ip iq hs ir b is lk iu iv iw ll iy iz ja lm jc jd je ln jg jh ji lo jk jl jm ha bi translated">我们刚刚发布了一组文档来帮助您解决这个问题。我们希望通过提供良好的实践来帮助初学者和更有经验的用户。</p><p id="215c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">可用的新文档:</p><ul class=""><li id="b6f8" class="jy jz hs ir b is it iw ix ja ka je kb ji kc jm kd ke kf kg bi translated"><a class="ae jn" href="https://developer.android.com/training/dependency-injection" rel="noopener ugc nofollow" target="_blank"> DI概述</a>:什么是DI，以及在你的项目中使用它的好处。</li><li id="9038" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><a class="ae jn" href="https://developer.android.com/training/dependency-injection/manual" rel="noopener ugc nofollow" target="_blank">手动DI </a>:为了更好的了解DI的好处，以及匕首能为你做什么，你应该亲自尝试一下DI。在本页中，我们将展示如何在您的应用中手动执行DI。</li><li id="ef06" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><a class="ae jn" href="https://developer.android.com/training/dependency-injection/dagger-basics" rel="noopener ugc nofollow" target="_blank"> Dagger基础知识</a>:在你的项目中加入Dagger的好处以及它在幕后的作用。</li><li id="4bba" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><a class="ae jn" href="https://developer.android.com/training/dependency-injection/dagger-android" rel="noopener ugc nofollow" target="_blank">在Android应用程序中使用Dagger</a>:通过在典型的Android应用程序中添加Dagger，从头开始学习Dagger的所有概念。</li><li id="0cc0" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated"><a class="ae jn" href="https://developer.android.com/training/dependency-injection/dagger-multi-module" rel="noopener ugc nofollow" target="_blank">多模块应用中的Dagger</a>:如何在既有常规梯度模块又有动态特征模块的模块化app中使用Dagger。</li></ul><h1 id="1691" class="km kn hs bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">新代码实验室</h1><p id="d60b" class="pw-post-body-paragraph ip iq hs ir b is lk iu iv iw ll iy iz ja lm jc jd je ln jg jh ji lo jk jl jm ha bi translated">除了文档之外，学习一个主题的最好方法是亲自动手编写代码。我们发布了一个名为<a class="ae jn" href="https://codelabs.developers.google.com/codelabs/android-dagger" rel="noopener ugc nofollow" target="_blank">的新代码实验室，在Android应用</a>中使用Dagger。它从一个手动DI实现开始，您将一个接一个地迁移到Dagger流。</p><p id="1fbf" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结束时，您将构建一个这样的应用程序图！</p><figure class="jp jq jr js fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lp"><img src="../Images/e19d5c8f5cf9bbe63747398c2d10e4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rtkgs4cGPh-zWDZE"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Final Dagger graph built throughout the codelab</figcaption></figure><p id="376f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">完成codelab以理解Dagger的主要概念，这样您就可以相应地将它们应用到您的项目中。</p><h1 id="5d96" class="km kn hs bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">Android中更简单的匕首</h1><p id="e962" class="pw-post-body-paragraph ip iq hs ir b is lk iu iv iw ll iy iz ja lm jc jd je ln jg jh ji lo jk jl jm ha bi translated">我们希望通过减少您必须编写的代码量，使Dagger更容易被小型应用程序访问。我们正致力于一项新计划，将使Dagger在Android中更简单。什么将会改变？</p><ul class=""><li id="0d2b" class="jy jz hs ir b is it iw ix ja ka je kb ji kc jm kd ke kf kg bi translated">你为Dagger组件做的工作可以自动化！我们将提供一些预定义的组件，可以简化您的工作。</li><li id="b046" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated">它将与Jetpack的其余部分集成，并将提供与视图模型、工作管理器和导航的轻松集成。</li><li id="87e9" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated">科特林友好。我们希望Dagger在用Kotlin编写时能够无缝地工作，并扩展它的功能，使它能够与委托和其他Kotlin强大的功能一起工作。</li><li id="b313" class="jy jz hs ir b is kh iw ki ja kj je kk ji kl jm kd ke kf kg bi translated">Dagger模块是向Dagger图提供信息的方式。重要的是，它们在新计划中保留并提供相同的功能。</li></ul><p id="ba1f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请继续关注，我们正在努力。</p><h1 id="f7a4" class="km kn hs bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">匕首.安卓</h1><p id="ee45" class="pw-post-body-paragraph ip iq hs ir b is lk iu iv iw ll iy iz ja lm jc jd je ln jg jh ji lo jk jl jm ha bi translated"><a class="ae jn" href="https://dagger.dev/android" rel="noopener ugc nofollow" target="_blank"> dagger.android </a>是dagger之上的一个库，当在android框架类(例如活动或片段)中使用Dagger时，它减少了样板代码。</p><p id="83f4" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">尽管样板文件有所帮助，但我们认为我们可以做得更好。由于新的Android方法是完全不同的，没有计划对这个库进行重大改进，但我们致力于维护它，直到有一个合适的稳定的替代品可用。</p><p id="6e18" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你用的是dagger.android，就继续用吧。如果你开始一个新项目，考虑dagger.android作为替代，如果它适合你的用例就使用它。我们将提供从Dagger和dagger.android代码到新计划的迁移指南。</p><h1 id="bd7f" class="km kn hs bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h1><p id="b6b5" class="pw-post-body-paragraph ip iq hs ir b is lk iu iv iw ll iy iz ja lm jc jd je ln jg jh ji lo jk jl jm ha bi translated">用依赖注入，用匕首！我们已经在努力让它变得更好。有关更多信息，请查看2019年Android Dev Summit关于此主题的记录:</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="lq lr l"/></div></figure></div></div>    
</body>
</html>