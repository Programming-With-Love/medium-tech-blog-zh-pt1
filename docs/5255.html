<html>
<head>
<title>Build, deploy and test a Redis based Java application using Oracle Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Oracle Cloud构建、部署和测试基于Redis的Java应用程序</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/build-deploy-and-test-a-redis-based-java-application-using-oracle-cloud-9bb219578f2a?source=collection_archive---------1-----------------------#2017-07-06">https://medium.com/oracledevs/build-deploy-and-test-a-redis-based-java-application-using-oracle-cloud-9bb219578f2a?source=collection_archive---------1-----------------------#2017-07-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="cfdc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇博客将展示如何开始使用基于Redis的Java应用程序</p><ul class=""><li id="9104" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">使用<strong class="ig hi"> Oracle Developer </strong>云在<strong class="ig hi"> Oracle应用容器</strong>云和CI/CD上运行它</li><li id="63ce" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用<strong class="ig hi"> NoSQLUnit </strong>执行集成测试</li><li id="c44f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">我们的Redis实例将在Oracle容器云上的Docker容器中运行</li></ul><h1 id="ec8b" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">应用</h1><p id="aa62" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">下面是该应用程序的概要</p><ul class=""><li id="7102" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">使用Jersey公开REST端点</li><li id="b40f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用<a class="ae kt" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>作为数据存储</li><li id="8348" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae kt" href="https://github.com/xetorthio/jedis" rel="noopener ugc nofollow" target="_blank"> Jedis </a>用作Redis的Java客户端</li><li id="ab6c" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">NoSQLUnit是用于集成测试的框架</li></ul><p id="5001" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae kt" href="https://github.com/abhirockzz/accs-redis-dcs" rel="noopener ugc nofollow" target="_blank">这是应用程序</a></p><h1 id="9ad6" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">NoSQLunit</h1><p id="fba5" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated"><strong class="ig hi"> NoSQLUnit </strong> <em class="ku"> </em>是一个开源测试框架，用于使用<strong class="ig hi"> NoSQL </strong>数据库的应用程序。它基于(JUnit) <em class="ku">规则</em>的概念和一些注释。这些规则适用于数据库生命周期(启动/停止)和状态(播种/删除测试数据)管理。在示例应用程序中，我们使用它对Redis实例进行状态管理，即</p><ul class=""><li id="689e" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在一个<strong class="ig hi"> <em class="ku"> json </em> </strong>文件的帮助下，我们定义测试数据，这些数据将在我们的测试开始之前被播种到Redis，然后</li><li id="b365" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用注释(<strong class="ig hi"><em class="ku">@ using dataset</em></strong>)来指定我们的工作方式(在本例中—它的清理和插入)</li></ul><p id="c456" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">我们的json格式的测试数据集</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es kv"><img src="../Images/9e82a5ddad0b61436a1d63952d9eb8d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/0*UCThvx95sflobxWy.png"/></div></figure><p id="262f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku"> NoSQLUnit在动作</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ld"><img src="../Images/56b31f2abaa72b4e7dd56bbf2b40f136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pnw2DHZfUs00YkoF.png"/></div></div></figure><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es li"><img src="../Images/d11c3940454bcf190e4f73ddae627b6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*X5r-jmVJ1ZjHKzVq.png"/></div></div></figure><h1 id="040d" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">设置</h1><h2 id="579b" class="lj jr hh bd js lk ll lm jw ln lo lp ka ip lq lr ke it ls lt ki ix lu lv km lw bi translated">Oracle容器云上的Redis</h2><ul class=""><li id="d6a0" class="jc jd hh ig b ih ko il kp ip lx it ly ix lz jb jh ji jj jk bi translated">使用现有的服务或创建自己的服务(确保将默认的Redis端口暴露给主机IP)——<a class="ae kt" href="http://docs.oracle.com/en/cloud/iaas/container-cloud/contu/creating-service-oracle-container-cloud-service.html" rel="noopener ugc nofollow" target="_blank">文档此处</a></li><li id="c11c" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">开始部署— <a class="ae kt" href="http://docs.oracle.com/en/cloud/iaas/container-cloud/contu/deploying-service-oracle-container-cloud-service.html" rel="noopener ugc nofollow" target="_blank">文档在此</a></li><li id="594c" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">记下运行Redis容器的worker节点的主机IP</li></ul><h1 id="d136" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">配置Oracle开发人员云</h1><p id="2561" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">我们将从在Oracle开发人员云中引导应用程序开始。查看本节参考<a class="ae kt" href="https://community.oracle.com/community/cloud_computing/oracle-cloud-developer-solutions/blog/2017/05/25/getting-started-with-kafka-based-microservices-using-oracle-event-hub-cloud-application-container-cloud-developer-cloud#jive_content_id_Project__code_repository_creation" rel="noopener ugc nofollow" target="_blank">项目&amp;代码库创建</a>。一旦完成，我们现在就可以开始配置我们的构建了，它是以<em class="ku">管道</em>的形式，由构建、部署、集成测试和拆除<strong class="ig hi"> <em class="ku">阶段</em> </strong>组成</p><h2 id="74db" class="lj jr hh bd js lk ll lm jw ln lo lp ka ip lq lr ke it ls lt ki ix lu lv km lw bi translated">构建和部署阶段</h2><p id="764e" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">代码在Oracle应用容器云上构建和部署。请注意，为了保持简洁，我们跳过了单元测试部分</p><p id="e05f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">构建步骤</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ma"><img src="../Images/81a698ec52ae30f89367a3e754e9501e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UCGnf0yyn_3IRZEE.png"/></div></div></figure><p id="65b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">后期构建(部署)</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mb"><img src="../Images/74c0a4d76df358d3cadb905b1888d113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*67g_SNzQjZlJVfch.png"/></div></div></figure><p id="c1a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">部署</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mc"><img src="../Images/9af3bd8376b7176dc0294fad29af010e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h7oUiC0-21au05Ry.png"/></div></div></figure><p id="005a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个阶段的最后，我们的应用程序将被部署到应用程序容器云中——是时候配置集成测试了</p><h2 id="8e9d" class="lj jr hh bd js lk ll lm jw ln lo lp ka ip lq lr ke it ls lt ki ix lu lv km lw bi translated">集成测试阶段</h2><p id="f728" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">我们的集成测试将使用Redis实例(在我们之前设置的Oracle Container Cloud上)直接针对部署的应用程序运行。为此</p><ul class=""><li id="dc78" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">我们定义了另一个构建作业</li><li id="0cf4" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">确保它在构建+部署阶段完成后被触发</li></ul><p id="5f30" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">整合造业</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es md"><img src="../Images/8fd06d9ae1384c58774843842c237ee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y-ncWlrTXSM7McVO.png"/></div></div></figure><p id="9ab6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="ku">定义依赖关系</em> </strong></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es me"><img src="../Images/327efe0a343470cc5b3c1305d81f3c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oZ7nYjoKPX0hoe3z.png"/></div></div></figure><h2 id="afa4" class="lj jr hh bd js lk ll lm jw ln lo lp ka ip lq lr ke it ls lt ki ix lu lv km lw bi translated">拆除阶段</h2><p id="793d" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">得益于Oracle Developer Cloud与Oracle PaaS Service Manager (PSM)的集成，可以轻松添加一个<em class="ku"> PSMcli </em>构建步骤，调用Oracle PaaS Service Manager命令行界面(cli)命令，在管道执行完毕后停止我们的ACCS应用程序。文档中的更多<a class="ae kt" href="http://docs.oracle.com/en/cloud/paas/developer-cloud/csdcs/managing-project-jobs-and-builds-oracle-developer-cloud-service.html#GUID-E4E58D36-E869-41B5-9D7D-5EA9E353F316" rel="noopener ugc nofollow" target="_blank">细节</a></p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mf"><img src="../Images/c317407f637e557d1126636791e75e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GV08oBVF9W2TmTL4.png"/></div></div></figure><p id="e394" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们讨论了以下内容</p><ul class=""><li id="37bc" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在Redis上构建了一个Java应用程序</li><li id="1272" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">使用Oracle Developer Cloud和Oracle Application Container Cloud协调其构建、部署和集成测试</li><li id="983b" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">在这个过程中，我们还看到了如何将我们的基础设施视为代码，并高效地利用我们的云服务</li></ul></div><div class="ab cl mg mh go mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ha hb hc hd he"><h1 id="56fe" class="jq jr hh bd js jt mn jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj mr kl km kn bi translated">不要忘记…</h1><ul class=""><li id="61c5" class="jc jd hh ig b ih ko il kp ip lx it ly ix lz jb jh ji jj jk bi translated">查看针对Oracle应用容器云的<a class="ae kt" href="https://docs.oracle.com/en/cloud/paas/app-container-cloud/create-first-applications.html" rel="noopener ugc nofollow" target="_blank">教程</a>——每个运行时都有一些内容！</li><li id="e9c3" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated"><a class="ae kt" href="http://bit.ly/2gR3nrV" rel="noopener ugc nofollow" target="_blank">应用容器云上的其他博客</a></li></ul><blockquote class="ms mt mu"><p id="7e57" class="ie if ku ig b ih ii ij ik il im in io mv iq ir is mw iu iv iw mx iy iz ja jb ha bi translated">本文表达的观点是我个人的观点，不一定代表甲骨文的观点。</p></blockquote></div></div>    
</body>
</html>