<html>
<head>
<title>Puzzlers on Kt. Academy, week 8</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡帕头的拼图。学院，第8周</h1>
<blockquote>原文：<a href="https://blog.kotlin-academy.com/puzzlers-on-kotlin-academy-week-8-9964640b290a?source=collection_archive---------4-----------------------#2018-05-18">https://blog.kotlin-academy.com/puzzlers-on-kotlin-academy-week-8-9964640b290a?source=collection_archive---------4-----------------------#2018-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="f8eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是时候买一套新的Kt kot Lin拼图了。学院！玩得开心；)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/022cefed4e48c1e28b686d73cdaa1d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t9pQvj1UAqt8CAeMpsmjmw.jpeg"/></div></div></figure><h2 id="2ca6" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">子应用</h2><pre class="kj kk kl km gt ln lo lp lq aw lr bi"><span id="9d4e" class="ku kv in lo b gy ls lt l lu lv">open class Node(val name: String) {<br/>    fun lookup() = "lookup in: $name"<br/>}<br/><br/>class Example : Node("container") {<br/>    fun createChild(name: String): Node? = Node(name)<br/><br/>    val child1 = createChild("child1")?.apply {<br/>        println("child1 ${lookup()}")<br/>    }<br/>    val child2 = createChild("child2").apply {<br/>        println("child2 ${lookup()}")<br/>    }<br/>}<br/><br/>fun main(args: Array&lt;String&gt;) {<br/>    Example()<br/>}</span></pre><p id="3c1e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作者:<a class="ae lw" href="https://github.com/dkandalov/kotlin-puzzlers/blob/master/puzzlers/x-child-apply.kts" rel="noopener ugc nofollow" target="_blank">德米特里·坎达洛夫</a></p><p id="5690" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示什么？一些可能性:</p><p id="5322" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">a)在child1中查找child 1；子2查找在:子2 <br/> B)子1查找在:子1；在容器中查找child2)在容器中查找child1child2查找in: child2 <br/> D)以上都不是</p><p id="f3c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<a class="ae lw" href="http://portal.kotlin-academy.com/#/?tag=puzzler-57" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读这篇文章直到最后，查看答案和解释。</p><h2 id="a1e1" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">负数</h2><pre class="kj kk kl km gt ln lo lp lq aw lr bi"><span id="e9f3" class="ku kv in lo b gy ls lt l lu lv">fun main(args: Array&lt;String&gt;) {<br/>    print(-1.inc())<br/>    print(", ")<br/>    print(1 + -(1))<br/>}</span></pre><p id="5326" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作者:<a class="ae lw" href="http://marcinmoskala.com" rel="noopener ugc nofollow" target="_blank">马尔钦·莫斯卡拉</a></p><p id="0323" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示什么？一些可能性:</p><p id="51fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">a) 0，0 <br/> b)不会编译到第4行<br/> c) 0，2 <br/> d) -2，0</p><p id="e815" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<a class="ae lw" href="http://portal.kotlin-academy.com/#/?tag=puzzler-55" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读本文直到最后，查看答案和解释。</p><h2 id="b239" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">复制</h2><pre class="kj kk kl km gt ln lo lp lq aw lr bi"><span id="8d3b" class="ku kv in lo b gy ls lt l lu lv">data class Container(val list: MutableList&lt;String&gt;)<br/><br/>fun main(args: Array&lt;String&gt;) {<br/>    val list = mutableListOf("one", "two")<br/>    val c1 = Container(list)<br/>    val c2 = c1.copy()<br/>    list += "oops"<br/>    println(c2.list.joinToString())<br/>}</span></pre><p id="603f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作者:<a class="ae lw" href="https://github.com/angryziber/kotlin-puzzlers/tree/master/src/data" rel="noopener ugc nofollow" target="_blank">安东·凯克斯</a></p><p id="ade4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示什么？一些可能性:</p><p id="651b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">a)一个，两个<br/> b)一个，两个，哎呀<br/> c)不支持操作异常<br/> d)将不编译</p><p id="e905" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<a class="ae lw" href="http://portal.kotlin-academy.com/#/?tag=puzzler-51" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读这篇文章直到最后，查看答案和解释。</p><h2 id="f9cd" class="ku kv in bd kw kx ky dn kz la lb dp lc jv ld le lf jz lg lh li kd lj lk ll lm bi translated">子类型和泛型:列表</h2><pre class="kj kk kl km gt ln lo lp lq aw lr bi"><span id="1bd7" class="ku kv in lo b gy ls lt l lu lv">sealed class LinkedList&lt;T&gt;<br/><br/>data class Node&lt;T&gt;(<br/>    val payload : T, <br/>    var next : LinkedList&lt;T&gt; = EmptyList<br/>) : LinkedList&lt;T&gt;()<br/><br/>object EmptyList : LinkedList&lt;Nothing&gt;()</span></pre><p id="10b9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">作者:<a class="ae lw" href="https://medium.com/@adcaine" rel="noopener">艾伦·凯恩</a></p><p id="0a4f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示什么？一些可能性:</p><p id="0f28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">a)看起来很棒。代码将按原样编译。<br/> b)密封类不能有类型参数<br/> c)写密封类<code class="fe lx ly lz lo b">LinkedList&lt;in T&gt;</code>T27】d)写密封类<code class="fe lx ly lz lo b">LinkedList&lt;out T&gt;</code></p><p id="5258" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">使用<a class="ae lw" href="http://portal.kotlin-academy.com/#/?tag=puzzler-76" rel="noopener ugc nofollow" target="_blank">此链接</a>或阅读这篇文章直到最后，查看答案和解释。</p><h1 id="ada9" class="ma kv in bd kw mb mc md kz me mf mg lc mh mi mj lf mk ml mm li mn mo mp ll mq bi translated">答案和解释</h1><p id="1aca" class="pw-post-body-paragraph jk jl in jm b jn mr jp jq jr ms jt ju jv mt jx jy jz mu kb kc kd mv kf kg kh ig bi translated">对于“<strong class="jm io">子申请</strong>”的正确答案是:</p><p id="c51f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">b)在child1中查找child 1；在容器中查找child2</p><p id="cbe8" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么？这里有一个解释:</p><blockquote class="mw mx my"><p id="b326" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated"><code class="fe lx ly lz lo b">createChild</code>返回可空对象，所以在<code class="fe lx ly lz lo b">child2</code>的<code class="fe lx ly lz lo b">apply</code>中，我们的扩展接收者(上下文)是<code class="fe lx ly lz lo b">Node?</code>。我们不能不拆包就直接打电话给<code class="fe lx ly lz lo b">lookup</code>。如果要做，就要用<code class="fe lx ly lz lo b">this?.lookup()</code>。因为我们没有，编译器搜索它可以使用的<code class="fe lx ly lz lo b">lookup</code>，并在分派接收器中找到它(<code class="fe lx ly lz lo b">Example</code>上下文)。</p></blockquote><p id="78c4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于“<strong class="jm io">负数</strong>，正确答案是:</p><p id="25df" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">d) -2，0</p><p id="2135" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么？这里有一个解释:</p><blockquote class="mw mx my"><p id="48b2" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">在这两种情况下，我们对类型<code class="fe lx ly lz lo b">Int</code>使用<code class="fe lx ly lz lo b">unaryMinus</code>操作。当您键入<code class="fe lx ly lz lo b">-1</code>时，它与<code class="fe lx ly lz lo b">1.unaryMinus()</code>相同。这就是<code class="fe lx ly lz lo b">1 + -(1)</code>正常工作的原因。<code class="fe lx ly lz lo b">-1.inc()</code>返回-2，因为<code class="fe lx ly lz lo b">inc</code>用在运算符之前。这个表达式相当于<code class="fe lx ly lz lo b">1.inc().unaryMinus()</code>。要修复它，您应该使用括号<code class="fe lx ly lz lo b">(-1).inc()</code>。</p></blockquote><p id="4c5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于“<strong class="jm io">复制</strong>”的正确答案是:</p><p id="4844" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">b)一，二，哎呀</p><p id="5a22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么？这里有一个解释:</p><blockquote class="mw mx my"><p id="7371" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">数据类的copy()方法进行浅层克隆，即只复制对字段的引用。使数据类不可变以避免这个问题。</p></blockquote><p id="c524" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于“<strong class="jm io">子类型和通用类型:列表</strong>”，正确答案是:</p><p id="f782" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">d)编写密封类<code class="fe lx ly lz lo b">LinkedList&lt;out T&gt;</code></p><p id="66e7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">为什么？这里有一个解释:</p><blockquote class="mw mx my"><p id="6703" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">按照目前的写法，代码不会编译。<code class="fe lx ly lz lo b">Node&lt;T&gt;</code>的下一个属性不能有默认值<code class="fe lx ly lz lo b">EmptyList</code>。<code class="fe lx ly lz lo b">LinkedList&lt;T&gt;</code>相对于<code class="fe lx ly lz lo b">T</code>是不变的。<code class="fe lx ly lz lo b">EmptyList</code>是一个<code class="fe lx ly lz lo b">LinkedList&lt;Nothing&gt;</code>。<code class="fe lx ly lz lo b">LinkedList&lt;Nothing&gt;</code>是一个与<code class="fe lx ly lz lo b">T</code>类型无关的独特类型。</p><p id="ff3c" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">相反，使LinkedList相对于<code class="fe lx ly lz lo b">T</code>协变。在这种情况下，<code class="fe lx ly lz lo b">LinkedList&lt;Nothing&gt;</code>是每个<code class="fe lx ly lz lo b">LinkedList</code>的子类型，因为<code class="fe lx ly lz lo b">Nothing</code>是所有Kotlin类型的子类型。</p><p id="ae5d" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">密封类可以有类型参数。Kotlin对象不能有类型参数。所以，答案b)是错的。</p><p id="cc51" class="jk jl mz jm b jn jo jp jq jr js jt ju na jw jx jy nb ka kb kc nc ke kf kg kh ig bi translated">答案c)不对。如果LinkedList相对于T是反变的，那么LinkedList将是所有linked list的超类型。相反，LinkedList必须是所有linked list的子类型。</p></blockquote><p id="8c47" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">了解更多:<a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/kotlins-nothing-its-usefulness-in-generics-5076a6a457f7">https://blog . kot Lin-academy . com/kot Lins-nothing-its-useful-in-generics-5076 a457 f 7</a></p></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="f34a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你对谜题有自己的想法吗？提交给<a class="ae lw" href="http://portal.kotlin-academy.com/" rel="noopener ugc nofollow" target="_blank"> Kt。学院门户</a>。</p><p id="fc58" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你希望未来有更多的谜题吗？轨道<a class="ae lw" href="http://portal.kotlin-academy.com/" rel="noopener ugc nofollow" target="_blank"> Kt。学院门户</a>或<a class="ae lw" href="https://kotlin-academy.us17.list-manage.com/subscribe?u=5d3a48e1893758cb5be5c2919&amp;id=d2ba84960a" rel="noopener ugc nofollow" target="_blank">订阅我们的邮件列表</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl nk"><img src="../Images/a067d0a925b721e9a82bf36c2cffd874.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uDqv_d5NZnPUJA0FeZqhqQ.png"/></div></figure><p id="9282" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你需要Kotlin工作室吗？访问我们的网站<a class="ae lw" href="https://www.kt.academy/" rel="noopener ugc nofollow" target="_blank">看看我们能为您做些什么。</a></p><p id="7b9e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">喜欢的话记得鼓掌。请注意，如果您按住鼓掌按钮，您可以留下更多的掌声。</p></div></div>    
</body>
</html>