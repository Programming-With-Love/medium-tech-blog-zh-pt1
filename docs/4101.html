<html>
<head>
<title>Android strings.xml — things to remember</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android strings.xml —需要记住的事情</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/android-strings-xml-things-to-remember-c155025bb8bb?source=collection_archive---------1-----------------------#2016-07-17">https://medium.com/google-developer-experts/android-strings-xml-things-to-remember-c155025bb8bb?source=collection_archive---------1-----------------------#2016-07-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="9c8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这篇文章是关于android的一些琐事，比如— <em class="jc"> strings.xml </em></p><h1 id="e926" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">不要重复使用</h1><blockquote class="kb kc kd"><p id="3ce1" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">不要在不同的屏幕上重复使用字符串。</p></blockquote><p id="9794" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.假设你在<em class="jc">登录</em>和<em class="jc">注册</em>屏幕上有一个加载对话框。两者都有加载对话框，你决定使用同一个字符串— <em class="jc"> R.string.loading </em>。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/31b3b8eb59db75944a4426a9ed99a5f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JS87DDYrThImLteYAXtFhQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><p id="a741" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以后如果你决定使用一个不同的，你将不得不创建两个新的字符串，并用java代码进行修改。如果从一开始就使用两个字符串，那么只需修改<em class="jc"> strings.xml </em>文件。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/d3836a0d4f48abfd73dcf565dcfae534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36F3gYBBrh0Df8BjfSUW-g.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><p id="6df5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.您永远不知道您的应用程序可能支持哪种语言。在一种语言中，你可以在不同的上下文中使用同一个单词，但在另一种语言中，你必须在不同的上下文中使用不同的单词。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/f59c1c1c5048db0dd2e86b8128dc67b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyimVk1AvhWWQ6LF4vxL7A.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/46c6165738a1120b478205fec1099de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hG4uYDhTEIHOyVeU0lRqXw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values-UA/strings.xml</figcaption></figure><p id="8b2f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意，英文版的<em class="jc"> strings.xml </em>对<em class="jc">r . string . download _ file _ Yes</em>和<em class="jc">r . string . terms _ of _ use _ Yes</em>字符串使用了同一个单词“Yes”。</p><p id="5619" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是乌克兰语版本的<em class="jc"> strings.xml </em>使用了两个不同的单词——“гаразд”表示<em class="jc">r . string . download _ file _ yes</em>和“так”表示<em class="jc"> R.string.terms_of_use_yes。</em></p><h1 id="f92b" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">分开</strong></h1><blockquote class="kb kc kd"><p id="3faf" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">通过前缀和注释分隔属于同一屏幕的字符串</p></blockquote><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/4f9dfc6e2033cee45f1170e3ea54cd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i24UBT-ET2iv6Q9UUakC1Q.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><ol class=""><li id="d4fe" class="kt ku hh ig b ih ii il im ip kv it kw ix kx jb ky kz la lb bi translated">为每个字符串添加<em class="jc">屏幕名称前缀</em>有助于立即识别当前字符串属于哪个屏幕。</li><li id="f0a5" class="kt ku hh ig b ih lc il ld ip le it lf ix lg jb ky kz la lb bi translated">Clean <em class="jc"> strings.xml </em>文件有助于轻松维护字符串并将其翻译成不同的语言——一屏接一屏。</li></ol><blockquote class="kb kc kd"><p id="bd21" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">为每个屏幕创建单独的strings.xml文件</p></blockquote><p id="83e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您愿意，您可以为每个屏幕创建<em class="jc"> strings.xml </em>文件— <em class="jc">设置—strings . XML</em>、<em class="jc">配置文件—strings . XML</em>。但通常，应用程序有10-20个屏幕。所以在我看来，在每个语言文件夹中有10-20个strings.xml文件会带来巨大的混乱。</p><h1 id="0a35" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">格式</h1><blockquote class="kb kc kd"><p id="d215" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">使用Resources#getString(int id，Object… formatArgs)格式化字符串</p></blockquote><p id="de7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不要通过<strong class="ig hi"> + </strong>操作符进行字符串连接，因为在其他语言中，单词的顺序可能会有所不同。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/60157625e1cd0d8feb41ce39d5c62144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CY9aQc_Zg8q0Q17_y20MyA.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/02bd8df810eef3d8cfa2d60e80f041c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CMnyPXvHDND8RAFBfceSMQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">java code</figcaption></figure><p id="7753" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正确的做法是使用<a class="ae lh" href="https://developer.android.com/reference/android/content/res/Resources.html#getString%28int,%20java.lang.Object...%29" rel="noopener ugc nofollow" target="_blank"><em class="jc">Resources # getString(int id，Object…formatArgs)</em></a><em class="jc">。</em></p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/7bbda03ad473edb0ad2ae0a3d8834bd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DSiEeB9gWTwCOJyxzUqMyA.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/c494c77fee2313617bd105237ea37cc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YFqXBcP_XDswNZwFeXmYOw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values-UA/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/84499a61d620960b995d5f64653fd9fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXwYDDkBkDmopx47uJtR6w.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">java code</figcaption></figure><h1 id="39db" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">复数</h1><blockquote class="kb kc kd"><p id="ada0" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">将Resources # getQuantityString(int id，int quantity)用于数量字符串</p></blockquote><p id="b933" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">永远不要在java代码中解析复数，因为不同的语言对于数量的语法一致性有不同的规则。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/301ba3938cfbdad635870e32bf4997f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4NH4qsPMMSQ70QV8zvOH-A.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/3f6d80e2c1c6294b875f428b34a3077f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WxoCPGta9uGTIoxfmXg3pA.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">java code</figcaption></figure><p id="7c88" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正确的做法是使用<a class="ae lh" href="https://developer.android.com/reference/android/content/res/Resources.html#getQuantityString%28int,%20int%29" rel="noopener ugc nofollow" target="_blank"><em class="jc">Resources # getQuantityString(int id，int quantity </em> </a> <em class="jc">)。</em></p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/5f8d307738e39653d587d21943e7da9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_KVd1Fhu4xUIy9cAdL7Acw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/22d774622435328d27c1209b8b880ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jaGAm1mVsrKUCYH0LBN-_A.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">java code</figcaption></figure><h1 id="ead4" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">单词突出显示</h1><blockquote class="kb kc kd"><p id="57e9" class="ie if jc ig b ih ii ij ik il im in io ke iq ir is kf iu iv iw kg iy iz ja jb ha bi translated">使用html文本突出显示静态单词</p></blockquote><p id="4059" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你想在<em class="jc">文本视图中改变一些单词的颜色，那么</em> <a class="ae lh" href="https://developer.android.com/reference/android/text/style/ForegroundColorSpan.html" rel="noopener ugc nofollow" target="_blank"> <em class="jc">前景颜色跨度</em> </a> <em class="jc"> </em>并不总是最好的选择，因为高亮显示是通过索引来完成的，在多语言应用中并不安全。最好在你的<em class="jc"> strings.xml </em>文件中使用<em class="jc"> html字体颜色标签</em>。</p><p id="4881" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">假设你有文本“发现和玩游戏”并且你想用蓝色突出显示“发现”单词和“播放”单词。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/57871389eadd78091d41f8eb71c9627d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-v6s0KtpNaszxun2wITpoQ.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">res/values/strings.xml</figcaption></figure><figure class="ki kj kk kl fd km er es paragraph-image"><div class="er es kh"><img src="../Images/0ac6e87b697172773fb5ee12a553a1e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jWwEWf0E9GFE6_hos9zWzw.png"/></div><figcaption class="kp kq et er es kr ks bd b be z dx">java code</figcaption></figure></div></div>    
</body>
</html>