# Node JS 开发者犯的 5 个危险错误

> 原文：<https://medium.com/quick-code/5-dangerous-mistakes-node-js-developers-commit-296df72b4530?source=collection_archive---------0----------------------->

![](img/c3a507e0c4b07b8cd985b33f949c55bf.png)

在过去的几年里，Node JS 框架经历了显著的发展。

对于那些不知道的人来说，Node JS 基本上是一个 JavaScript 运行时环境，允许编写服务器端脚本。

它建立在 Google Chrome 的 V8 JavaScript 引擎上，尽管有许多 [Node JS 用例](https://www.credencys.com/blog/node-js-development-use-cases/)，但它主要用于构建可扩展的网络应用程序。

事实上，在所有在其软件产品中实现 Node JS 的公司中，[只有 4%的公司说它没有影响](https://nodejs.org/en/user-survey-report/)。更重要的是，Node JS 已经成为许多著名公司的主要后端技术，包括网飞、易贝、Paypal，甚至 NASA。

有这么多成熟的公司使用 Node JS，Node JS 一定有什么特别之处吧？

是的，有。

Node JS 受欢迎的首要原因是它的单线程事件循环和非阻塞 I/O 模型。然而，阻塞事件循环是许多 Node JS 开发人员最常犯的错误。

在本文中，我们将讨论 5 个常见但危险的错误，每个 Node JS 开发人员都必须不惜一切代价避免这些错误。

# 【Node JS 开发者常犯的 5 个错误

无论您是一家计划雇佣 Node JS 开发人员的公司，还是一名刚刚学习 Node JS 开发的开发人员，如果您想要高效地构建 Node JS 应用程序，避免以下错误是至关重要的。

也就是说，让我们开始吧！

# **1 —阻塞事件循环**

因为 Node JS 是单线程环境，所以 Node JS 应用程序的两个部分不能并行运行。

所以，如果你阻塞了事件循环，你就阻塞了一切。

简单地说，与多个客户端连接的一个 CPU 限制的请求可以很容易地阻塞事件循环。因此，有必要单独处理每一种情况。

避免这个错误的唯一方法是使用像 StrongOps 这样的开源模块。

例如，StrongOps 可以帮助您识别和修复事件循环中的任何延迟，并防止您阻塞事件循环。

# **2 —尝试执行多个回调**

如果您不知道，回调是允许异步元素相互通信的一种有效方式。

然而，很多时候开发人员会多次执行相同的回调，这是一个常见但危险的错误。

你看，同时执行相同的回调或多个回调会导致接口冻结。

因此，重要的是要确保你没有连续多次催促回电。

有两种方法可以避免这种情况发生。

首先，您可以包装回调，这样每次回调执行两次时您都会得到通知。

第二种解决方案是在回调之前添加一个 return，以防止多次调用同一个回调。

# **3 —深度嵌套回调**

深度嵌套回调通常被称为回调地狱，它基本上由多个嵌套回调组成，这使得读取和调试编写的代码很困难，有时甚至是不可能的。

虽然一些 Node JS 开发人员认为回调地狱是不可避免的，但事实是这不是真的。

有很多方法可以让你的代码易于阅读和调试，比如使用承诺。

承诺基本上是一个返回的值，用于确认异步函数完成的处理。简单来说，承诺可以嵌套，使复杂的代码看起来清晰，更容易维护。

除了承诺之外，您还可以使用 async 模块，它提供了直接、强大的功能来处理异步 JavaScript。

# **4 —测试不彻底**

如果您没有为 Node JS 应用程序编写所需的测试，那么它就没有完成。

您可能已经知道，测试是 Node JS 开发过程中的一个重要部分，但也是一个被忽视的部分。

如果您正在构建 Node JS 应用程序，您必须执行代码检查和重复测试。这样做有助于顺利地进行应用程序的开发。

而且已经有很多像 Jasmine，Mocha 等工具了。可用的编写测试并检查您的节点 JS 应用程序的代码。

# **5 —使用 Console.log 进行调试**

创建节点 JS 中的 Console.log 是为了让开发人员将几乎任何内容打印到控制台。因此，当开发人员使用 Console.log 进行调试时，它会重新启动服务器，并最终降低应用程序的性能。

如果你是一个每次出错就使用 console.log 的人，那么你很快就会使你的应用程序代码变得不可用。

好消息是，这个问题的解决方案很简单:只需使用调试库。

调试库是专门设计来帮助防止日志在调试模式下被打印出来的。因此，您所有的文件和文档都将保持安全。

# **结论**

这些是开发人员在应用程序开发过程中经常犯的危险错误。因此，最重要的是，你[雇佣 Node JS 开发人员](https://www.credencys.com/hire-node-js-developer/)，他们了解这一点，并且能够在你的 Node JS 项目中实现最佳实践。