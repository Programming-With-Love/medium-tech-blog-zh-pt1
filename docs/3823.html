<html>
<head>
<title>Spring Framework — Benefits in Automation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spring框架—自动化的好处</h1>
<blockquote>原文：<a href="https://medium.com/globant/spring-framework-benefits-in-automation-10c9ab770816?source=collection_archive---------5-----------------------#2022-02-07">https://medium.com/globant/spring-framework-benefits-in-automation-10c9ab770816?source=collection_archive---------5-----------------------#2022-02-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2ba73d28ad42b76235eee1f8c4f787d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/0*XOnUyrylZe9c-1Mz"/></div></div></figure><p id="9f82" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">简介</strong></p><p id="9ba6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Spring框架是Java平台的一个应用框架和反转控制容器(【https://spring.io/】T2)。在测试自动化项目中使用Spring的主要思想是利用一些Spring策略，并通过解决不同的场景来应用它们。</p><p id="2448" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面这篇文章是为有Java和Cucumber经验的测试自动化工程师准备的。所涉及的主题是基于已经添加和配置了Spring依赖项的假设。以下依赖关系配置可能对初学者有用:</p><p id="6e1d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><parent/></p><p id="12be" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><groupId> org.springframework.boot </groupId></p><p id="cff7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><artifactId>弹簧-启动-起动器-父母</artifactId></p><p id="ab9b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.1.8 .释放</p><p id="f01d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><relativePath/></p><p id="116f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"/><p id="bfc4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><dependency/></p><p id="3dd2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><groupId>org . spring framework . boot</groupId></p><p id="1a42" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><artifactId>弹簧启动起动器</artifactId></p><p id="77ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"/><p id="3487" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><dependency/></p><p id="7066" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><groupId>org . spring framework . boot</groupId></p><p id="524d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><artifactId>弹簧启动起动机测试</artifactId></p><p id="8382" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"/><p id="141c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><dependency/></p><p id="db82" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><groupId> io.cucumber </groupId></p><p id="cbef" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><artifactId>黄瓜春</artifactId></p><p id="a869" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><version> ${cucumber.version} </version></p><p id="012d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"/><p id="9a6a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将回顾一些我们通常必须在测试自动化中处理的场景:</p><ul class=""><li id="2660" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">基于环境的自动配置。</li><li id="8d18" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">项目中的依赖注入。</li><li id="0ed7" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">特定功能的不同实现。</li></ul><p id="5745" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">解决方案</strong></p><p id="977e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">基于环境的自动配置</strong>。</p><p id="be3f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">测试时，我们必须支持在不同的测试环境下运行我们的测试。有很多方法可以解决这个问题，但是在这个解释中，我们将结合Spring的两个优点:依赖注入和配置。</p><p id="f879" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Spring提供定制注释来创建、关联和注入不同种类的对象。</p><p id="2a6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@配置</p><p id="8840" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@PropertySource({</p><p id="ded8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">" class path:config/$ { environment } . db . properties "</p><p id="6489" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">})</p><p id="1480" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类数据库管理器{</p><p id="0ec0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@Bean(destroyMethod = "close ")</p><p id="1ad0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public basic data source getDB(@ Value(" $ { url } ")字符串URL，</p><p id="05a1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ Value(“$ { username }”)字符串用户名，</p><p id="777c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@Value("${password} ")字符串密码){</p><p id="f716" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">返回getDataSourceBuilder(url，用户名，密码)；</p><p id="4fd6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="43c5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="e1e7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在上面的例子中，我们应用了<em class="kc"> @Configuration </em>和<em class="kc"> @PropertySource </em>注释，这两个注释都将支持创建具有所需信息的特定对象，在本例中是一个DB控制器。</p><p id="3fc8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kc"> @Configuration </em>将允许我们在类内部声明bean(<em class="kc">在Spring中，构成应用程序主干并由Spring IoC容器管理的对象被称为bean</em>)。这些Beans被实例化并放置在Sprint容器级别，允许我们以后在代码的任何地方注入和使用。</p><p id="511a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kc"> @PropertySource </em>注释让我们定义属性在哪里。在这种情况下，我们在这个字段的部分路径中使用了一个环境变量。这意味着，我们可以声明多个属性文件，并在它们之间切换，以配置一个DB控制器来访问不同测试环境中的数据库。</p><p id="3840" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，我们看到从属性文件收集的值被直接注入到getDB方法中，这使得理解和实现功能变得更加容易。在这种情况下，我们应该创建一个包含属性url、用户名和密码的文件，这样才能工作。因为这个方法是一个Bean，它可以被注入到任何地方，并且使用属性<strong class="ir hi"> <em class="kc"> destroyMethod </em> </strong>，这是BasicDataSource类特有的，我们确保在使用它之后终止连接。</p><p id="88fb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">根据上面的例子，我们可能有几个属性源文件，例如:</p><p id="4375" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">qa .数据库属性:</p><p id="070b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">URL = JDBC:PostgreSQL://QA . db . com:5432/dbName</p><p id="c231" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">用户名= dbusr</p><p id="3483" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">password = passwordqa</p><p id="59f1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">stg.db .属性:</p><p id="69c1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">URL = JDBC:PostgreSQL://stg . db . com:5432/dbName</p><p id="0108" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">用户名= dbusr</p><p id="5f04" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">password = passwordstg</p><p id="74c5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在使用任何可用的环境:qa或stg设置环境变量“environment”时，url、用户名和密码的值将被注入到getDB Bean中，数据库配置将使用相应的值来执行。</p><p id="eee4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们有一个实例，可以在项目的任何地方使用它来访问数据库并在环境之间切换。这对于处理不同的URL、API或DB前提条件等非常有用。</p><p id="6e4f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">跨项目依赖注入</strong></p><p id="aaf0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在让我们看看<strong class="ir hi"> </strong>依赖注入(<a class="ae jn" href="https://www.baeldung.com/spring-dependency-injection" rel="noopener ugc nofollow" target="_blank">相关信息</a>)如何帮助我们。很多时候，我们需要使用页面对象的同一个实例，或者在Screenplay中的任务之间共享一些东西，或者只是在某个地方使用一个助手库。</p><p id="86da" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了解释这一点，我们将创建一个页面对象，看看它是如何工作的。</p><p id="e736" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@组件</p><p id="eb56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类应用程序Dash扩展BaseSection {</p><p id="8632" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">private By wrapperInfo = By。<em class="kc"> className </em>(“信息”)；</p><p id="db00" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@步</p><p id="c89f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void navigateToInfo(InfoNavigationOption InfoNavigationOption){</p><p id="4880" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">//TBD</p><p id="0cff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="4797" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="75a3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里我们有另一个注释<em class="kc"> @Component </em>，它使用类路径扫描自动检测和配置bean。这样使用它，我们就可以在任何地方插入这个页面对象。</p><p id="817b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，在测试步骤定义中:</p><p id="b119" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类ApplicationInfoStepDef扩展了BaseStepDefinition {</p><p id="6979" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@自动连线</p><p id="9c20" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ApplicationDash应用程序dash；</p><p id="15f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@Given("用户导航到信息{} ")</p><p id="a985" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void userNavigatesToInfo(InfoNavigationOption InfoNavigationOption){</p><p id="1748" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">application dash . navigatetoinfo(infoNavigationOption)；</p><p id="87a8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="6e34" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="7543" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如您所见，我们在步骤定义中注入了applicationDash bean，但是步骤定义没有@Component注释。这样做的原因是运行程序中使用的上下文配置如下:</p><p id="9eac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@RunWith(Cucumber.class)</p><p id="52b6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ActiveProfiles(值= {Profiles。<em class="kc">第一个</em> })</p><p id="4b71" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberContextConfiguration</p><p id="24d2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberOptions(</p><p id="38c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">//TBD</p><p id="08bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">)</p><p id="54a0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类TestRunner {</p><p id="ca2a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="543c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="06dd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">可以通过环境变量spring.profiles.active覆盖活动的概要文件，这将允许我们在执行时选择任何概要文件。不需要重新编译解决方案来应用被覆盖的概要文件。</p><p id="9707" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberContextConfiguration注释将负责将步骤定义初始化为beans，这取决于应该在@CucumberOptions部分中定义的属性glue:</p><p id="fcb0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberOptions(</p><p id="37a6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">glue = { com . domain . steps . location }</p><p id="dc72" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">)</p><p id="6f29" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">另外，需要考虑的一件非常重要的事情是，Spring需要一种方法来找到要初始化的组件。这些组件可能在任何地方，所以我们需要告诉Spring在哪里可以找到它们。为此，我们可以使用上述信息创建一个配置类:</p><p id="5145" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@配置</p><p id="720c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ components can(" com . components . location ")</p><p id="615a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类配置{</p><p id="cde6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="9f78" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">并将此配置添加到我们的跑步者:</p><p id="daf4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@RunWith(Cucumber.class)</p><p id="24e9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ActiveProfiles(值= {Profiles。<em class="kc">第一</em> })</p><p id="7be2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberContextConfiguration</p><p id="b491" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberOptions(</p><p id="f024" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">//TBD</p><p id="778f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">)</p><p id="0377" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ spring boot test(classes = config . class)</p><p id="09af" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类TestRunner {</p><p id="819c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="f979" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="293a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">只需使用<em class="kc"> @Autowired </em>我们就可以注入ApplicationDash页面对象的一个实例。类似的事情也可能发生在一个助手中，在这里我们混合不同的页面对象来通过一个更复杂的流程。</p><p id="7bb3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@组件</p><p id="4c6a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类助手{</p><p id="1fd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@自动连线</p><p id="c0dd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">ApplicationDash应用程序dash；</p><p id="363b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@步</p><p id="32ee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void do something(InfoNavigationOption InfoNavigationOption){</p><p id="c9fc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">application dash . navigatetoinfo(infoNavigationOption)</p><p id="4c8d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">//TBD其他一些步骤</p><p id="8063" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="716d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="3d46" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可能希望在类助手中注入一些其他的依赖项，并在一个方法中组合许多页面对象或库的功能。然后我们可以在任何需要的地方注射辅助物。管理依赖关系很容易，只需定义和注入依赖关系，而无需在每次使用对象时创建新的实例和传递参数来配置对象。</p><p id="5b64" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">特定功能的不同实现</strong>。</p><p id="32fc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">假设我们的应用程序根据用户角色、应用程序功能的切换等以不同的方式运行。</p><p id="5922" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，我们可能需要经历一个在中间有一点点变化的流程，类似于选择一个日期。</p><p id="7dc1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于我们的示例，我们有两种方法在流程中间选择日期，第一种方法是使用日历对象，第二种方法是以字符串形式输入日期。</p><p id="7716" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是功能是相同的。我需要输入日期。</p><p id="5d97" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">好了，现在如果这适用于所有场景，我们需要测试两种方式，会发生什么呢？</p><p id="2e7e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是活动配置文件发生的地方。</p><p id="fe5c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们为这样的功能创建一个接口:</p><p id="139f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共接口IDataManager {</p><p id="3b15" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">void selectDate(字符串日期)；</p><p id="6180" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="ea9d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们需要实现选择日期的不同方法:</p><p id="5aff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@组件</p><p id="122f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@个人资料({个人资料。<em class="kc">第一个</em> })</p><p id="6ad2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类DateFirst实现IDataManager{</p><p id="d703" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@自动连线</p><p id="b9a8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">CalendarObject日历对象；</p><p id="885b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@覆盖</p><p id="92c1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void selectDate(字符串日期){</p><p id="5493" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">calendarObject.selectDate(日期)；</p><p id="a8ee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="8ad5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="d978" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@组件</p><p id="8c20" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@个人资料({个人资料。<em class="kc">第二</em> })</p><p id="b762" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类DateSecond实现IDataManager{</p><p id="2208" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@自动连线</p><p id="df30" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">CalendarObject日历对象；</p><p id="3933" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@覆盖</p><p id="e8d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void selectDate(字符串日期){</p><p id="58c3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">calendarObject.enter(日期)；</p><p id="27c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="74d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="183e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">搞定了。我们有几个selectDate功能的实现。现在我们只需要告诉Spring从决定的实现开始。</p><p id="83b2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们解释一下在这个例子中如何使用黄瓜:</p><p id="cfc9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@RunWith(Cucumber.class)</p><p id="8bdd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@ActiveProfiles(值= {Profiles。<em class="kc">首</em> })</p><p id="8769" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberContextConfiguration</p><p id="82d1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@CucumberOptions(</p><p id="45e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">//TBD</p><p id="68a9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">)</p><p id="93d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类TestRunner {</p><p id="9d44" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="9198" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="1e32" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kc"> @ActiveProfiles </em>注释允许我们选择一个或多个概要文件开始。在上面的例子中，我们使用了“第一个”概要文件，这意味着实现用@Profile({Profiles。<em class="kc"> First </em> })将在注入接口时使用，如下所示:</p><p id="a84e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公共类ApplicationInfoStepDef扩展了BaseStepDefinition {</p><p id="7f85" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@自动连线</p><p id="e5eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">IDataManager iDataManager</p><p id="d73e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">@Given("某个步骤")</p><p id="1bad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">public void someStep(字符串日期){</p><p id="8c4a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">iDataManager.selectDate(日期)；</p><p id="8649" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="e9e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi">}</p><p id="9b6e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结论</p><p id="2af5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Spring只是一个工具，它可以帮助我们执行诸如依赖注入、环境管理或多重实现等任务，使事情变得更容易。根据您使用的技术，还有其他一些框架，比如Django或Flask for Python，或者使用NodeJS中的内置功能，等等。Spring有一些特性看起来使用注释更容易实现，但是同样的策略可以用不同的方式实现。考虑在您的项目中使用Spring并利用它的所有好处是多么必要。Spring是一个具有多种特性的框架，比如作业调度、依赖注入、认证、事务，它最常用作MVC框架。如果您的场景没有利用它的大部分特性，有不同的方法可以用更少的资源和更多的代码来实现相同的方法，但是这取决于您根据您的项目做出最佳的决定。</p><p id="ee25" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">测试愉快！！</p><p id="0177" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> <em class="kc">对初学者有用的信息:</em> </strong></p><p id="3eaf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="https://www.baeldung.com/cucumber-spring-integration" rel="noopener ugc nofollow" target="_blank">https://www.baeldung.com/cucumber-spring-integration</a></p><p id="ee21" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="https://thepracticaldeveloper.com/cucumber-tests-spring-boot-dependency-injection/" rel="noopener ugc nofollow" target="_blank">https://thepractical developer . com/cucumber-tests-spring-boot-dependency-injection/</a></p><p id="5222" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" rel="noopener" href="/@bcarunmail/set-up-and-run-cucumber-tests-in-spring-boot-application-d0c149d26220">https://medium . com/@ bcarunmail/set-up-and-run-cumber-tests-in-spring-boot-application-d0c 149d 26220</a></p></div></div>    
</body>
</html>