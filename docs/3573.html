<html>
<head>
<title>Permissions made easy with Xamarin.Essentials</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Xamarin简化了权限。必需品；要素</h1>
<blockquote>原文：<a href="https://medium.com/globant/permissions-made-easy-with-xamarin-essentials-3cc05d55c2c?source=collection_archive---------0-----------------------#2020-12-10">https://medium.com/globant/permissions-made-easy-with-xamarin-essentials-3cc05d55c2c?source=collection_archive---------0-----------------------#2020-12-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/3fda91b5c4f06425e5b8d69f063acfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gkM67VR0BgorE0QGFDZEWA.jpeg"/></div></div></figure><p id="7fc9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果您需要使用地理定位、联系人或摄像头等功能，我们必须征得用户的同意。</p><p id="9cce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Xamarin表单中实现权限并不像我们必须使用本地组件那样简单。Xamarin前来救援。要领1.5。这使得实现地理定位、联系人或摄像头等权限变得很容易。</p><p id="a783" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们看一个例子。</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="6a12" class="jw jx hh js b fi jy jz l ka kb">&lt;?xml version="1.0" encoding="utf-8" ?&gt;<br/>&lt;ContentPage<br/>    x:Class="PermissionEssentiial.MainPage"<br/>    ae kc" href="http://xamarin.com/schemas/2014/forms" rel="noopener ugc nofollow" target="_blank"&gt;http://xamarin.com/schemas/2014/forms"<br/>    xmlns:x="<a class="ae kc" href="http://schemas.microsoft.com/winfx/2009/xaml" rel="noopener ugc nofollow" target="_blank">http://schemas.microsoft.com/winfx/2009/xaml</a>"&gt;<br/>    &lt;StackLayout<br/>        Padding="30"<br/>        Spacing="30"<br/>        VerticalOptions="CenterAndExpand"&gt;</span><span id="758e" class="jw jx hh js b fi kd jz l ka kb">            &lt;Label<br/>            FontAttributes="Bold"<br/>            FontSize="Large"<br/>            HorizontalTextAlignment="Center"<br/>            Text="Location permission needed"<br/>            TextColor="Black" /&gt;</span><span id="0d66" class="jw jx hh js b fi kd jz l ka kb">            &lt;Button<br/>            Margin="10,0"<br/>            BackgroundColor="#EE7E4C"<br/>            Command="{Binding PermissionCommand}"<br/>            CornerRadius="20"<br/>            FontSize="20"<br/>            Text="Give permission"<br/>            TextColor="Black" /&gt;<br/>    &lt;/StackLayout&gt;<br/>&lt;/ContentPage&gt;</span></pre><p id="44df" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在视图模型中</p><pre class="jn jo jp jq fd jr js jt ju aw jv bi"><span id="dec1" class="jw jx hh js b fi jy jz l ka kb">public class MainPageViewModel<br/>    {<br/>        public ICommand PermissionCommand { get; set; }<br/>        public MainPageViewModel()<br/>        {<br/>            PermissionCommand = new <br/>            Command(async () =&gt; await    RequestPermissionAsync());<br/>        }</span><span id="da78" class="jw jx hh js b fi kd jz l ka kb">async Task RequestPermissionAsync()<br/>        {<br/>            var status = await  Permissions.CheckStatusAsync&lt;Permissions.LocationWhenInUse&gt;();<br/>            if (status != PermissionStatus.Granted)<br/>            {<br/>                status = await Permissions.RequestAsync&lt;Permissions.LocationWhenInUse&gt;();<br/>            }<br/>        }<br/>    }</span></pre><p id="7aab" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是你得到的输出</p><figure class="jn jo jp jq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ke"><img src="../Images/22cf312df0e93f7ec8af3079247abcd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lokhLKBv7qD8AhMkZ3KNyA.png"/></div></div></figure><p id="0f24" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">注意</strong>:需要在android的manifest文件和iOS的Info.plist文件中添加权限。</p></div></div>    
</body>
</html>