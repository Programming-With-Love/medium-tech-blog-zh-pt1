<html>
<head>
<title>Kubernetes Tutorial — A Comprehensive Guide The Orchestration Giant</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes教程——编排巨人综合指南</h1>
<blockquote>原文：<a href="https://medium.com/edureka/kubernetes-tutorial-fe6de6a20325?source=collection_archive---------1-----------------------#2018-11-27">https://medium.com/edureka/kubernetes-tutorial-fe6de6a20325?source=collection_archive---------1-----------------------#2018-11-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/e8a3fff11733ad055203219805870dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*Z1RTmmKDRVdp4hsT0hMnOQ.png"/></div><figcaption class="il im et er es in io bd b be z dx">Kubernetes Tutorial - Edureka</figcaption></figure><p id="c55f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Kubernetes是一个平台，它消除了部署容器化应用程序所涉及的手动过程。在Kubernetes教程的这篇博客中，您将浏览与这个多容器管理解决方案相关的所有概念。</p><p id="8b2c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本教程将涵盖以下主题:</p><ul class=""><li id="ff9d" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">没有容器编排的挑战</li><li id="6ad8" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Docker Swarm或Kubernetes</li><li id="4b61" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">什么是Kubernetes？</li><li id="8363" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Kubernetes功能</li><li id="e10a" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">库伯内特建筑</li><li id="f473" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">Kubernetes案例研究</li><li id="b23b" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">亲自动手</li></ul><p id="41e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，在继续这篇博客之前，让我简单介绍一下集装箱化。</p><p id="3737" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，在容器出现之前，开发人员和测试人员之间总是会发生口角。这通常是因为在开发端起作用的东西，在测试端不起作用。两者存在于不同的环境中。现在，为了避免这种情况，引入了容器，这样开发人员和测试人员就在同一个页面上。</p><p id="c571" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">处理大量的集装箱也是一个问题。有时在运行容器时，在产品方面，很少出现开发阶段不存在的问题。这种场景引入了容器编排系统。</p><p id="8ac1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我深入研究编排系统之前，让我快速列出没有这个系统所面临的挑战。</p><h1 id="51a1" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:没有容器编排的挑战</h1><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/da2056f95835741f1fd3a7d52488bba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCvZMSzCmJw9wW9im9oC3Q.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Challenges Without Container Orchestration - Kubernetes Tutorial</figcaption></figure><p id="4ea6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">正如您在上图中看到的，当多个服务在容器中运行时，您可能想要伸缩这些容器。在大规模工业中，这真的很难做到。这是因为这将增加维护服务的成本，以及并行运行这些服务的复杂性。</p><p id="214d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，为了避免手动设置服务和克服挑战，需要一些大的东西。这就是容器编排引擎发挥作用的地方。</p><p id="7aa7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个引擎让我们组织多个容器，以这样的方式启动所有底层机器，容器是健康的并且分布在集群环境中。当今世界，这样的引擎主要有两种:<strong class="ir hi">Kubernetes</strong>&amp;<strong class="ir hi">Docker Swarm</strong>。</p><h1 id="16a3" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:Kubernetes vs Docker Swarm</h1><p id="287e" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated"><strong class="ir hi"> Kubernetes </strong>和<strong class="ir hi"> Docker Swarm </strong>是当今市场上领先的容器编排工具。所以在prod中使用它们之前，您应该知道它们到底是什么以及它们是如何工作的。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/7de7588b0fffbcdb3024a52774bc3a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1d9xxBFSm3qky9gjHwBNTw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Docker Swarm vs Kubernetes - Kubernetes Tutorial</figcaption></figure><p id="b111" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你可以参考上面的图片，Kubernetes与Docker Swarm相比，拥有一个非常活跃的社区，并在许多组织中实现了自动扩展。类似地，与Kubernetes相比，Docker Swarm有一个易于启动的集群，但它受限于Docker API的功能。</p><p id="7b01" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">好了，伙计们，这些不是这些顶级工具之间的唯一区别。如果你想知道这两种容器编排工具之间的详细区别，那么你可以参考我关于Kubernetes vs Docker Swarm的文章。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/29e74de6f0fc9d2ca443c1e45a99b363.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*pMiVoPOQbo8-q-4Sq4aJUA.png"/></div><figcaption class="il im et er es in io bd b be z dx">Representation of Kubernetes - Kubernetes Tutorial</figcaption></figure><p id="6bce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果我可以在这两者中选择一个，那么它必须是Kubernetes，因为容器需要被管理并连接到外部世界，以完成诸如调度、负载平衡和分发之类的任务。</p><p id="5dcb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是，如果你从逻辑上考虑，Docker Swarm会是一个更好的选择，因为它运行在Docker之上，对吗？如果我是你，我肯定会对使用哪个工具感到困惑。但是，嘿，Kubernetes是市场上无可争议的领导者，也确实运行在Docker容器之上，具有更好的功能。</p><p id="c721" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，既然你已经理解了Kubernetes的必要性，那我就告诉你什么是Kubernetes吧？</p><h1 id="572f" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:什么是Kubernetes？</h1><p id="4073" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated">Kubernetes是一个开源系统，它处理将容器调度到计算集群上的工作，并管理工作负载，以确保它们按照用户的意图运行。作为谷歌的创意，它提供了优秀的社区，并与所有的云提供商出色地合作，成为一个<em class="lo">多容器管理解决方案。</em></p><h1 id="a586" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:Kubernetes特性</h1><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/a3c4b3a15c8ce7bd8f3cde1be42a1037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*91lpaypqnBdNmqJSQk85-g.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Kubernetes Features - Kubernetes Tutorial</figcaption></figure><p id="d7e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Kubernetes的特点如下:</p><ul class=""><li id="a4d6" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi">自动化调度:</strong> Kubernetes提供了一个高级调度器，可以根据集群节点的资源需求和其他约束在集群节点上启动容器，同时不会牺牲可用性。</li><li id="4d02" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">自我修复能力:</strong> Kubernetes允许在节点失效时替换和重新安排容器。它还杀死不响应用户定义的健康检查的容器，并且在它们准备好服务之前不向客户端通告它们。</li><li id="acab" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">自动推出&amp;回滚:</strong> Kubernetes推出对应用程序或其配置的更改，同时监控应用程序的健康状况，以确保它不会同时终止所有实例。如果出现问题，使用Kubernetes，您可以回滚更改。</li><li id="4c00" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">水平扩展&amp;负载平衡:</strong> Kubernetes可以通过一个简单的命令，使用一个UI，或者根据CPU的使用情况自动地根据需求扩展和缩小应用程序。</li></ul><h1 id="688f" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:Kubernetes建筑</h1><p id="1a4a" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated">Kubernetes架构有以下主要组件:</p><ul class=""><li id="9f4e" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">主节点</li><li id="b7ea" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">工作/从属节点</li></ul><p id="d6a1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我将逐一讨论它们。因此，首先让我们从了解<strong class="ir hi">主节点</strong>开始。</p><h1 id="2533" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">主网点</h1><p id="a019" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated">主节点负责管理Kubernetes集群。它主要是所有管理任务的入口点。集群中可以有多个主节点来检查容错能力。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/13576c6a62c89af9dae8b71be3fe9b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mlaNJRTjhYdCarb2BHZvqg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Kubernetes Master Node - Kubernetes Tutorial</figcaption></figure><p id="98a6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如上图所示，主节点有各种组件，如API服务器、控制器管理器、调度器和ETCD。</p><ul class=""><li id="b9c3" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi"> API服务器:</strong>API服务器是所有用于控制集群的REST命令的入口点。</li><li id="ae66" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">控制器管理器:</strong>是一个监控Kubernetes集群的守护进程，管理不同的非终止控制循环。</li><li id="4e49" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">调度器:</strong>调度器将任务调度给从节点。它存储每个从节点的资源使用信息。</li><li id="d1c7" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">ETCD:  ETCD是一个简单的、分布式的、一致的键值存储。它主要用于共享配置和服务发现。</li></ul><h1 id="d140" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">工作/从属节点</h1><p id="1947" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated">工作节点包含管理容器之间的网络、与主节点通信以及向调度容器分配资源的所有必要服务。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/bd723c38aab1817127711fb6dd083ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Di0Luayp9IluG-KdaclpFw.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Kubernetes Slave Node - Kubernetes Tutorial</figcaption></figure><p id="46eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如上图所示，worker节点有各种组件，如Docker容器、Kubelet、Kube-proxy和Pods。</p><ul class=""><li id="8291" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><strong class="ir hi"> Docker容器:</strong> Docker运行在每个worker节点上，并运行配置好的pod</li><li id="fad0" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> Kubelet: </strong> Kubelet从API服务器获取Pod的配置，并确保所描述的容器启动并运行。</li><li id="05c6" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi"> Kube-proxy: </strong> Kube-proxy充当单个工作节点上服务的网络代理和负载平衡器</li><li id="e5de" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated"><strong class="ir hi">pod:</strong>pod是逻辑上在节点上一起运行的一个或多个容器。</li></ul><p id="cb5e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想要Kubernetes架构所有组件的详细解释，那么你可以参考我们关于<strong class="ir hi"> Kubernetes架构的博客。</strong></p><h1 id="ab0a" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:Kubernetes案例研究</h1><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/dd5ad99f67420a2f7869cfa97394b351.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*XtMbUTX-4bZrxv5uuAXxOA.png"/></div></figure><p id="aeaa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">雅虎！日本是一家网络服务提供商，总部位于加利福尼亚州森尼维尔。由于该公司的目标是虚拟化硬件，该公司在2012年开始使用<strong class="ir hi"> OpenStack </strong>。他们的内部环境变化很快。然而，由于云和容器技术的进步，该公司希望能够在各种平台上推出服务。</p><p id="f7a4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">问题:</strong>如何从一个应用程序代码为所有需要的平台创建映像，并将这些映像部署到每个平台上？</p><p id="91c3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了更好地理解，请参考下图。当在代码注册处更改代码时，持续集成工具会创建裸机映像、Docker容器和VM映像，并将其推入映像注册处，然后部署到每个基础架构平台。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/b39670160362a755ad00c7f67d530718.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AwH6EaAd-U03hGPHCW9-CA.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Process Flow of Yahoo Japan - Kubernetes Tutorial</figcaption></figure><p id="9915" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在，让我们关注容器工作流，了解他们如何使用Kubernetes作为部署平台。参考下图，先睹为快平台架构。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/751b326a1ab32b34c5cc427cc53ba90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CYU3HTw9dW3Uk17vVhGbRg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">The solution for Case Study - Kubernetes Tutorial</figcaption></figure><p id="73b9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用OpenStack实例，在其上使用Docker、Kubernetes、Calico等来执行各种操作，如容器联网、容器注册等。</p><p id="2a03" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当您有许多集群时，管理它们就变得很困难，对吗？</p><p id="9793" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，他们只想创建一个简单的基本OpenStack集群，以提供Kubernetes所需的基本功能，并使OpenStack环境更易于管理。</p><p id="1f9e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过图像创建工作流和Kubernetes的结合，他们建立了下面的工具链，使得从代码推送到部署变得容易。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es kz"><img src="../Images/25887cf08fbf801537d2e67a8e3a3ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMOOl8WSv1K88WJkg8ZWLQ.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Process Flow of Solution - Kubernetes Tutorial</figcaption></figure><p id="a6b2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这种工具链确保生产部署的所有因素都得到考虑，例如多租户、身份验证、存储、网络、服务发现。</p><p id="9c62" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">乡亲们就是这样，<strong class="ir hi">雅虎！日本</strong>在<strong class="ir hi">谷歌</strong>和<strong class="ir hi"> Solinea </strong>的帮助下，为运行在OpenStack上的Kubernetes“一键式”代码部署建立了一个自动化工具链。</p><h1 id="99c6" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">Kubernetes教程:动手操作</h1><p id="bca5" class="pw-post-body-paragraph ip iq hh ir b is li iu iv iw lj iy iz ja lk jc jd je ll jg jh ji lm jk jl jm ha bi translated">在这次实践中，我将向您展示如何创建部署和服务。我使用一个Amazon EC2实例来使用Kubernetes。嗯，亚马逊已经为<strong class="ir hi"> Kubernetes(亚马逊EKS) </strong>提供了<strong class="ir hi">亚马逊弹性容器服务</strong>，这允许他们非常快速和容易地在云中创建Kubernetes集群。如果你想了解更多，你可以参考博客<a class="ae lq" href="https://www.edureka.co/blog/amazon-eks/?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=kubernetes-tutorial" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="be44" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤1: </strong>首先<strong class="ir hi">创建一个文件夹</strong>，您将在其中创建您的部署和服务。之后，使用编辑器<strong class="ir hi">打开一个部署文件</strong>。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="7afc" class="lw kc hh ls b fi lx ly l lz ma">mkdir handsOn <br/>cd handsOn <br/>vi Deploy.yaml</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/1f509dd5b1eafeb1a7cf78830a144cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*Mj1go-PwQ2QKtgktSHSLOA.png"/></div></figure><p id="3b84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤2: </strong>打开部署文件后，提及您想要部署的应用程序的所有规范。在这里，我试图部署一个httpd T21应用程序。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="1976" class="lw kc hh ls b fi lx ly l lz ma">apiVersion: apps/v1  #Defines the API Version<br/>kind: Deployment     #Kinds parameter defines which kind of file is           it, over here it is Deployment<br/>metadata:<br/>  name: dep1        #Stores the name of the deployment<br/>spec:               # Under Specifications, you mention all the specifications for the deployment<br/>  replicas: 3       # Number of replicas would be 3<br/>  selector:<br/>    matchLabels:<br/>      app: httpd     #Label name which would be searched is httpd<br/>  template:<br/>    metadata:<br/>      labels:<br/>        app: httpd   #Template name would be httpd<br/>    spec:            # Under Specifications, you mention all the specifications for the containers<br/>      containers:<br/>      - name: httpd   #Name of the containers would be httpd<br/>      image: httpd:latest  #The image which has to be downloaded is httpd:latest<br/>      ports:<br/>        - containerPort: 80 #The application would be exposed on port 80</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es mc"><img src="../Images/716b765b2409dbe69401f9a73b173a2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtTE6D3cPL6aLUCtFEpqlg.png"/></div></div></figure><p id="493f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤3: </strong>在编写了部署文件之后，使用下面的命令应用部署。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="dde8" class="lw kc hh ls b fi lx ly l lz ma">kubectl apply -f Deploy.yaml</span></pre><p id="2fad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里-f是用于文件名的标志名。</p><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/3acacd8d1304e9769acbbf4665a444e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*XruN3JB7VXyTQ5YEoi1Vog.png"/></div></figure><p id="1722" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤4: </strong>现在，一旦应用了部署，就可以运行pod列表了。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="feb9" class="lw kc hh ls b fi lx ly l lz ma">kubectl get pods -o wide</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/65cdcadbfd027b995d754f56b4f6c60b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*BvD5_7fgu32XR2geF4K0uQ.png"/></div></figure><p id="47f4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里，-o wide用于了解部署在哪个节点上运行。</p><p id="102a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤5: </strong>在您创建了一个部署之后，现在您需要创建一个服务。再次使用编辑器，打开一个空白的<strong class="ir hi"> service.yaml文件</strong>。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="f633" class="lw kc hh ls b fi lx ly l lz ma">vi service.yaml</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/b690ba7a94f8c48b802ae89079712c2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*ADCiX7H8sPG8AU1ucNN8Pw.png"/></div></figure><p id="caa9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第六步:</strong>打开服务文件后，提及服务的所有规格。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="8352" class="lw kc hh ls b fi lx ly l lz ma">apiVersion: v1  #Defines the API Version<!-- --> <br/>kind: Service   #Kinds parameter defines which kind of file is it, over here it is Service<br/>metadata:<br/>  name: netsvc   #Stores the name of the service<br/>spec:            # Under Specifications, you mention all the specifications for the service<br/>  type: NodePort<br/>  selector:<br/>    app: httpd<br/>  ports:<br/>  -protocol: TCP<br/>   port: 80<br/>   targetPort: 8084    #Target Port number is 8084</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/97c60f3bd2881c1d0d9f482570ff1f6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*-ItREN84FLiYDFW5_LJJrg.png"/></div></figure><p id="bd2e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">第7步:</strong>编写服务文件后，使用以下命令应用服务文件。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="2f1a" class="lw kc hh ls b fi lx ly l lz ma">kubectl apply -f service.yaml</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/1c6db8f00de6e7dccc20cf04f1bc083f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*cSs-_bbb6W8lURRTEOQakw.png"/></div></figure><p id="65fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤8: </strong>现在，一旦应用了您的服务，使用下面的命令检查服务是否正在运行。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="9642" class="lw kc hh ls b fi lx ly l lz ma">kubectl get svc</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/f3668bbae6d9e0039204b8b7257b1767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*HPC6FGp6d8nL5BBrJeCseg.png"/></div></figure><p id="d0aa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤9: </strong>现在，要查看服务的规范，并检查它绑定到哪个端点，使用下面的命令。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="f8e3" class="lw kc hh ls b fi lx ly l lz ma">kubectl describe svc &lt;name of the service&gt;</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es md"><img src="../Images/b0846458e8d8f6bcb676e3866642f50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4wRQB6DDY2X5Jeyw7Ee3IQ.png"/></div></div></figure><p id="ca0b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">步骤10: </strong>现在，由于我们使用amazon ec2实例，要获取网页并检查输出，请使用以下命令。</p><pre class="la lb lc ld fd lr ls lt lu aw lv bi"><span id="912d" class="lw kc hh ls b fi lx ly l lz ma">curl ip-address</span></pre><figure class="la lb lc ld fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/8586b7db01c70b125b44a2b7a6e4deca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*8KNO4L7WBEImMMKw8YvbsA.png"/></div></figure><p id="24cd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就结束了这个关于Kubernetes教程的博客。如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释Kubernetes的各个方面。</p><blockquote class="me mf mg"><p id="94bc" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">1.<a class="ae lq" rel="noopener" href="/edureka/what-is-kubernetes-container-orchestration-tool-d972741550f6">什么是Kubernetes？</a></p><p id="d1d0" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">2.<a class="ae lq" rel="noopener" href="/edureka/install-kubernetes-on-ubuntu-5cd1f770c9e4">在Ubuntu上安装Kubernetes</a></p><p id="1a5f" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">3.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-dashboard-d909b8b6579c"> Kubernetes仪表板安装&amp;视图</a></p><p id="36c2" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">4.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-architecture-c43531593ca5"> Kubernetes建筑</a></p><p id="a57a" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">5.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-networking-a46d9f994bab"> Kubernetes网络</a></p><p id="37c1" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">6.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-vs-docker-45231abeeaf1">Kubernetes vs Docker Swarm</a></p><p id="1681" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">7.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-interview-questions-c9790e5abddb"> Kubernetes面试问题</a></p><p id="bfa5" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">8.<a class="ae lq" rel="noopener" href="/edureka/amazon-eks-ac646c23abf8">与亚马逊EKS合作开发Kubernetes应用</a></p><p id="5c2f" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">9.<a class="ae lq" rel="noopener" href="/edureka/kubernetes-ingress-controller-nginx-c5cf9e8ff031">在AWS上设置Kubernetes入口控制器</a></p><p id="2c77" class="ip iq lo ir b is it iu iv iw ix iy iz mh jb jc jd mi jf jg jh mj jj jk jl jm ha bi translated">10.<a class="ae lq" rel="noopener" href="/edureka/logging-monitoring-elasticsearch-fluentd-kibana-e2cd477a576b">如何用Elasticsearch和Kibana可视化Kubernetes集群</a></p></blockquote></div><div class="ab cl mk ml go mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ha hb hc hd he"><p id="fb3d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="lo">原载于2018年11月27日</em><a class="ae lq" href="https://www.edureka.co/blog/kubernetes-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="lo">www.edureka.co</em></a><em class="lo">。</em></p></div></div>    
</body>
</html>