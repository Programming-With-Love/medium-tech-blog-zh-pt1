<html>
<head>
<title>Java Tips — A homemade linked list</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java技巧——自制的链表</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/java-tips-a-homemade-linked-list-9adae0906332?source=collection_archive---------0-----------------------#2019-09-08">https://medium.com/quick-code/java-tips-a-homemade-linked-list-9adae0906332?source=collection_archive---------0-----------------------#2019-09-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="32f8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不使用java.util库如何设计和实现链表</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/8a0de1e742d22c3339afae04f68407b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e2v3JSj_AaRU13HS"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Photo by <a class="ae js" href="https://unsplash.com/@cdrying?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">C Drying</a> on <a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="bbba" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">介绍</h1><p id="13c4" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">Java SDK实现了一个漂亮的库来管理对象的集合:这个库包含在java.util.*包中。</p><p id="f939" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了更好地理解集合，并在头脑中留下深刻印象，通过引用对象的访问将尝试实现一个自制的链表。</p><p id="e6e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个链表，我们将尝试实现像添加，删除和许多其他需要操纵数据结构的操作。想象链表像一条链，有起点和终点，每个节点只链接到下一个环。</p><p id="b674" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="kw">走吧！</em>T3】</strong></p></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><h1 id="ced9" class="jt ju hh bd jv jw le jy jz ka lf kc kd ke lg kg kh ki lh kk kl km li ko kp kq bi translated">列表的节点</h1><p id="6cf7" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">首先，我们需要将集合定义为一组节点，每个节点都必须有:</p><ul class=""><li id="bf15" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated"><strong class="ig hi">值</strong>:每个节点携带的信息量；</li><li id="ec3f" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated">指针:指向列表中下一个元素的指针；有了这条链路，每个节点都知道下一个节点；</li></ul><p id="396c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">节点的结构是:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lx"><img src="../Images/632c87fab59cbbfe40fdedc3b09083df.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*07kG4FP-QFYMaY6ulmWgaw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Node class</figcaption></figure><p id="dfad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">节点</strong>类提供给:</p><ul class=""><li id="fa78" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated">一个维护<strong class="ig hi">值</strong>的类变量，一个维护指向下一个节点的<strong class="ig hi">指针</strong></li><li id="3b54" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated">一个<strong class="ig hi">默认构造函数</strong>，初始化为空值和指针；</li><li id="78ed" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated">一个<strong class="ig hi">值构造器</strong>，用输入中接收的对象和指向null的指针初始化节点的值；</li><li id="5cfc" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi"> Getter </strong>和<strong class="ig hi"> setter </strong>方法来操纵节点。</li></ul><p id="88e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">链表将是一个节点序列，每个节点都将通过引用指向下一个节点，如下图所示:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ly"><img src="../Images/b7a43dee7ed0cb763d9e4b5de534fde6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ffahzH3E5C-YnarxdS6OOA.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Linked list structure</figcaption></figure><p id="e208" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> LinkedList </strong>类提供给:</p><ul class=""><li id="0efd" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated">一个类变量用于维护对列表的第一个节点的引用，一个用于维护对最后一个节点的引用；</li><li id="7ce2" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated">一个<strong class="ig hi">默认构造函数</strong>，初始化为空值和指针；</li><li id="5ede" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi"> Getter </strong>方法检索链表的第一个和最后一个节点；</li><li id="167f" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">商业方法</strong>对操纵单子有用。</li></ul><p id="3bc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">LinkedList类的结构是:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lz"><img src="../Images/008cf6f8ef790f157743bec24f585e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*K_HI3Go7KAyd4bjyHhi_Wg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Extract of LinkedList class</figcaption></figure><p id="e006" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">链表的核心有两个类变量:一个维护列表头的引用(first)，一个维护列表尾的引用(last)。当列表被创建时，两者都是空的，并且需要为列表的每次操作进行更新。</p><p id="23dd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">而且链表核心类需要实现<em class="kw"> Iterable </em>接口进行迭代。</p></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><h1 id="7de1" class="jt ju hh bd jv jw le jy jz ka lf kc kd ke lg kg kh ki lh kk kl km li ko kp kq bi translated">操作:添加</h1><p id="a3c2" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">创建列表后，我们可以添加节点来填充它。可以使用<strong class="ig hi"> addFirst </strong>方法在列表顶部添加一个新节点，或者使用<strong class="ig hi"> addLast </strong>方法在列表尾部添加一个新节点。</p><p id="b840" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> addFirst </strong>方法需要区分两种情况:</p><ul class=""><li id="eee4" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated"><strong class="ig hi">空列表</strong>:在空列表的情况下，将要添加的节点将与第一个和最后一个节点重合，因为它将是列表中包含的唯一一个节点</li><li id="7969" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">全列表</strong>:如果是全列表，需要在临时节点上保存实际的第一个节点，用新节点设置第一个节点，并从新节点到临时节点增加一个参考点</li></ul><p id="19a2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是<strong class="ig hi"> addFirst </strong>的实现:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ma"><img src="../Images/019241977baca17f587c4e44bf93d382.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*JD_RDCPDi2XcLGk59EcMJw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Add first method on LinkedList class</figcaption></figure><p id="ab3b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另外，<strong class="ig hi"> addLast </strong>方法需要区分两种情况:</p><ul class=""><li id="ad5e" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated"><strong class="ig hi">空列表</strong>:在空列表的情况下，将要添加的节点将与第一个和最后一个节点重合，因为它将是列表中包含的唯一一个节点</li><li id="80c9" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">全列表</strong>:如果是全列表，需要设置指针从实际最后一个指向新节点，并用新节点覆盖最后一个节点</li></ul><p id="e7b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是<strong class="ig hi"> addLast </strong>的实现:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mb"><img src="../Images/1995cbdcdb296f0b5f96e1f545d14004.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*uWSYlAxna0V_PBxvuXvR2A.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Add last method on LinkedList class</figcaption></figure><p id="15a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这两个add方法中，都将使用输入中接收的值初始化一个新的对象节点。</p></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><h1 id="0eed" class="jt ju hh bd jv jw le jy jz ka lf kc kd ke lg kg kh ki lh kk kl km li ko kp kq bi translated">操作:移除</h1><p id="4f51" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">除了添加操作之外，还可以通过链表删除任何节点。remove can操作通过<strong class="ig hi"> removeFirst </strong>操作作用于第一个节点，或通过<strong class="ig hi"> removeLast </strong>操作作用于尾部</p><p id="0924" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> removeFirst </strong>方法需要区分两种情况:</p><ul class=""><li id="928d" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated"><strong class="ig hi">空列表</strong>:如果列表为空，操作将停止，抛出自定义异常</li><li id="cac7" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">完整列表</strong>:在这种情况下，需要用指向同一个第一节点的下一个节点的指针覆盖第一个变量的值。旧的第一个节点将保持不被引用，并将被垃圾收集器捕获</li></ul><p id="d638" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是<strong class="ig hi"> removeFirst </strong>的实现:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mc"><img src="../Images/7e0eecf7a6c4295a2531010e6e39e39c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*UwbFjHv8Ps_ahWTs_9LERA.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Remove first method on LinkedList class</figcaption></figure><p id="e243" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">另外<strong class="ig hi"> removeLast </strong>方法需要区分三种情况:</p><ul class=""><li id="8a2e" class="lj lk hh ig b ih ii il im ip ll it lm ix ln jb lo lp lq lr bi translated"><strong class="ig hi">空列表</strong>:如果列表为空，操作将停止，抛出自定义异常</li><li id="491c" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">一元链表</strong>:链表需要迭代，如果当前节点为空，则需要设置下一个节点的指针，使第一个和最后一个节点为空，因为链表现在为空。旧的第一个节点将保持不被引用，并将被垃圾收集器捕获</li><li id="67d2" class="lj lk hh ig b ih ls il lt ip lu it lv ix lw jb lo lp lq lr bi translated"><strong class="ig hi">两个或多个元素列表</strong>:链表需要迭代，当发现当前节点的下一个节点没有下一个指针时，需要将当前节点的指针置空，用当前节点替换最后一个节点。旧的最后一个节点将保持不被引用，并将被垃圾收集器捕获</li></ul><p id="4540" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是<strong class="ig hi"> removeLast </strong>的实现:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es md"><img src="../Images/ebc35b2afb4a21fdcb9d714b60039d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*nAxXMrrG7UUs_6ww8vXqvQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Remove last method on LinkedList class</figcaption></figure></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><h1 id="c94d" class="jt ju hh bd jv jw le jy jz ka lf kc kd ke lg kg kh ki lh kk kl km li ko kp kq bi translated">列表的大小和扫描</h1><p id="b9a5" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">要计算链表中包含的对象，没有全局计数器，但是链表的大小是在运行时迭代整个链表计算出来的。</p><p id="4e8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要迭代列表，我们可以从第一个元素开始，直到下一个元素为空，用指向以下内容的指针覆盖实际节点:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es me"><img src="../Images/6da15b0c12805176d706414dbed346a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*Ez-LMNpjVTgYfIQFscufzw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Sizing the list</figcaption></figure><p id="25ae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在每次迭代中，计数器递增。</p><p id="ab2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个循环是LinkedList类的内部循环，但是如果要通过外部类迭代整个列表，就需要实现iterator()方法:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mf"><img src="../Images/f86fc4e9157cfb254c391318fb661d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*C-sAkB4GiDp0Ai_dZiefEQ.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Implementation of the hasNext() and next() method of the iterator</figcaption></figure><p id="ec26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">实现此方法后，只需使用for循环即可迭代LinkedList类的实例:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mg"><img src="../Images/5da7b95a5345e01b0168075bb3e86eb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*-bCp8mlFFaiJ5zBcYP7OYg.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">Example of iteration</figcaption></figure></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><h1 id="dd64" class="jt ju hh bd jv jw le jy jz ka lf kc kd ke lg kg kh ki lh kk kl km li ko kp kq bi translated"><strong class="ak">结论</strong></h1><p id="7b08" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">这些例子有助于理解集合的概念，熟悉Java对象之间的引用。</p><p id="48a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当您需要自定义标准集合的行为时，您可以使用这种方法，或者您可以将这些示例用于教学目的。</p></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><p id="e099" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在GitHub repository上，你可以找到完整的代码和许多使用示例。</p><p id="f402" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">在GitHub上关注我</strong> : <a class="ae js" href="https://github.com/Mamix84/jtips/tree/master/Medium/src/it/mamino84/example/linkedlist" rel="noopener ugc nofollow" target="_blank">仓库</a></p></div></div>    
</body>
</html>