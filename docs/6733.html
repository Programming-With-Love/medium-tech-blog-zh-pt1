<html>
<head>
<title>DOM manipulation over REST</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于REST的DOM操作</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/dom-manipulation-over-rest-7b0a0fd6f8f1?source=collection_archive---------0-----------------------#2019-11-04">https://medium.com/quick-code/dom-manipulation-over-rest-7b0a0fd6f8f1?source=collection_archive---------0-----------------------#2019-11-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="5360" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">有没有可能改变web应用的思维方式？</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/9a64197344b05f2bbf93fb23193da13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*udJ63MZh1zTcoi-o"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@marjan_blan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Марьян Блан</a> on <a class="ae jm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl jn jo go jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ha hb hc hd he"><h1 id="e11b" class="ju jv hh bd jw jx jy jz ka kb kc kd ke in kf io kg iq kh ir ki it kj iu kk kl bi translated">介绍</h1><p id="1acb" class="pw-post-body-paragraph km kn hh ko b kp kq ii kr ks kt il ku kv kw kx ky kz la lb lc ld le lf lg lh ha bi translated">许多年前的趋势是实现<strong class="ko hi">独立应用软件</strong>，之后开始运行到<strong class="ko hi"> MVC服务器web应用</strong>，今天我们正在进入<strong class="ko hi">单页面应用</strong>的时代。</p><p id="3ad6" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">有没有可能走别的路？或者更容易的，存在其他方式？</p><p id="512f" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">我们从一个假设开始:今天的网络速率和服务器基础设施的能力比10-15年前有了更大的提高，大约10年前开始有了将所有代码和运行时处理从服务器转移到客户端的想法(SPA应用的诞生)。</p><p id="1ce4" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">但是今天这种做法还有必要吗？</p><p id="3717" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">我正在酝酿一个改变网络应用实现方式的想法。</p><p id="f170" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated"><strong class="ko hi"> <em class="ln">走吧！</em>T9】</strong></p></div><div class="ab cl jn jo go jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ha hb hc hd he"><h1 id="01e5" class="ju jv hh bd jw jx jy jz ka kb kc kd ke in kf io kg iq kh ir ki it kj iu kk kl bi translated">SPA和单片应用</h1><p id="c3b4" class="pw-post-body-paragraph km kn hh ko b kp kq ii kr ks kt il ku kv kw kx ky kz la lb lc ld le lf lg lh ha bi translated">今天，许多应用程序都像SPA或monolithic一样结构化:</p><ul class=""><li id="73f4" class="lo lp hh ko b kp li ks lj kv lq kz lr ld ls lh lt lu lv lw bi translated"><strong class="ko hi">SPA</strong>:SPA(<em class="ln">单页应用</em>)是用Javascript实现的应用，在客户端的浏览器上执行，与支持前端的REST API通信，并管理对数据库或外部系统的访问</li><li id="2af9" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated"><strong class="ko hi">整体式</strong>:整体式应用程序是在单个大型架构中实现的应用程序，包含前端、后端和对外部系统的访问。这些类型许多应用程序都是用Java或C#实现的</li></ul><p id="a91a" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">在这些架构中，如果我们试图关注DOM操作在何时何地发生，我们可以描述两种场景:</p><ul class=""><li id="ab2e" class="lo lp hh ko b kp li ks lj kv lq kz lr ld ls lh lt lu lv lw bi translated"><strong class="ko hi">在浏览器上的操作</strong>:在这些场景中，在浏览器上执行的软件具有表示页面的所有HTML片段，或者具有创建新的HTML片段的逻辑。前端和后端之间的HTTP通信只传输业务数据。</li><li id="fdae" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated"><strong class="ko hi">服务器上的操作</strong>:在这些场景中，DOM的创建或操作的所有者是在服务器上执行的应用程序。通过前端和后端之间的HTTP通信，传递已经包含在业务数据中的HTML页面或页面片段(将由浏览器上的Javascript库组合)。</li></ul><p id="5b4b" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">许多年前，网络连接速度太慢，台式机或笔记本电脑的CPU太小，而且只有web服务器才有能力:执行单一应用程序的服务器承担着费力不讨好的任务，操纵DOM来准备网页的HTML代码，并为客户机的请求提供服务。</p><p id="6bde" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">在台式机和笔记本电脑的CPU迅速增加，但网络连接没有像CPU一样增加:趋势是减少网络上交换的数据包，并将逻辑移动到客户端。</p><blockquote class="mc md me"><p id="33ee" class="km kn ln ko b kp li ii kr ks lj il ku mf lk kx ky mg ll lb lc mh lm lf lg lh ha bi translated">但是今天…</p><p id="a0ea" class="km kn ln ko b kp li ii kr ks lj il ku mf lk kx ky mg ll lb lc mh lm lf lg lh ha bi translated">未来有可能遵循新的混合方式吗？又有什么好处？</p></blockquote><p id="8e9f" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">我会试着向你解释我的想法。</p></div><div class="ab cl jn jo go jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ha hb hc hd he"><h1 id="9693" class="ju jv hh bd jw jx jy jz ka kb kc kd ke in kf io kg iq kh ir ki it kj iu kk kl bi translated">DOR — DOM Over REST应用程序</h1><p id="f60d" class="pw-post-body-paragraph km kn hh ko b kp kq ii kr ks kt il ku kv kw kx ky kz la lb lc ld le lf lg lh ha bi translated"><strong class="ko hi"> DOR应用</strong> (DOM Over REST application)将成为一种思考和设计web应用的新类型。</p><p id="87b8" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">DOR应用程序的想法是为了允许基于在<strong class="ko hi">服务器端</strong>实现和管理的<strong class="ko hi">组件</strong>实现<strong class="ko hi"> web应用程序</strong>，但是使用<strong class="ko hi">公共</strong> <strong class="ko hi">框架</strong>在<strong class="ko hi">客户端</strong>组装和查看。</p><p id="88da" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">这些方法将基于五个主要概念:</p><ul class=""><li id="4c99" class="lo lp hh ko b kp li ks lj kv lq kz lr ld ls lh lt lu lv lw bi translated"><strong class="ko hi"> Web应用</strong>:Web应用将是唯一的(JAR或WAR)，它将在服务器端执行。该应用程序将提供在浏览器上查看的HTML页面。</li><li id="44c2" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated">Web组件:Web开发的基本单元需要是组件。与许多其他现有框架一样，该组件代表了web应用程序的最小部分，它将由用于视图结构的HTML、用于样式的CSS和用于逻辑的Java组成</li><li id="9da6" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated">通用框架:该框架将拥有在浏览器上组织组件和在后台管理相同组件的所有权。这个框架需要有一个在浏览器上执行的Javascript灵魂和一个在服务器上执行的Java灵魂。</li><li id="871d" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated"><strong class="ko hi">服务器端</strong>:服务器端的所有权将是提供一组REST服务，每个Web组件一个，并服务于呈现页面部分的请求。</li><li id="7c68" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated"><strong class="ko hi">客户端</strong>:客户端将管理后端公开的REST服务的调用。</li></ul><p id="5343" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">在下一张图中，我试图展示DOR架构需要如何实现:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mi"><img src="../Images/83a16e516c577695c7a005d8a10c6b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xrg0xpaYpOf8RV-D8jSMKA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">DOR architecture and layers</figcaption></figure><p id="b63d" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">为了实现这种架构，我创建了一个Java Spring Boot项目，并试图实现Javascript和Java框架</p><p id="d05e" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">现在，我已经生成了一个简单的页面，其中包含两个嵌套的组件，试图呈现HTML和CSS样式。</p></div><div class="ab cl jn jo go jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ha hb hc hd he"><h1 id="2a63" class="ju jv hh bd jw jx jy jz ka kb kc kd ke in kf io kg iq kh ir ki it kj iu kk kl bi translated">结论</h1><p id="4b34" class="pw-post-body-paragraph km kn hh ko b kp kq ii kr ks kt il ku kv kw kx ky kz la lb lc ld le lf lg lh ha bi translated">这个想法还处于萌芽状态:我在思考的同时也在努力实现这个框架。</p><p id="658d" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">我想深入探讨许多主题，例如:</p><ul class=""><li id="f5af" class="lo lp hh ko b kp li ks lj kv lq kz lr ld ls lh lt lu lv lw bi translated">性能和优势</li><li id="c017" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated">管理发布请求</li><li id="2c58" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated">应用程序状态的管理</li><li id="4685" class="lo lp hh ko b kp lx ks ly kv lz kz ma ld mb lh lt lu lv lw bi translated">许多其他人…</li></ul><p id="45ce" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated">在接下来的故事中，我会尝试挖掘一个或多个主题，但欢迎您的每一个建议……</p><p id="a520" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated"><strong class="ko hi"> <em class="ln">感谢您的宝贵时间！</em> </strong></p><p id="1e4f" class="pw-post-body-paragraph km kn hh ko b kp li ii kr ks lj il ku kv lk kx ky kz ll lb lc ld lm lf lg lh ha bi translated"><strong class="ko hi">GitHub</strong>:DOR应用(<a class="ae jm" href="https://github.com/Mamix84/medium/tree/master/DomOverRestProject" rel="noopener ugc nofollow" target="_blank">资源库</a>)的一个例子</p></div></div>    
</body>
</html>