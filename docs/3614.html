<html>
<head>
<title>RxJS Subjects - The complete know-how</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RxJS主题-完整的专业知识</h1>
<blockquote>原文：<a href="https://medium.com/globant/rxjs-subjects-the-complete-know-how-3dc1e7e341a0?source=collection_archive---------0-----------------------#2021-01-27">https://medium.com/globant/rxjs-subjects-the-complete-know-how-3dc1e7e341a0?source=collection_archive---------0-----------------------#2021-01-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="3500" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">了解RxJS主题如何对Angular中的组件交互做出贡献。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/27271ca86d7ab921d4ae3ac6d698fc76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YgPZ6LmoxlvqC-u1jFAqWA.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Image by <a class="ae jm" href="https://pixabay.com/users/goumbik-3752482/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2717066" rel="noopener ugc nofollow" target="_blank">Goumbik</a> from <a class="ae jm" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2717066" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="7e39" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在Angular组件之间传递数据有多种方式。在本文中，我们将研究使用共享服务和RxJS主题的组件交互。</p><p id="a5f9" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如果你不了解服务，服务是Angular中的一个类，用<code class="du kj kk kl km b">@injectable</code> decorator来修饰。它有两个主要目的:</p><ol class=""><li id="aba6" class="kn ko hh jp b jq jr jt ju jw kp ka kq ke kr ki ks kt ku kv bi translated">在不同组件之间传递数据。</li><li id="7244" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated">从组件中分离出某些处理任务，如网络调用及其错误处理、直接登录到控制台等。</li></ol><h1 id="b893" class="lb lc hh bd ld le lf lg lh li lj lk ll in lm io ln iq lo ir lp it lq iu lr ls bi translated"><strong class="ak">什么是RxJS主题？？</strong></h1><p id="5774" class="pw-post-body-paragraph jn jo hh jp b jq lt ii js jt lu il jv jw lv jy jz ka lw kc kd ke lx kg kh ki ha bi translated">Subject是RxJS库中一种特殊的可观察对象，它允许我们向订阅它的组件多播值。每当Subject发出一个值时，它的每个订阅者都会得到关于发出的值的通知。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ly"><img src="../Images/12f23741c70664bea1cd074a41742195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0t7gqjTcOcWy8zxNyA3Mqg.png"/></div></div></figure><p id="7880" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">它有三种方法:</p><ol class=""><li id="8a4d" class="kn ko hh jp b jq jr jt ju jw kp ka kq ke kr ki ks kt ku kv bi translated"><code class="du kj kk kl km b">next(value)</code> -该方法用于发出一个新值。</li><li id="53b3" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated"><code class="du kj kk kl km b">error(error)</code> -此方法用于发送错误通知。</li><li id="2295" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated"><code class="du kj kk kl km b">complete()</code> -这种方法表明受试者已经完成了工作。一旦<code class="du kj kk kl km b">complete()</code>方法被调用，调用<code class="du kj kk kl km b">next()</code>或<code class="du kj kk kl km b">error()</code>将不会有任何效果。</li></ol></div><div class="ab cl lz ma go mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ha hb hc hd he"><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">Credit: <a class="ae jm" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">https://giphy.com/</a></figcaption></figure><p id="a5c8" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们将创建一个小应用程序，其中:</p><ol class=""><li id="6213" class="kn ko hh jp b jq jr jt ju jw kp ka kq ke kr ki ks kt ku kv bi translated">用户将创建一个帖子(<strong class="jp hi"> <em class="mi">创建-帖子组件</em> </strong>)。</li><li id="ad48" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated">提交后，帖子会显示在<strong class="jp hi"> <em class="mi">帖子</em> </strong>组件中，计数会递增并反映在<strong class="jp hi"> <em class="mi">帖子-计数</em> </strong>组件中。</li></ol><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mj"><img src="../Images/a8522f45b787c867788db5ee79bcf599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K79OAscYOtamsz1NCJyIvg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Snapshot of application</figcaption></figure><p id="3fe3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">让我们使用下面的命令创建一个新的应用程序。</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="063c" class="mo lc hh km b fi mp mq l mr ms">ng new my-app</span></pre><p id="ac70" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们将有三个组成部分。</p><ol class=""><li id="69f6" class="kn ko hh jp b jq jr jt ju jw kp ka kq ke kr ki ks kt ku kv bi translated"><strong class="jp hi"> <em class="mi">创建-发布</em> </strong> —该组件将包含一个表单，用户将在其中输入详细信息。</li><li id="3094" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated"><strong class="jp hi"> <em class="mi">帖子</em> </strong> —该组件将显示所有帖子</li><li id="80fb" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated"><strong class="jp hi"> <em class="mi">帖子数</em> </strong> —该组件将显示帖子总数。</li></ol><p id="9c7b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们还将创建一个<strong class="jp hi"> <em class="mi">共享服务</em> </strong>。</p><p id="c6a2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">使用以下命令，通过Angular-CLI创建组件和服务</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="8264" class="mo lc hh km b fi mp mq l mr ms">ng generate component create-post<br/>ng generate component posts<br/>ng generate component posts-count</span><span id="eb4a" class="mo lc hh km b fi mt mq l mr ms">ng generate service shared</span></pre><h2 id="3602" class="mo lc hh bd ld mu mv mw lh mx my mz ll jw na nb ln ka nc nd lp ke ne nf lr ng bi translated"><strong class="ak">共享服务</strong></h2><ol class=""><li id="6714" class="kn ko hh jp b jq lt jt lu jw nh ka ni ke nj ki ks kt ku kv bi translated">从<code class="du kj kk kl km b">‘rxjs’</code>导入<code class="du kj kk kl km b">Subject</code>。</li><li id="de1a" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated">使用<code class="du kj kk kl km b">new Subject()</code>创建一个<code class="du kj kk kl km b">posts</code>主题。</li><li id="55de" class="kn ko hh jp b jq kw jt kx jw ky ka kz ke la ki ks kt ku kv bi translated">编写一个方法<code class="du kj kk kl km b">setPosts</code>，使用<code class="du kj kk kl km b">next()</code>方法发出值。</li></ol><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="2de5" class="mo lc hh km b fi mp mq l mr ms">import { Injectable } from '@angular/core';<br/>import { Subject } from 'rxjs';</span><span id="5d1b" class="mo lc hh km b fi mt mq l mr ms">@Injectable({<br/>  providedIn: 'root'<br/>})</span><span id="ba86" class="mo lc hh km b fi mt mq l mr ms">export class SharedService {<br/>  public posts = new Subject();</span><span id="193d" class="mo lc hh km b fi mt mq l mr ms">  constructor() { }</span><span id="1dfe" class="mo lc hh km b fi mt mq l mr ms">  setPost(post) {<br/>   this.posts.next(post);<br/>  }</span><span id="a90f" class="mo lc hh km b fi mt mq l mr ms">  getPosts() {<br/>    return this.posts;<br/>  }<br/>}</span></pre><h2 id="9d5a" class="mo lc hh bd ld mu mv mw lh mx my mz ll jw na nb ln ka nc nd lp ke ne nf lr ng bi translated"><strong class="ak">创建-发布组件</strong></h2><p id="8497" class="pw-post-body-paragraph jn jo hh jp b jq lt ii js jt lu il jv jw lv jy jz ka lw kc kd ke lx kg kh ki ha bi translated">该组件有一个用于捕获用户输入的反应式表单。提交后，我们调用服务的<code class="du kj kk kl km b">setPost</code>方法来发出帖子。</p><p id="ed84" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> TS </strong></p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="2aa0" class="mo lc hh km b fi mp mq l mr ms">import { Component, OnInit } from '@angular/core';<br/>import { FormGroup, FormControl } from '@angular/forms';<br/>import { SharedService } from '../services/shared.service';</span><span id="bcb6" class="mo lc hh km b fi mt mq l mr ms">@Component({<br/>  selector: 'app-create-post',<br/>  templateUrl: './create-post.component.html',<br/>  styleUrls: ['./create-post.component.css']<br/>})</span><span id="375b" class="mo lc hh km b fi mt mq l mr ms">export class CreatePostComponent implements OnInit {<br/>  public postForm: FormGroup;</span><span id="1608" class="mo lc hh km b fi mt mq l mr ms">  constructor(private sharedService: SharedService) { }</span><span id="bd9f" class="mo lc hh km b fi mt mq l mr ms">  ngOnInit(): void {<br/>    this.postForm = new FormGroup({<br/>      name: new FormControl(''),<br/>      post: new FormControl('')<br/>    })<br/>  }</span><span id="86a8" class="mo lc hh km b fi mt mq l mr ms">  submit() {<br/>    const post = {<br/>      name: this.postForm.get('name').value,<br/>      post: this.postForm.get('post').value<br/>    }<br/>    this.sharedService.setPost(post);<br/>   }<br/>}</span></pre><p id="2519" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> HTML </strong></p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="cef7" class="mo lc hh km b fi mp mq l mr ms">&lt;div class = "card"&gt;<br/>  &lt;div class = "card-header"&gt;Create Post&lt;/div&gt;<br/>  &lt;div class = "card-body"&gt;<br/>    &lt;form [formGroup] = "postForm"&gt;<br/>      &lt;div class="form-group"&gt;<br/>        &lt;label&gt;Name&lt;/label&gt;<br/>        &lt;input type="email" <br/>               class="form-control" <br/>               formControlName = "name"&gt;<br/>      &lt;/div&gt;<br/>      &lt;div class="form-group"&gt;<br/>        &lt;label&gt;Post&lt;/label&gt;<br/>        &lt;textarea class="form-control" <br/>                  rows="3" <br/>                  formControlName = "post"&gt;<br/>        &lt;/textarea&gt;<br/>      &lt;/div&gt;<br/>      &lt;div class = "text-center"&gt;<br/>        &lt;button class = "btn btn-primary" <br/>                (click) = "submit()"&gt;Submit<br/>        &lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/form&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><h2 id="0355" class="mo lc hh bd ld mu mv mw lh mx my mz ll jw na nb ln ka nc nd lp ke ne nf lr ng bi translated"><strong class="ak">岗位-组件</strong></h2><p id="94a0" class="pw-post-body-paragraph jn jo hh jp b jq lt ii js jt lu il jv jw lv jy jz ka lw kc kd ke lx kg kh ki ha bi translated">在这个组件中，我们将调用共享服务的<code class="du kj kk kl km b">getPosts</code>方法。由于<code class="du kj kk kl km b">getPosts</code>方法返回一个主题，我们将为设置订阅而订阅它。</p><p id="f549" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">每次<code class="du kj kk kl km b">posts</code>主体发出帖子，我们都会将帖子值推送到<code class="du kj kk kl km b">posts</code>数组。</p><p id="f490" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在<code class="du kj kk kl km b">ngOnDestroy()</code>生命周期挂钩中，我们取消订阅。如果我们不在组件被破坏之前取消订阅，就会导致内存泄漏。</p><p id="d51d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> TS </strong></p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="e1a7" class="mo lc hh km b fi mp mq l mr ms">import { Component, OnDestroy, OnInit } from '@angular/core';<br/>import { Subscription } from 'rxjs';<br/>import { SharedService } from '../services/shared.service';</span><span id="0b66" class="mo lc hh km b fi mt mq l mr ms">@Component({<br/>  selector: 'app-posts',<br/>  templateUrl: './posts.component.html',<br/>  styleUrls: ['./posts.component.css']<br/>})</span><span id="73bb" class="mo lc hh km b fi mt mq l mr ms">export class PostsComponent implements OnInit, OnDestroy {<br/>  public posts = [];<br/>  public postsSubscription: Subscription;</span><span id="869a" class="mo lc hh km b fi mt mq l mr ms">  constructor(private shareService: SharedService) { }</span><span id="999d" class="mo lc hh km b fi mt mq l mr ms">  ngOnInit(): void {<br/>    this.postsSubscription =  this.shareService.getPosts()<br/>    .subscribe(response =&gt; {<br/>      this.posts.push(response);<br/>    })<br/>  }</span><span id="1d4c" class="mo lc hh km b fi mt mq l mr ms">  ngOnDestroy() {<br/>    this.postsSubscription.unsubscribe();<br/>  }<br/>}</span></pre><p id="af2c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">使用<code class="du kj kk kl km b">ngFor</code>指令，我们将呈现帖子。</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="4071" class="mo lc hh km b fi mp mq l mr ms">&lt;ng-container *ngIf = "posts.length&gt;0"&gt;<br/>  &lt;h5 class = "mt-3 text-center"&gt;Posts&lt;/h5&gt;<br/>  &lt;div class = "col-sm-8 mt-1 p-1 mx-auto text-white bg-secondary"<br/>       *ngFor = "let post of posts"&gt;<br/>    &lt;p&gt;{{post.name}}&lt;/p&gt;<br/>    &lt;p&gt;{{post.post}}&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/ng-container&gt;</span></pre><h2 id="12b3" class="mo lc hh bd ld mu mv mw lh mx my mz ll jw na nb ln ka nc nd lp ke ne nf lr ng bi translated"><strong class="ak">岗位-计数组件</strong></h2><p id="b0d3" class="pw-post-body-paragraph jn jo hh jp b jq lt ii js jt lu il jv jw lv jy jz ka lw kc kd ke lx kg kh ki ha bi translated">这与文章组件相同。每发出一个值，我们就增加一个<code class="du kj kk kl km b">posts</code>计数器。</p><p id="93cb" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> TS </strong></p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="71c9" class="mo lc hh km b fi mp mq l mr ms">import { Component, OnDestroy, OnInit } from '@angular/core';<br/>import { Subscription } from 'rxjs';<br/>import { SharedService } from '../services/shared.service';</span><span id="a425" class="mo lc hh km b fi mt mq l mr ms">@Component({<br/>  selector: 'app-posts-count',<br/>  templateUrl: './posts-count.component.html',<br/>  styleUrls: ['./posts-count.component.css']<br/>})</span><span id="67b1" class="mo lc hh km b fi mt mq l mr ms">export class PostsCountComponent implements OnInit, OnDestroy {<br/>  public postsCount = 0;<br/>  public postsSubscription: Subscription;<br/>  constructor(private sharedService: SharedService) { }<br/>  <br/>  ngOnInit(): void {<br/>    this.postsSubscription = this.sharedService.getPosts()<br/>    .subscribe(response =&gt; {<br/>      this.postsCount++;<br/>    })<br/>  }</span><span id="2f8a" class="mo lc hh km b fi mt mq l mr ms">  ngOnDestroy() {<br/>    this.postsSubscription.unsubscribe();<br/>  }<br/>}</span></pre><p id="5430" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> HTML </strong></p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="c77e" class="mo lc hh km b fi mp mq l mr ms">&lt;div class = "box text-center text-white"&gt;<br/>  Total Posts: {{postsCount}}<br/>&lt;/div&gt;</span></pre><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="nk mh l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">Credit: <a class="ae jm" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">https://giphy.com/</a></figcaption></figure><p id="35d0" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">请记住，对于普通主题，订阅者只能获得他们订阅后发出的值。如果你想得到最后发出的值，你可以使用<code class="du kj kk kl km b">BehaviorSubject</code>或<code class="du kj kk kl km b">ReplaySubject</code>。</p><p id="1639" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">主题有<strong class="jp hi"><em class="mi"/></strong>三种类型。让我们一个一个来看。</p><p id="1f69" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">行为主体<br/> </strong> <code class="du kj kk kl km b">BehaviorSubject</code>存储最后发出的值。当新用户订阅时，他将立即获得存储值。在创建BehaviorSubject时，我们必须提供初始值。</p><p id="1463" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">语法:</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="9b9a" class="mo lc hh km b fi mp mq l mr ms">import { BehaviorSubject } from 'rxjs';</span><span id="8d29" class="mo lc hh km b fi mt mq l mr ms">const subject = new BehaviorSubject(inital_value);</span></pre><p id="b16b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">replay subject<br/></strong><code class="du kj kk kl km b">ReplaySubject</code>可以向新订阅者发出多个旧值。创建ReplaySubject时，您必须指定要存储多少旧值以及要保留多长时间。</p><p id="036b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">语法:</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="ceb6" class="mo lc hh km b fi mp mq l mr ms">import { ReplaySubject } from 'rxjs';</span><span id="f96c" class="mo lc hh km b fi mt mq l mr ms">const subject = new ReplaySubject(No_of_values, Time);</span></pre><p id="b7ab" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> AsyncSubject <br/> </strong> <code class="du kj kk kl km b">AsyncSubject</code>与<code class="du kj kk kl km b">BehaviorSubject</code>和<code class="du kj kk kl km b">ReplaySubject</code>相比有所不同。它只发出最后一个值，并且当它的执行完成时发出最后一个值。</p><p id="2492" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">语法:</p><pre class="ix iy iz ja fd mk km ml mm aw mn bi"><span id="feae" class="mo lc hh km b fi mp mq l mr ms">import { AsyncSubject } from 'rxjs';</span><span id="bc8e" class="mo lc hh km b fi mt mq l mr ms">const subject = new AsyncSubject();</span></pre></div><div class="ab cl lz ma go mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ha hb hc hd he"><p id="c3fb" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">总结一下吧！！</strong></p><p id="02d3" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">简而言之，主题对于将值多播到Angular中的不同组件非常有用。每当主体发出一个值时，组件都会得到通知。<code class="du kj kk kl km b">BehaviorSubject</code>、<code class="du kj kk kl km b">ReplaySubject</code>、<code class="du kj kk kl km b">AsyncSubject</code>是主语的三个变体。</p><p id="3523" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><code class="du kj kk kl km b">next(value)</code>、<code class="du kj kk kl km b">error(error)</code>和<code class="du kj kk kl km b">complete()</code>是与Subject关联的三个方法，分别用于发出值、发送错误通知和执行完成通知。</p><p id="08f8" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">希望以上信息能帮助你对主题有一个清晰的了解！！</p></div></div>    
</body>
</html>