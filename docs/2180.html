<html>
<head>
<title>New Android Injector Dagger 2 + MVP + Kotlin = Awesome!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">New Android Injector Dagger 2 + MVP + Kotlin = Awesome!</h1>
<blockquote>原文：<a href="https://medium.easyread.co/new-android-injector-dagger-2-mvp-kotlin-awesome-d4495d8f1883?source=collection_archive---------1-----------------------#2017-11-21">https://medium.easyread.co/new-android-injector-dagger-2-mvp-kotlin-awesome-d4495d8f1883?source=collection_archive---------1-----------------------#2017-11-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0610dfa71f14aa2317ac2ff4b8c534c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bmFo4oEzkD-M6uim6FtMcw.png"/></div></div></figure><p id="f60f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Ketika kita sebagai mobile developer khususnya Android tentunya sudah tidak asing lagi dengan istilah “Dependency Injection”. Alasan utama DI menjadi hal yang paling banyak disukai karena reusing classnya itu keren banget jadi gak perlu lagi kita new instance sendiri dan juga skema untuk testing antar class dependencynya itu testable banget.</p><p id="d3a7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Ditambah lagi belakangan ini salah satu bahasa baru yaitu kotlin tumbuh berkembang sangat cepat. Dukungan komunitas serta udah offically dari google sendiri setelah Google IO 17. yang perlu kita tancap di mindset itu kata — kata ini.</p><blockquote class="kt ku kv"><p id="ca19" class="jv jw kw jx b jy jz ka kb kc kd ke kf kx kh ki kj ky kl km kn kz kp kq kr ks ig bi translated">Kotlin bukan untuk mengantikan Java tp kotlin dibuat untuk berjalan dengan java berbarengan.</p></blockquote><p id="a1c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Maksud quote diatas adalah kalau kalian mengalami suatu hal yang gak bisa dilakukan oleh kotlin tp bisa dijava, so jangan ngotot untuk kekeh pake kotlin. gabungkanlah keduanya, sebab mereka itu bisa jalan secara berbarengan didalam satu project yang sama.</p><p id="53a6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Balik ke topik awal tentang “New Android Injector Dagger2 + Kotlin”, jadi belakangan ini ada Injector baru dari dagger yang membuat hidup dependency injection kita menjadi lebih simple. Apakah kalian ingat dengan potongan kode di bawah ini ?</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="7b50" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Potongan kode diatas itu merupakan cara lama kita untuk mendaftarkan sebuah activity agar teregister disebuah app component. hal ini dilakukan agar kita bisa menggunakan kelas — kelas lain yang terdaftar pada app module didalam kelas yang bersangkutan.</p><p id="ff69" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Coba kalian pikirkan apabila ada dev baru kemudian dia lupa untuk mendaftarkan classnya menggunakan perintah diatas maka akan menyebabkan error saat kelas itu ada yang pake injection dari kelas lainnya. Solusinya sekarang ada injector baru untuk menggantikan cara lama tersebut, agak lebih panjang sedikit untuk setup awalnya namun lebih terstruktur.</p><p id="9267" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">“HasActivityInjector” ,dia itu sebuah interface baru dari dagger yang ngasih tau bahwa app kita didalamnya ada injector dari activity (gak harus activity doang loh bisa fragment juga). gimana cara mendaftarkannya didalam app kita ?</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="efb4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Jadi awalnya kita daftarkan has activity injector di level app, ini tandanya didalam app component kita mempunyai activity sebagai component utama yang terdaftar pada app component ( 1 tingkat dibawahnya). kemudian setelah itu kita perlu membuat sebuah abstract class module baru ( kita sebut ActivityBuilder)</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="fe98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Setelah kita membuat class activity builder baru ini , tandanya kita mendaftarkan ke app component kalau kita punya module activity builder yang isinya itu list activity yang kita punya include sama module2nya kalau ada. btw kelas ini sebenarnya yang menjadi pengganti cara lama kita melakukan injection disetiap kelas.</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="860d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Kerennya disini ada yang namanya @Component.Builder, jadi kita bisa bebas membuat interface sendiri buat builder dari setiap component. sebagai contoh diatas kita hanya memerlukan bind instance untuk application dan function build sendiri yang nilainya direturnkan kembali ke app component.</p><p id="cf1f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Setelah semuanya disetup kita bisa melakukan injection diactivity atau kelas yang kita buat. untuk kebutuhan gradlenya teman — teman hanya perlu menambahkan gradle versi 2.11 (yang saya gunakan) dan kotlin extensionnya di enable.</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">tambahan konfigurasi gradle pada level project</figcaption></figure><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">tambahan konfigurasi gradle pada level app</figcaption></figure><p id="4fa7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Setelah Dependency Injectionnya selesai kita buat. Kenapa sih diduet sama kotlin jadi awesome ? simple sih karena kotlin itu lebih simple dari pada java trus dia juga punya android extension yang bisa langsung direct access komponen xml di kelas tanpa findViewById.</p><p id="3a4a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Kalau udah pake yang namanya android extension berarti kita bisa say goodbye buat <strong class="jx io"> butterknife </strong> untuk saat ini (lumayankan ngurangin size apk). untuk penamaannya sih memang agak jadi aneh kalau kita pake format “_” untuk penamaan komponen xmlnya.</p><figure class="la lb lc ld gt jo"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="935f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">untuk lebih detailnya kalian bisa lihat di repo dari project gua yang ini ya, karena setiap developer pasti males baca maunya bukti dulu haha :D. jadi makanya gua buatin reponya. karena gua sendiri orangnya lebih suka praktek dari pada ngalay teori hehe. “Teori penting sebelum kita praktek. tp jangan lama — lama teorinya” :D. # <strong class="jx io"> Happy Coding Guys ! </strong></p><p id="09bf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Jika teman — teman merasa artikel ini bermanfaat jangan lupa untuk share dan tap clapnya ya :D. kalau ada pertanyaan silahkan komen aja</p><p id="eaa6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Complete reponya ada disini <a class="ae lk" href="https://github.com/astroidnu/NewAndroidInjector" rel="noopener ugc nofollow" target="_blank"> https://github.com/astroidnu/NewAndroidInjector </a></p></div></div>    
</body>
</html>