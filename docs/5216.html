<html>
<head>
<title>Facial Authentication In Mendix Using MxFace.ai</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MxFace.ai在Mendix中进行面部认证</h1>
<blockquote>原文：<a href="https://medium.com/mendix/facial-authentication-in-mendix-using-mxface-ai-12194df2edea?source=collection_archive---------4-----------------------#2022-11-08">https://medium.com/mendix/facial-authentication-in-mendix-using-mxface-ai-12194df2edea?source=collection_archive---------4-----------------------#2022-11-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="7146" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">它的工作原理以及如何在你的Mendix应用中进行设置。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/f943ddece9405fde53e6e0816d6a4e81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gj_tfId3vN0M4_QJ3e-Ulg.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Facial Authentication In Mendix Using MxFace.ai</figcaption></figure><p id="c3cd" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">十年前，我们用密码来保护我们的账户。如今，技术不断发展，安全机制也不断完善。以至于最近，生物识别已经成为本地和web应用的焦点。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff ku"><img src="../Images/e62131b160ef2bc22b6fcc45a4c96bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mrh_N1h_5JjYA1_ff9CwBg.png"/></div></div></figure><p id="89d2" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">在这篇博客中，我将向您展示如何借助名为<a class="ae kv" href="https://mxface.ai/about-us" rel="noopener ugc nofollow" target="_blank"> MxFace.ai </a>的第三方API在Mendix中实现面部认证。</p><h2 id="aab9" class="kw kx hu bd ky kz la lb lc ld le lf lg kh lh li lj kl lk ll lm kp ln lo lp lq dt translated">它是如何工作的</h2><p id="82ef" class="pw-post-body-paragraph jz ka hu bd b kb lr iv kd ke ls iy kg kh lt kj kk kl lu kn ko kp lv kr ks kt hn dt translated"><em class="lw">在此之前，我将分享一个图表，对面部验证如何工作进行高级解释。</em></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lx"><img src="../Images/cdfd965453f2e17f96866d591de0325e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_vjAjWGSQKNEuN5r9YQsQ.png"/></div></div></figure><p id="082a" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><strong class="bd ly">人脸比较API比较两张人脸</strong>并确定它们是否属于同一个人。当图像被发送到面部比较API时，两个面部都被<strong class="bd ly">转换为面部向量模板</strong>，并且<strong class="bd ly">欧几里德距离被计算</strong>。然后使用函数将欧几里德距离结果转换成置信度值，面部比较API在其回复中反映该置信度值。</p><h1 id="96c3" class="lz kx hu bd ky ma mb mc lc md me mf lg ja mg jb lj jd mh je lm jg mi jh lp mj dt translated"><strong class="ak">按照以下步骤在你的应用中实现面部认证</strong></h1><h2 id="4976" class="kw kx hu bd ky kz la lb lc ld le lf lg kh lh li lj kl lk ll lm kp ln lo lp lq dt translated">注册您的帐户</h2><p id="0ae4" class="pw-post-body-paragraph jz ka hu bd b kb lr iv kd ke ls iy kg kh lt kj kk kl lu kn ko kp lv kr ks kt hn dt translated">去MxFace。AI并注册一个<strong class="bd ly">免费试用</strong>来获得你的API密匙(<strong class="bd ly">在你的试用结束后有一个免费等级</strong>每天对API调用<strong class="bd ly"> 100次</strong></p><div class="mk ml fm fo mm mn"><a href="https://mxface.ai/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab ej"><div class="mp ab mq cl cj mr"><h2 class="bd hv fv z el ms eo ep mt er et ht dt translated">主页| mxface</h2><div class="mu l"><h3 class="bd b fv z el ms eo ep mt er et ek translated">我们的网站需要一些cookies才能正常运行(必需)。此外，其他cookies可能会与您的…</h3></div><div class="mv l"><p class="bd b gc z el ms eo ep mt er et ek translated">mxface.ai</p></div></div><div class="mw l"><div class="mx l my mz na mw nb jt mn"/></div></div></a></div><p id="66ae" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">这是一个非常简单的集成，一旦我们有了API密钥，我们就可以继续将其集成到您的Mendix应用程序中。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nc"><img src="../Images/a30c786bd8417be486691d721d2f165b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OnA6Tja4Xyc-JgDMG3u-9A.png"/></div></div></figure><p id="c783" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">创建API键后，我们可以跳转到Mendix Studio Pro并调用这个REST服务。</p><h2 id="0290" class="kw kx hu bd ky kz la lb lc ld le lf lg kh lh li lj kl lk ll lm kp ln lo lp lq dt translated">在你的应用中拍照</h2><p id="21c3" class="pw-post-body-paragraph jz ka hu bd b kb lr iv kd ke ls iy kg kh lt kj kk kl lu kn ko kp lv kr ks kt hn dt translated">为了获得用户的图像，你可以使用<a class="ae kv" href="https://docs.mendix.com/appstore/modules/web-actions/" rel="noopener ugc nofollow" target="_blank">网络动作模块</a>中的<strong class="bd ly">Javascript动作</strong>或者使用市场上的<a class="ae kv" href="https://marketplace.mendix.com/link/component/107943" rel="noopener ugc nofollow" target="_blank">相机小工具</a>。</p><p id="edb9" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">然后我将此与<strong class="bd ly"> base64 encode结合到</strong> <strong class="bd ly">文件</strong> Java action(来自<a class="ae kv" href="https://marketplace.mendix.com/link/component/170" rel="noopener ugc nofollow" target="_blank"> Community Commons </a>模块)中，该动作用于获取Base64Image(作为字符串),然后该图像可用作人脸检测API的输入。</p><h2 id="ea76" class="kw kx hu bd ky kz la lb lc ld le lf lg kh lh li lj kl lk ll lm kp ln lo lp lq dt translated">调用API</h2><p id="7e86" class="pw-post-body-paragraph jz ka hu bd b kb lr iv kd ke ls iy kg kh lt kj kk kl lu kn ko kp lv kr ks kt hn dt translated">现在，我们可以在微流中调用API，并设置位置和相应的字段，以从API获得响应。</p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="50aa" class="kw kx hu ne b fv ni nj l nk nl"><strong class="ne hv">Location</strong> - https://faceapi.mxface.ai/api/face/detect<br/><br/><strong class="ne hv">Method Type</strong> - POST </span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nm"><img src="../Images/888a970f67e68b73fbfdadb8a9c83974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6vbmB4fiKBNbMvkxmb-2Ow.png"/></div></div></figure><p id="c20d" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">添加各自的自定义标题。</p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="7b29" class="kw kx hu ne b fv ni nj l nk nl"><strong class="ne hv">Subscription-Key</strong> : {your API key}</span><span id="c69c" class="kw kx hu ne b fv nn nj l nk nl"><strong class="ne hv">Content-Type:</strong> 'application/json'</span></pre><p id="f094" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">之后，将Base64Image字符串作为请求体的输入进行传递。这里我为请求使用了导出映射。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff no"><img src="../Images/565c42f3ded3f8b7ef04cdf2b9013a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1Gc6AYzgsBEr6QpT6g1Uw.png"/></div></div></figure><p id="3f5c" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><strong class="bd ly">样品申请主体</strong></p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="6f85" class="kw kx hu ne b fv ni nj l nk nl">{</span><span id="81b7" class="kw kx hu ne b fv nn nj l nk nl">"encoded_image":"#base64 encoded string of image#"</span><span id="2e4d" class="kw kx hu ne b fv nn nj l nk nl">}</span></pre><p id="5bd3" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">使用导入映射存储响应。</p><p id="f84e" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><strong class="bd ly">样本响应体:</strong></p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="90c0" class="kw kx hu ne b fv ni nj l nk nl">[<br/>   {<br/>      "quality":0.595912,<br/>      "faceRectangle":{<br/>         "x":"41,XXX",<br/>         "y":34,<br/>         "height":44,<br/>         "width":34<br/>      }<br/>   }<br/>]</span></pre><p id="d563" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">从响应中，我们可以看到面部的属性，如形状、图像质量以及x轴和y轴。</p><p id="d152" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">接下来，我们需要集成面部对比API。</p><h2 id="f5c2" class="kw kx hu bd ky kz la lb lc ld le lf lg kh lh li lj kl lk ll lm kp ln lo lp lq dt translated">面部对比API</h2><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="7f67" class="kw kx hu ne b fv ni nj l nk nl"><strong class="ne hv">Location</strong> - <a class="ae kv" href="https://faceapi.mxface.ai/api/face/verify" rel="noopener ugc nofollow" target="_blank">https://faceapi.mxface.ai/api/face/verify</a><br/><strong class="ne hv">Method</strong> - POST</span></pre><p id="d0b9" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">添加各自的自定义标题。</p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="9f07" class="kw kx hu ne b fv ni nj l nk nl"><strong class="ne hv">Subscription-Key</strong> : {your API key}</span><span id="6d02" class="kw kx hu ne b fv nn nj l nk nl"><strong class="ne hv">Content-Type:</strong> 'application/json'</span></pre><p id="1348" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><strong class="bd ly">样品请求正文</strong></p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="2f82" class="kw kx hu ne b fv ni nj l nk nl">{<br/> "encoded_image1":"#Base64EncodedImage#",<br/> "encoded_image2":"#Base64EncodedImage#"<br/>}</span></pre><p id="bbd6" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><strong class="bd ly">样本响应体</strong></p><pre class="jk jl jm jn fq nd ne nf ng aw nh dt"><span id="ff22" class="kw kx hu ne b fv ni nj l nk nl">{<br/>"confidence":0.999999,<br/> "image1_face":{ <br/> "faceRectangle":{<br/>  "x":41,<br/>  "y":34,<br/>  "height":44,<br/>  "width":34<br/>},<br/>"quality":0.595912<br/>},<br/>"image2_face":{<br/>"faceRectangle":{<br/>  "x":41,<br/>  "y":34,<br/>  "height":44,<br/>  "width":34<br/>},<br/>"quality":0.595912<br/>}<br/>}</span></pre><h1 id="f31d" class="lz kx hu bd ky ma mb mc lc md me mf lg ja mg jb lj jd mh je lm jg mi jh lp mj dt translated">全部完成！</h1><p id="de7e" class="pw-post-body-paragraph jz ka hu bd b kb lr iv kd ke ls iy kg kh lt kj kk kl lu kn ko kp lv kr ks kt hn dt translated">根据可信度范围，我们可以通过电子邮件使用OTP对用户进行身份验证，并允许他们登录。下面是我如何在自己的Mendix应用程序中实现这一点的例子。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nc"><img src="../Images/33690e0b14f91749247323df11aac060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yq_xRY5vx1wybDT1A4j8QA.png"/></div></div></figure><p id="c691" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">希望这篇文章能帮助你在Mendix中实现面部认证。</p><blockquote class="np"><p id="b93a" class="nq nr hu bd ns nt nu nv nw nx ny kt ek translated">如果您有任何疑问，请联系我们😊，下一篇文章再见。</p><p id="cdcf" class="nq nr hu bd ns nt nu nv nw nx ny kt ek translated">乐于用低代码编码！</p></blockquote><h2 id="714a" class="kw kx hu bd ky kz nz lb lc ld oa lf lg kh ob li lj kl oc ll lm kp od lo lp lq dt translated">阅读更多</h2><div class="mk ml fm fo mm mn"><a href="https://mxface.ai/face-comparing" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab ej"><div class="mp ab mq cl cj mr"><h2 class="bd hv fv z el ms eo ep mt er et ht dt translated">面部对比</h2><div class="mv l"><p class="bd b gc z el ms eo ep mt er et ek translated">mxface.ai</p></div></div><div class="mw l"><div class="oe l my mz na mw nb jt mn"/></div></div></a></div><div class="mk ml fm fo mm mn"><a href="https://docs.mendix.com/refguide/call-rest-action/" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab ej"><div class="mp ab mq cl cj mr"><h2 class="bd hv fv z el ms eo ep mt er et ht dt translated">呼叫休息服务</h2><div class="mu l"><h3 class="bd b fv z el ms eo ep mt er et ek translated">此活动只能在微流中使用。1简介呼叫休息服务活动可用于呼叫休息…</h3></div><div class="mv l"><p class="bd b gc z el ms eo ep mt er et ek translated">docs.mendix.com</p></div></div></div></a></div></div><div class="ab cl of og hb oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="hn ho hp hq hr"><p id="e401" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><em class="lw">来自发布者- </em></p><p id="40ac" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><em class="lw">如果你喜欢这篇文章，你可以在我们的</em> <a class="ae kv" href="https://medium.com/mendix" rel="noopener"> <em class="lw">中页</em> </a> <em class="lw">找到更多喜欢的。对于精彩的视频和直播会话，您可以前往</em><a class="ae kv" href="https://www.mendix.com/live/" rel="noopener ugc nofollow" target="_blank"><em class="lw">MxLive</em></a><em class="lw">或我们的社区</em><a class="ae kv" href="https://www.youtube.com/c/MendixCommunity/community" rel="noopener ugc nofollow" target="_blank"><em class="lw">Youtube PAG</em></a><em class="lw">e .</em></p><p id="b917" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><em class="lw">希望入门的创客，可以注册一个</em> <a class="ae kv" href="https://signup.mendix.com/link/signup/?source=direct" rel="noopener ugc nofollow" target="_blank"> <em class="lw">免费账号</em> </a> <em class="lw">，通过我们的</em> <a class="ae kv" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="lw">学苑</em> </a> <em class="lw">获得即时学习。</em></p><p id="57a7" class="pw-post-body-paragraph jz ka hu bd b kb kc iv kd ke kf iy kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">有兴趣更多地参与我们的社区吗？加入我们的 <a class="ae kv" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> Slack社区频道</em> </a> <em class="lw">。</em></p></div></div>    
</body>
</html>