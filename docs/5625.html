<html>
<head>
<title>Build a Content-Rich Electron App Using the OCE Starter Site CLI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OCE入门网站CLI构建内容丰富的电子应用程序</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/build-a-content-rich-electron-app-using-the-oce-starter-site-cli-965e1195c1ed?source=collection_archive---------0-----------------------#2019-06-27">https://medium.com/oracledevs/build-a-content-rich-electron-app-using-the-oce-starter-site-cli-965e1195c1ed?source=collection_archive---------0-----------------------#2019-06-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/d6d0f6c0307e9a4e5413ebe3a8b2248b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*TWzfxVVdO7Wp53_lgzneIA.png"/></div></figure><h1 id="8af5" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">概观</h1><p id="20ff" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">本博客展示了如何使用自定义ReactJS站点模板和OCE Starter站点CLI来生成本机电子应用程序，以浏览Oracle Content and Experience Cloud中的内容。</p><p id="7b89" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">ReactJS站点模板是将内容放入ReactJS站点的重要部分。模板是生成站点的框架。这样的话，生成的站点基本就是电子app了。内容根据内容模型植入应用程序。在这篇博客中，我们将展示如何从入门网站CLI生成包含内容的电子应用程序。</p><p id="890c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">电子框架用于使用JavaScript构建桌面应用程序。框架<strong class="jl hi"> </strong>负责处理困难的部分，这样你就可以专注于应用程序的核心。在这个博客中，我们还将介绍自定义模板中电子方面的具体变化。</p><h1 id="3928" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">安装和设置Oracle内容和体验工具包</h1><p id="da7b" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">Oracle Content and Experience Toolkit，包括Starter Site CLI，可以直接从GitHub获得。前往https://github.com/oracle/content-and-experience-toolkit<a class="ae km" href="https://github.com/oracle/content-and-experience-toolkit" rel="noopener ugc nofollow" target="_blank">点击<strong class="jl hi">克隆或下载</strong>。选择<strong class="jl hi"> Download ZIP，</strong>和<strong class="jl hi">content-and-experience-toolkit-master . ZIP</strong>将被下载。将文件content-and-experience-toolkit-master . zip解压缩到用户主目录中，~/。进入<strong class="jl hi"> <em class="kn"> cd内容-和-体验-工具包-master/react-starter-site</em></strong><em class="kn"/>进入目录。</a></p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/4182b26bb2fb021fa683aae625f4fa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*j4NCETLGZ-MTpXcXJu1nLw.png"/></div></figure><p id="e9f7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">要设置启动站点CLI，请继续执行<a class="ae km" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/install-starter-site-cli.html" rel="noopener ugc nofollow" target="_blank">安装启动站点CLI </a>的步骤4。安装Starter站点CLI后，您应该能够调用cecss的帮助。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="31d8" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="ku hi">cecss -h</strong><br/>Usage: cecss &lt;command&gt; [options]</span><span id="a93b" class="ky im hh ku b fi ld la l lb lc">Run 'cecss &lt;command&gt; -h' to get the detailed help for the command.</span><span id="e3cf" class="ky im hh ku b fi ld la l lb lc">Commands:<br/>  cecss create-site &lt;name&gt;               Creates the Site &lt;name&gt; for the content from local or from CEC server.<br/>  cecss export-server-content &lt;channel&gt;  Create content template based on the channel &lt;channel&gt;, then export and download the archive from CEC server.<br/>  cecss list-server-content-types        List all content types from server.<br/>  cecss list-server-channels             List all channels from server.<br/>  cecss develop                          Start development server. Watches files, rebuilds, and hot reloads if something changes.<br/>  cecss build                            Build a CEC starter site.<br/>  cecss serve                            Serve previously build CEC starter site.</span><span id="bd4c" class="ky im hh ku b fi ld la l lb lc">Options:<br/>  --help, -h     Show help                                                                                                                             [boolean]<br/>  --version, -v  Show version number</span></pre><p id="f028" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后<a class="ae km" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/do-one-time-gradle-setup.html" rel="noopener ugc nofollow" target="_blank">进行一次Gradle Setup </a>设置<strong class="jl hi"> gradle.properties </strong>。</p><p id="3d17" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">最后，在用户的主目录下创建一个名为<strong class="jl hi">的新文件。cec_properties </strong> (~/。cec_properties)并输入您的Oracle内容和体验云服务器的值。例如:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="f783" class="ky im hh ku b fi kz la l lb lc">cec_url=<em class="kn">&lt;server-name.example.com&gt;</em><br/>cec_username=<em class="kn">&lt;username&gt;</em><br/>cec_password=<em class="kn">&lt;password&gt;</em><br/>cec_env=pod_ec</span></pre><h1 id="bcfd" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">使用自定义ReactJS站点模板生成电子应用程序</h1><p id="ab10" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">电子应用程序将根据ReactJS网站模板生成；这个模板包含了将内容集成到电子应用程序中所需的所有文件。首先<a class="ae km" href="https://oracle.com/webfolder/PublicBlogs/OCE/ReactTemplateBlog/ElectronTemplate.zip" rel="noopener ugc nofollow" target="_blank">下载模板ElectronTemplate.zip </a>放入<em class="kn">~/content-and-experience-toolkit-master/react-starter-sites/data</em>目录。另外，在<em class="kn">~/content-and-experience-toolkit-master/react-starter-sites</em>目录中，已经有一个现成的内容模板，<em class="kn"> StarterBlog_export.zip，</em>包含了一个示例博客的内容。</p><p id="a738" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">现在从<em class="kn">~/content-and-experience-toolkit-master/react-starter-sites</em><strong class="jl hi"><em class="kn"/></strong>目录中，我们将执行CLI <em class="kn"> cecss create-site </em>来生成电子app <em class="kn"> Blog1，</em>传入站点模板<em class="kn"> ElectronTemplate.zip </em>和内容模板<em class="kn"> StarterBlog_export，zip </em>。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="5592" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="ku hi">cecss create-site Blog1 -f ~/content-and-experience-toolkit-master/react-starter-sites/data/ElectronTemplate.zip -c StarterBlog_export.zip</strong><br/> - unzip content template file<br/> - unzip site template<br/> - add content to site<br/> - set up files for site runtime<br/> - create component file ./Blog1/src/Starter_Blog_Author/Starter_Blog_Author.js<br/> - create component file ./Blog1/src/Starter_Blog_Post/Starter_Blog_Post.js<br/> - finish processing js files<br/> *** site created, please run npm install to build</span></pre><p id="9572" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这将创建一个名为<em class="kn"> Blog1 </em>的目录，其中包含电子应用程序。接下来我们将编辑<em class="kn"> Blog1 </em>目录下的<em class="kn"> package.json </em>文件。这将添加运行电子应用程序所需的条目。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="9418" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites$ <strong class="ku hi">cd Blog1</strong><br/>~/content-and-experience-toolkit-master/react-starter-sites/Blog1$ <strong class="ku hi">vi package.json</strong></span></pre><p id="9ff8" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们将添加一个<em class="kn">产品名称</em>名称值:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="68fe" class="ky im hh ku b fi kz la l lb lc"><em class="kn">“</em>productName”: “Blog1”,</span></pre><p id="3fdd" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们将更改<em class="kn">主</em>条目的值:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="a4ab" class="ky im hh ku b fi kz la l lb lc"><em class="kn">“</em>main”: “src/main.js”,</span></pre><p id="49ca" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们将在<em class="kn">脚本</em>下更改<em class="kn">开始</em>条目的值:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="5e28" class="ky im hh ku b fi kz la l lb lc">“start” : “electron src/main.js”,</span></pre><p id="a201" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">最后，我们将添加两个依赖项:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="1cd1" class="ky im hh ku b fi kz la l lb lc">"electron": "^5.0.1",<br/>"electron-packager": "^13.1.1",</span></pre><p id="d5c2" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">以下是package.json的代码片段，修改部分以粗体显示:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="797e" class="ky im hh ku b fi kz la l lb lc">{<br/>        "name": "cec-startsite",<br/>        <strong class="ku hi">"productName": "Blog1",</strong><br/>        "version": "1.0.0",<br/>        "description": "Content and Experience Cloud starter site",<br/>        <strong class="ku hi">"main": "src/main.js",</strong><br/>        "scripts": {<br/>                <strong class="ku hi">"start": "electron src/main.js",</strong><br/>                "build": "webpack --mode production --config ./webpack.config-prd.js",<br/>                "dev": "concurrently \"node ./server.js dev\" \"node ./webpack-server.js\""<br/>        },<br/>        "repository": {<br/>                "type": "git",<br/>                "url": ""<br/>        },<br/>        "keywords": [<br/>                "CEC"<br/>        ],<br/>        "author": "Hui Zeng",<br/>        "engines": {<br/>                "node": "8.9.4"<br/>        },<br/>        "license": "ISC",<br/>        "dependencies": {<br/>                <strong class="ku hi">"electron": "^5.0.1",<br/>                "electron-packager": "^13.1.1",</strong><br/>                "babel-core": "6.26.3",<br/> …</span></pre><p id="fe69" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">接下来，我们将运行<em class="kn"> npm install </em>来安装所有依赖项。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="1610" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites/Blog1$ <strong class="ku hi">npm install</strong></span><span id="78df" class="ky im hh ku b fi ld la l lb lc">&gt; fsevents@1.2.9 install /Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/fsevents<br/>&gt; node install</span><span id="97ca" class="ky im hh ku b fi ld la l lb lc">node-pre-gyp WARN Using request for node-pre-gyp https download <br/>[fsevents] Success: "/Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/fsevents/lib/binding/Release/node-v64-darwin-x64/fse.node" is installed via remote</span><span id="c13c" class="ky im hh ku b fi ld la l lb lc">&gt; puppeteer@1.7.0 install /Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/puppeteer<br/>&gt; node install.js</span><span id="aed8" class="ky im hh ku b fi ld la l lb lc">Downloading Chromium r579032 - 80.8 Mb [====================] 100% 0.0s <br/>Chromium downloaded to /Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/puppeteer/.local-chromium/mac-579032</span><span id="3f02" class="ky im hh ku b fi ld la l lb lc">&gt; core-js@2.6.9 postinstall /Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/core-js<br/>&gt; node scripts/postinstall || echo "ignore"</span><span id="e530" class="ky im hh ku b fi ld la l lb lc">Thank you for using core-js ( <a class="ae km" href="https://github.com/zloirock/core-js" rel="noopener ugc nofollow" target="_blank">https://github.com/zloirock/core-js</a> ) for polyfilling JavaScript standard library!</span><span id="5876" class="ky im hh ku b fi ld la l lb lc">The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: <br/>&gt; <a class="ae km" href="https://opencollective.com/core-js" rel="noopener ugc nofollow" target="_blank">https://opencollective.com/core-js</a> <br/>&gt; <a class="ae km" href="https://www.patreon.com/zloirock" rel="noopener ugc nofollow" target="_blank">https://www.patreon.com/zloirock</a></span><span id="b535" class="ky im hh ku b fi ld la l lb lc">Also, the author of core-js ( <a class="ae km" href="https://github.com/zloirock" rel="noopener ugc nofollow" target="_blank">https://github.com/zloirock</a> ) is looking for a good job -)</span><span id="41ea" class="ky im hh ku b fi ld la l lb lc">&gt; electron@5.0.3 postinstall /Users/kyoung/content-and-experience-toolkit-master/react-starter-sites/Blog1/node_modules/electron<br/>&gt; node install.js</span><span id="ddf9" class="ky im hh ku b fi ld la l lb lc">Downloading tmp-652-1-SHASUMS256.txt-5.0.3<br/>[============================================&gt;] 100.0% of 4.74 kB (4.74 kB/s)<br/>npm notice created a lockfile as package-lock.json. You should commit this file.<br/>added 1018 packages from 662 contributors and audited 8014 packages in 156.366s<br/>found 1 high severity vulnerability<br/>  run `npm audit fix` to fix them, or `npm audit` for details</span></pre><p id="461d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">要在开发模式下运行应用程序，请执行<em class="kn"> npm开始开发。电子应用程序Blog1显示了示例博客。内容来自内容模板。在开发模式下，对应用程序的任何更改都会立即反映出来。目前，应用程序的名称叫做电子，图标是临时的；我们稍后会更改它们。</em></p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="4765" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites/Blog1$ <strong class="ku hi">npm start develop</strong></span></pre><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/504bf33efd06f969611e38b342199e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*EJOU3Mcqd6B8lULtzba9Wg.png"/></div></figure><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/4cc3d46797a4df66eff6d39fee7f7cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*NyzKgvHBoPOcimTTFYmY9w.png"/></div></figure><p id="c05d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">使用菜单<strong class="jl hi">电子&gt;退出电子</strong>退出电子app。现在让我们运行Starter Site CLI命令<strong class="jl hi"> cecss build </strong>，这将构建应用程序的生产版本。构建应用程序的生产版本时，您可以通过更新应用程序的来指定内容来自Oracle Content and Experience Cloud。cec_properties。为了简单起见，我们不会这样做。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="b575" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites/Blog1$ <strong class="ku hi">cecss build</strong></span></pre><p id="e4e7" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">接下来，我们将使用电子打包工具来包含desire图标，并指定应用程序名称Blog1。例如，在Mac上，您可以执行以下命令。在Win32上，可以将icon参数更改为src/icons/oce.ico。在Linux上，可以将icon参数更改为src/icons/oce.png。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="81a7" class="ky im hh ku b fi kz la l lb lc">~/content-and-experience-toolkit-master/react-starter-sites/Blog1$ <strong class="ku hi">node_modules/.bin/electron-packager . --icon src/icons/oce.icns</strong></span></pre><p id="91af" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">例如，在调用电子打包程序后，您将在Mac上看到子目录Blog1-darwin-x64。在其中你会找到一个名为Blog1的可执行文件。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/e7d46cf6ae0517980b9f25480941cee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*jtL1JFhMYpUt6V5uu3ELHw.png"/></div></figure><p id="c7c6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">当您调用可执行文件时，它将呈现production Blog1应用程序并使用Oracle Content and Experience Cloud图标。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es le"><img src="../Images/477260656c55e73ed7bf0d5d54a41311.png" data-original-src="https://miro.medium.com/v2/resize:fit:144/format:webp/1*KGCoc_CkmpzRM3ULDum4MA.png"/></div></figure><h1 id="3481" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">Starter站点CLI如何使用模板扩展来生成包含内容的电子应用程序</h1><p id="3d80" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">React JS站点模板的结构和<a class="ae km" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/build-starter-site-template.html" rel="noopener ugc nofollow" target="_blank">构建入门站点模板</a>在为Oracle内容和体验云开发中有所介绍。阅读本节之前的内容很重要。</p><p id="d191" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">生成网站或电子应用程序的主要部分是使用Mustache进行模板扩展。Mustache是一种模板语法。它可以用于HTML、配置文件和源代码。它通过使用散列或对象中提供的值来扩展模板中的宏。当使用<em class="kn"> cecss create-site </em>时，Mustache被调用来为模板中的所有文件扩展一组宏。这组宏记录在<a class="ae km" href="https://docs.oracle.com/en/cloud/paas/content-cloud/developer/build-starter-site-template.html" rel="noopener ugc nofollow" target="_blank">构建一个初学者站点模板</a>中。</p><p id="b5f6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">例如，在自定义模板ElectronTemplate.zip的<em class="kn"> Blog1/src/index.html </em>文件中，页面的标题编码为:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="5298" class="ky im hh ku b fi kz la l lb lc">&lt;title&gt;{{sitename}}&lt;/title&gt;</span></pre><p id="59f5" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">{{sitename}}是已知的宏。当调用<em class="kn"> cecss创建站点</em>时，在生成的电子应用程序中，宏将被替换为实际站点名称。对于应用程序Blog1，标题应该是:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="c911" class="ky im hh ku b fi kz la l lb lc">&lt;title&gt;Blog1&lt;/title&gt;</span></pre><p id="5b62" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">模板扩展的另一种形式与模板中的目录/文件名有关。在自定义模板中，有一个名为{{types}}的目录和文件名{{name}}.js。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="1c01" class="ky im hh ku b fi kz la l lb lc">{{types}}<br/>{{types}}/{{name}}.js</span></pre><p id="5cf6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">{{types}}和{{name}}是已知的宏。{{types}}是应用程序中所有内容类型名称的数组。{{name}}是字段名称。在生成的应用程序Blog1中，以下是模板扩展:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="011f" class="ky im hh ku b fi kz la l lb lc">Blog1/src/Starter_Blog_Post<br/>Blog1/src/Starter_Blog_Post/Starter_Blog_Post.js<br/>Blog1/src/Starter_Blog_Author<br/>Blog1/src/Starter_Blog_Author/Starter_Blog_Author.js</span></pre><p id="cdc2" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">如你所见，使用Mustache的模板扩展非常有用和强大。</p><h1 id="8354" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated">自定义模板中特定于电子的更改</h1><p id="3d58" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">ElectronTemplate.zip是从现成的模板StarterSite.zip定制的。在这一节中，我们将介绍ElectronTemplate.zip中特定于电子的变化。</p><p id="e4de" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Blog1/src/main.js是电子app的引导程序。它有一个createWindow()函数，用于创建电子应用程序的主窗口。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="b0f3" class="ky im hh ku b fi kz la l lb lc"><strong class="ku hi">function createWindow ()</strong> {<br/>  // Create the browser window.<br/>  mainWindow = new BrowserWindow({<br/>    width: 1200,<br/>    height: 900,<br/>    webPreferences: {<br/>      nodeIntegration: true<br/>    }<br/>  })</span><span id="1452" class="ky im hh ku b fi ld la l lb lc">// and load the index.html of the app.<br/>  var mode;<br/>  if (process.argv[2] == 'develop') {<br/>        mode = 'develop';<br/>  } else {<br/>        mode = 'production';<br/>  }<br/>  console.log('file://' + __dirname + '/index.html?mode=' + mode);<br/>  <strong class="ku hi">mainWindow.loadURL('file://' + __dirname + '/index.html?mode=' + mode);</strong></span><span id="97da" class="ky im hh ku b fi ld la l lb lc">// Open the DevTools.<br/>  //mainWindow.webContents.openDevTools()</span><span id="6261" class="ky im hh ku b fi ld la l lb lc">// Emitted when the window is closed.<br/>  mainWindow.on('closed', function () {<br/>    // Dereference the window object, usually you would store windows<br/>    // in an array if your app supports multi windows, this is the time<br/>    // when you should delete the corresponding element.<br/>    mainWindow = null<br/>  })<br/>}</span><span id="72dc" class="ky im hh ku b fi ld la l lb lc">// This method will be called when Electron has finished<br/>// initialization and is ready to create browser windows.<br/>// Some APIs can only be used after this event occurs.<br/>app.on('ready', createWindow)</span></pre><p id="73ab" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">createWindow()函数调用loadURL()，它将加载index.html。Blog1/src/index.html是app的主页面。根据是使用生产还是开发，基本href被设置为相应的端口。见index.html的粗体部分。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="b18c" class="ky im hh ku b fi kz la l lb lc">&lt;html lang="en"&gt;<br/><strong class="ku hi">&lt;script&gt;<br/>const urlParams = new URLSearchParams(window.location.search);<br/>const mode = urlParams.get('mode');<br/>if (mode == 'develop') {<br/>  document.write('&lt;base href="</strong><a class="ae km" href="http://localhost:9090" rel="noopener ugc nofollow" target="_blank"><strong class="ku hi">http://localhost:9090</strong></a><strong class="ku hi">"/&gt;');<br/>} else if (mode == 'production') {<br/>  document.write('&lt;base href="</strong><a class="ae km" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"><strong class="ku hi">http://localhost:8080</strong></a><strong class="ku hi">"/&gt;');<br/>}<br/>&lt;/script&gt;</strong><br/>&lt;head&gt;<br/>    &lt;meta charset="UTF-8"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;<br/>    &lt;title&gt;Blog1&lt;/title&gt;<br/>    &lt;link rel="shortcut icon" href="/favicon.ico"&gt;<br/>&lt;/head&gt;<br/>&lt;body class="app"&gt;<br/>  &lt;div class="app" id="root"&gt;&lt;/div&gt;<br/>  &lt;script type="text/javascript" src="/bundle.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;script src="/bundle.js"&gt;&lt;/script&gt;</span><span id="224e" class="ky im hh ku b fi ld la l lb lc">&lt;/html&gt;</span></pre><p id="4e12" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在Blog1/src/app/App.js中，ReactJS路由将任何请求定向到电子应用程序的*/src/index.html。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="d50d" class="ky im hh ku b fi kz la l lb lc">…<br/>&lt;Route exact path={'*/src/index.html'} render={props =&gt;&lt;ContentSwitcher {...props} ContentComp={ {{component}} } site={SITE_NAME} contentType='{{name}}'/&gt;} /&gt;<br/>…</span></pre><p id="d21b" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这就是运行一个包含内容的电子应用程序所需要的一切！您可以在开发模式下迭代工作，然后切换到使用Oracle Content and Experience Cloud来托管生产中的内容。</p></div></div>    
</body>
</html>