<html>
<head>
<title>WALTS: Walmart AutoML Libraries, Tools and Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WALTS: Walmart AutoML图书馆、工具和服务</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/walts-walmart-automl-libraries-tools-and-services-936c73e5ec67?source=collection_archive---------0-----------------------#2022-11-07">https://medium.com/walmartglobaltech/walts-walmart-automl-libraries-tools-and-services-936c73e5ec67?source=collection_archive---------0-----------------------#2022-11-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/eb7a3046f2c0647aff138b8c1c405955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4L8xhteGofxzd5o5M7urg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 1: Overview of an AutoML system.</figcaption></figure><p id="2623" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">作者:<a class="ae jr" href="https://kunalbanerjee.github.io/" rel="noopener ugc nofollow" target="_blank">库纳尔·班纳吉</a>，<a class="ae jr" href="https://www.linkedin.com/in/rahul-bajaj-b70713136/" rel="noopener ugc nofollow" target="_blank">拉胡尔·巴杰</a>，<a class="ae jr" href="https://www.linkedin.com/in/sachinparmar/" rel="noopener ugc nofollow" target="_blank">萨钦·帕尔马</a></p><p id="1a4c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">自动机器学习(AutoML)是机器学习(ML)中一个即将到来的领域，它在候选模型空间中搜索给定的任务、数据集和评估度量，并根据给定的度量在所提供的数据集上返回最佳性能的模型。AutoML不仅减少了开发ML模型所需的人力和专业知识，而且大大缩短了ML模型的上市时间。我们设计了一个名为WALTS的企业级AutoML框架，以满足在零售或任何其他感兴趣的业务中使用ML的不断增长的需求，从而帮助在我们的组织内实现ML的民主化。在这篇博客中，我们详细阐述了我们如何从候选人中探索模型，并强调了它如何帮助我们处理业务用例。</p><p id="49eb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了概述AutoML流程及其当前状况，并展示WALTS的优势，我们将介绍:<br/>什么是AutoML？<br/>AutoML有什么优势？<br/>目前这个领域的玩家有哪些？<br/>什么是沃尔特斯？<br/>沃尔特斯有什么优点？<br/>沃尔特斯的建筑概况是什么？<br/>沃尔特斯如何帮助一个组织？</p><h2 id="7ee7" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">什么是AutoML？</strong></h2><p id="1c04" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">AutoML通过自己提出合适的模型，减轻了用户为其数据集设计ML模型的压力。如上面的图所示，AutoML通常从用户那里获得三个输入:(I)数据集，(ii)要在该数据集上执行的ML任务，以及(iii)用于确定哪个模型执行得最好的度量。例如，数据集可以是<em class="ks"> ImageNet </em>，任务可以是<em class="ks">图像分类</em>，度量可以是<em class="ks">准确度</em>。</p><p id="5f86" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一旦给定输入，AutoML工具将探索各种ML算法-这些算法可能从经典算法(例如，线性回归、支持向量机、决策树)到高级神经网络。在探索结束时，该工具将根据用户提供的指标报告性能最佳的型号。然而，这种算法探索部分在大多数当前的AutoML工具中是作为黑盒保存的。</p><h2 id="99c8" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">AutoML有什么优势？</strong></h2><p id="6a0a" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">采用AutoML有多种好处，如下所述。</p><p id="f5bd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">1.将AI民主化:这也许是AutoML最大的贡献，也是将其概念化的主要动机。<em class="ks">现在你不需要成为一个ML专家来使用ML！</em>在AutoML的帮助下，任何人都可以获得适合自己需求的ML模型，而无需投入复杂的模型开发过程。</p><p id="522a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">2.<strong class="iv hi">缩短上市时间:</strong>这是AutoML带来的第二个优势，如下所述。</p><p id="447d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a.更少的开发时间: AutoML减轻了用户调查单个ML模型并随后进行比较分析以挑选最佳模型的痛苦。此外，调整ML模型的超参数是提取最佳性能的关键任务——通常，人类模型开发人员在这一步花费了大量时间；此外，AutoML还负责调整它所研究的每个模型的超参数。</p><p id="feeb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b.<strong class="iv hi">修复代码中的错误花费的时间更少:</strong>因为在AutoML的情况下，模型是以自动化的方式开发的，所以与人类开发的模型相比，在代码中引入错误的机会要少得多。因此，花在修复错误和测试代码上的时间更少了。</p><p id="8abc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">3.<strong class="iv hi">实现卓越运营:</strong>采用AutoML可能会对卓越运营产生以下额外的积极影响。</p><p id="1208" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a.<strong class="iv hi"> AutoML为模型的生成注入了更多的标准化:</strong>如上所述，由于AutoML中的所有模型生成都遵循标准化的流程，因此更容易确保/执行某个行业可能想要的一些策略。</p><p id="2dbb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b.<strong class="iv hi">模型的生成要考虑到可伸缩性:</strong>一些AutoML工具可能适合开发可大规模部署的模型的技术。另一方面，数据科学家可能不得不花费额外的精力在模型开发后对其进行缩放。</p><p id="2b07" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">4.<strong class="iv hi">降低成本:</strong>投资AutoML可能会降低一个行业的总体运营成本，如下所述:</p><p id="361c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">a.<strong class="iv hi">需要的人数更少:</strong> AutoML可能会在很大程度上缓解行业对雇佣数据科学家和数据工程师的需求。此外，数据科学家因难以留住而臭名昭著；AutoML绝对可以帮助解决这个痛点[1]。</p><p id="d115" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">b.<strong class="iv hi">高效的模型导致更少的推理成本:</strong>AutoML开发的模型通常比公民数据科学家开发的模型更高效(针对规模而构建，针对底层硬件而优化)。一个有效的模型总是会导致更少的推理成本，从而增加公司的收入。</p><h2 id="527d" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated">目前这一领域的参与者有哪些？</h2><p id="20a2" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">Auto-WEKA [2]试图同时搜索最佳学习算法和最佳执行超参数值，被认为是第一个AutoML工具。然而，它的范围仅限于分类任务，而且与今天相比，所探索的模型和数据集都相当小。然而，从那时起，许多成熟的公司和初创公司已经涉足这一领域，并在ML任务、模型、超参数调整等方面取得了很大进展。一些大玩家包括谷歌、微软、数据库、数据机器人和H2O。</p><h2 id="af60" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">什么是沃尔特斯？</strong></h2><p id="ceca" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">WALTS是沃尔玛的内部框架，扩展为“沃尔玛自动化图书馆、工具和服务”。其算法如下:注意，我们使用Optuna [7]进行超参数优化。</p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/81db82bcd6e8589d9b7090298cafb030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvjbAoqBuCiRhhusCRco3A.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig 2. WALTS AutoML algorithm.</figcaption></figure><p id="ebf7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了理解WALTS的显著特征是什么，以及为什么这些不同的特征值得为任何组织构建，我们需要深入研究下面的问题。</p><h2 id="4359" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">沃尔特斯的优点是什么？</strong></h2><p id="5000" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">考虑到已经有这么多的AutoML工具，有必要再创建一个吗？我们研究了一些现成的AutoML工具，发现了一些我们希望用WALTS来填补的空白。下面我们列出了WALTS相对于其他类似工具的优势。</p><p id="c073" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 1。可定制性:</strong></p><p id="f25a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">可定制性是WALTS带来的最大好处。为了说明这一点，让我们看看下面的例子。</p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kx"><img src="../Images/dd58a522126beb7bebd4d53b57815674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6WsUTaB0Obz9tY239Ct0Mw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 3: An example to illustrate customizabitlity of metrics in WALTS.</figcaption></figure><p id="20b0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">假设有一个球的集合，其中80%的球是红色的，而剩下的20%是蓝色的。现在考虑有一个模型，它总是预测从这个集合中选出的球的颜色是红色。显然，这个模型将有80%的准确性；然而，同样明显的是，这个模型没有学到任何东西，因为它每次都盲目地做出相同的预测。然而，看着80%的准确率，用户可能会倾向于选择这个模型，这对于没有经验的观众来说似乎是不错的。然而，这种做出错误决策的情况可以通过选择更合适的度量来避免。在存在类别不平衡的情况下(例如，在这种情况下，红球的数量比蓝球的数量多得多)，平衡精确度是比更常见的精确度更好的度量选择。平衡准确度被定义为每个类别的召回值之和除以类别总数。在这种情况下，红色球的召回值是1(因为我们对红色球的所有预测都是正确的)，而蓝色球的召回值是0(因为我们对蓝色球的所有预测都是正确的)，因此这种情况下的平衡准确度是(1+0)/2 = 0.5(或50%)。显然，50%没有80%好，因此用户不太可能选择这个模型。</p><p id="4f56" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">目前，我们探索的所有现成的AutoML服务都提供了一组固定的指标，用户无法扩展该组指标。其中一些有时甚至会误导，例如，当类别不平衡时的准确性，如上所述。基于客户的需求，我们可以很容易地引入新的度量标准，比如平衡精度，它更适合不平衡的类。</p><p id="4e32" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 2。透明度:</strong></p><p id="dcb2" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">透明度是WALTS带来的第二大好处。我们用下面的例子再次说明这一点。</p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/80d1ecf69ba9ad2efad8acaf1c98480a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AR9yjKIvPIybWnEuNVPVQw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 4: An example to illustrate transparency offered by WALTS.</figcaption></figure><p id="6913" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们考虑这样一种情况，我们向AutoML工具提供一个数据集，我们对分类任务感兴趣，并选择准确性作为决定获胜模型的度量。此外，假设最佳执行的ML模型给出82%的准确度，而每次预测花费100ms。第二好的最大似然模型与最好的模型相比在精确度上相差2%,但是每次预测花费一半的时间，即50毫秒。</p><p id="83cb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="ks">现在，如果客户端有一些硬延迟需求怎么办？</em></p><p id="5f05" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在这种情况下，如果第二好的模型符合客户的延迟需求，客户可能会满意。</p><p id="e541" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">通常，AutoML框架只报告获胜的模型。相反，WALTS提供了所有探索模型及其性能的细节。因此，这种客户可能愿意在模型的不同性能指标之间进行权衡的支持只能由WALTS提供。</p><p id="d358" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 3。低精度型号:</strong></p><p id="b63d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一些读者可能不熟悉“低精度模型”这个术语，因此我们借用维基百科<a class="ae jr" href="https://en.wikipedia.org/wiki/Bfloat16_floating-point_format" rel="noopener ugc nofollow" target="_blank">中的插图来解释这个术语。</a></p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/daba41d335ae8c0afb81233ca0aedb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xrP8K7vETIjVcpe_ji_-Hw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 5: Difference between IEEE single-precision (FP32) and half-precision (FP16) datatypes.</figcaption></figure><p id="a6a9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">按照惯例，当我们训练ML模型时，我们用来表示实值的数据类型是“float”——根据IEEE754标准，我们使用32位来捕获浮点数；这32位分为符号(1位)、指数(8位)和分数(23位)。为了方便起见，IEEE754单精度数据类型缩写为FP32。</p><p id="d44f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于低精度数据类型，我们指的是使用少于32位来表示实数的任何数据类型，对于低精度模型，我们指的是使用低精度数据类型来计算和存储其参数的任何模型。IEEE754半精度数据类型(FP16)使用16位来表示实数，如上图所示。使用低精度模型的想法在[3]中提出。</p><p id="49f0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">使用低精度模型可以减少内存占用和延迟。例如，在Nvidia V100中，峰值FLOPS是15 TF，而峰值OPS(在FP16中)是120 TF[4]——因此，如果使用FP16而不是FP32，就有可能将您的工作负载提高8倍；同样，在Nvidia A100中，峰值FLOPS为19.5 TF，而峰值OPS(在FP16中)为312 TF[5]——因此，在采用FP16后，该硬件的范围已增加到32倍。可以注意到，在A100中存在其他低精度数据类型，例如BFLOAT16 [6]，其可以提供相等甚至更多的加速。根据我们的经验，其他AutoML框架只生成FP32数据类型的模型，并且需要一个单独的工具，例如TensorFlow Lite，来进行后续的低精度转换。另一方面，WALTS基于可用的硬件生产低精度模型，例如，如果提供Nvidia V100，则生产FP16数据类型的模型。</p><p id="9e11" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 4。独特增强的范围:</strong></p><p id="726e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">WALTS是一个内部框架，我们可以很容易地对其进行扩展，以包含一些独特的增强功能。下面描述了一个这样的例子。</p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es la"><img src="../Images/2dad72b58825de5c89fc0fe1615e5528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qqs7ljOUONGI3GLRBb5iZQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 6: An example to illustrate how sparsity may be handled in WALTS.</figcaption></figure><p id="0701" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">经常会遇到缺少数据的表格数据集。处理这种数据集的一种方法是删除丢失数据的行，然后在其上训练模型；另一种方法是用可能的值智能地估算缺失数据，然后在此基础上训练模型。如果数据的稀疏程度相当大，后一种方法可能是优选的。我们发现AutoML工具倾向于删除缺少条目的行——我们打算用我们的智能数据插补算法来缓解这一缺点。我们还在探索其他一些独特的增强功能，例如在存在噪声数据的情况下进行标签校正，以使WALTS成为更好的产品。</p><p id="540e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 5。数据敏感度:</strong></p><p id="eec1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了遵守政府政策，公司可能会被禁止将敏感数据上传到云中或与第三方供应商共享。为了开发这种数据集的ML模型，我们可以使用在本地设备上运行的WALTS。</p><p id="3c61" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 6。缩短探索时间:</strong></p><p id="ac37" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">商业AutoML工具的复杂搜索算法可能会以尝试不同参数(层、连接等)的组合数量为代价找到特定的架构。).相反，WALTS遵循一个简单的策略，即只探索一组预定义的模型，这可能更省时。此外，WALTS探索的模型已经很受欢迎，客户可能更愿意采用这些模型。</p><p id="73bc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hi"> 7。性价比:</strong></p><p id="b13b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">商业AutoML工具有最低收费的概念，尽管你可能会使用他们的服务几分钟。但是，我们不打算对WALTS设置最低收费，而是遵循按使用付费的政策。</p><h2 id="2b7a" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">沃尔特斯的建筑概况是什么？</strong></h2><p id="565f" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">沃尔特斯的建筑概述如下。</p><figure class="kt ku kv kw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lb"><img src="../Images/6a310667340e8599c5d5659d8f51eacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K8KMsZPv2BHHKhaHsU9Wmg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Fig. 7: Architectural overview of WALTS.</figcaption></figure><p id="e93f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如图所示，培训作业是通过WALTS Services的用户界面触发的，该界面将常用参数(要完成的ML任务、数据集和指标)作为输入。此外，我们提供预定的配置(可由专家用户定制)，包括训练的最大历元数、计算能力(即CPU、GPU的数量)、输出文件位置等。为了实现可靠性、效率和可扩展性，我们使用Kubernetes [8]和配置了Kubernetes executor的Airflow [9]。培训工作中的每个实验都作为气流工人在Kubernetes pod上运行一个容器化的应用程序。带有参数(例如，任务、要探索的模型)的训练请求被转换成气流管道(也称为有向非循环图或DAG ),其中节点对应于实验。这些节点中的每一个都配置了一个定制的Git操作符，该操作符通过使用来自Git的AutoML算法检查预定义的训练代码来设置容器，并安装执行代码所需的库。在执行过程中，它根据资源的可用性并行运行几个算法。每个实验的执行都在一个遵循预定义配置的pod内进行。这些Kubernetes pods是动态创建的，这使我们能够处理突发工作负载。由于系统是多租户的，可能会有作业并发运行，因此可能会出现单个作业/租户试图过度消耗资源的情况。为了避免这种情况，系统需要为租户的资源消耗设置一个上限。使用Kubernetes中的名称空间级别的ResourceQuota来控制每个租户的资源限制。如果租户的培训作业的资源不可用，作业将排队，并在为租户添加资源或已经运行的实验完成其执行并释放资源后立即开始执行。Kubernetes基础设施由所有租户共享，我们依靠Kubernetes集群自动缩放器实现可伸缩性。有时系统会经历更大的负载，在这种情况下，Kubernetes可以自动增加集群节点，并根据需要部署pod来处理增加的需求。当负载减少时，Kubernetes可以动态减少节点和pod。一旦实验完成，所有性能日志都保存在Azure SQL数据库中，可以通过用户提交的查询轻松检索到这些日志——这通常是由用户完成的，以比较各种实验的指标；其他工件如模型存储在Google云平台的GCS桶中。存储由MLflow [10]管理，它也是用户检索所需日志和工件的桥梁。</p><h2 id="6ea4" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated">沃尔特斯如何帮助一个组织？</h2><p id="f00d" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">WALTS可用于为组织内的许多问题探索和推荐合适的ML模型——让它成为分类或回归或实体识别问题；此外，数据可以是结构化的(表格)或非结构化的(图像、文本)。例如，在沃尔玛，它已被用于垃圾邮件过滤和我们的卖家和其他人的争议分类。我们的客户团队已经认可了WALTS在其运营中做出的以下贡献:<br/>提高了生产率和可扩展性。<br/>高效的资源和基础设施管理。<br/>更快的实验和更短的上市时间。<br/>弥合技能差距，减少应用机器学习算法的错误范围。</p><p id="2913" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">事实上，对于一些团队来说，开发时间减少了2个月。在一项详细的实验中，我们比较了WALTS开发的九个模型和人类专家编码的精确模型，发现给定模型的开发时间最小减少了7.4%，而最大减少了15.1%；所有车型的平均降幅为10.4%。我们期望在开发时间上有类似的节省，并且在其他用例上也有增强的性能。</p><h2 id="9680" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">结论</strong></h2><p id="1f96" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">对于沃尔玛来说，通过利用机器学习的力量，提供卓越的客户体验和增强我们的运营有着巨大的潜力。AutoML可以在最少人工干预的情况下帮助处理数据的指数增长。WALTS旨在成为训练流行机器学习模型的一站式商店，以执行分类、回归、实体识别等一般任务。我们计划在未来根据我们的用户需求增加更多的任务和模型。团队可以利用WALTS以最小的努力构建快速原型，而不是试图重新发明轮子。这将有助于弥合技能差距，减少错误/错误，并节省资源/基础设施成本。WALTS使用最先进的优化技术来更快地训练模型，从而缩短上市时间。我们已经看到了它对各种沃尔玛业务用例的好处，如垃圾邮件检测和沃尔玛卖家的争议分类，并希望看到它的进一步增长。</p><h2 id="eb3f" class="js jt hh bd ju jv jw jx jy jz ka kb kc je kd ke kf ji kg kh ki jm kj kk kl km bi translated"><strong class="ak">参考文献:</strong></h2><p id="1474" class="pw-post-body-paragraph it iu hh iv b iw kn iy iz ja ko jc jd je kp jg jh ji kq jk jl jm kr jo jp jq ha bi translated">[1] Dataiku，“AutoML对于增强分析的重要性”，技术。众议员，2020。可用:<a class="ae jr" href="https://pages.dataiku.com/hubfs/PDF/Whitepaper/Importance_of_AutoML-for-Augmented-Analytics.pdf" rel="noopener ugc nofollow" target="_blank">https://pages . data iku . com/hub fs/PDF/white paper/Importance _ of _ AutoML-for-Augmented-analytics . PDF</a></p><p id="0cdf" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[2] C. Thornton，F. Hutter，H. H. Hoos和K. Leyton-Brown，“Auto- WEKA:分类算法的组合选择和超参数优化”，KDD，2013年，第847-855页。</p><p id="274c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[3] P. Micikevicius，S. Narang，J. Alben，G. F. Diamos，E. Elsen，D. García，B. Ginsburg，M. Houston，O. Kuchaiev，G. Venkatesh，H. Wu，“混合精确训练”，2018。</p><p id="92d8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[4]英伟达，《英伟达特斯拉V100 GPU加速器》，2018。可用:<a class="ae jr" href="https://images.nvidia.com/content/technologies/volta/pdf/tesla-volta-v100-datasheet-letter-fnl-web.pdf" rel="noopener ugc nofollow" target="_blank">https://images . NVIDIA . com/content/technologies/volta/pdf/Tesla-volta-v100-data sheet-letter-fnl-web . pdf</a></p><p id="629c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[5]英伟达，“英伟达A100张量核GPU”，2020年。可用:<a class="ae jr" href="https://www.nvidia.com/content/dam/en-zz/Solutions/Data-Center/a100/pdf/nvidia-a100-datasheet.pdf" rel="noopener ugc nofollow" target="_blank">https://www . NVIDIA . com/content/dam/en-ZZ/Solutions/Data-Center/a100/pdf/NVIDIA-a100-Data sheet . pdf</a></p><p id="4457" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[6] D. D. Kalamkar，D. Mudigere，N. Mellempudi，D. Das，K. Banerjee，S. Avancha，D. T. Vooturi，N. Jammalamadaka，J. Huang，H. Yuen，J. Yang，J. Park，A. Heinecke，E. Georganas，S. Srinivasan，A. Kundu，M. Smelyanskiy，B. Kaul，P. Dubey，" BFLOAT16深度学习培训研究"，载于</p><p id="9ac1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[7] T. Akiba，S. Sano，T. Yanase，T. Ohta和M. Koyama，“Optuna:下一代超参数优化框架”，KDD，2019年，第2623-2631页。</p><p id="12b1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[8] Kubernetes，“生产级容器编排”，2022年。可用:【https://kubernetes.io/】T4</p><p id="59ea" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[9]气流，“阿帕奇气流”，2022年。可用:<a class="ae jr" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank">https://airflow.apache.org/</a></p><p id="360c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">[10] MLflow，“机器学习生命周期的开源平台”，2022年。可用:<a class="ae jr" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank">https://mlflow.org/</a></p></div></div>    
</body>
</html>