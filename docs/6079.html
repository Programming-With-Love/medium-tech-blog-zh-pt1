<html>
<head>
<title>Building a faster mobile web experience with AMP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AMP构建更快的移动网络体验</h1>
<blockquote>原文：<a href="https://medium.com/pinterest-engineering/building-a-faster-mobile-web-experience-with-amp-a73c651ded7?source=collection_archive---------1-----------------------#2015-12-09">https://medium.com/pinterest-engineering/building-a-faster-mobile-web-experience-with-amp-a73c651ded7?source=collection_archive---------1-----------------------#2015-12-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4974" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Jon Parise | Pinterest技术架构主管，核心经验</p><p id="0f68" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为一个拥有数十亿pin的发现引擎，Pinterest在内容相关、快速且易于访问的情况下表现最佳。超过80%的Pinners在移动设备上使用Pinterest，我们很高兴能够与谷歌、Wordpress、Twitter和开源社区合作，在全行业范围内开发一种轻量级、更快版本的移动网页，即<a class="ae jc" href="https://www.ampproject.org/" rel="noopener ugc nofollow" target="_blank">加速移动网页(AMP) </a>。</p><p id="cd8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://amphtml.wordpress.com/2015/12/09/continued-momentum-for-the-amp-project" rel="noopener ugc nofollow" target="_blank"> AMP </a>致力于解决移动网络上每个人的一个痛点——速度。AMP是用于快速移动优化内容的开源架构。它基于AMP HTML，HTML的一个受限子集，以及一组定义良好的自定义元素和基于JavaScript的组件。结果是令人难以置信的快速浏览体验，通过网络加载最少的数据。</p><p id="e4d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在早期测试中，我们发现AMP页面的加载速度比传统的移动优化页面快4倍，使用的数据量少8倍。一个更好、更快的移动网络对所有人都有好处，包括用户、像Pinterest这样的平台和出版商。</p><p id="f6c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Pinterest放大了</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/f44348a95b508318eef1e8ba9c722c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/0*FWtuLThio5KCJ6mR.gif"/></div></figure><p id="476e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">没有放大器的Pinterest】</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/119dc7484a1b8a3d74e6297e02c8276e.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/0*vAX8izNsM3qOBHQm.gif"/></div></figure><h2 id="f0dd" class="jl jm hh bd jn jo jp jq jr js jt ju jv ip jw jx jy it jz ka kb ix kc kd ke kf bi translated">传送AMP内容</h2><p id="efa3" class="pw-post-body-paragraph ie if hh ig b ih kg ij ik il kh in io ip ki ir is it kj iv iw ix kk iz ja jb ha bi translated">Pinterest上的每一个大头针都是一个可视化书签，可以链接回它的原始网站。我们定期使用<a class="ae jc" href="https://engineering.pinterest.com/blog/fetching-and-serving-billions-urls-aragog" rel="noopener ugc nofollow" target="_blank">阿拉戈克，我们的URL获取系统</a>访问这些网站。然后，我们使用一个称为Atlas的内部系统来解析获取的HTML内容(我们将在以后讨论)。除了收集我们在<a class="ae jc" href="https://business.pinterest.com/rich-pins" rel="noopener ugc nofollow" target="_blank"> Rich Pins </a>上包含的元数据，我们还了解关于页面本身的有用信息，例如它的规范链接、主要语言以及它是否提供其内容的AMP HTML版本。发布者可以使用我们的<a class="ae jc" href="https://developers.pinterest.com/tools/url-debugger/" rel="noopener ugc nofollow" target="_blank"> URL调试器</a>来查看页面是如何被解析的。</p><p id="cc4c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">页面使用<link/>关系宣传其AMP HTML等价物:</p><pre class="je jf jg jh fd kl km kn ko aw kp bi"><span id="1903" class="jl jm hh km b fi kq kr l ks kt">&lt;link rel="amphtml" href="http://www.example.com/news/article.amp.html"&gt;</span></pre><p id="c97f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将所有这些信息作为链接条目的一部分记录在阿拉戈克的URLStore中。我们使用这些元数据，以及我们收集的其他信号来选择我们在应用程序中使用的最高质量的链接。这为Pin用户提供了最佳的浏览体验，无论他们何时点击Pin以了解更多信息。</p><h2 id="5573" class="jl jm hh bd jn jo jp jq jr js jt ju jv ip jw jx jy it jz ka kb ix kc kd ke kf bi translated">Pinterest小工具</h2><p id="60d9" class="pw-post-body-paragraph ie if hh ig b ih kg ij ik il kh in io ip ki ir is it kj iv iw ix kk iz ja jb ha bi translated">我们还开发了一个AMP组件，允许出版商在他们的AMP HTML页面上添加<a class="ae jc" href="https://business.pinterest.com/en/pin-it-button" rel="noopener ugc nofollow" target="_blank">大头针按钮</a>和嵌入式大头针。</p><p id="0ac1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开发<a class="ae jc" href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-pinterest/amp-pinterest.md" rel="noopener ugc nofollow" target="_blank"> &lt; amp-pinterest &gt;扩展</a>是为了充分利用amp的JavaScript运行时。从性能角度来看，这很棒，它让出版商可以非常容易地将Pinterest元素添加到他们的页面中。</p><p id="3925" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里我们有一个“锁定”按钮:</p><pre class="je jf jg jh fd kl km kn ko aw kp bi"><span id="aeda" class="jl jm hh km b fi kq kr l ks kt">&lt;amp-pinterest height=20 width=40<br/>  data-do="buttonPin"<br/>  data-url="http://www.flickr.com/photos/kentbrew/6851755809/"<br/>  data-media="http://farm8.staticflickr.com/7027/6851755809_df5b2051c9_z.jpg"<br/>  data-description="Next stop: Pinterest"&gt;<br/>&lt;/amp-pinterest&gt;</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ku"><img src="../Images/0adf01128fdc5b99c18c3cad46e4430d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J3nCXtPOSkOBYZsg.png"/></div></div></figure><p id="2057" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里有一个嵌入式<a class="ae jc" href="https://www.pinterest.com/pin/99360735500167749/" rel="noopener ugc nofollow" target="_blank">引脚:</a></p><p id="b4d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以使用我们的<a class="ae jc" href="https://developers.pinterest.com/tools/widget-builder/?embedType=amp" rel="noopener ugc nofollow" target="_blank">小部件构建器</a>为您的AMP页面创建自己的按钮和小部件。</p><h2 id="40d9" class="jl jm hh bd jn jo jp jq jr js jt ju jv ip jw jx jy it jz ka kb ix kc kd ke kf bi translated">展望未来</h2><p id="64fe" class="pw-post-body-paragraph ie if hh ig b ih kg ij ik il kh in io ip ki ir is it kj iv iw ix kk iz ja jb ha bi translated">我们目前正在与一小组合作伙伴一起测试AMP页面。我们将继续致力于AMP项目，并为之做出贡献，我们鼓励您在自己的网站上看看AMP，这样我们就可以一起让移动网络变得更好。</p><p id="eafb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">鸣谢:感谢肯特·布鲁斯特为Pinterest AMP组件所做的工作，感谢李璇教Atlas识别AMP内容。</p></div></div>    
</body>
</html>