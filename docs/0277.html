<html>
<head>
<title>Why isn’t my animation running?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我的动画没有运行？</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/why-isnt-my-animation-running-34c529e76eaa?source=collection_archive---------2-----------------------#2016-12-05">https://medium.com/androiddevelopers/why-isnt-my-animation-running-34c529e76eaa?source=collection_archive---------2-----------------------#2016-12-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="e837" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">特别是当你的活动开始的时候</h2></div><p id="6021" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我告诉你一个我去年花了大量时间调试的事情。我完全忘记了这件事，直到有一天有人提到他们用Snackbar看到的东西，结果是同样的事情。</p><p id="c8c2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">那么问题是什么呢？如果我展示给你看会更简单:</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="5f80" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您会注意到，我只是在这里点击打开了一个活动。有许多TextInputLayouts，其中第一个在大约200毫秒后跳转到位。</p><p id="e485" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">那么为什么会出现视觉跳跃呢？TextInputLayout只是运行一个动画并使其自身无效，经过调试，该动画确实运行良好。</p><p id="2d15" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">事实证明，在Android 4.0的框架中增加了一个性能优化，允许你的视图层次在活动动画开始之前只进行一次绘制。一旦活动动画结束，您的视图层次结构将按照您的预期每隔16毫秒绘制一次。</p><p id="20e5" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">令人欣慰的是，在Android 7.0中，这种优化已经从框架中删除了，结果是:</p><figure class="js jt ju jv fd jw"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="035b" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">那我为什么要告诉你这些？如果你试图调试为什么你的视图在你的活动开始的时候没有被更新，你需要注意这一点。</p></div></div>    
</body>
</html>