<html>
<head>
<title>Introducing Pixie, an advanced graph-based recommendation system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍Pixie，一个基于图形的高级推荐系统</h1>
<blockquote>原文：<a href="https://medium.com/pinterest-engineering/introducing-pixie-an-advanced-graph-based-recommendation-system-e7b4229b664b?source=collection_archive---------1-----------------------#2017-03-31">https://medium.com/pinterest-engineering/introducing-pixie-an-advanced-graph-based-recommendation-system-e7b4229b664b?source=collection_archive---------1-----------------------#2017-03-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a10e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者:Pong Eksombatchai &amp; Mark Ulrich | Pinterest工程师，发现</p><p id="9b84" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Pinterest，一个主要的工程挑战是帮助人们每天发现和做事情，这意味着在正确的时间将正确的想法提供给正确的人。虽然大多数其他推荐系统只有一小部分可能的候选人，例如10万部电影，但Pinterest必须从全球1.5亿人保存的1000多亿个想法中实时推荐。我们设定了60毫秒p99延迟的性能目标，为了实现这一目标，我们构建了Pixie，这是一个灵活的基于图形的系统，用于实时提供个性化建议。Pixie现在在Pinterest的相关pin、home feed和Explore中提供推荐，占所有保存的pin的一半左右。</p><p id="f4b5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">小精灵</strong></p><p id="6b1c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们从一个<a class="ae jc" href="https://en.wikipedia.org/wiki/Bipartite_graph" rel="noopener ugc nofollow" target="_blank">二分图</a>开始，其中每条边显示一个人将一个大头针保存到一块板上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/edbf03bbe91e40f3973bab39ed75ed7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g89VXViFjW1ETImN."/></div></div></figure><p id="14d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个图表从我们的用户那里获取了大量丰富的数据，非常大，有超过<a class="ae jc" href="https://twitter.com/Pinterest/status/829391363158446080" rel="noopener ugc nofollow" target="_blank">1000亿条边</a>和几十亿个节点。值得庆幸的是，今天的RAM非常便宜，像这样的大数据足够小，可以安装在现成的AWS机器上。在太字节规模的RAM机器可用之前，需要像Hadoop或Spark这样的复杂分布式系统来为这种规模的数据计算算法。幸运的是，在某种程度上，大数据实际上正在变得越来越小！现在，我们可以将整个图加载到一台机器上，并遍历所有图，而无需进行任何网络调用。这使得密集连通图上的实时算法更容易开发和大规模部署，并允许我们在Pinner打开我们的应用程序时实时提出建议(而不是在前一天晚上在批处理作业中计算它们)。</p><p id="66d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然我们已经开发了像<a class="ae jc" rel="noopener" href="/@Pinterest_Engineering/pinnability-machine-learning-in-the-home-feed-64be2074bf60"> Pinnability </a>这样的高级机器学习系统，可以预测一个想法与Pinner的相关程度，但第一个挑战是计算出1000多亿个pin中的哪些可以考虑，因为我们不可能一次对它们进行评分。这就是为什么基于图表的推荐系统对我们来说是有价值的。Pixie通过从一组我们已知当前与Pinner相关的节点开始遍历图形来解决候选生成问题。然后，通过使用<a class="ae jc" href="https://en.wikipedia.org/wiki/Biased_random_walk_on_a_graph" rel="noopener ugc nofollow" target="_blank">有偏随机游走</a>算法来估计个性化<a class="ae jc" href="https://en.wikipedia.org/wiki/PageRank" rel="noopener ugc nofollow" target="_blank"> PageRank </a>，它只检查图中最靠近这些节点的部分。我们从多个引脚开始遍历，并在所有引脚的交叉点找到推荐。例如，假设一个Pinner最近与以下三个pin进行了交互。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/367f4281e16c22ecb04be8a17be9866e.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*AXwBzdZC_kn1EuczSThDwA.png"/></div></figure><p id="cfc2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们可以把它们都送给Pixie，然后拿回几千个类似的别针。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/1068b6b521582bf532d1e1413974a7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TcSJSQl80sDFXh-Z."/></div></div></figure><p id="c250" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事实上，我们可以在一个查询中向Pixie发送数百个不同的图钉，每个图钉都有自己定制的重量。</p><p id="63ea" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Pixie已经成功替换了Pinterest上的多个候选生成器。我们已经看到该系统将用户参与度提高了50 %,并且通过推荐以前未发现的内容改善了生态系统的健康状况。今天，我们有一个庞大的Pixie服务器群，每个服务器每秒支持1，000个查询，p99延迟为60毫秒，用于我们的推荐产品，包括<a class="ae jc" rel="noopener" href="/@Pinterest_Engineering/applying-deep-learning-to-related-pins-a6fee3c92f5e#.m1zyskflp">相关pin</a>、home feed、email、Explore等！</p><p id="d1ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jr">鸣谢:该系统由Jure Leskovec领导的Pinterest实验室的许多工程师构建和改进，其中包括作者Rahul Sharma、Jerry Zitao Liu、Pranav Jindal、和Charles Sugnet。整个公司的人都帮助将它推广到单个产品，并利用他们的见解和反馈来改进它。</em></p></div></div>    
</body>
</html>