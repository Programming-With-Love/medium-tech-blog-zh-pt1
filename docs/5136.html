<html>
<head>
<title>WhatsApp Messaging Using Twilio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Twilio的WhatsApp消息</h1>
<blockquote>原文：<a href="https://medium.com/mendix/whatsapp-messaging-using-twilio-abd5cf7ede9e?source=collection_archive---------1-----------------------#2021-08-17">https://medium.com/mendix/whatsapp-messaging-using-twilio-abd5cf7ede9e?source=collection_archive---------1-----------------------#2021-08-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/7835420e8a3b25ce8bbfb6680ec9fd1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Awn3VCpFd11rx8fhpvsWjA.png"/></div></div></figure><div class=""/><h1 id="5bc3" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">在这篇博客中，我将向你展示如何将你的企业与全球最流行的聊天应用联系起来。对于中型和大型企业，WhatsApp business API可以增强您与世界各地客户的沟通，因此您可以在WhatsApp上以简单、可靠、安全的方式与他们联系。将客户期望的信息发送到他们希望收到信息的地方。</h1><p id="3907" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">要集成到WhatsApp的商业API，第一步是获取WhatsApp商业API，你可以通过一个WhatsApp商业服务提供商(bsp)获取。</p><p id="86f1" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">有不同的商业API可以与WhatsApp集成，我将尝试使用<a class="ae lc" href="https://www.twilio.com/" rel="noopener ugc nofollow" target="_blank"> Twilio的</a>服务进行集成。我们可以使用Twilio的可编程消息传递API在Mendix平台上快速轻松地构建WhatsApp消息传递。集成单个API以可靠地发送和接收WhatsApp消息。</p><p id="ad22" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">这种集成的主要依赖是Mendix中的<a class="ae lc" href="https://marketplace.mendix.com/link/component/109621" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ld"> TwilioConnector </strong> </a>模块，该模块已经在Mendix marketplace中可用</p><p id="ece7" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">将模块下载到你的项目后，在Studio Pro- &gt; <strong class="bd ld">展开加密</strong> - &gt; <strong class="bd ld">常量</strong>中展开<strong class="bd ld"> TwilioConnector </strong>模块。在<strong class="bd ld"> EncryptionKey </strong>常量中，添加一个16个字符的字符串。确保是16个字符。</p><figure class="lf lg lh li fq hw fe ff paragraph-image"><div class="fe ff le"><img src="../Images/a7ef44f8e4571204e87d15d7dad03c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*nhhXb0NOgyjwVhDbeY4NDg.png"/></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">This is the key that will encrypt your Twilio API key.</figcaption></figure><p id="ba4c" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">接下来去twilio.com(<a class="ae lc" href="https://www.twilio.com/" rel="noopener ugc nofollow" target="_blank">https://www.twilio.com/</a>)注册一个账户，如果你还没有Twilio账户的话。</p><p id="c20e" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">1.确保从Twilio仪表板复制<strong class="bd ld">账户SID </strong>和<strong class="bd ld">认证令牌</strong>。</p><p id="834b" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">2.现在点击Twilio导航左侧的三个点-&gt;然后选择<strong class="bd ld">电话号码</strong>-&gt;-<strong class="bd ld">已验证来电显示</strong>-&gt;-<strong class="bd ld">点击加号图标</strong> - &gt;选择<strong class="bd ld">所需国家</strong> &amp;输入<strong class="bd ld">手机号码进行验证</strong></p><blockquote class="ln lo lp"><p id="8479" class="ka kb lq bd b kc kx ke kf kg ky ki kj lr kz km kn ls la kq kr lt lb ku kv kw hn dt translated"><strong class="bd ld">注意</strong>:确保您尝试使用的联系号码应该是当前的WhatsApp号码</p></blockquote><figure class="lf lg lh li fq hw fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/f9b003fbe55ae58fe9f0d51dc7c396a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*X5LDvIQliG3GQHtQ1taCzw.png"/></div></figure><p id="a430" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">3.现在点击Twilio导航左侧的三个点，然后选择<strong class="bd ld">可编程消息</strong>-&gt;-<strong class="bd ld">尝试一下</strong>-&gt;-<strong class="bd ld">尝试WhatsApp </strong> - &gt;保存Twilio提供的WhatsApp号码，记下Twilio沙盒命令。(您应该在1下找到这个命令。设置您的测试沙箱)</p><p id="4701" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">而这个命令需要每24小时发送一次给Twilio WhatsApp chat。</p><figure class="lf lg lh li fq hw fe ff paragraph-image"><div class="fe ff lv"><img src="../Images/67577474b119e2972311d0a81ddf5cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:300/format:webp/1*p7VctgmDjL4A2VEnWvZizA.png"/></div></figure><figure class="lf lg lh li fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff lw"><img src="../Images/9095925fed5d19ba898085953e9245c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HUEzJLQIRIGPAbc7QchY_w.png"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek"><a class="ae lc" href="https://www.mendix.com/pricing/" rel="noopener ugc nofollow" target="_blank">https://www.mendix.com/pricing/</a></figcaption></figure><p id="d073" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">4.从Twilio模块打开<strong class="bd ld"> SendSMS </strong>微流:</p><p id="db18" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">打开Rest调用活动，并相应地更新请求模板。</p><figure class="lf lg lh li fq hw fe ff paragraph-image"><div class="fe ff le"><img src="../Images/3c19202de298a9d0d89caf916c4e7549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*54CMvlgpecCtKx7RJ72sfg.png"/></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">SendSMS Microflow</figcaption></figure><p id="2b2a" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">现在，从导航菜单中的<strong class="bd ld"> TwilioConnector </strong>模块映射<strong class="bd ld">TestSMS</strong>&amp;<strong class="bd ld">Credential _ Overview</strong>页面，并运行应用程序。</p><p id="7002" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">5.配置凭据。</p><p id="e9a0" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">6.切换到<strong class="bd ld"> TestSMS </strong>页面，通过输入凭证引用发送测试消息，输入目的地号码(您在步骤2中验证过)</p><p id="bf24" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">使用目的地号码的加号，对印度人来说意味着:+918887654345，对美国人来说！例如:美国为+15551212，荷兰为+314444444等。输入一些信息。</p><p id="7519" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">7.单击发送按钮。如果在第5步和第6步中配置的数据是有效的，那么你应该会收到发送到你已验证的WhatsApp号码的消息。</p><p id="0083" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><a class="ae lc" href="https://www.twilio.com/docs/whatsapp/api#using-twilio-phone-numbers-with-whatsapp" rel="noopener ugc nofollow" target="_blank">在WhatsApp上使用Twilio电话号码</a>:</p><p id="300a" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">要在生产应用程序中使用WhatsApp消息，您必须在Twilio号码上启用WhatsApp。WhatsApp目前正在有限可用性计划中开放这一访问。这意味着所有希望创建个人资料的客户都需要WhatsApp的批准。</p><p id="47f3" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我希望你觉得这个博客有用&amp;有趣！</p><h2 id="e09b" class="lx jd if bd je ly lz ma ji mb mc md jm kk me mf jq ko mg mh ju ks mi mj jy mk dt translated">阅读更多</h2><p id="e460" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">Twillio的文档:</p><div class="ht hu fm fo hv ml"><a href="https://www.twilio.com/docs/whatsapp/api" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab ej"><div class="mn ab mo cl cj mp"><h2 class="bd ig fv z el mq eo ep mr er et ie dt translated">WhatsApp Business API with Twilio概述</h2><div class="ms l"><h3 class="bd b fv z el mq eo ep mr er et ek translated">WhatsApp是世界上许多地方最受欢迎的OTT应用。使用WhatsApp Business API with Twilio，您可以…</h3></div><div class="mt l"><p class="bd b gc z el mq eo ep mr er et ek translated">www.twilio.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz ib ml"/></div></div></a></div><p id="9d0d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">Twilio WhatsApp API:</p><div class="ht hu fm fo hv ml"><a href="https://www.twilio.com/docs/whatsapp/quickstart/curl" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab ej"><div class="mn ab mo cl cj mp"><h2 class="bd ig fv z el mq eo ep mr er et ie dt translated">WhatsApp curl快速入门Twilio API</h2><div class="ms l"><h3 class="bd b fv z el mq eo ep mr er et ek translated">只需几行代码，您的应用程序就可以使用Twilio API在WhatsApp上发送和接收消息…</h3></div><div class="mt l"><p class="bd b gc z el mq eo ep mr er et ek translated">www.twilio.com</p></div></div></div></a></div><p id="10b1" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">Twilio中的沙盒激活步骤:</p><div class="ht hu fm fo hv ml"><a href="https://www.twilio.com/docs/whatsapp/sandbox" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab ej"><div class="mn ab mo cl cj mp"><h2 class="bd ig fv z el mq eo ep mr er et ie dt translated">开始使用WhatsApp的Twilio沙盒</h2><div class="ms l"><h3 class="bd b fv z el mq eo ep mr er et ek translated">想通过Twilio逐步了解WhatsApp Business API吗？查看我们的…</h3></div><div class="mt l"><p class="bd b gc z el mq eo ep mr er et ek translated">www.twilio.com</p></div></div><div class="mu l"><div class="na l mw mx my mu mz ib ml"/></div></div></a></div></div><div class="ab cl nb nc hb nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="hn ho hp hq hr"><p id="3e76" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="lq">来自发布者- </em></p><p id="359f" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="lq">如果你喜欢这篇文章，你可以在我们的</em> <a class="ae lc" href="https://medium.com/mendix" rel="noopener"> <em class="lq">媒体页面</em> </a> <em class="lq">或者我们自己的</em> <a class="ae lc" href="https://developers.mendix.com/community-blog/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">社区博客网站</em> </a> <em class="lq">找到更多喜欢的。</em></p><p id="acc2" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="lq">希望入门的创客，可以注册一个</em> <a class="ae lc" href="https://signup.mendix.com/link/signup/?source=direct" rel="noopener ugc nofollow" target="_blank"> <em class="lq">免费账号</em> </a> <em class="lq">，通过我们的</em> <a class="ae lc" href="https://academy.mendix.com/link/home" rel="noopener ugc nofollow" target="_blank"> <em class="lq">学苑</em> </a> <em class="lq">获得即时学习。</em></p><p id="07fb" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="lq">有兴趣更多地参与我们的社区吗？您可以加入我们的</em><a class="ae lc" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"><em class="lq">Slack community channel</em></a><em class="lq">或对于那些想更多参与的人，加入我们的</em> <a class="ae lc" href="https://developers.mendix.com/meetups/#meetupsNearYou" rel="noopener ugc nofollow" target="_blank"> <em class="lq">会合</em> </a> <em class="lq">吧。</em></p></div></div>    
</body>
</html>