<html>
<head>
<title>Introduction to Cosmos DB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Cosmos DB简介</h1>
<blockquote>原文：<a href="https://medium.com/globant/introduction-to-cosmos-db-8d106bb7207?source=collection_archive---------1-----------------------#2021-05-24">https://medium.com/globant/introduction-to-cosmos-db-8d106bb7207?source=collection_archive---------1-----------------------#2021-05-24</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><p id="38f4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在转移到Cosmos DB之前，让我们检查一下什么是NoSQL数据库，这将有助于我们理解Cosmos DB，为什么使用以及何时使用。</p><p id="cd47" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们来讨论一下什么是<strong class="in hi"> SQL和NoSQL数据库</strong></p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es jj"><img src="../Images/1abf2540c482b571cbff84c9c167cfb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*R4fG2OOjaIQdTjyYqJdxHw.png"/></div></figure><p id="036c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">● SQL数据库是关系型的，NoSQL是非关系型的</p><p id="96fb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">● SQL数据库使用结构化查询语言并具有预定义的模式，而NoSQL数据库具有用于非结构化数据的动态模式。</p><p id="6630" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">● SQL数据库可垂直扩展，NoSQL数据库可水平扩展</p><p id="67fc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">● SQL数据库是基于表的，而NoSQL数据库是文档、键值、图形或宽列存储</p><p id="db93" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">● SQL数据库更适合多行事务，NoSQL更适合文档或JSON等非结构化数据</p><p id="d94d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jr">为什么要配Cosmos DB？</em> </strong></p><ol class=""><li id="94bb" class="js jt hh in b io ip is it iw ju ja jv je jw ji jx jy jz ka bi translated">高吞吐量</li><li id="52a6" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">低延迟</li><li id="269f" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">全球分销</li><li id="2aed" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">多重一致性模型</li><li id="3ac3" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">支持不同种类的API</li></ol><h1 id="733e" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">宇宙数据库</strong></h1><p id="7aad" class="pw-post-body-paragraph il im hh in b io le iq ir is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji ha bi translated">Cosmos database是一个Paas(平台即服务)和基于云的NoSQL数据库，是微软Azure中一个完全托管的、全球分布的、多模式的NoSQL数据库服务。它提供了极低的延迟、高可用性和一致性。</p><p id="8245" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">Cosmos数据库支持多区域(Geo)复制。它还提供了弹性横向扩展存储和全面服务级别协议的功能。</p><h2 id="3389" class="lj kh hh bd ki lk ll lm km ln lo lp kq iw lq lr ku ja ls lt ky je lu lv lc lw bi translated">Cosmos数据库支持多种模型，例如</h2><p id="8b28" class="pw-post-body-paragraph il im hh in b io le iq ir is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji ha bi translated"><em class="jr">图片提供:微软</em></p><figure class="jk jl jm jn fd jo er es paragraph-image"><div class="er es lx"><img src="../Images/6f2edb0ac31e9b25ecee4dd0d8902b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*BmCMdUM9tTX8rfR5uoZmZA.png"/></div></figure><p id="b071" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">1.SQL API:它支持JSON文档和基于SQL的查询。</p><p id="2b90" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">2.Mongo DB API:支持Mongo DB API和JSON文档。</p><p id="563d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">3.Gremlin API:用基于图形的节点和边数据表示支持Gremlin API。</p><p id="0160" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">4.Cassandra API:支持用于宽列数据表示的Cassandra API。</p><p id="d4b8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jr">如何创建Cosmos数据库</em> </strong></p><div class="ly lz ez fb ma mb"><a href="https://docs.microsoft.com/en-us/azure/cosmos-db/create-cosmosdb-resources-portal" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab dw"><div class="md ab me cl cj mf"><h2 class="bd hi fi z dy mg ea eb mh ed ef hg bi translated">快速入门——从Azure门户创建Azure Cosmos DB资源</h2><div class="mi l"><h3 class="bd b fi z dy mg ea eb mh ed ef dx translated">适用于:SQL API Azure Cosmos DB是微软的全球分布式多模型数据库服务。你可以用Azure…</h3></div><div class="mj l"><p class="bd b fp z dy mg ea eb mh ed ef dx translated">docs.microsoft.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp jp mb"/></div></div></a></div><p id="ce25" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> Cosmos DB Collections </strong></p><ul class=""><li id="5175" class="js jt hh in b io ip is it iw ju ja jv je jw ji mq jy jz ka bi translated">集合是包含合并的<em class="jr"> JSON </em>文档和相关javascript逻辑的容器，用于编写存储过程、触发器和用户定义的函数。</li><li id="1b8f" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">在创建容器时，我们有缩放设置，其中我们可以提到吞吐量(请求单元或RU)请求单元，它可以是<em class="jr">自动缩放</em>或<em class="jr">手动</em></li><li id="bff0" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">生存时间选项，有助于从集合中自动删除项目</li><li id="b469" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">Cosmos条目可以是集合中的文档、表中的行、图中的节点或边。</li></ul><p id="3212" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">将Cosmos DB集成到。网络应用</strong></p><p id="2d78" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">添加<strong class="in hi">微软。azure . document db</strong>nu获取应用程序中的包</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="er es mr"><img src="../Images/c9e510a8eec2493dfaf2ebf9c42119c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qSiiw7_YFNph6wNQV9V1SQ.png"/></div></div></figure><p id="1a0c" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">使用documentclient与cosmos数据库进行交互，这需要</p><ol class=""><li id="9e3f" class="js jt hh in b io ip is it iw ju ja jv je jw ji jx jy jz ka bi translated">URI:Cosmos DB端点Url<a class="ae mw" href="https://{UniqueCosmosDbName}.documents.azure.com:443/" rel="noopener ugc nofollow" target="_blank">https://{ UniqueCosmosDbName } . documents . azure . com:443/</a></li><li id="d5aa" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">授权密钥:授权密钥将用于读写目的。</li><li id="de4e" class="js jt hh in b io kb is kc iw kd ja ke je kf ji jx jy jz ka bi translated">收集策略</li></ol><p id="9a96" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">创建文档客户端实例的示例。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="er es mx"><img src="../Images/0c8aff68a4b258c997c250c55e4a91fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zsyJOLy9ElMnp3Vo190I-w.png"/></div></div></figure><p id="e651" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">我们可以对文档执行基本的CRUD操作</p><ul class=""><li id="287e" class="js jt hh in b io ip is it iw ju ja jv je jw ji mq jy jz ka bi translated">创建一个文档:<a class="ae mw" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.createdocumentasync" rel="noopener ugc nofollow" target="_blank"> <em class="jr"> DocumentClient。</em>创建文档同步</a></li><li id="13cf" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">通过Id读取文档:<a class="ae mw" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.readdocumentasync" rel="noopener ugc nofollow" target="_blank"> <em class="jr"> DocumentClient。readdocumentsync</em>T9】</a></li><li id="4519" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">读取收藏中的所有文档:<a class="ae mw" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.readdocumentfeedasync" rel="noopener ugc nofollow" target="_blank"> <em class="jr"> DocumentClient。readdocumentfeedsync</em></a></li><li id="6dfa" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">向上插入一个文档:<a class="ae mw" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.upsertdocumentasync" rel="noopener ugc nofollow" target="_blank"> <em class="jr">文档客户端。UpsertDocumentAsync</em>T17】</a></li><li id="530e" class="js jt hh in b io kb is kc iw kd ja ke je kf ji mq jy jz ka bi translated">删除一个文档:<a class="ae mw" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.deletedocumentasync" rel="noopener ugc nofollow" target="_blank">T19】document client。删除文档同步 </a></li></ul><p id="2c52" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">结论:</strong></p><p id="9296" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">为了构建高可扩展性、地理复制、低延迟、高吞吐量、多一致性模型，可以使用Microsoft Azure Cosmos数据库来实现。</p></div></div>    
</body>
</html>