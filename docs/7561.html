<html>
<head>
<title>Azure AD Integration in Spring Boot Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spring Boot应用程序中的Azure广告集成</h1>
<blockquote>原文：<a href="https://medium.com/version-1/azure-ad-integration-in-spring-boot-application-81d66ffd4739?source=collection_archive---------0-----------------------#2022-06-07">https://medium.com/version-1/azure-ad-integration-in-spring-boot-application-81d66ffd4739?source=collection_archive---------0-----------------------#2022-06-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/a3a0b9501b55d8b7eff31acd603c9444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VBkB9YsZg_0kpxrN_7mnbg.jpeg"/></div></div></figure><blockquote class="ip iq ir"><p id="cd0e" class="is it iu iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">本文档解释了如何使用Azure Active Directory作为身份提供者/身份验证服务器(IdP)来启用基于范围和角色的授权，而Spring boot将作为资源服务器来验证由IdP生成并由客户端应用程序(Angular UI)传递的访问令牌。</p></blockquote><p id="3f93" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="iu">实现这个之前需要的先决条件:</em> <br/> </strong> 1 .Azure订阅<br/> 2。Java JDK 8或更高版本(本地安装)<br/> 3。Apache Maven 3或更高版本(本地安装)<br/> 4。应用程序应该在Azure portal&gt;Azure Active Directory&gt;应用程序注册下注册(将在文档的后面讨论)</p><h1 id="6c2c" class="ju jv hh bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated"><strong class="ak"> <em class="ks">什么是Azure AD？</em>T11】</strong></h1><p id="3d2a" class="pw-post-body-paragraph is it hh iv b iw kt iy iz ja ku jc jd jr kv jg jh js kw jk jl jt kx jo jp jq ha bi translated">Azure Active Directory (Azure AD)是基于云的身份和访问管理服务。这项服务帮助您的员工访问外部资源，如Microsoft 365、Azure门户和数以千计的其他SaaS应用程序。Azure Active Directory还允许他们访问内部资源，如企业内部网网络上的应用程序和为您自己的组织开发的任何云应用程序。</p><p id="e82e" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">借助Azure AD，本文将讨论如何使用基于范围的身份验证来保护Spring Boot应用程序。这将使用Azure AD作为认证服务器&amp; Spring Boot应用程序充当资源服务器。Spring boot将验证从客户端应用程序(Angular APP)收到的令牌。</p><h2 id="92d0" class="ky jv hh bd jw kz la lb ka lc ld le ke jr lf lg ki js lh li km jt lj lk kq ll bi translated"><strong class="ak"> <em class="ks">授权代码流程是如何工作的？</em>T15】</strong></h2><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lm"><img src="../Images/2b9a49a69576dfd67d05f712c8c322b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ag4qtYzTHFTePfsJ3JGXJQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Token flow happens when a user logs into the system.</figcaption></figure><p id="5c19" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi">用户代理</strong>:访问应用程序的最终用户</p><p id="a681" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi">客户端应用程序:</strong>使用来自授权服务器的令牌代表资源所有者访问资源服务器的应用程序。它编排了获取和更新这些令牌的过程</p><p id="f878" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">授权服务器:验证你的证书的服务器。为注册的客户端生成令牌，在我们的例子中是Azure AD</p><p id="b889" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">资源服务器:它是我们的API所在的服务器，在我们的例子中，它是一个Spring Boot应用程序</p><p id="fdcf" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><em class="iu">资源服务器将有四个主要组件:</em></p><ol class=""><li id="10e1" class="lv lw hh iv b iw ix ja jb jr lx js ly jt lz jq ma mb mc md bi translated"><strong class="iv hi"> API </strong> —一个REST控制器来公开资源</li><li id="b5b9" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated"><strong class="iv hi">安全配置</strong> —为API公开的受保护资源定义访问控制的类</li><li id="96ab" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated"><strong class="iv hi">application . properties</strong>—声明属性的配置文件，包括授权服务器的信息</li><li id="2571" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated"><strong class="iv hi"> pom.xml — </strong>将Java Spring boot应用程序关联为资源服务器所需的所有依赖项</li></ol><h2 id="426c" class="ky jv hh bd jw kz la lb ka lc ld le ke jr lf lg ki js lh li km jt lj lk kq ll bi translated"><strong class="ak"> <em class="ks">如何设置授权服务器？</em> </strong></h2><p id="56ee" class="pw-post-body-paragraph is it hh iv b iw kt iy iz ja ku jc jd jr kv jg jh js kw jk jl jt kx jo jp jq ha bi translated">要设置Azure AD租户，我们需要有一个Azure订阅。如果您已经有租户，请按照以下步骤配置应用程序注册:</p><ol class=""><li id="a0c0" class="lv lw hh iv b iw ix ja jb jr lx js ly jt lz jq ma mb mc md bi translated">导航到Azure门户中的搜索栏，搜索“Azure Active Directory”</li><li id="bf21" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">点击“应用注册”,然后点击顶部的“新注册”选项</li><li id="a81a" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">为注册提供一个唯一的名称，定义您的应用程序做什么，然后单击“注册”按钮</li><li id="aadf" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">现在让我们添加访问API所需的不同作用域，单击“Set”按钮设置“Application ID ”,这将是作用域中使用的基本URL。然后单击“添加范围”按钮添加新范围&gt;提供“范围名称”(将在后端用于访问范围)，添加同意书作为“管理员和用户”，提供“管理员同意书显示名称”和“管理员同意书描述”详细信息，并单击“添加范围”</li><li id="4685" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">就这样，这是配置资源服务器所需的几乎所有东西，它将在授权服务器(Azure active directory)的帮助下验证客户端应用程序(angular application)生成的访问令牌</li></ol><h2 id="4745" class="ky jv hh bd jw kz la lb ka lc ld le ke jr lf lg ki js lh li km jt lj lk kq ll bi translated"><strong class="ak"> <em class="ks">如何设置资源服务器？</em>T3】</strong></h2><p id="5335" class="pw-post-body-paragraph is it hh iv b iw kt iy iz ja ku jc jd jr kv jg jh js kw jk jl jt kx jo jp jq ha bi translated">资源服务器的作用是验证成功登录客户端应用程序后生成的令牌。它还提供了对托管在服务器上的API的基于范围/角色的授权访问。</p><p id="1d7e" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">要添加到pom.xml文件中的依赖项</p><pre class="ln lo lp lq fd mj mk ml mm aw mn bi"><span id="e9e9" class="ky jv hh mk b fi mo mp l mq mr">&lt;dependency&gt;</span><span id="0501" class="ky jv hh mk b fi ms mp l mq mr">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="38c2" class="ky jv hh mk b fi ms mp l mq mr">&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;</span><span id="f610" class="ky jv hh mk b fi ms mp l mq mr">&lt;version&gt;4.0.0&lt;/version&gt;</span><span id="5a97" class="ky jv hh mk b fi ms mp l mq mr">&lt;/dependency&gt;</span><span id="be40" class="ky jv hh mk b fi ms mp l mq mr">&lt;dependency&gt;</span><span id="71b0" class="ky jv hh mk b fi ms mp l mq mr">&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;</span><span id="8730" class="ky jv hh mk b fi ms mp l mq mr">&lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;</span><span id="94d3" class="ky jv hh mk b fi ms mp l mq mr">&lt;version&gt;3.14.0&lt;/version&gt;</span><span id="30f1" class="ky jv hh mk b fi ms mp l mq mr">&lt;/dependency&gt;</span><span id="0b37" class="ky jv hh mk b fi ms mp l mq mr">&lt;dependency&gt;</span><span id="a9d7" class="ky jv hh mk b fi ms mp l mq mr">&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;</span><span id="3c1e" class="ky jv hh mk b fi ms mp l mq mr">&lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;</span><span id="9578" class="ky jv hh mk b fi ms mp l mq mr"> &lt;version&gt;4.0.0&lt;/version&gt;</span><span id="75ea" class="ky jv hh mk b fi ms mp l mq mr">&lt;/dependency&gt;</span></pre><p id="ffe4" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">一旦我们添加了上面的依赖项，让我们创建一个新的配置类，它将为API指定安全配置以保护端点。</p><p id="4597" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi">AADResourceServerWebSecurityConfigurerAdapter</strong>基类包含资源服务器所需的web安全配置。</p><p id="a3bd" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">如果您不提供配置，DefaultAADResourceServerWebSecurityConfigurerAdapter类会自动配置。<br/>为了提供配置，扩展<strong class="iv hi">AADResourceServerWebSecurityConfigurerAdapter</strong>类，并调用<strong class="iv hi">configure(http security http)</strong>函数中的<strong class="iv hi"> super.configure(http) </strong>。</p><pre class="ln lo lp lq fd mj mk ml mm aw mn bi"><span id="c1d9" class="ky jv hh mk b fi mo mp l mq mr">import com.azure.spring.aad.webapi.AADResourceServerWebSecurityConfigurerAdapter;<br/>import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;<br/>import org.springframework.security.config.annotation.web.builders.HttpSecurity;<br/>import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span><span id="e570" class="ky jv hh mk b fi ms mp l mq mr">@EnableWebSecurity<br/>@EnableGlobalMethodSecurity(prePostEnabled = true)<br/>public class SecurityConfig extends AADResourceServerWebSecurityConfigurerAdapter {</span><span id="758d" class="ky jv hh mk b fi ms mp l mq mr">@Override<br/>protected void configure(HttpSecurity http) throws Exception {<br/>super.configure(http);<br/>http.authorizeRequests((requests) -&gt; requests.anyRequest().authenticated());<br/>}<br/>}</span></pre><p id="5254" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">以上<strong class="iv hi">安全配置。</strong>类要求对Spring Boot应用程序中API端点的任何调用都必须经过身份验证。</p><p id="2cda" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">作用域通常在外部应用程序希望通过公开的API访问用户数据时使用。它们决定了客户端应用程序可以做什么。因为API在特定的作用域下是安全的，所以只有具有这些特定作用域的用户才能访问那些相应的API。</p><p id="2112" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">要使用范围保护API，请在每个控制器方法签名的顶部添加。</p><pre class="ln lo lp lq fd mj mk ml mm aw mn bi"><span id="5e4b" class="ky jv hh mk b fi mo mp l mq mr">@PreAuthorize("hasAuthority('SCOPE_{SCOPE_NAME}')")</span><span id="ddc1" class="ky jv hh mk b fi ms mp l mq mr">Public String METHOD_NAME(){</span><span id="a5a4" class="ky jv hh mk b fi ms mp l mq mr">--------------------------------</span><span id="493b" class="ky jv hh mk b fi ms mp l mq mr">--------------------------------</span><span id="2a6b" class="ky jv hh mk b fi ms mp l mq mr">}</span></pre><p id="938e" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">{SCOPE_NAME} &gt; &gt;将其替换为在“应用程序注册”下的“公开API”下创建的实际作用域名称。</p><p id="b121" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">角色通常在外部应用程序需要在没有用户在场的情况下调用API时使用，在这些情况下，应用程序被分配角色以定义特定应用程序可以访问API的哪些端点。</p><p id="66d6" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">要使用角色保护API，请在每个控制器方法签名的顶部添加下面一行。</p><pre class="ln lo lp lq fd mj mk ml mm aw mn bi"><span id="1773" class="ky jv hh mk b fi mo mp l mq mr">@PreAuthorize("hasAuthority(APPROLE_{ROLE_NAME}')")</span><span id="89af" class="ky jv hh mk b fi ms mp l mq mr">Public String METHOD_NAME(){</span><span id="979b" class="ky jv hh mk b fi ms mp l mq mr">--------------------------------</span><span id="a5ce" class="ky jv hh mk b fi ms mp l mq mr">--------------------------------</span><span id="d802" class="ky jv hh mk b fi ms mp l mq mr">}</span></pre><p id="05a7" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">{ROLE_NAME} &gt; &gt;将其替换为在“应用程序注册”下的“公开API”下创建的实际作用域名称。</p><p id="7f43" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">我们需要添加的最后一件事是属性，它将说明我们的应用程序与哪个应用程序注册相关联，这意味着我们需要在<strong class="iv hi"> application.properties </strong>文件中添加“client-id”和“scope”细节。用于将当前的Spring Boot应用与那个<strong class="iv hi">应用注册</strong>关联起来。</p><pre class="ln lo lp lq fd mj mk ml mm aw mn bi"><span id="4cb9" class="ky jv hh mk b fi mo mp l mq mr">spring.cloud.azure.active-directory.enabled=true</span><span id="0e57" class="ky jv hh mk b fi ms mp l mq mr">spring.cloud.azure.active-directory.credential.client-id=CLIENT_ID</span><span id="af8a" class="ky jv hh mk b fi ms mp l mq mr">spring.cloud.azure.active-directory.app-id-uri=APPLICATION_ID_URL</span></pre><p id="f4e2" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">其中“客户端ID”是应用程序注册中“概述”部分下的“应用程序(客户端)ID”，“应用程序ID URL”是应用程序注册中“公开API”部分下的“应用程序ID URI”。</p><p id="cb43" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">就是这样，这些是使Spring Boot应用程序成为资源服务器所需执行的步骤。Azure active directory将充当授权服务器，负责为来自angular客户端应用程序的请求提供访问令牌。</p><h2 id="6427" class="ky jv hh bd jw kz la lb ka lc ld le ke jr lf lg ki js lh li km jt lj lk kq ll bi translated"><strong class="ak"> <em class="ks">怎么考？</em> </strong></h2><p id="58ad" class="pw-post-body-paragraph is it hh iv b iw kt iy iz ja ku jc jd jr kv jg jh js kw jk jl jt kx jo jp jq ha bi translated">为了测试这一点，我们将使用Postman应用程序，该应用程序将负责通过API调用从授权服务器获取令牌来进行访问。</p><p id="78ec" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">对于来自邮递员的测试授权，需要在“应用程序注册”下设置这些:</p><ol class=""><li id="f780" class="lv lw hh iv b iw ix ja jb jr lx js ly jt lz jq ma mb mc md bi translated">导航到新创建的应用程序注册，选择“证书和密码”为应用程序注册生成新的客户端密码，确保保存新创建的“证书和密码”的“值”,因为它将被隐藏</li><li id="0978" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">最后一步是添加认证成功后的回调URL，因为我们需要在“认证”部分下添加一个认证URL。单击“Add a platform”按钮，因为我们的客户端应用程序是Postman，所以在“Redirect ”(重定向)( URIs)下选择“Web ”&gt;,提供Postman回电URL，即<a class="ae mt" href="https://version1-my.sharepoint.com/personal/frank_lorespenalver_version1_com/Documents/“" rel="noopener ugc nofollow" target="_blank">"</a>https://oauth.pstmn.io/v1/callback"，然后单击“Configure ”(配置),然后单击“Save ”(保存)保存配置</li><li id="4046" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">就这样，现在按照下面的步骤使用Postman作为客户端应用程序来测试授权流</li></ol><p id="5e3f" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">在Postman中的收藏下创建一个新文件夹，该文件夹需要添加验证详细信息。</p><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/5fb51931a976eed2ffd9daca92459b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*abK6vEGYf_mDOoIE9sgLHw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">create a new folder inside a collection</figcaption></figure><p id="1496" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">创建文件夹后，根据“应用程序注册”的“概述”部分中“端点”下的详细信息添加身份验证详细信息。</p><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/ffe5caecafc4e1e6eddf08f304212c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P226JR5roNz36jH16LFBaQ.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Under “Endpoint” where you will get all token URLs associated with App registration</figcaption></figure><p id="93cb" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">复制“端点”下的“OAuth 2.0授权端点(v2)”和“OAuth 2.0令牌端点(v2)”，并在Postman中新创建的文件夹下添加确切的授权详细信息。</p><p id="1e3e" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi"> <em class="iu">注意:</em> </strong>要让Postman成为客户端应用，在“认证”下添加【https://oauth.pstmn.io/v1/callback】URL作为Web URL。</p><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mw"><img src="../Images/139b0309dd35d68964b47dd37b2eec04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AYyJHnG0VUlxWHbHXkvJA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">Adding of postman URL as a client in App registration</figcaption></figure><p id="35bc" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">然后在postman的“配置新令牌”下添加以下详细信息</p><ol class=""><li id="731a" class="lv lw hh iv b iw ix ja jb jr lx js ly jt lz jq ma mb mc md bi translated">授权类型:授权代码(PKCE)</li><li id="2d27" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">身份验证URL:“OAuth 2.0授权端点(v2)”</li><li id="e47e" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">访问令牌URL:“OAuth 2.0令牌端点(v2)”</li><li id="4c0b" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">客户端ID:复制“应用程序注册”中“概述”下的“应用程序(客户端)ID”</li><li id="53be" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">客户端机密:在“证书和机密”部分的“客户端机密”下显示的“值”</li><li id="32b8" class="lv lw hh iv b iw me ja mf jr mg js mh jt mi jq ma mb mc md bi translated">范围:添加之前在“应用程序注册”下创建的范围</li></ol><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/a848624e686395a6d7fcd68428633b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nE7clWLYYKdxMIMHEh4UdA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">After adding all the above details to the postman</figcaption></figure><p id="5a17" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated">创建所有这些详细信息后，单击“save ”,然后单击“Get New Access Token ”(获取新的访问令牌)按钮。这将在浏览器中打开一个新窗口，一旦用户凭据通过验证，它将导航回Postman，在那里您将获得一个新的令牌。单击“继续”获取访问令牌。</p><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/0ac02c184a48b1880a386630a11f30e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7L5UOc3gTDWPOWk8FEJ19w.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx">On successful authentication from the Postman</figcaption></figure><h2 id="10e9" class="ky jv hh bd jw kz la lb ka lc ld le ke jr lf lg ki js lh li km jt lj lk kq ll bi translated"><strong class="ak"> <em class="ks">结论</em> </strong></h2><p id="9458" class="pw-post-body-paragraph is it hh iv b iw kt iy iz ja ku jc jd jr kv jg jh js kw jk jl jt kx jo jp jq ha bi translated">就是这样，这些是使用Azure active directory保护Spring Boot应用程序需要执行的步骤。</p><figure class="ln lo lp lq fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/fd2e686395070643dbfa7047c53a2751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6PntD3DmJjpkzInfmaN-eg.jpeg"/></div></div></figure><p id="7690" class="pw-post-body-paragraph is it hh iv b iw ix iy iz ja jb jc jd jr jf jg jh js jj jk jl jt jn jo jp jq ha bi translated"><strong class="iv hi">关于作者:<br/> </strong>帕拉德普·迈亚是这里的初级Java开发人员，在版本1。</p></div></div>    
</body>
</html>