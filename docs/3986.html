<html>
<head>
<title>Make Your Own E-Book Reader App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作你自己的电子书阅读器应用程序</h1>
<blockquote>原文：<a href="https://medium.com/globant/make-your-own-e-book-reader-app-cd1b9deb5771?source=collection_archive---------3-----------------------#2022-09-20">https://medium.com/globant/make-your-own-e-book-reader-app-cd1b9deb5771?source=collection_archive---------3-----------------------#2022-09-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2b8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">合著者:<a class="ae jc" href="https://www.linkedin.com/in/sumedha-kulkarni-80762a169/" rel="noopener ugc nofollow" target="_blank"> Sumedha Kulkarni </a>，Android应用程序开发人员</p><h1 id="d004" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">我们将会建造什么</h1><p id="39cd" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">我们将使用科特林MVVM架构在Android中构建一个电子书阅读器应用程序。我们将赋予它一些独特的特性(如下所列)。</p><h1 id="0b86" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">这款应用与众不同的关键特性:</h1><ul class=""><li id="e80a" class="kg kh hh ig b ih kb il kc ip ki it kj ix kk jb kl km kn ko bi translated"><strong class="ig hi">获取摘要:</strong>根据用户的请求，提供一个简短的或描述性的摘要。摘要是通过Python脚本从后端获取的。在这里阅读更多关于Python脚本<a class="ae jc" rel="noopener" href="/@miteshdewda783/cdbe4b27ee6">的内容</a></li><li id="49cc" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated"><strong class="ig hi">导航到您离开的页面</strong></li><li id="c3a6" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated"><strong class="ig hi">缩放功能</strong></li></ul><p id="d88b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里是一个高级架构图，可以清楚地了解我们正在构建的应用程序。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es ku"><img src="../Images/a78815b01ef3eadb72dd10b94337a95a.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/0*co0QD4Vm15cE3OfL"/></div></figure><p id="9015" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">前端用Android编写，开发了一个交互式应用程序，用户可以阅读任何pdf格式的书籍。</p><ul class=""><li id="7726" class="kg kh hh ig b ih ii il im ip lc it ld ix le jb kl km kn ko bi translated">每当用户希望获得一本书的摘要，直到最后一页，应用程序从pdf中提取文本，并使用提取的文本向服务器发送getSummary()请求。<a class="ae jc" rel="noopener" href="/@miteshdewda783/cdbe4b27ee6">阅读更多</a></li><li id="16b3" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">后端服务器是用Kotlin写的，用的是Ktor框架。</li><li id="05d8" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">在后端，Python脚本有助于从前端获得提取文本的有意义的摘要。后端以此摘要作为响应。</li><li id="8f88" class="kg kh hh ig b ih kp il kq ip kr it ks ix kt jb kl km kn ko bi translated">这个概要通过Kotlin UI显示给用户。</li></ul><p id="3dfa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇文章中，我们将关注电子书阅读器的前端，所以让我们更深入地研究我们使用的应用程序架构。</p><p id="a2df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们在Android开发中使用了最新的架构，即下图中解释的MVVM Clean。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lf"><img src="../Images/d6cd09db9403f40a409432e07e3552bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nOW4e7BshsZwUiWV"/></div></div></figure><p id="0d06" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考:<a class="ae jc" href="https://www.raywenderlich.com/3595916-clean-architecture-tutorial-for-android-getting-started" rel="noopener ugc nofollow" target="_blank">https://www . raywenderlich . com/3595916-clean-architecture-tutorial-for-Android-getting-started</a></p><p id="b0db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从上面的图表中，我们对MVVM建筑有了一个基本的概念，</p><p id="a43a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">MVVM架构主要是将视图与业务逻辑分离，ViewModel包含了所有的业务逻辑，但是在大型且更复杂的应用中，ViewModel会过载所有的业务逻辑，所以最好使用干净的架构。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lk"><img src="../Images/d1e512385ab6975c39b5ca005c14b0c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9UlOxbfWjWG9V6dI"/></div></div></figure><p id="754b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考:<a class="ae jc" href="https://androidexample365.com/clean-architectureclean-architecture-kotlin-mvvm-use-cases/" rel="noopener ugc nofollow" target="_blank">https://androidexample 365 . com/clean-architecture clean-architecture-kot Lin-mvvm-use-cases/</a></p><p id="adc2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">清洁架构有三个主要层:</p><p id="6efd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">表示层，</strong></p><p id="a42c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">域层，</strong></p><p id="87a1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">和数据层。</strong></p><p id="84b7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了简化，表示层包含所有的视图，即活动/片段和视图模型。</p><p id="3857" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">领域层包含所有的业务逻辑，即用例、实体。</p><p id="64fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据层包含所有存储库和数据源(远程或本地)。</p><p id="b01d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是我们如何使用干净的建筑。我们为每一层创建了三个独立的模块。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ll"><img src="../Images/c42f9d37b79efe115ff199a6a4b43a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*so0zhmdBJHf1MGBD.png"/></div></div></figure><p id="4f97" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最简单和最流行的KOIN依赖注入框架用于依赖注入。在此架构中，片段和活动包含所有向用户显示的UI组件，即PDF阅读器、CTA/按钮，以获取摘要。活动/片段与视图模型通信，以获取数据，即在UI上显示的摘要。ViewModel包含在领域层接口中编写的函数调用。ViewModel与域层通信以获取所需的数据。远程API调用存在于数据层。本地和远程存储库也在这一层。</p><h1 id="a3eb" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">能够进行HTTP调用</h1><p id="2f59" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">为了支持客户机和服务器之间的通信，有必要包含一个库来帮助我们调用API。例如，在我们的应用程序中，我们需要发出一个调用来获取这本书直到最后一页的摘要。现在，为了适应这一点，我们使用了一个流行且易于使用的<strong class="ig hi">改进库</strong>。改造库为API的交互和认证提供了一个强大的框架。</p><p id="cdf1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是我们如何使用网络电话改造来获得一个总结</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lm"><img src="../Images/b2dccd4d804ab762ee27df14db9fa53b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s-HmOCzB9rxxbk_c.png"/></div></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ln"><img src="../Images/c93cf6db8a407d54409955f80df2c757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*is4cUvXN62EgiuML.png"/></div></div></figure><p id="acc1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我们需要在注释的帮助下创建一个API服务接口，即在改进库中提供的注释。我们使用这个ApiService在存储库中进行调用，一旦调用成功，我们就将响应存储在实体中。然后，通过ViewModel，我们在UI上显示这个摘要响应。</p><h1 id="f756" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">显示pdf的能力</h1><p id="ced9" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">为了有效地阅读书籍，我们需要以用户友好的方式显示用户选择的pdf。此外，为了获得摘要，我们需要将文本从pdf提取到当前页面。为了实现以上几点，Android中有一个库，即“com . github . barteksc:Android-pdf-viewer:2 . 8 . 2”。我们只需要传递一个上下文并记录URI。然后可以自由使用这个库中的任何函数，如下所示。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lo"><img src="../Images/b87290ed1b50ca3d6d2e677bdcfec49a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wr9krLGEwM5grIEh.png"/></div></div></figure><p id="c443" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类似地，我们使用库<strong class="ig hi">com . itext pdf:itextg:5 . 5 . 10</strong>来提取文本</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lp"><img src="../Images/b4881a48390dadff2ddfeea0b3557259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q870ekwARRoQcczH.png"/></div></div></figure><h1 id="b334" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">协同程序</h1><p id="a91b" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">协程用于在后台获取摘要。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lq"><img src="../Images/68ae8f41e259fe278d679a0ee0de16a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xSOCIUvLjiNDvUSG.png"/></div></div></figure><h1 id="af7d" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">单元测试</h1><p id="24b7" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">测试是应用程序开发过程中不可或缺的一部分。通过对你的应用进行持续的测试，你可以在公开发布之前验证你的应用的正确性、功能行为和可用性。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lm"><img src="../Images/9c826085a2d735227a6fdaebc3cf98e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WWOkaMpfuUFpS1UU.png"/></div></div></figure><h1 id="2b79" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">信用</h1><p id="28b3" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">使用第三方库提取存储库下使用的PDF数据</p><p id="9124" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://mvnrepository.com/artifact/com.itextpdf/itextpdf/5.5.10" rel="noopener ugc nofollow" target="_blank">https://mvn repository . com/artifact/com . itext pdf/itext pdf/5 . 5 . 10<br/></a><a class="ae jc" href="https://github.com/itext/itextpdf/releases" rel="noopener ugc nofollow" target="_blank">https://github.com/itext/itextpdf/releases</a></p><p id="fa2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://github.com/InsertKoinIO/koin" rel="noopener ugc nofollow" target="_blank">https://github.com/InsertKoinIO/koin<br/>T7</a><a class="ae jc" href="https://developer.android.com/topic/libraries/architecture/datastore?gclid=Cj0KCQjwyMiTBhDKARIsAAJ-9VvqNBw8hyJOxWlqDDlvsWtyvxOumRfW2vaB74hpPiMk3_-AgOTeOFwaAjFuEALw_wcB&amp;gclsrc=aw.ds" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/topic/libraries/architecture/datastore？gclid = cj0kcqwymitbhdkarisaaj-9 vvqnbw 8 hyjoxwl qddlvswtyvxoumrfw 2 vab 74 hppimk 3 _-AgOTeOFwaAjFuEALw _ wcB&amp;gcl src = aw . ds</a></p><p id="5e39" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://androidexample365.com/clean-architectureclean-architecture-kotlin-mvvm-use-cases/" rel="noopener ugc nofollow" target="_blank">https://androidexample 365 . com/clean-architecture clean-architecture-kot Lin-mvvm-use-cases/</a></p><div class="lr ls ez fb lt lu"><a href="https://www.raywenderlich.com/3595916-clean-architecture-tutorial-for-android-getting-started" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hi fi z dy lz ea eb ma ed ef hg bi translated">Android清洁架构教程:入门</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">在本教程中，你将学习如何在Android上使用干净的架构来构建健壮、灵活和可维护的…</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">www.raywenderlich.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi la lu"/></div></div></a></div><h1 id="1493" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">摘要</h1><p id="628f" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">我们以一个交互式的android应用程序结束，它让用户阅读一本书的pdf格式，并给出一个摘要，这是一个关于这本书的简短解释，包含直到当前页码的关键点。</p><p id="e743" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个概念需要让用户在阅读这本书的同时保持参与，并让用户了解到目前为止他已经阅读过的书中的要点。因为。例如:自动将用户带到他们正在阅读的页码。此外，每当用户请求时，他将获得当前页面的摘要。</p><p id="ee99" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">特别感谢<a class="ae jc" href="https://www.linkedin.com/in/mukund-sharma/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">穆昆德·夏尔马</strong> </a>、<a class="ae jc" href="https://www.linkedin.com/in/shivhar-jalkote-b69906aa/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">希夫哈尔·加尔科特</strong> </a>和<a class="ae jc" href="https://www.linkedin.com/in/miteshdewda/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">米特什·杜达</strong> </a>构思和编辑本文。</p></div></div>    
</body>
</html>