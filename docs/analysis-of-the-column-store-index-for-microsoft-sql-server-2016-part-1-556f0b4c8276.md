# Microsoft SQL Server 2016 çš„åˆ—å­˜å‚¨ç´¢å¼•åˆ†æ(ç¬¬ 1 éƒ¨åˆ†)

> åŸæ–‡ï¼š<https://medium.com/quick-code/analysis-of-the-column-store-index-for-microsoft-sql-server-2016-part-1-556f0b4c8276?source=collection_archive---------4----------------------->

å¾®è½¯çš„ä¸“å®¶æå€¡å¯¹æ•°æ®ä»“åº“ä¸­çš„åˆ†æå·¥ä½œè´Ÿè½½ä½¿ç”¨åˆ—å­˜å‚¨ç´¢å¼•ã€‚å…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯èšé›†åˆ—å­˜å‚¨ç´¢å¼•å¤§å¤§å‹ç¼©äº†è¡Œå­˜å‚¨è¡¨ï¼Œä»è€Œæé«˜äº†ç©ºé—´èŠ‚çœå’ŒæŸ¥è¯¢æ€§èƒ½ã€‚

æ­¤å¤–ï¼Œæå€¡å¯¹ OLAP å·¥ä½œè´Ÿè½½ä½¿ç”¨åˆ—å­˜å‚¨çš„åŸå› æ˜¯ï¼Œç”±äºä¸ OLTP è¡¨ç›¸æ¯”ï¼ŒOLAP è¡¨å¾€å¾€æœ‰æ›´å¤šçš„è¡Œï¼Œå› æ­¤åœ¨åˆ†æå·¥ä½œè´Ÿè½½ä¸Šå¯ä»¥å®ç°å¤§çº¦ 3 å€çš„å‹ç¼©ï¼Œä»è€Œæ˜¾è‘—æé«˜ I/O å’Œå­˜å‚¨ã€‚æ­¤å¤–ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå½“åœ¨ OLAP å·¥ä½œè´Ÿè½½ä¸Šå¯¹å…·æœ‰å¤§é‡åˆ—çš„äº‹å®è¡¨è¿è¡ŒæŸ¥è¯¢æ—¶ï¼Œé€šå¸¸åªé€‰æ‹©åˆ—çš„å­é›†ã€‚å¦‚æœåœ¨é€‰æ‹©æ•°æ®æ—¶ä½¿ç”¨è¡Œå­˜å‚¨ï¼Œå³ä½¿åœ¨é€‰æ‹©æŸ¥è¯¢ä¸­ä½¿ç”¨äº†åˆ—çš„å­é›†ï¼Œä¹Ÿå¿…é¡»æ‰«ææ•´è¡Œæ•°æ®ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ—å­˜å‚¨ä¸­ï¼Œé€‰æ‹©åˆ—çš„å­é›†å¯ä»¥ç¡®ä¿åªé€‰æ‹©ç›¸å…³çš„åˆ—ï¼Œä»è€Œè¿›ä¸€æ­¥å‡å°‘ I/O å¹¶æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚

å¾®è½¯å£°ç§°ä»–ä»¬çš„åˆ—å­˜å‚¨å¼•æ“æ˜¯ä¸šç•Œé¢†å…ˆçš„æ ‡å‡†ï¼Œå› ä¸ºå®ƒé‡‡ç”¨äº†å‹ç¼©ã€é€‰æ‹©åˆ—å­é›†å’Œæ‰¹å¤„ç†æ¨¡å¼çš„æ–¹æ³•ã€‚

![](img/c71c504a1ef4a67dbc587bc7d79435c4.png)

TPC-H Benchmark for 10,000 GB Scale Factor as of 1st February 2018 â€” Courtesy of www.tpc.org

SQL Server 2016 ä¸­æ•°æ®ä»“åº“(DW)ä½“ç³»ç»“æ„çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨ä½¿ç”¨ç›´æ¥æŸ¥è¯¢æ¨¡å¼çš„ SQL Server Analysis Services (SSAS)æ—¶ï¼Œå¯ä»¥è®¿é—®åˆ—å­˜å‚¨å…³ç³»å‹ DWï¼Œä»è€Œå…è®¸åœ¨æ•°æ®æ›´æ–°åç«‹å³è®¿é—®æ•°æ®ã€‚ä½†æ˜¯ï¼Œåº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œç”±äºå¤šç»´æŸ¥è¯¢æ˜¯åœ¨é¢„èšé›†çš„å¤šç»´æ•°æ®é›†ä¸Šè¿›è¡Œçš„ï¼Œè™½ç„¶å®ƒä»¬å¯ä»¥æä¾›æ›´å¿«çš„æŸ¥è¯¢æ€§èƒ½ï¼Œä½†è¡¨æ ¼æ¨¡å‹æä¾›æ›´å¤šæœ€æ–°æ•°æ®çš„å¯èƒ½æ€§å¾ˆé«˜ã€‚å› æ­¤ï¼Œåº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œåœ¨å†³å®šä½¿ç”¨å¤šç»´æ•°æ®é›†è¿˜æ˜¯è¡¨æ ¼æ¨¡å¼æ—¶ï¼Œåº”è¯¥åœ¨é€Ÿåº¦å’Œå¯ç”¨çš„æœ€æ–°æ•°æ®ç‰ˆæœ¬ä¹‹é—´å–å¾—å¹³è¡¡ã€‚

![](img/c424be35618ca98de68b5f8d3ed03b80.png)

DW Architecture with SQL 2016 â€” Courtesy of â€œReview ColumnStore Index in SQL Server 2016 and Azure SQL Databaseâ€ by Sunil Agarwal

ä»¥ä¸Šæ˜¯å…³äº Microsoft SQL Server 2016 ä¸­ä¸åˆ—å­˜å‚¨ç´¢å¼•ç›¸å…³çš„é«˜çº§åŠŸèƒ½çš„åŸºæœ¬ä»‹ç»ã€‚æˆ‘è®¡åˆ’åœ¨å‰©ä¸‹çš„éƒ¨åˆ†å†™æ›´å¤šå…³äºè¯¦ç»†å·¥ä½œçš„å†…å®¹ï¼æ•¬è¯·æœŸå¾…ï¼

**è¯·ç‚¹å‡»ğŸ‘æŒ‰é’®ä¸‹é¢å‡ ä¸‹ï¼Œä»¥ç¤ºæ”¯æŒï¼â¬‡â¬‡è°¢è°¢ï¼ä¸è¦å¿˜è®°éµå¾ªä¸‹é¢çš„å¿«é€Ÿä»£ç ã€‚**

> æ‰¾åˆ°å…³äºå„ç§ç¼–ç¨‹è¯­è¨€çš„[å¿«é€Ÿä»£ç ](http://www.quickcode.co/)çš„å…è´¹è¯¾ç¨‹ã€‚è·å– [Messenger](https://www.messenger.com/t/1493528657352302) çš„æ–°æ›´æ–°ã€‚