<html>
<head>
<title>Integrate Infrastructure Security with Azure Devops</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将基础架构安全性与Azure Devops集成</h1>
<blockquote>原文：<a href="https://medium.com/globant/integrate-infrastructure-security-into-devops-a31c8d83cc7?source=collection_archive---------0-----------------------#2021-04-22">https://medium.com/globant/integrate-infrastructure-security-into-devops-a31c8d83cc7?source=collection_archive---------0-----------------------#2021-04-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="b1a9" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">简介</strong></h1><p id="bb51" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在现代世界中，公司正在将他们的服务转移到云中，在云中，灵活性和速度对于希望获得强大竞争优势的组织来说很有吸引力。但是在云中工作也带来了一系列的安全问题，因为在云中要分担责任。对于所有云部署类型，您都是数据和身份的所有者。无论部署类型如何，您都要对数据的安全性负责，以下职责始终由您承担:</p><ul class=""><li id="7121" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">数据</li><li id="53cd" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">端点</li><li id="bba1" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">账户</li><li id="f08f" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">存取管理</li></ul><p id="09a9" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">本文涵盖以下几点:</strong></p><ol class=""><li id="ef4f" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kt ki kj kk bi translated">云基础架构安全性对组织的重要性。</li><li id="c311" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kt ki kj kk bi translated">Azure安全开发工具包(AzSK)。</li><li id="de57" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kt ki kj kk bi translated">azure DevOps管道中的AzSK配置。<br/> 3.1为你的Azure DevOps启用AzSK扩展。<br/> 3.2在发布管道中增加AzSK<br/>3.3优点<br/> 3.4缺点</li></ol><p id="b129" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">4.结论</p><p id="5bad" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">5.参考</p><h1 id="727f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> 1。云基础设施安全对组织的重要性</strong></h1><p id="a4cd" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在采用云技术时，将保护云基础架构视为一项重要责任至关重要。有许多组织仍然不确定他们的数据在云环境中的安全性。</p><p id="524d" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><em class="ku">2019年，</em><a class="ae kv" href="https://www.nytimes.com/2019/07/29/business/capital-one-data-breach-hacked.html" rel="noopener ugc nofollow" target="_blank"><em class="ku">Capital one # 1</em></a><em class="ku">发生大规模数据泄露事件，导致超过1亿份信用卡申请的数据集受损，其中包括社保和银行账号。30 GB的信贷申请数据存储在云存储服务上。</em></p><p id="b4de" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">上述臭名昭著的数据泄露的例子证明，像云这样的存储服务提供商需要一致的安全管理。当我们谈到云基础架构的安全性时，许多企业错误地认为他们的数据受到了很好的保护，是安全的，并且对于网络犯罪分子来说是不可见的。但不幸的是，事实是这些网络罪犯是通过使用不道德的方法寻找易受攻击的数据库来收集暴露的易受攻击数据的专家。</p><p id="5e9d" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">2019年，超过41亿条记录被曝光</p><p id="027e" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">78%的记录是由于错误配置而被发现的</p><p id="cbb9" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">来源:<a class="ae kv" href="https://www.ibm.com/security/digital-assets/strategy-risk-management-ebook/" rel="noopener ugc nofollow" target="_blank"> IBM，基于风险的安全</a></p><p id="8979" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">错误配置的协议和安全措施是当今数据泄露的头号来源。全球情报公司IDC代表Ermetic对300名高级IT决策者进行了调查，证实了Bitdefender研究人员关于当今网络犯罪分子最常用的IT错误配置的调查结果。</p><p id="1c91" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">根据与<a class="ae kv" href="https://www.businesswire.com/news/home/20200603005175/en/Ermetic-Reports-80-Companies-Experienced-Cloud-Data" rel="noopener ugc nofollow" target="_blank">调查</a>相关的CISOs的说法，<strong class="je hi">安全错误配置</strong>是云环境的最大安全威胁，67%的受访者提到了这一点。</p><p id="a3e7" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">62%的安全专业人员认为错误配置是最大的安全威胁。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es kw"><img src="../Images/a3dae88298d8fe5ab247acd974bc8b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*J-I4D8AGhb7L0K-1"/></div></figure><p id="9156" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">来源:2018云安全报告，<a class="ae kv" href="https://crowdresearchpartners.com/" rel="noopener ugc nofollow" target="_blank">网络安全内部人士</a></p><p id="47f7" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">几乎所有对云服务的成功攻击都是客户错误配置、管理不善和失误的结果。安全和风险管理负责人应该投资云安全状态管理流程和工具，以主动和被动地识别和补救这些风险。</p><p id="96b1" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><em class="ku"> -Gartner，云安全态势管理创新洞察，2019年1月25日</em></p><h1 id="3b3b" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> 2。用于Azure (AzSK)的安全DevOps套件</strong></h1><p id="f7d4" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">云服务提供商安全地构建云基础架构/服务，客户有责任安全地对其进行配置。但是，云基础架构/服务会立即发生变化，时间点安全性和合规性评估不再显示真实情况。</p><p id="4de8" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">AzSK是一个免费的开源工具包，它从云服务提供商那里收集实际配置，将它们与云安全最佳实践进行比较，识别错误配置，分析风险并进行修复。AzSK在这6个重点领域帮助实施安全开发运维</p><ul class=""><li id="cc87" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">保护订阅。</li><li id="9354" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">支持安全开发。</li><li id="81ec" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">将安全融入CICD。</li><li id="4aaf" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">持续保证。</li><li id="d341" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">警报和监控。</li><li id="ff46" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">云风险治理。</li></ul><h1 id="229d" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> 3。Azure DevOps管道中的AzSK配置</strong></h1><p id="eb7f" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><strong class="je hi"> 3.1为您的Azure DevOps启用AzSK扩展</strong></p><p id="f04a" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">这个扩展已经发布到Azure DevOps gallery的“构建和发布”类别下，现在你可以直接从<a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=azsdktm.AzSDK-task" rel="noopener ugc nofollow" target="_blank"> Marketplace </a>安装这个扩展。</p><p id="b7f0" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi"> 3.2在发布管道中添加AzSK</strong></p><p id="6402" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤1: </strong>创建一个发布定义或打开一个现有的发布定义。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/a0d9bb72e7d8fe92d73ec7c831ddc4e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*AaRvzMysp3VLwqWR"/></div></figure><p id="2360" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">第二步:</strong></p><p id="5cd8" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">2.1.将AzSK安全验证测试(SVT)发布任务添加到管道中。点击“添加任务”，选择“AzSK安全验证测试”。</p><p id="17e2" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">2.2.点击“添加”和“关闭”。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/b7909ba95ce36c49da5143a8bf721505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*fnCI0iRtsXW_npHn"/></div></figure><p id="62f4" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤3: </strong>指定AzSK_SVT任务的输入参数。</p><p id="13b7" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在手动运行AzSK时，我们已经指定了一些选项。</p><ol class=""><li id="71c6" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kt ki kj kk bi translated">在<strong class="je hi">选择参数设置</strong>中，您可以看到两个选项；第一个是<strong class="je hi">资源组名</strong>，第二个是<strong class="je hi">标记名值对</strong>。</li></ol><p id="9cc5" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">a.如果选择ResourceGroupName，则应在下面提到的文本框中提供资源组名称。</p><p id="a3af" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">b.如果您选择第二个选项TagNameValuePair，那么您将能够看到两个不同的空文本框，一个用于标记名，另一个用于标记值。</p><p id="c3fb" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">2.提及订阅Id。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/8a1807f5173564021424d7e8798fcf42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*YqBG1OO_9VxeaLYR"/></div></figure><p id="8f84" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤4: </strong>(可选)将日志分析配置到CICD中。</p><p id="7eb5" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">要启用日志分析工作区，您需要将两个变量添加到相应的发布管道中。</p><p id="bc79" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">1.日志分析工作区Id。</p><p id="3fe7" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">2.日志分析工作区密钥。</p><p id="118d" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">注意:</strong>确保使用的变量名与上面完全相同，并且值对应于<em class="ku">您的</em>日志分析工作区。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lf"><img src="../Images/65c091becefc277fc0a53043a19fd10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*vF0r2qF_8veSOMbR"/></div></figure><p id="f612" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤5: </strong>启动释放管道。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lg"><img src="../Images/cca21ef09ed7b4ff9a56d5bba9d4fe33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/0*fuII-mwrUUs5WJaZ"/></div></figure><p id="fd46" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤-5.1: </strong>验证释放管道已经启动。一旦发布被触发，我们将通过点击“发布”看到它正在进行中。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lh"><img src="../Images/0f543988bbdd9a2348d146c5cae58816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/0*6zbohQglRC1tCu8g"/></div></figure><p id="08be" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤5.2: </strong>查看发布输出。一旦发布管道完成，我们可以看到如下所示的输出(在下面的图片中，我们可以看到发布管道已经失败)。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/96ba9fea9f719f4cdaac8804e329e233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*_FA2wcQR5rvNh99d"/></div></figure><p id="aad8" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤5.3: </strong>查看“问题”以确定发布失败的原因。您需要点击<strong class="je hi">日志</strong>按钮，总结结果显示故障原因。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es li"><img src="../Images/6f381b5b6b7348fbb4a81cd94b552c01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/0*t87Mxzo0FXJl79Hr"/></div></figure><p id="e583" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤-5.4: </strong>查看发布管道执行的AzSK部分的完整结果日志。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/3f4c5dcaf020793f8ff70c6880fd7888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*klmxtmPGYXQhtwa1"/></div></figure><p id="6015" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">步骤6: </strong>参见AzSK SVTs的摘要“Excel”和详细“LOG”输出文件。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es le"><img src="../Images/830098ae78c41ef583fdd7cd2c35690d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*w3oqn3vJ1qmMlu3Y"/></div></figure><p id="476d" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">打开/解压缩“AzSK _ Logs”ZIP文件，将看到相应资源组的所有日志。当您打开securityReport.csv文件时，您需要特别注意失败和验证结果。在此报告中，您可以看到故障的严重程度(高影响、中)。CSV还包含“建议”栏，您可以在其中看到解决每个问题应该采取的步骤。</p><p id="b459" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi">注:- </strong>不提供任何问题的自动补救。该工具为您提供了补救步骤，其用户有责任遵循这些步骤并解决问题。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lj"><img src="../Images/cbbdd2fda094db35e1244cce63d286ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/0*c-iC9zpj65jHpnbL"/></div></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lf"><img src="../Images/74b00bb796294ed966fd076dfdfbd4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*v5tz4Dr6EhlF1JBr"/></div></figure><p id="e278" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi"> 3.3优点</strong></p><ol class=""><li id="e7bc" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kt ki kj kk bi translated">帮助维护Azure中的安全状态。</li><li id="8fc2" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kt ki kj kk bi translated">有助于发现基础设施中的安全漏洞。</li></ol><p id="427f" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated"><strong class="je hi"> 3.4缺点</strong></p><ol class=""><li id="932c" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kt ki kj kk bi translated">多重云支持不可用。</li></ol><h1 id="87ed" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> 4。结论</strong></h1><p id="4697" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">本文解释了使用AzSk实现Azure云基础设施安全的重要性。它很容易与Azure DevOps集成。为了克服云基础设施中存在的漏洞，将云服务的安全性作为高度优先事项是极其重要的。使用最好的云计算安全工具来获得更好的结果并保护数据安全。</p><h1 id="e72a" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak"> 5。参考文献</strong></h1><ul class=""><li id="760a" class="ka kb hh je b jf jg jj jk jn lk jr ll jv lm jz kh ki kj kk bi translated"><a class="ae kv" href="https://github.com/azsk/DevOpsKit-docs" rel="noopener ugc nofollow" target="_blank"> azsk/DevOpsKit-docs </a></li><li id="3d1b" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated"><a class="ae kv" href="https://github.com/azsk/DevOpsKit-docs/blob/master/03-Security-In-CICD/Readme.md" rel="noopener ugc nofollow" target="_blank">devpskit-docs/readme . MD at master azsk/devpskit-docs git hub</a></li></ul></div></div>    
</body>
</html>