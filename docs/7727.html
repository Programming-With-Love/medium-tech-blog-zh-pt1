<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/activatable-drop-shadow-on-sticky-elements-d0c12f1ebfdf?source=collection_archive---------1-----------------------#2018-09-08">https://medium.com/walmartglobaltech/activatable-drop-shadow-on-sticky-elements-d0c12f1ebfdf?source=collection_archive---------1-----------------------#2018-09-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div class="er es hf"><img src="../Images/fd721fe18d941f95183d5af072f64e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*SQlXmjAEdhK2vdANdl_VdA.png"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://catalin.red/position-sticky-might-be-the-next-best-thing/" rel="noopener ugc nofollow" target="_blank">catalin.red</a></figcaption></figure><h2 id="c059" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">粘性元素上的“可激活”阴影</h2><h2 id="7b92" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">TL；灾难恢复结果</h2><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es iq"><img src="../Images/a2415069576709b777cd710239db8ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/1*R2BqpXeJc6e91sssmgrgNw.gif"/></div></figure></div><div class="ab cl iv iw go ix" role="separator"><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja"/></div><div class="ha hb hc hd he"><p id="0da8" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">想象一下，如果您有两个垂直重叠的元素，其中顶部的元素保持不变，只有底部的元素滚动。</p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es iq"><img src="../Images/d21caa83e031cfd77af08db5d8668943.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/1*tJj0YBoLJFmi-bdMhjSPIQ.gif"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://jsfiddle.net/parkjoon/wgc8kopq/138/" rel="noopener ugc nofollow" target="_blank">JSFiddle</a></figcaption></figure><p id="e5a7" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">使用CSS3，我们实现上述效果所需的唯一代码是2行CSS代码:</p><pre class="ir is it iu fd jx jy jz ka aw kb bi"><span id="951a" class="hr hs ht jy b fi kc kd l ke kf">position: sticky;<br/>top: 0;</span></pre><p id="6f8e" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">所有这些<code class="du kg kh ki jy b">sticky</code>定位在<code class="du kg kh ki jy b">relative</code>和<code class="du kg kh ki jy b">fixed</code>定位之间切换，以实现一个元素“坚持”到您用<code class="du kg kh ki jy b">top</code>、<code class="du kg kh ki jy b">bottom</code>、<code class="du kg kh ki jy b">left</code>和<code class="du kg kh ki jy b">right</code>指定的偏移的效果。</p><figure class="ir is it iu fd hj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/034051d42b4b561fc33ae05e6eb72323.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82pedrUzDU90Ci7WqPbsKA.png"/></div></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="http://thecontextofthings.com/2017/02/07/easy-work-era/" rel="noopener ugc nofollow" target="_blank">thecontextofthings.com</a></figcaption></figure><p id="bbbb" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">但是在某些情况下，这个特性有一个明显的问题。当两个重叠元素的背景颜色相同时，这一点尤为明显:</p><ul class=""><li id="8c00" class="kp kq ht je b jf jg jj jk id kr ih ks il kt jw ku kv kw kx bi translated">一旦它们开始滚动，<strong class="je ko">缺少一个可见的分隔符，很难分辨重叠内容在哪里相遇。</strong></li></ul><p id="e454" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">果然，用简单的阴影看起来好多了:</p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es iq"><img src="../Images/866cc4c7a51e3b49d2520baa2eea1073.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/1*uhxCQ3a4mfcR3gkaib4Zyg.gif"/></div><figcaption class="hm hn et er es ho hp bd b be z dx">box-shadow: 0px 0.5px 0.5px 1.5px rgba(0,0,0,0.75);</figcaption></figure><h2 id="c174" class="hr hs ht bd hu hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip bi translated">看起来很不错，对吧？</h2><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es ky"><img src="../Images/e385f5604f430c349c34d77bd5ced9ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/1*y_ZC1qkDPllTA3Yk3XiC8A.gif"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://tenor.com/view/billy-mays-oxi-clean-wait-theres-more-gif-12134932" rel="noopener ugc nofollow" target="_blank">tenor.com</a></figcaption></figure><p id="9607" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">当内容实际重叠时，阴影看起来很好，但在初始静止状态时，当没有任何内容实际重叠时，它<strong class="je ko">看起来很笨拙。</strong></p><p id="1ebc" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">理想情况下，我们不会在初始状态显示阴影，只有当用户开始滚动时才显示。不幸的是，当粘性元素在相对和固定位置之间改变时，没有<strong class="je ko">事件或伪元素触发。</strong></p><p id="5396" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">搜索结果相当令人沮丧，最有帮助的帖子来自一个开发者，他说你应该使用<code class="du kg kh ki jy b"><a class="ae hq" href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" rel="noopener ugc nofollow" target="_blank">IntersectionObserver</a></code> API。</p><blockquote class="kz la lb"><p id="0182" class="jc jd lc je b jf jg jh ji jj jk jl jm ld jn jo jp le jq jr js lf jt ju jv jw ha bi translated">交叉点观察器API提供了一种异步观察目标元素与祖先元素或顶级文档的视口的交叉点变化的方法。</p></blockquote><p id="8a18" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi">. . . 🙃</p><p id="cb16" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">但是你的UX指望着你在MVP中得到这个特性。<br/> <strong class="je ko">你是干什么的？</strong></p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es lg"><img src="../Images/abef34aae4a37dcd27bf88ac9b9b3589.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*UVyX68hMkDL4pvun5QCXQA.png"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://www.reddit.com/r/Eyebleach/comments/3wz9ln/dog_in_a_watermelon_hat/" rel="noopener ugc nofollow" target="_blank">reddit.com</a></figcaption></figure><p id="f4eb" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">不，等等！有一种方法可以用CSS实现。</p><p id="508a" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">你需要做的只是创建一个元素来最初“覆盖”阴影，当用户向下滚动时，它开始揭开阴影。</p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es lh"><img src="../Images/024f05138a97357defd4829736ce23da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*ozGy8A9kYIMUlkv3Egp-6w.png"/></div></figure><p id="2f3a" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">当用户向下滚动时，阴影元素不会移动，因为它“粘”在当前位置，并且<strong class="je ko">盖向上移动</strong>，逐渐“露出”阴影元素。</p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es iq"><img src="../Images/709a4ca0a3cdea1ce93f7eba72748d8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/1*womnuz9CnTwsgfGjw4kI9Q.gif"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://jsfiddle.net/parkjoon/tp1e9yad/" rel="noopener ugc nofollow" target="_blank">JSFiddle</a></figcaption></figure><p id="ff7f" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi">…</p><figure class="ir is it iu fd hj er es paragraph-image"><div class="er es li"><img src="../Images/360b4b63ddba1a4e9fce37bfb4ff291b.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*5F9ePIEvXB0JVc8gzJgMjQ.gif"/></div><figcaption class="hm hn et er es ho hp bd b be z dx"><a class="ae hq" href="https://tenor.com/view/minions-despicable-me-tah-dah-tada-ta-gif-12123357" rel="noopener ugc nofollow" target="_blank">tenor.com</a></figcaption></figure><p id="f0cb" class="pw-post-body-paragraph jc jd ht je b jf jg jh ji jj jk jl jm id jn jo jp ih jq jr js il jt ju jv jw ha bi translated">享受又一次美丽的黑客攻击</p></div></div>    
</body>
</html>