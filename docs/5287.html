<html>
<head>
<title>Deploy to Application Container Cloud from Oracle's Storage Cloud via REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过REST API从Oracle的存储云部署到应用容器云</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/deploy-to-application-container-cloud-service-from-oracle-storage-cloud-via-rest-api-ea5e776acacb?source=collection_archive---------1-----------------------#2017-08-22">https://medium.com/oracledevs/deploy-to-application-container-cloud-service-from-oracle-storage-cloud-via-rest-api-ea5e776acacb?source=collection_archive---------1-----------------------#2017-08-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a216" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如我在<a class="ae jc" rel="noopener" href="/@vinaykuma201/">上一篇关于应用容器云的文章</a>中提到的。我们可以使用两个选项将应用程序档案上传到ACSS</p><ul class=""><li id="4b20" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">UI控制台(在之前的文章中已经介绍过)</li><li id="85d3" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">通过REST API从存储云中</li></ul><p id="6fc4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本帖中，我们将讨论使用REST API通过存储云上传归档。为此有两个步骤:</p><ol class=""><li id="5353" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb jr jj jk jl bi translated">在<a class="ae jc" href="https://cloud.oracle.com/storage-opc" rel="noopener ugc nofollow" target="_blank">存储云服务</a>上存储档案</li><li id="db1e" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb jr jj jk jl bi translated">将档案部署到<a class="ae jc" href="https://cloud.oracle.com/acc" rel="noopener ugc nofollow" target="_blank"> ACCS </a></li></ol><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/5dea92f6a42fd6e48d98807b240722c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cKDbp3zyKgvx1L-e.jpg"/></div></div></figure><p id="3830" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">云账户的信息凭证应该像身份、域、密码一样方便在REST API中使用。使用<em class="ke"> cURL </em>脚本将您的应用程序上传到存储服务。</p><p id="8d2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在上传到存储云中之前，我们需要在存储云服务中构建容器。您可以通过Storage cloud UI控制台。使用UI控制台构建非常简单明了。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es kf"><img src="../Images/513224b5985ecda54c82bf1ce040c91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/0*GPyuFNLFQuhyygRK.png"/></div></figure><p id="aeae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将通过curl命令创建容器。</p><ol class=""><li id="2259" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb jr jj jk jl bi translated">下面的脚本将创建存储容器。</li></ol><pre class="jt ju jv jw fd kg kh ki kj aw kk bi"><span id="4667" class="kl km hh kh b fi kn ko l kp kq"># CREATE STORAGE CONTAINER</span><span id="b0a3" class="kl km hh kh b fi kr ko l kp kq">curl -i -X PUT \ -u <strong class="kh hi"><em class="ke">User-Name</em></strong>:<strong class="kh hi"><em class="ke">Password</em></strong> \ https://<strong class="kh hi"><em class="ke">hostname</em></strong>/v1/Storage-<strong class="kh hi"><em class="ke">Identity-Domain</em></strong>/<strong class="kh hi"><em class="ke">App-Name</em></strong></span></pre><p id="7b8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.现在将您的应用程序归档上传到存储容器。</p><pre class="jt ju jv jw fd kg kh ki kj aw kk bi"><span id="b2a0" class="kl km hh kh b fi kn ko l kp kq"># PUT ARCHIVE IN STORAGE CONTAINER <br/>curl -i -X PUT \-u <strong class="kh hi"><em class="ke">User-Name</em></strong>:<strong class="kh hi"><em class="ke">Password</em></strong> \ https://<strong class="kh hi"><em class="ke">hostname</em></strong>/v1/Storage-<strong class="kh hi"><em class="ke">Identity-Domain</em></strong>/<strong class="kh hi"><em class="ke">App-Name</em></strong>/<strong class="kh hi"><em class="ke">Archive-File-Name</em></strong> -T <strong class="kh hi"><em class="ke">Path-to-local-file</em>/<em class="ke">Archive-File-Name</em></strong></span></pre><p id="6af8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，使用以下脚本来上传它-</p><pre class="jt ju jv jw fd kg kh ki kj aw kk bi"><span id="373e" class="kl km hh kh b fi kn ko l kp kq">curl -i -X PUT \ -u sampleUserName:samplePassword \ <a class="ae jc" href="https://storage.oraclecloud.com/v1/Storagecontainer/DeveloperSkillsApp/SpringBootJpaDev-1.0-dist.zip" rel="noopener ugc nofollow" target="_blank">https://storage.oraclecloud.com/v1/Storagecontainer/DeveloperSkillsApp/SpringBootJpaDev-1.0-dist.zip</a> -T target/SpringBootJpaDev-1.0-dist.zip</span></pre><p id="4103" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行这些脚本后，它被上传到存储云容器。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ks"><img src="../Images/70a6b265ff50c95207ea2ea0edd25c93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egb6bzZQyUmNZl5wKfsoRA.png"/></div></div></figure><h1 id="3b19" class="kt km hh bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">将归档部署到ACCS</h1><p id="42d0" class="pw-post-body-paragraph ie if hh ig b ih lq ij ik il lr in io ip ls ir is it lt iv iw ix lu iz ja jb ha bi translated">将档案上传到Storage cloud servicee后，可以调用ACC的部署过程。我们需要在部署时提供标准的信息集。脚本的示例模式应该如下所示</p><pre class="jt ju jv jw fd kg kh ki kj aw kk bi"><span id="fbcf" class="kl km hh kh b fi kn ko l kp kq"># Mock Deployment Script <br/>curl -i -X POST  \<br/>  -u <strong class="kh hi">User-Name</strong>:<strong class="kh hi">Password</strong> \<br/>  -H "X-ID-TENANT-NAME:<strong class="kh hi">Identity-Domain</strong>" \<br/>  -H "Content-Type: multipart/form-data" \<br/>  -F "name=<strong class="kh hi">App-Name</strong>" \<br/>  -F "runtime=java" \<br/>  -F "subscription=Monthly" \<br/>  -F "deployment=@deployment.json" \<br/>  -F "archiveURL=<strong class="kh hi">App-name</strong>/<strong class="kh hi">Archive-File-Name</strong>" \<br/>  -F "notes=Your Notes here" \<br/>  https://hostname/paas/service/apaas/api/v1.1/apps/<strong class="kh hi">Identity-Domain</strong></span></pre><p id="1d5c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尝试使用以下脚本上传–</p><pre class="jt ju jv jw fd kg kh ki kj aw kk bi"><span id="60e4" class="kl km hh kh b fi kn ko l kp kq">curl -v -u "USERNAME:PASSWORD” -X POST -H "X-ID-TENANT-NAME: IDENTITY_DOMAIN" -H "Content-Type: multipart/form-data" -F "name=person-data-service" -F "runtime=java" -F "subscription=Monthly" -F "archiveURL= Storagecontainer/SpringBootJpaDev-1.0-dist.zip " -F "notes=Developer Skills Service Deployment" https://apaas.REGION.oraclecloud.com/paas/service/apaas/api/v1.1/apps/IDENTITY_DOMAIN</span></pre><p id="1398" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">部署应用程序时，可以引用deployment.json文件。关于部署的信息，如内存、实例等。可以通过deployment.json传递。</p><p id="d4ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您可以使用maven自动化这两个过程。您也可以通过Oracle Developer cloud services中的maven插件进行配置。</p><p id="d0be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目前就这些。甲骨文云学习快乐。</p></div><div class="ab cl lv lw go lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ha hb hc hd he"><p id="8a27" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="ke">最初发表于</em><a class="ae jc" href="http://www.techartifact.com/blogs/2017/08/deploy-to-application-container-cloud-service-from-oracle-storage-cloud-via-rest-api.html" rel="noopener ugc nofollow" target="_blank"><em class="ke">www.techartifact.com</em></a><em class="ke">。</em></p></div></div>    
</body>
</html>