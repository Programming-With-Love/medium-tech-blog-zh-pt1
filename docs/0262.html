<html>
<head>
<title>Android Data Binding: That <include> Thing</include></title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android数据绑定:那个<include>东西</include></h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/android-data-binding-that-include-thing-1c8791dd6038?source=collection_archive---------1-----------------------#2016-06-29">https://medium.com/androiddevelopers/android-data-binding-that-include-thing-1c8791dd6038?source=collection_archive---------1-----------------------#2016-06-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="7bad" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">当布局<include>其他<layout> s</layout></include></h2></div><p id="5f63" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在<a class="ae js" rel="noopener" href="/google-developers/no-more-findviewbyid-457457644885#.fvkldhrbx">的上一篇文章</a>中，您看到了在Android Studio 1.5和更高版本中避免使用findViewById是多么容易。这基本上是视图固定器模式，如下所述:</p><div class="jt ju ez fb jv jw"><a href="https://developer.android.com/training/improving-layouts/smooth-scrolling.html" rel="noopener  ugc nofollow" target="_blank"><div class="jx ab dw"><div class="jy ab jz cl cj ka"><h2 class="bd hi fi z dy kb ea eb kc ed ef hg bi translated">使ListView滚动平滑</h2><div class="kd l"><h3 class="bd b fi z dy kb ea eb kc ed ef dx translated">平滑滚动ListView的关键是保持应用程序的主线程(UI线程)不被繁重的…</h3></div><div class="ke l"><p class="bd b fp z dy kb ea eb kc ed ef dx translated">developer.android.com</p></div></div></div></a></div><p id="5009" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我展示了如何使用Android Studio生成一个类，作为单个布局文件的视图容器，但是包含的布局呢？合并的包含布局呢？</p><p id="0880" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">原来那些也是支持的，但是每个布局文件生成一个不同的类。这里有一个例子:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="280c" class="ko kp hh kk b fi kq kr l ks kt">hello_world.xml</span><span id="53e4" class="ko kp hh kk b fi ku kr l ks kt">&lt;<strong class="kk hi">layout xmlns:android="http://schemas.android.com/apk/res/android"</strong>&gt;<br/>    &lt;<strong class="kk hi">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="match_parent"<br/>            android:orientation="vertical"</strong>&gt;<br/><br/>        &lt;<strong class="kk hi">TextView<br/>                android:id="@+id/hello"<br/>                android:layout_width="wrap_content"<br/>                android:layout_height="wrap_content"</strong>/&gt;<br/>        &lt;<strong class="kk hi">include<br/>                android:id="@+id/included"<br/>                layout="@layout/included_layout"</strong>/&gt;<br/>    &lt;/<strong class="kk hi">LinearLayout</strong>&gt;<br/>&lt;/<strong class="kk hi">layout</strong>&gt;</span><span id="b31e" class="ko kp hh kk b fi ku kr l ks kt">included_layout.xml</span><span id="b6ba" class="ko kp hh kk b fi ku kr l ks kt"><em class="kv">&lt;?</em><strong class="kk hi">xml version="1.0" encoding="utf-8"</strong><em class="kv">?&gt;<br/></em>&lt;<strong class="kk hi">layout xmlns:android="http://schemas.android.com/apk/res/android"</strong>&gt;<br/>    &lt;<strong class="kk hi">TextView<br/>            android:layout_width="wrap_content"<br/>            android:layout_height="wrap_content"<br/>            android:id="@+id/world"</strong>/&gt;<br/>&lt;/<strong class="kk hi">layout</strong>&gt;</span></pre><p id="2edd" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您可以通过以下方式访问两种不同的文本视图:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="f021" class="ko kp hh kk b fi kq kr l ks kt">HelloWorldBinding binding =<br/>    HelloWorldBinding.inflate(getLayoutInflater());<br/>binding.<strong class="kk hi">hello</strong>.setText(<strong class="kk hi">“Hello”</strong>);<br/>binding.<strong class="kk hi">included</strong>.<strong class="kk hi">world</strong>.setText(<strong class="kk hi">“World”</strong>);</span></pre><p id="b565" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">包含文件的模式遵循与视图相同的模式:<include>标签的ID被用作它在类中的字段名。包含的布局已经为其布局中的视图生成了自己的类和自己的字段。不同布局之间共享的任何id都可以由开发人员轻松区分。例如，如果您两次包含相同的布局:</include></p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="4c48" class="ko kp hh kk b fi kq kr l ks kt">&lt;<strong class="kk hi">layout xmlns:android="http://schemas.android.com/apk/res/android"</strong>&gt;<br/>    &lt;<strong class="kk hi">LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="match_parent"<br/>            android:orientation="vertical"</strong>&gt;<br/><br/>        &lt;<strong class="kk hi">TextView<br/>                android:id="@+id/hello"<br/>                android:layout_width="wrap_content"<br/>                android:layout_height="wrap_content"</strong>/&gt;<br/>        &lt;<strong class="kk hi">include<br/>                android:id="@+id/world1"<br/>                layout="@layout/included_layout"</strong>/&gt;<br/>        &lt;<strong class="kk hi">include<br/>                android:id="@+id/world2"<br/>                layout="@layout/included_layout"</strong>/&gt;<br/>    &lt;/<strong class="kk hi">LinearLayout</strong>&gt;<br/>&lt;/<strong class="kk hi">layout</strong>&gt;</span></pre><p id="d8bf" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">可以轻松访问两个“世界”文本视图:</p><pre class="kf kg kh ki fd kj kk kl km aw kn bi"><span id="bc18" class="ko kp hh kk b fi kq kr l ks kt">HelloWorldBinding binding =<br/>    HelloWorldBinding.inflate(getLayoutInflater());<br/>binding.<strong class="kk hi">hello</strong>.setText(<strong class="kk hi">“Hello”</strong>);<br/>binding.<strong class="kk hi">world1</strong>.<strong class="kk hi">world</strong>.setText(<strong class="kk hi">“First World”</strong>);<br/>binding.<strong class="kk hi">world2</strong>.<strong class="kk hi">world</strong>.setText(<strong class="kk hi">“Second World”</strong>);</span></pre><p id="67cb" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">记得给include标签一个ID，否则不会给它任何公共字段。另外，记住使用外部的<layout>来显示您想要生成字段的布局。这触发了预处理步骤，允许它将视图与字段相关联并生成一个类。</layout></p><p id="fc71" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果您查看生成的类，您会发现它们在被包含的任何时候都使用相同的类。例如，如果您有一个包含included_layout.xml的goodbye_world.xml类，那么只为它生成一个类。</p></div></div>    
</body>
</html>