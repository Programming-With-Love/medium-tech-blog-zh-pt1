<html>
<head>
<title>Configure Azure Site-Site VPN to On-Premise network</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Azure站点到站点VPN配置到本地网络</h1>
<blockquote>原文：<a href="https://medium.com/globant/configure-azure-site-site-vpn-to-on-premise-network-93f7a04eee9b?source=collection_archive---------0-----------------------#2021-03-12">https://medium.com/globant/configure-azure-site-site-vpn-to-on-premise-network-93f7a04eee9b?source=collection_archive---------0-----------------------#2021-03-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="dea6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">简介</strong></p><p id="6fa7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我们先来了解一下，什么是VPN，为什么会产生VPN？</p><p id="d62e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">VPN —创建虚拟专用网络是为了给连接提供安全性。VPN是在90年代中期互联网兴起时出现的。以反病毒或反恶意软件程序的形式存在用于最终用户系统的安全性，但是这些程序仅仅意味着保护安装它们的单个计算机。随着90年代中期互联网连接的兴起，保护整个连接的需求开始显现，这通过VPN的创建得以实现。</p><p id="17f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">VPN是互联网上的专用连接。它由几种不同的协议组成，所有这些协议的共同目的都是通过公共连接远程连接到私有网络。一开始，它只在商业中使用。但是现在VPN被用来保护普通人使用的互联网连接，防止恶意软件和黑客攻击，确保数字隐私等。</p><p id="1673" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们已经知道了什么是VPN，让我们试着了解什么是站点到站点的连接。站点到站点VPN连接是VPN连接的一种，还有其他类型的VPN连接，如“点到站点”。在这篇博客中，我将详细阐述站点对站点。站点到站点VPN连接意味着至少有两个站点，每个站点都有一堆计算机，这些计算机希望在不使用互联网的情况下共享资源。这两个站点可以是内部站点，或者其中一个可以是云站点，另一个可以是内部站点，或者两个都可以是云站点。这里我们将讨论一个典型的场景，其中一个站点在本地，另一个在云上(Azure cloud)。</p><p id="7494" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">站点到站点VPN网关连接用于通过IPsec/IKE VPN隧道将您的内部网络连接到Azure虚拟网络。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/f4efaae87cca848fe8fadb67ebbd67a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsNJaemCDL7RDx8Jevt8KQ.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">image courtesy: Microsoft docs</figcaption></figure><p id="a637" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，这里我们将讨论在azure网络中的计算机和本地网络中的计算机之间创建连接的步骤。</p><p id="5629" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">先决条件</strong></p><p id="935a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要三样东西作为先决条件</p><ol class=""><li id="4315" class="js jt hh ig b ih ii il im ip ju it jv ix jw jb jx jy jz ka bi translated">需要有效的<em class="kb"> Azure订阅。</em></li><li id="02b7" class="js jt hh ig b ih kc il kd ip ke it kf ix kg jb jx jy jz ka bi translated">需要在内部部署一个<em class="kb"> VPN设备</em>，并具备配置VPN设备的知识。</li><li id="358b" class="js jt hh ig b ih kc il kd ip ke it kf ix kg jb jx jy jz ka bi translated">VPN设备应该有一个静态的外部公共IP地址。</li></ol><p id="e99d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建虚拟网络</strong></p><ol class=""><li id="2fcd" class="js jt hh ig b ih ii il im ip ju it jv ix jw jb jx jy jz ka bi translated">为此，你必须在搜索框中键入虚拟网络，然后按回车键。虚拟网络将出现在屏幕上。</li></ol><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kh"><img src="../Images/e835bb5f71f9884ccc3a989cb48f97e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BP2LRkdNqCgW1ckphAweYQ.png"/></div></div></figure><p id="f9f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.点击<strong class="ig hi">虚拟网络</strong>将打开如下窗口，您必须点击<strong class="ig hi">创建</strong>按钮。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ki"><img src="../Images/e22170e1060b378dfb6a25c8ec00d980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pfHS9C0K_LDxsrGJQSKzeQ.png"/></div></div></figure><p id="c019" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.单击创建按钮后，将打开创建虚拟网络屏幕。您将看到如下所示的屏幕。您必须填写屏幕上要求的详细信息，如选择要创建虚拟网络的订阅。您可以从现有的资源组中选择或创建一个新的资源组。给你的虚拟网络取一个合适的名字，然后你选择地区。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kj"><img src="../Images/46118e1113bedf96a47cf7a7105f30d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYlKAxLZNABISCN8oLu8FQ.png"/></div></div></figure><p id="2532" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，在“IP地址”选项卡中，您将看到“IPv4地址空间”填充了默认值。你可以更改这个地址</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kk"><img src="../Images/754ab214d6eb70bae56dc2baf4868b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YUSxejPC2Y592TjB31P7EQ.png"/></div></div></figure><p id="e3eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在“安全”选项卡中，保留所有默认设置，然后单击<strong class="ig hi">审查+创建</strong>。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kl"><img src="../Images/0783c828616bbd9d9ccc1940873e1fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*wESdQkLK1OA6TLwgxQKPbQ.png"/></div></figure><p id="df00" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">验证设置后，单击创建按钮，这将创建虚拟网络。</p><p id="1a70" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建虚拟网关:</strong></p><p id="5bfe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">既然我们已经创建了虚拟网络，现在我们必须创建虚拟网络网关。</p><blockquote class="km kn ko"><p id="64ad" class="ie if kb ig b ih ii ij ik il im in io kp iq ir is kq iu iv iw kr iy iz ja jb ha bi translated">什么是网关，它有什么作用？:网关是一种网络硬件，允许数据从一个离散的网络传递到另一个网络。</p></blockquote><p id="e275" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，要创建虚拟网络网关，正确的方法是首先转到您创建虚拟网络的资源组。这里你看到+添加按钮，点击它。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ks"><img src="../Images/4a07bf67c99fa9d72038db4486a1aed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QcWX2Q44N2VfLkPdLU_QEA.png"/></div></div></figure><p id="bf5a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦你点击了+添加按钮，你会看到一个如下的屏幕，在这里你必须输入“虚拟网络网关”并按下回车键。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kt"><img src="../Images/60a795b6a99d432a5e232cc8fbb9822e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDICYLwy3jqSUeRWqz1UxA.png"/></div></div></figure><p id="4141" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这样做会将您带到如下屏幕。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ku"><img src="../Images/76ea1251c16c82dbb097ebd3f73d8de7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xoRX4kTC-EjKi453IbBilg.png"/></div></div></figure><p id="509b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“创建”按钮将带您进入一个表单，您可以在其中填写有关虚拟网络网关配置的详细信息。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kv"><img src="../Images/b14236ed94130de406226ad9c20853d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e07PzxgtawU721OTgcTOng.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kw"><img src="../Images/0da7b6a007639eecc5d335b9ea5eb1de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kY8mrc5PUMNx97Pv-S7a-A.png"/></div></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kx"><img src="../Images/444b2b1989441bc210951bfd737be6a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0eq-sAXTSAxL6hy9tJ5NqQ.png"/></div></div></figure><p id="2e87" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">提供一个适当的名称，选择与您为创建虚拟网络选择的区域相同的区域，选择网关类型作为VPN，选择VPN类型作为基于路由，选择SKU作为网关SKU，选择第一代作为第一代1，选择您最近在上面创建的虚拟网络，网关子网地址范围保持它已经出现，公共IP地址选择创建新的，给公共IP地址名称一个适当的名称，其余字段保持它如上图所示。</p><p id="2bd8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“查看+创建”按钮将尝试验证配置，如果验证成功，将出现“创建”按钮。点击这个创建按钮将创建VPN网关。</p><p id="a2d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建本地网络网关</strong></p><p id="3b6c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本地网络网关是一个特定的对象，代表您的本地位置(站点),用于路由目的。要再次创建本地网络网关，请转到您已经创建了其他资源的资源组，然后单击+ Add按钮。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ky"><img src="../Images/d155d8b3ebf7b810aa18a49c86e5ba97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*siAOSDZI6GS48gzfYcx9_w.png"/></div></div></figure><p id="1884" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Azure Marketplace窗口将会打开，您必须填写“本地网络网关”详细信息。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kz"><img src="../Images/94f0bc0684df660dab94c934742f9951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFrKFvk8nUWMuxpmPkxdeg.png"/></div></div></figure><p id="e819" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您将进入一个屏幕，在那里您会找到一个创建按钮来创建本地网络网关。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es la"><img src="../Images/007699ff14a85833bccbbe5fb49f0857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eeszS4zQ6DTbhSiNG2ugEg.png"/></div></div></figure><p id="31d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击“创建”按钮会将您带到一个屏幕，在此您必须填写有关本地网络网关配置的详细信息。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lb"><img src="../Images/b558d9dee05936528450ec6eb4208401.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*vFSjE2sDOSn2IWl1GG6hzQ.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lc"><img src="../Images/1f903a009447c5f0332cf321056ffab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*Ioj-o8DMgTbvTwVplK-OEQ.png"/></div></figure><p id="bc1f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在“名称”字段中填入适当的名称，在端点中选择IP地址。如果您的VPN设备有一个静态IP。如果您的VPN设备有ISP提供的动态IP，请选择FQDN。对于地址空间字段添加一些IP范围，您可以添加多个IP地址范围，但请记住，这些IP范围不得与您要连接的另一个网络的范围重叠。保持配置BGP设置未选中，仅在配置BGP时选中此项。对于位置，选择任意位置，它可能与用于创建虚拟网络的位置不同。</p><p id="4526" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">配置您的VPN设备</strong></p><p id="6680" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要配置您的VPN设备，您必须仔细阅读您购买的设备的文档。这里是下载流行设备配置脚本的链接。</p><p id="1d90" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">创建一个VPN连接</strong></p><p id="b2eb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们必须在我们已经创建的虚拟网络网关和您将根据设备文档以及上一段中提到的帮助创建的本地VPN设备之间创建一个“站点到站点VPN”连接。</p><p id="0efa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了创建VPN连接，我们必须转到您的虚拟网络。您可以通过搜索虚拟网络的名称来浏览此处，或者转到创建虚拟网络时使用的资源组。我的名字是VNet1。一旦你在那里，屏幕将看起来类似于下图。在这里，您必须单击下图中突出显示的已连接设备。您可以在右侧面板中看到您创建的虚拟网络网关。单击虚拟网络网关(这里是VNet1GW)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ld"><img src="../Images/e7fc65f33dae3d767d51f6b4d7f52ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fE-YH2aBuitLud-cBQXyFQ.png"/></div></div></figure><p id="1f48" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击虚拟网关将打开如下屏幕。点击连接将出现一个屏幕，其中有+添加按钮。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es le"><img src="../Images/11bcc994f6dad18c204873970046b219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jqwmxst7Dl886e8_PEQsMg.png"/></div></div></figure><p id="f7e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">点击添加按钮将带您到这里</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lf"><img src="../Images/0b8b97899e13ea8b9011cac5fe2c4a23.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*-QeHHEEPMQwBdvU_QXI1CA.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lg"><img src="../Images/982a2d4999a8314d1e3e99c0a36ae733.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*NAu2fk1vc7b4CBc2yWmERA.png"/></div></figure><p id="049d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在此表单中，对于“名称”字段，您填写一个适当的名称，连接类型选择站点到站点(IPSec)，对于虚拟网络网关字段，保留它自己出现的值。这是一个固定值，在我们从此处创建连接时不会改变。对于本地网络，网关选择我们之前为此演示创建的本地网络网关，因此我将选择Site1。对于共享密钥，该值必须与您为本地本地VPN设备使用的值相匹配。对于使用Azure私有IP地址，请保持未选中状态。对于启用BGP，不要选中它。为IKE协议字段选择IKEv2值。订阅、资源组和位置的其余值是固定的。</p><p id="3ea9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单击确定，这将创建一个连接。</p><p id="d051" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">验证VPN连接</strong></p><p id="60cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦按照上述步骤创建了连接，现在就该验证连接了。所以去虚拟网络网关(这里就是VNet1GW)。在左侧，您会看到一个名为“连接”的选项。点击它，您将能够看到您在上面创建的连接(VNet1toSite1)。单击连接的名称，然后单击要素</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lh"><img src="../Images/02cfc499aab54d1cb05f9a31f2f28c6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*9OmfOz2BpJNPGPoXnyKsig.png"/></div></figure><p id="fb45" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里的状态必须是Connected，否则，在创建连接时会出现一些问题。</p><p id="c429" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如何连接到虚拟网络上的虚拟机</strong></p><p id="b358" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，最后一步是验证我们是否能够将内部部署的计算机连接到虚拟网络中的计算机。因此，在虚拟网络中配置一台计算机。部署虚拟机后，获取虚拟机的IP。现在，从本地网络上的一台计算机对虚拟网络上的该IP进行RDP。如果您在执行上述所有步骤时没有问题，您将能够通过RDP将本地计算机连接到虚拟网络上的计算机。</p><p id="1d7a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们可以将Azure功能连接到虚拟网络</strong></p><p id="15b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">是的。我们可以在Azure上集成Azure功能和虚拟网络。但是它的用例是什么呢？为什么我们甚至需要将Azure功能集成到虚拟网络中。让我们试着去理解它。假设azure功能需要虚拟网络中的一些资源，例如，虚拟网络中有一台计算机或一组计算机，Azure功能想要访问这些计算机。或者说，在虚拟网络上的这些计算机上有不同类型的文件。在这种情况下，Azure功能可能需要建立与Azure虚拟网络的连接，这些计算机将在该网络上访问它们。</p><p id="7b92" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们可以用Azure虚拟网络连接我们在Azure上的应用。</strong></p><p id="8271" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将Azure中的应用程序连接到Azure中的虚拟网络的好处是，你的应用程序将能够访问虚拟网络中可用的资源。想象一下这样一个场景，应用程序面向互联网，但它希望记录一些重要的内容，这些内容将由所有能够访问同一虚拟网络的员工使用。另一个例子是，假设虚拟网络中有一台计算机，员工正在上传一些文档，这些文档是在您的应用程序服务中运行的应用程序所需要的。因此，对于这类场景，你的应用服务和你的Azure虚拟网络之间必须有一个连接。</p><p id="9139" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我尝试讨论虚拟网络使用情形的最后两个主题可以是一个独立的详细主题。细节可能包括如何在这些服务和Azure虚拟网络之间建立连接。但是这些细节超出了本博客的范围。如果你需要了解更多，我鼓励你找到如何在这些服务和互联网上的Azure虚拟网络之间建立连接。</p><p id="195b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论</strong></p><p id="3d19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们已经讨论了如何创建虚拟网络、VPN网关、本地网络网关、如何参考设备文档来配置VPN设备、如何创建VPN连接并对其进行验证，以及如何将本地计算机连接到虚拟网络上的计算机。</p><p id="b1ee" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些是创建站点到站点虚拟网络以及从内部建立连接的步骤。</p></div></div>    
</body>
</html>