<html>
<head>
<title>Automated Accessibility testing for Android apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android应用的自动化可访问性测试</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/automated-accessibility-testing-for-android-apps-57f9fe2f6dde?source=collection_archive---------8-----------------------#2022-09-30">https://medium.com/walmartglobaltech/automated-accessibility-testing-for-android-apps-57f9fe2f6dde?source=collection_archive---------8-----------------------#2022-09-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/2723291b08483f7162e35da458c17599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWncU81dwpfLvu77L8fk7w.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image source: <a class="ae it" href="https://www.flickr.com/photos/lwr/285539676" rel="noopener ugc nofollow" target="_blank">https://www.flickr.com/photos/lwr/285539676</a></figcaption></figure><p id="70d3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">应用程序的可访问性意味着不同能力的人可以像没有残疾的人一样访问相同的信息。</p><p id="661c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对你的应用程序的可访问性分析可以揭示新的机会，使你的应用程序更容易被更广泛的受众访问和使用。这可以通过<a class="ae it" href="https://developer.android.com/guide/topics/ui/accessibility/testing#accessibility-scanner" rel="noopener ugc nofollow" target="_blank">辅助功能扫描仪</a>应用程序手动扫描应用程序屏幕来完成。然而，自动化这个过程有助于覆盖我们在手动可访问性分析中可能错过的所有领域。Firebase test lab帮助我们解决了这个问题，在没有任何人工干预的情况下，它向我们报告了应用程序中的所有可访问性错误。</p><p id="6d0d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，让我们开始利用firebase测试实验室，使我们的android应用程序更容易访问。</p><p id="0867" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">第一步:</strong>登录账号后，进入firebase控制台<a class="ae it" href="https://console.firebase.google.com/u/0/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="997e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤2: </strong>要开始创建一个新项目，请点击“添加项目”。然后输入项目名称。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es js"><img src="../Images/4e44e7128bd9d2449864323b789343ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l7om1atQtOuL_89EealmWw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Creating a Firebase project — step 1</figcaption></figure><p id="899f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您可以选择为项目启用或禁用Google analytics。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jx"><img src="../Images/d8a4badc1fce358934c61ee03103dae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xUQlxMPX5PZV8h8O48M7uw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Creating a firebase project — step 2</figcaption></figure><p id="3ea1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你的Firebase项目已经准备好了。</p><p id="c561" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤3: </strong>在左侧导航菜单中，转到“发布&amp;监视器”选项卡下的“测试实验室”。</p><p id="bcb0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤4: </strong>在“Android Robo测试”部分，点击“浏览”并上传apk或adb文件。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jy"><img src="../Images/bd3624f2e7ebae1d75a4d33bbacd66d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_SN3q8u2gl1mdOPyqUutQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Robo Test in Firebase Test Lab</figcaption></figure><p id="59ed" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这将在apk或adb上运行robo测试。</p><p id="74d1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤5: </strong>在Robo测试屏幕上，我们可以看到运行测试的设备，以及测试是通过还是失败。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jz"><img src="../Images/e87175b44beca05be4c622523321ec5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OlU3Hsuly_eTvImMFAcsMw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Robo test screen</figcaption></figure><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ka"><img src="../Images/7c06e1a0aa83e115c05830de79f00f10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkXGe9V1W9NTcaBHiK3GQQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Robo test finished and passed</figcaption></figure><p id="9af8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">单击设备详细信息查看该设备的测试结果。</p><p id="ce17" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">单击“可访问性”选项卡查看可访问性问题。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kb"><img src="../Images/935ecf6a3402c71d5c5833a6611643ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gp9bGRCk69eM1SUgXoROzQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Robo test accessibility results</figcaption></figure><p id="5402" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们看到的可访问性问题是警告、小问题和一些提示。</p><p id="eb04" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们也可以看到这些问题的分类是基于四个可访问性指导原则-</p><p id="4715" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> <em class="kc"> 1-与触摸目标相关的问题:</em> </strong>当所考虑的可点击元素的宽度或高度小于“48dp”时，会出现这些问题。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kd"><img src="../Images/ec03908eb60bbcf4edf7ae4fc9d0421e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6GP2DEzl32redrs2Azrydw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Example of Touch target issue</figcaption></figure><p id="5cb3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> <em class="kc"> 2-与低对比度相关的问题:</em> </strong>当所考虑的元素的对比度不符合W3C给出的对比度准则时，就会出现这些问题。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ke"><img src="../Images/ff2b1a594da52e02b9330ba6d39bb58e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66zzh9Q3auUGCrNu5mqXpA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Example of Low Contrast issue</figcaption></figure><p id="7824" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> <em class="kc"> 3-与内容标签相关的问题:</em> </strong>当考虑中的元素没有内容描述或者与同一屏幕上的其他元素具有相同的内容描述(这使得辅助技术难以区分元素)时，就会出现这些问题。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kf"><img src="../Images/2c3324fcb48b976de3d858648430066e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vTqsWkdQ63Ku2hsjcmBLQw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Example of Content Labelling issue</figcaption></figure><p id="8002" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 4- <em class="kc">与实现相关的问题:</em> </strong>当所考虑的元素具有此处<a class="ae it" href="https://support.google.com/accessibility/android/answer/6376559#zippy=%2Cimplementation" rel="noopener ugc nofollow" target="_blank">列出的实现问题</a>时，这些问题就会出现。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kg"><img src="../Images/ad3237f8645a31e3afacada20127a10e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Js-8Ehl20llSZh_9kbuQTw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Example of Implementation Issue in EditText element</figcaption></figure><p id="48a9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从截图中，我们可以了解导致违反特定可访问性准则的屏幕和元素。通过查看屏幕截图，我们了解了元素id、元素的问题以及如何修复。</p><p id="8623" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">如何在不同的设备上开始另一个Robo测试？</strong></p><p id="a10f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤1: </strong>在Firebase控制台的左侧导航菜单中，单击“测试实验室”。在打开的屏幕上，单击“运行测试”。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/cbca7f681394d4c8733781418b7e1a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P6vVYROr2VP2KwfQ7z5bjw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Running a new robo test</figcaption></figure><p id="5ea4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤2: </strong>在步骤1(配置测试)中，上传apk或adb文件，并在“选择尺寸”选项卡中选择一个设备。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ki"><img src="../Images/edfb58c949b3d9ecae4328745e586b9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lT7lVqpbzjRoIOAdIGcAvw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Selecting a device from the list of available devices.</figcaption></figure><p id="bd0c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您还可以根据API级别或外形(手机、平板电脑、可穿戴设备)过滤可用设备列表。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kj"><img src="../Images/a47ec8b2e570b1419ccf914e83c175cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMjbsIrRioMaHfcRiSd7Ig.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Filtering available devices based on API Level</figcaption></figure><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kk"><img src="../Images/00d234938369de97895558263a5272fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQmEiEXiwO6y5_ulTYkU4A.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Filtering available devices based on Form factor</figcaption></figure><p id="4edf" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">之后，我们可以通过单击“+”按钮来选择设备，我们也可以选择各种设备，然后单击“继续”按钮。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kl"><img src="../Images/a6fe21f6be7c18b8ab7eac3670e50997.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BsQqu4dKw1bIjYZqBzlEpw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Selecting a device</figcaption></figure><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es km"><img src="../Images/c80cc307643fea7c06785d27c0d33edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5UNjaBunmtfl-z_vqqdR_w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Selecting multiple devices</figcaption></figure><p id="7774" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">如何让Robo测试考虑特定用户的用户旅程(或遇到的屏幕)？</strong></p><p id="8843" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤1: </strong>在Firebase控制台的左侧导航菜单中，单击“测试实验室”。在打开的屏幕上，单击“运行测试”。</p><p id="ffa1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">步骤2: </strong>在步骤1(配置测试)中，上传apk或adb文件，并在“选择尺寸”选项卡中，选择一个设备并点击附加选项。在“测试帐户凭据”部分，输入用户名资源名称和值以及密码资源名称和值。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kn"><img src="../Images/cfab6de618cf393369a673183e01babf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMjsWxiUtRAxhlNrYY73pQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Configuring test.</figcaption></figure><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ko"><img src="../Images/7c7fc0488024784ddc6d7a84e89420a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbPpxUHfREw8ehmPECWfcQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Entering expected values for username and password</figcaption></figure><p id="8211" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这将有助于捕捉登录用户遇到的可访问性问题(如果您的大多数应用程序屏幕都适用于登录用户)或特定用户使用应用程序的情况。</p><p id="8356" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您还可以切换到“Robo”选项卡，了解Robo测试爬虫和爬行路径(遍历的屏幕)是否成功使用了所提供的凭证。</p><figure class="jt ju jv jw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kp"><img src="../Images/7498687a18d48a88e4512405909d09f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQ684fWbt06prkNefsyrsw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Crawl graph of Robo Test</figcaption></figure><p id="2518" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">结论</strong></p><p id="608d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">利用Firebase Test Lab进行自动化可访问性测试已被证明是一种有效而可靠的方法，可以发现Android应用程序中潜在的可访问性问题。我们可以在短短几分钟内了解各种潜在的可访问性缺陷，甚至不需要打开应用程序。</p><p id="75a8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这个过程可以用于我们的任何版本的应用程序版本(调试或发布)，这有助于我们在开发周期的早期识别和修复可访问性问题，从而有助于更快地让更多的用户访问应用程序。</p><p id="1da8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Firebase Test Lab使用可访问性扫描仪应用程序(和<a class="ae it" href="https://github.com/google/Accessibility-Test-Framework-for-Android" rel="noopener ugc nofollow" target="_blank">可访问性测试框架</a>)来计算可访问性问题列表，因此是一种可靠且经济高效的方法来识别我们应用程序中的可访问性问题。我们可以在这里了解更多关于Firebase测试实验室可访问性问题类别<a class="ae it" href="https://support.google.com/accessibility/android/answer/6376559#zippy=" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="d6ab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这篇博客的最后，我鼓励大家尝试利用Firebase Test Lab对您的Android应用程序进行可访问性分析，以便您可以更快地识别和修复可访问性问题，并构建更好的包容性应用程序。</p><p id="fb01" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">参考文献:</strong> <br/> 1。<a class="ae it" href="https://developer.android.com/guide/topics/ui/accessibility" rel="noopener ugc nofollow" target="_blank">https://developer.android.com/guide/topics/ui/accessibility</a></p><p id="4772" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.<a class="ae it" href="https://firebase.google.com/docs/test-lab/android/analyzing-results#interpret_accessibility_results" rel="noopener ugc nofollow" target="_blank">https://firebase . Google . com/docs/test-lab/Android/analyzing-results # interpret _ accessibility _ results</a></p></div></div>    
</body>
</html>