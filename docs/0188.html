<html>
<head>
<title>Designing for Productivity in a Large-Scale iOS Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">大规模iOS应用程序的生产力设计</h1>
<blockquote>原文：<a href="https://medium.com/airbnb-engineering/designing-for-productivity-in-a-large-scale-ios-application-9376a430a0bf?source=collection_archive---------0-----------------------#2021-10-05">https://medium.com/airbnb-engineering/designing-for-productivity-in-a-large-scale-ios-application-9376a430a0bf?source=collection_archive---------0-----------------------#2021-10-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2345" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">技术和人员流程的创新如何让iOS开发人员在大型代码库中保持高效。</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/07d94b162f2d0bf84842c10ce145ea5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YoPXkM2HntwCXznpl96Ouw.png"/></div></div></figure><p id="aa28" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">每个iOS工程师都记得看到自己的第一个应用在iOS设备上运行时的喜悦。iPhone以人为中心的界面让这个程序变得生动起来。当你选择iOS开发作为职业时，这种喜悦随着你的应用触及更多人的生活而增长。</p><p id="0745" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">影响更多用户通常涉及新的iOS特性、流程和功能。但是，随着应用程序增长以服务更多的用户，新的特性和功能可能会引入额外的重量和复杂性，这将减缓产品迭代并排除原子重构。</p><p id="aecf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们作为Airbnb的iOS团队经历了这段旅程。得知我们每周发送的代码能够为客人带来难忘的假期，并为东道主企业家带来新的收入来源，我们深感欣慰。对设计的关注是我们的基因，我们为完善展示给用户的每一个细节而感到无比自豪。与此同时，我们也不能幸免于大规模发展的挑战。</p><p id="40bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将介绍我们在满足Airbnb不断增长的业务需求时遇到的困难。我们将概述在技术、所有权和流程方面的投资是如何让Airbnb iOS团队获得两全其美的:在具有全球影响力的代码库中工作，而不会感觉到它的重量。</p><h1 id="f314" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">开发大规模iOS应用程序的挑战</h1><p id="56be" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">2010年6月16日，一名Airbnb实习生第一次提交了我们的iOS应用程序。从那时起，同一个Xcode项目已经发展成为拥有150万行第一方代码的代码库。今天大约有75名iOS工程师在开发我们的应用程序。我们每周发布62种语言的应用程序，支持地球上几乎每个国家的客人和主人社区。</p><p id="d872" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Airbnb的规模上，代码组织成为一个挑战。我们欢迎并鼓励实验和新想法。然后，一旦我们充分探索了解决方案空间，我们就重视“Airbnb方式”的一致性。直到最近，我们的大部分代码都被组织成一个名为<code class="du ks kt ku kv b">lib/</code>的平面目录中的模块。如果我们的代码没有任何层次或分类，工程师就很难找到通用功能的现有实现。我们开始注意到在我们的应用程序代码中完成相同任务的许多方法，这使得我们提供给用户的二进制文件变得臃肿。此外，我们发现，相同功能的每一个竞争实现的质量往往低于获得更多投资和关注的实现。</p><p id="f294" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然Xcode是iOS工程师最喜欢使用的工具，但我们发现Xcode并不能很好地适应我们这种规模和复杂性的代码库。不仅Xcode项目文件在“拉”请求中具有挑战性，而且随着更大的工程师团队高速移动，这些项目文件中合并冲突和竞争情况的发生率也在增加。即使是打开Xcode也会变成一件繁琐的工作，因为代码基数很大。一年多前，我们测量了Xcode在加载包含所有源代码的工作空间时需要一到两分钟的时间来变得可交互。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kw"><img src="../Images/d87dede9944d54eea146787809aae229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbD6oAGQtHcVKz0XXU6SCw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx"><em class="lb">A pull request circa 2018 adding one new module. Over half of the changes to the pbxproj Xcode project file are not shown in this screenshot.</em></figcaption></figure><p id="f25d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">大多数iOS工程师对漫长的构建时间和缓慢的迭代循环感到沮丧。有一次，一位特别有创造力的工程师发现，如果拔掉外接显示器，他的笔记本电脑可以更快地编译代码。许多工程师已经训练自己将USB-C充电线插入他们MacBook Pro的<a class="ae lc" href="https://www.imore.com/heres-why-you-should-probably-charge-your-macbook-using-ports-its-right-side" rel="noopener ugc nofollow" target="_blank">右侧</a>以避免热量节流的生产力损失。当Airbnb的代码库少于50万行第一方代码时，其中一些问题可以通过更强大的硬件来解决，尽管我们也发现了这种解决方案的实际限制。当你一天中的大部分时间都在等待构建完成时，你很难感觉到自己在尽全力工作。</p><p id="3fad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些挑战是有机增长的。新员工的反馈为我们应该如何优先考虑基础设施需求提供了宝贵的意见，因为来自较小项目公司的iOS工程师还不习惯过度增长的代码库的迟缓和变通办法。我们知道必须有所改变，以确保Airbnb继续提供世界级的iOS应用。</p><h1 id="d170" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我们实施的解决方案</h1><p id="7870" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">多年来，我们研究并实施了许多解决方案来解决上述问题。在本帖中，我们将讨论让我们大规模高效运营的三个最大杠杆。我们预计这些高级主题将适用于其他正在快速成长的中小型iOS团队。</p><h2 id="1017" class="ld jq hh bd jr le lf lg jv lh li lj jz ip lk ll kd it lm ln kh ix lo lp kl lq bi translated">采用现代建筑系统</h2><p id="675a" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">Xcode仍然是Airbnb iOS工程师的首选IDE。与此同时，我们已经看到了其他构建系统中的功能，我们知道这些功能可以提高iOS开发人员的工作效率。几个突出的例子是:构建工件的网络缓存、构建图的查询接口，以及将定制步骤作为依赖项添加的无缝方式。我们相信这些能力是现代构建系统的基础。</p><p id="340e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">脸书的<a class="ae lc" href="https://buck.build/" rel="noopener ugc nofollow" target="_blank">巴克</a>建造系统满足了这些要求。我们在2016年末开始认真讨论巴克，并在2017年开始认真探索。2019年，我们全面过渡到Buck的声明式构建系统。尽管我们发现公共文档还有许多不足之处，但我们从Buck那里获益匪浅。因此，我们在<a class="ae lc" href="https://github.com/airbnb/BuckSample" rel="noopener ugc nofollow" target="_blank">公共GitHub库</a>中分享了我们的Buck设置。</p><p id="194f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为这一转变的一部分，我们移除了手动管理的Xcode项目，转而支持声明性的BUCK文件，这些文件与每个模块的代码相邻。BUCK文件是使用<a class="ae lc" href="https://github.com/bazelbuild/starlark" rel="noopener ugc nofollow" target="_blank"> Starlark </a>语言定义的，它可以与Bazel(另一个流行的现代构建系统)互操作。下面是一个现有Airbnb模块的结构。</p><pre class="je jf jg jh fd lr kv ls lt aw lu bi"><span id="1bb1" class="ld jq hh kv b fi lv lw l lx ly">~/apps/ios/features/WifiSpeedFeature&gt; tree -L 1<br/>.<br/>├── BUCK<br/>├── Sources<br/>├── Tests<br/>└── _infra</span><span id="fb36" class="ld jq hh kv b fi lz lw l lx ly">3 directories, 1 file</span></pre><p id="0513" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的基础设施团队采取的方法是，我们应该在工程师所在的地方与他们见面，同时在引擎盖下增强他们的开发经验。因此，iOS工程师继续在Xcode工作空间中进行开发，Xcode工作空间是从Buck中定义的构建图生成的。</p><p id="2505" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最初，只有Airbnb iOS应用程序的命令行Buck版本可以从Buck HTTP缓存中受益。这本身就是一个很大的改进，因为它使我们能够验证应用商店的构建将在每个拉取请求上成功，而不会减慢工程师的速度。然而，本地Xcode构建不能从缓存中提取工件，因为生成的Xcode工作空间继续使用标准Xcode构建系统。</p><p id="047c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们继续在应用程序的基础上利用现代构建系统来为工程师缩短迭代周期。我们<a class="ae lc" href="https://github.com/airbnb/BuckSample/pull/134" rel="noopener ugc nofollow" target="_blank">使</a>生成Xcode工作空间成为可能，该工作空间使用Buck构建系统在内部构建应用程序。iOS工程师每天使用的所有标准Xcode工具(断点、控制台、错误)都按预期工作。</p><p id="3f8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">基于Buck的Xcode工作区提高了本地构建速度，因为它可以参与Buck的缓存。为了缩短Xcode的启动时间，我们还可以只使用整个代码库的一部分来生成Xcode工作空间。整个应用程序继续用Buck构建，Xcode在很短的时间内就变成了交互式的。</p><h2 id="2507" class="ld jq hh bd jr le lf lg jv lh li lj jz ip lk ll kd it lm ln kh ix lo lp kl lq bi translated">设计模块类型</h2><p id="aec0" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">为了解决我们的代码缺乏层次性，因此缺乏可发现性，我们为我们的第一方代码设计了一个组织结构。模块被组织成语义上有意义的组，称为<em class="jc">模块类型</em>。</p><p id="2426" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们已经为我们的模块类型编写了精确的文档。由于模块类型的概念对于iOS开发人员在Airbnb的工作方式非常重要，因此本文档托管在我们的内部开发人员门户网站上，并在源代码控制中进行管理。我们用几个段落总结了每种模块类型，解释了模块类型的用途以及它所支持的代码类型。</p><p id="fe9f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在设计这个架构时，我们考虑了应用程序编程和构建系统的最佳实践。每个模块类型都有一套严格的<a class="ae lc" href="https://buck.build/concept/visibility.html" rel="noopener ugc nofollow" target="_blank">可见性规则</a>。这些可见性规则定义了该类型模块之间允许的依赖关系。一个单独的模块可能会加强其可见性，这是一些大型团队使用的技术，他们享受模块化的好处，并希望避免对他们的模块的意外入站依赖。单个模块不能将其可见性扩展到其模块类型所施加的限制之外。</p><blockquote class="ma mb mc"><p id="b3d4" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated"><strong class="ig hi">我们来看一个例子……</strong></p><p id="31bd" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated"><em class="hh">特性</em>是我们的核心模块类型之一。在Airbnb，特色是面向用户的目的地。在我们的iOS代码中，面向用户的目的地是一个<code class="du ks kt ku kv b">UIViewController</code>，它将以模态方式呈现或者安装到一个<code class="du ks kt ku kv b">UINavigationController</code>中。如果可能的话，一个特性模块的范围应该是一个面向用户的目的地，尽管它可能包含多个实现该目的地的<code class="du ks kt ku kv b">UIViewController</code>。</p><p id="fd25" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated">特征模块对其他特征模块不可见(即，特征模块不能依赖于特征模块)；然而，它们通过一个叫做<em class="hh">特性接口</em>的兄弟模块类型共享轻量级类型。</p><p id="8a50" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated">每个特性都有对应的特性接口，具有更广的可视性。一个特性可以依赖于任意数量的特性接口模块，并且总是依赖于它自己的接口模块。该接口的功能类似于头文件在Clang程序中的功能。</p><p id="d426" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated">特征模块类型的可见性规则确保所有特征模块相互独立。接口模块类型允许特性共享简单类型(协议、枚举、值类型)，支持特性之间的强类型<a class="ae lc" href="https://youtu.be/ray2vMjg2ug?t=661s" rel="noopener ugc nofollow" target="_blank">路由</a>等功能。</p><p id="10e0" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated">除了特性模块类型之外，<em class="hh">服务</em>模块类型是负责管理特性间共享状态的非UI对象的宿主。任何服务模块也可以可选地具有接口兄弟模块。</p><p id="79b9" class="ie if jc ig b ih ii ij ik il im in io md iq ir is me iu iv iw mf iy iz ja jb ha bi translated">我们今天在Airbnb有十二种iOS模块类型。</p></blockquote><p id="1579" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们语义上有意义的模块类型充当我们非常大的代码库的目录。基于模块的类型，工程师很快就有了一个相当准确的模块心智模型。我们90%的第一方代码已经从<code class="du ks kt ku kv b">lib/</code>迁移到模块类型。我的同事Francisco的一个很棒的<a class="ae lc" href="https://www.youtube.com/watch?v=KhZcSRXJHFs&amp;t=190s" rel="noopener ugc nofollow" target="_blank">演讲</a>更详细地描述了我们的代码组织策略是如何从文件夹发展到模块类型的，并且也阐明了我们是如何操作这个大迁移的。</p><h2 id="bec3" class="ld jq hh bd jr le lf lg jv lh li lj jz ip lk ll kd it lm ln kh ix lo lp kl lq bi translated">创建开发应用</h2><p id="951e" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">我们在构建系统和iOS应用架构方面的投资促成了第三项创新:开发应用。一个<em class="jc">开发应用</em>是一个按需的、短暂的Xcode工作空间，用于单个模块及其依赖项。</p><p id="a163" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开发应用起源于Airbnb Android生态系统。Android和iOS开发应用程序的流行和成功都源于一个简单的公理:将IDE范围最小化到只有您正在编辑的文件会缩短开发周期。当Xcode工作空间中的代码较少时，Xcode可以更快地索引和编译这些代码。</p><p id="d359" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们的代码库中采用模块类型打破了功能单元之间代价高昂的依赖性。现在，模块具有最小的依赖性。例如，构建任何功能模块及其所有依赖项总是比构建整个Airbnb应用程序便宜得多。因为功能模块不能依赖于其他功能模块，所以我们已经定义了大量功能来构建整个应用程序的可能性。</p><p id="6978" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">iOS工程师使用强大且用户友好的命令行界面创建开发应用。生成开发应用程序的命令遵循Unix最佳实践，重点是让可能不熟悉终端的工程师也能使用。在幕后，该工具使用Buck的查询接口来汇编源文件的完整列表。</p><p id="3612" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Dev App命令行工具生成一个容器iOS应用程序来托管该特性，并打开一个生成的Xcode工作区。开发人员在非生产代码中定义其功能的变体。这些变体支持一键访问任何可能的UI状态。Dev App container应用程序为常见的工作流提供了便利，比如将OAuth令牌附加到HTTP请求上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/fd7a5fa05f00c1b2c93b392ad3d8a95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_-p6QlfNnCINf_2PdBYOQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx"><em class="lb">A Dev App for an existing Airbnb module. Developers can test all states of their feature by defining variants (left). Developer settings support live network requests (right).</em></figcaption></figure><p id="762c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开发应用程序允许产品开发人员在构建整个Airbnb应用程序的一部分时，迭代其功能的UI和大部分业务逻辑。虽然开发应用程序是为功能和UI模块设计的，但我们现在支持为任何模块类型创建开发应用程序。我们发现，许多iOS开发人员也更喜欢在这种最小的Xcode环境中开发非UI模块。</p><p id="2d8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在许多情况下，构建和运行整个Airbnb应用程序仍然至关重要，尤其是在测试功能如何相互交互时。然而，当你工作在足够隔离和测试的代码上时，仅仅用一个开发应用程序就可以自信地发布那些改变。</p><h1 id="3ffa" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">突破到另一边</h1><p id="5608" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">我们的努力创造了一个生态系统，团队可以在他们的表面区域独立运作。在开发应用中编码让人想起在更简单、更小的项目中编码的快乐，以及由成熟的第三方工具和框架支持的所有好处。</p><p id="00c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">开发应用现在驱动超过50%的本地构建。开发应用程序构建时间的第75百分位不到两分钟，第50百分位不到一分钟。我们鼓励开发应用尽可能多地使用模拟依赖，以减少需要构建的代码。</p><p id="65bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的应用架构已经开创了一个100%代码所有权的时代。我们通过团队重组保持了100%的所有权，部分原因是我们高度模块化的代码库，它允许所有权以最小的重构进行转移和重新划分。今天，我们的第一方代码被分成近1500个模块。</p><p id="e200" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们看到现代模块结构中的代码有超过50%的测试覆盖率，而遗留模块结构中的代码只有23%的覆盖率。这部分是由于接口模块，它强烈地推动开发人员使用面向协议的编程技术来编写服务。当代码主要与协议交互时，很容易为依赖关系创建测试副本。</p><p id="9b63" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过在模块类型之间保留严格的可见性规则，我们已经实现了高度并行化的构建图。当在8核16英寸的2019 MacBook Pro上检查完整Airbnb应用程序的构建跟踪时，我们看到近80%的编译阶段完全利用了可用的CPU资源。</p><p id="6d01" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的现代构建系统支持命令行工具的健康生态系统，极大地简化了常见任务。创建一个模块之前需要遵循一长串容易出错的步骤。现在，工程师们用一个交互式的Rake命令创建模块。我们甚至利用我们的Buck查询接口构建了一个命令行工具，该工具指导工程师完成将他们的<code class="du ks kt ku kv b">lib/</code>模块迁移到新模块结构的必要步骤。</p><p id="64f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，但肯定不是最不重要的，通过不再在源代码控制中管理Xcode项目，现在添加和删除模块依赖关系变得很简单，可以很容易地解决任何合并冲突。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/dc881b92da1a88e6034b90b359b1bdef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dsA7iuafUp4j47gd6IdELA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx"><em class="lb">A portion of a recent PR that adds a dependency to a feature module. Starlark build files make the code easy to write and review.</em></figcaption></figure><h1 id="39b3" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">将信封的边缘推到一起</h1><p id="c8ec" class="pw-post-body-paragraph ie if hh ig b ih kn ij ik il ko in io ip kp ir is it kq iv iw ix kr iz ja jb ha bi translated">在Airbnb，我们热衷于推进整个行业的iOS开发状态。我们相信在移动设备上运行的原生应用程序的力量，并希望其他公司利用我们已经完成的工作，以便他们可以将更多的精力放在构建用户喜欢的体验上。</p><p id="1bb4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们知道，我们不是唯一一家应用程序从一个小项目有机成长为比原作者可能设想的更大的公司。我们知道，我们的许多同行公司都经历了与我们类似的转型。我们前面提到的每一个解决方案都是针对我们的环境和文化的，尽管我们已经看到这些主题是永恒的。作为<a class="ae lc" href="https://mobilenativefoundation.org/" rel="noopener ugc nofollow" target="_blank">移动原生基金会</a>的一部分，我们很高兴能与同行公司在公共领域继续这项工作。</p><p id="a958" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们提高生产率的旅程还没有结束。展望未来，我们看到了使用<a class="ae lc" href="https://github.com/apple/swift-syntax" rel="noopener ugc nofollow" target="_blank"> Swift static analysis </a>生成样板代码并提高特性和服务的代码可移植性的巨大机会。我们将继续收紧iOS产品开发的构建/测试/运行迭代循环，以便大型iOS应用程序的重量不会扼杀独立iOS开发的乐趣。我们渴望得到苹果公司支持的现代建筑系统。</p><p id="998c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们相信我们只是触及了移动计算的皮毛。我们将继续改进大规模创新所需的工具、技术和人员流程。</p></div><div class="ab cl mi mj go mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ha hb hc hd he"><p id="29f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">非常感谢<a class="ae lc" href="https://www.linkedin.com/in/fdiazmeza" rel="noopener ugc nofollow" target="_blank"> Francisco Díaz </a>在这篇文章的多次修改中对内容和声音提出建议。这篇文章中描述的工作是许多才华横溢的Airbnb iOS工程师的产物。</p><p id="9c60" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你有兴趣加入我们在App Store中制作最好的iOS应用的持续探索，请查看我们的<a class="ae lc" href="https://careers.airbnb.com/" rel="noopener ugc nofollow" target="_blank">职业</a>页面，了解开放的iOS职位。</p><p id="d97b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jc">所有产品名称、标识和品牌都是其各自所有者的财产。本网站中使用的所有公司、产品和服务名称仅用于识别目的。使用这些名称、标志和品牌并不意味着认可。</em></p></div></div>    
</body>
</html>