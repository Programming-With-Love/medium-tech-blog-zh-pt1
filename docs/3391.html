<html>
<head>
<title>Flutter — Jenkins: Pipeline to build, test and upload to AppCenter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter — Jenkins:构建、测试和上传到AppCenter的管道</h1>
<blockquote>原文：<a href="https://medium.com/globant/flutter-jenkins-pipeline-to-build-test-and-upload-to-appcenter-e4ef59c7dbdd?source=collection_archive---------0-----------------------#2020-01-25">https://medium.com/globant/flutter-jenkins-pipeline-to-build-test-and-upload-to-appcenter-e4ef59c7dbdd?source=collection_archive---------0-----------------------#2020-01-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/f4664a8d7a2ae78e2228381fcc1e007d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qq1e_cv3cmfVOQP-TAjliA.png"/></div></div></figure><div class=""/><p id="46f2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，你将有一个为你的颤振项目工作的詹金斯管道。我们将使用管道脚本从Github中提取代码，构建它，测试它并将构建上传到AppCenter。</p><p id="c1c7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我假设您已经在您的系统上安装并运行了Flutter和Jenkins。如果没有，您可以从这里参考Jenkins的安装步骤</p><blockquote class="jn"><p id="5cf1" class="jo jp hs bd jq jr js jt ju jv jw jm dx translated"><a class="ae jx" rel="noopener" href="/@ranaranvijaysingh9/flutter-jenkins-getting-started-4d2e036567b">颤振—詹金斯:入门</a></p><p id="fb03" class="jo jp hs bd jq jr js jt ju jv jw jm dx translated"><a class="ae jx" href="https://www.youtube.com/watch?v=NgoXMw7_RN4&amp;t=" rel="noopener ugc nofollow" target="_blank"> YouTube: Flutter — Jenkins:入门</a></p></blockquote><h1 id="2941" class="jy jz hs bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">第一步:应用中心</h1><ol class=""><li id="8805" class="kw kx hs ir b is ky iw kz ja la je lb ji lc jm ld le lf lg bi translated">如果您没有帐户，请转到<a class="ae jx" href="https://appcenter.ms/create-account" rel="noopener ugc nofollow" target="_blank"> AppCenter创建帐户</a>来创建您的帐户，或者转到<a class="ae jx" href="https://appcenter.ms/sign-in" rel="noopener ugc nofollow" target="_blank"> AppCenter登录</a>。</li><li id="0cc1" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">获取您的<strong class="ir ht"> <em class="lm"> API令牌→ <br/> </em> </strong>登录后<br/> &gt; <strong class="ir ht">账户设置<br/> </strong> &gt; <strong class="ir ht"> API令牌<br/> </strong> &gt; <strong class="ir ht">编辑<br/> </strong> &gt; <strong class="ir ht">新的API令牌<br/> </strong> &gt; <strong class="ir ht"> </strong>给出<strong class="ir ht">描述</strong>例如【詹金斯】<br/> &gt; <strong class="ir ht"/></li><li id="c4f4" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">获取您的<strong class="ir ht">所有者姓名/用户名</strong> → <br/> &gt; <strong class="ir ht">帐户设置</strong> <br/> &gt; <strong class="ir ht">个人资料</strong>您的姓名下面的部分是您的所有者姓名，例如“ranaranvijysingh 9-Gmail . com”。</li><li id="2e09" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">创建项目→ <br/> &gt; <strong class="ir ht">首页</strong> <br/> &gt;点击<strong class="ir ht">添加新的</strong> <br/> &gt;点击<strong class="ir ht">添加新的app </strong> <br/> &gt;填写详细信息<br/> &gt; <strong class="ir ht">添加新的app </strong>。</li><li id="c954" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">获取您的<strong class="ir ht">分发组名称</strong> → <br/> &gt;点击您在上面步骤<br/> &gt; <strong class="ir ht">中创建的<strong class="ir ht">项目</strong>分发</strong> <br/> &gt; <strong class="ir ht">组</strong> <br/> &gt; <strong class="ir ht">新建组</strong> <br/> &gt;给一个<strong class="ir ht">组名称</strong>(这就是您所需要的)【T77</li></ol><h1 id="8fcc" class="jy jz hs bd ka kb kc kd ke kf kg kh ki kj ln kl km kn lo kp kq kr lp kt ku kv bi translated">詹金斯</h1><p id="7239" class="pw-post-body-paragraph ip iq hs ir b is ky iu iv iw kz iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated"><strong class="ir ht">管道</strong>:一套插件，支持将持续交付管道实现和集成到Jenkins中。</p><p id="4554" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">代理:指示詹金斯分配一个执行者的语法。</p><p id="a6ba" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">阶段</strong>:阶段块定义了通过整个管道执行的任务的子集(例如，“构建”、“测试”和“部署”)。</p><p id="4681" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">步骤</strong>:单个任务。从根本上说，一个步骤告诉Jenkins在特定的时间点做什么。</p><p id="f5bd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想阅读更多参考<a class="ae jx" href="https://jenkins.io/doc/book/pipeline/" rel="noopener ugc nofollow" target="_blank">詹金斯管道。</a></p><ol class=""><li id="cd0d" class="kw kx hs ir b is it iw ix ja lt je lu ji lv jm ld le lf lg bi translated">安装AppCenter插件→ <br/> &gt; Jenkins <br/> &gt;管理Jenkins <br/> &gt; <strong class="ir ht">管理插件</strong> <br/> &gt;选择<strong class="ir ht">可用</strong> <br/> &gt;搜索<strong class="ir ht"> AppCenter </strong> <br/> &gt;点击<strong class="ir ht">安装</strong> <br/> &gt;重启Jenkins</li><li id="a6b6" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">创建一个管道作业→ <br/> &gt;詹金斯<br/> &gt;新项目<br/> &gt;给出任何名称例如:第一个管道<br/> &gt;从列表<br/> &gt;中选择<strong class="ir ht">管道</strong>确定</li><li id="7aba" class="kw kx hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">创建具有空白阶段的管道→ <br/> &gt;作业配置<br/> &gt;管道<br/> &gt;选择<strong class="ir ht">定义</strong>作为<strong class="ir ht">管道脚本<br/> </strong> &gt;给出以下脚本</li></ol><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><blockquote class="jn"><p id="cdde" class="jo jp hs bd jq jr mc md me mf mg jm dx translated">完成了。你可以运行你的管道。</p></blockquote></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><p id="5194" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在GIT PULL阶段，我们在步骤中使用带有<strong class="ir ht">分支</strong>和<strong class="ir ht"> url </strong>属性的<strong class="ir ht"> git </strong>工具。<strong class="ir ht">这种方式是针对公开回购的。</strong></p><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><p id="8c54" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在GIT PULL阶段，我们使用带有<strong class="ir ht">凭证id、</strong>和<strong class="ir ht"> url的<strong class="ir ht"> git </strong>工具。这种方法适用于私人回购。<br/> </strong>凭证id由<br/> &gt; <strong class="ir ht">管道作业</strong>&gt;<strong class="ir ht">管道语法<br/> </strong> &gt;选择<strong class="ir ht">样本步骤</strong><br/>&gt;<strong class="ir ht">Git</strong><br/>&gt;填充细节<br/> &gt; <strong class="ir ht">生成管道脚本</strong></p><figure class="lw lx ly lz fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mo"><img src="../Images/4ab4ee7bbe41a885f3b51592bafebec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eiFpj4SycJTngSv9cxJ8_w.png"/></div></div></figure><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><p id="7490" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在阶段测试中，我们使用<strong class="ir ht"> sh </strong>工具执行颤振测试命令。</p><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><p id="09f8" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在阶段构建中，我们使用<strong class="ir ht"> sh </strong>工具来执行颤振构建命令。</p><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><figure class="lw lx ly lz fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mp"><img src="../Images/b48bb023013809241d460ece2dffedcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LH1WNnh1yzL4vraFxoaMFQ.png"/></div></div></figure></div><div class="ab cl mh mi go mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ha hb hc hd he"><p id="0133" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在stage DISTRIBUTE中，我们使用在步骤1中安装的<strong class="ir ht"> appCenter </strong>插件。这里将使用从步骤1: AppCenter设置中收集的所有数据。</p><figure class="lw lx ly lz fd hj"><div class="bz dy l di"><div class="ma mb l"/></div></figure><figure class="lw lx ly lz fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mq"><img src="../Images/85ae6d86bbfb415a560ba574e9e688ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_u_YIXO3r5WFozeRuHuRyA.png"/></div></div></figure></div></div>    
</body>
</html>