<html>
<head>
<title>Simplifying drag and drop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化拖放</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/simplifying-drag-and-drop-3713d6ef526e?source=collection_archive---------0-----------------------#2021-12-15">https://medium.com/androiddevelopers/simplifying-drag-and-drop-3713d6ef526e?source=collection_archive---------0-----------------------#2021-12-15</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/1f13c70a0da47db159e55257ad89d47d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUe4RBLe7FVlISDtAqeQ4Q.png"/></div></div></figure><div class=""/><p id="87a6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在最基本的层面上，<a class="ae jn" href="https://developer.android.com/guide/topics/ui/drag-drop" rel="noopener ugc nofollow" target="_blank">拖放</a>是一种手势，用户可以点击并按住图像、文本字符串或其他数据元素，然后将其拖动到另一个应用程序(或同一应用程序中的另一个位置)并释放，其中数据被合并到新位置。这种手势通常是在触摸屏上长按，或者在使用鼠标时点击并拖动。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es jo"><img src="../Images/990779432c921a48cb77e342d4c36250.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/1*Zhozh83cTY98q2ztyZHHSg.gif"/></div><figcaption class="jt ju et er es jv jw bd b be z dx">A simple drag &amp; drop sample.</figcaption></figure><p id="77a3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">虽然Android很早就支持拖放功能(<code class="du jx jy jz ka b"><a class="ae jn" href="https://developer.android.com/reference/android/view/DragEvent" rel="noopener ugc nofollow" target="_blank">DragEvent</a></code>是在Android 3.0，API level 11中引入的)，但事实证明，集成对处理手势、事件、权限和回调的完全支持是复杂的。</p><blockquote class="kb kc kd"><p id="18b4" class="ip iq ke ir b is it iu iv iw ix iy iz kf jb jc jd kg jf jg jh kh jj jk jl jm ha bi translated"><strong class="ir ht">今天我们将推出</strong><a class="ae jn" href="https://developer.android.com/jetpack/androidx/releases/draganddrop" rel="noopener ugc nofollow" target="_blank"><strong class="ir ht">Jetpack DragAndDrop</strong></a><strong class="ir ht">库作为alpha版本，让你更轻松地处理放入应用的数据。</strong></p></blockquote><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="c7ce" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">拖放越来越适用于大屏幕形式:平板电脑和笔记本电脑，但尤其是可折叠的，其中分屏的使用频率是传统手机的7倍。将数据从一个应用程序拖到另一个应用程序的能力是用户的自然体验，因为他们在分屏或窗口模式下更有效地进行多任务处理。</p><p id="0bc4" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">虽然平台本身支持从<code class="du jx jy jz ka b">EditTexts</code>中拖动文本，但我们强烈建议用户能够从应用程序的其他组件中拖动任何图像、文件或文本。同样重要的是，我们鼓励用户将数据放入你的应用程序中。</p><figure class="jp jq jr js fd hj er es paragraph-image"><div class="er es kk"><img src="../Images/a27c3b652e7b50653f2e78b37092b46d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*i2-hwIJhdhP0rfsXvIhJ4A.gif"/></div><figcaption class="jt ju et er es jv jw bd b be z dx">Dragging from one app into another.</figcaption></figure><p id="13de" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du jx jy jz ka b"><a class="ae jn" href="https://developer.android.com/reference/androidx/draganddrop/DropHelper" rel="noopener ugc nofollow" target="_blank">DropHelper</a></code>与<code class="du jx jy jz ka b"><a class="ae jn" href="https://developer.android.com/reference/androidx/core/view/DragStartHelper" rel="noopener ugc nofollow" target="_blank">DragStartHelper</a></code>相结合，使得手势支持、回调、样式和像素完美对齐变得更加容易。</p><h2 id="f471" class="kl km hs bd kn ko kp kq kr ks kt ku kv ja kw kx ky je kz la lb ji lc ld le lf bi translated">dragstartphelper</h2><p id="d28b" class="pw-post-body-paragraph ip iq hs ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated"><code class="du jx jy jz ka b">DragStartHelper</code>是Jetpack core中的一个实用程序类，用于检测常用于开始拖动的手势，如长按或用鼠标单击并拖动。</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="ki kj l"/></div></figure><h2 id="acbf" class="kl km hs bd kn ko kp kq kr ks kt ku kv ja kw kx ky je kz la lb ji lc ld le lf bi translated">DropHelper</h2><p id="cf75" class="pw-post-body-paragraph ip iq hs ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">新的<code class="du jx jy jz ka b">DropHelper</code>是一个实用程序类，负责监听器和删除目标。确保在构建<code class="du jx jy jz ka b">DropHelper.Options</code>时使用<code class="du jx jy jz ka b">addInnerEditTexts()</code>,以确保你的拖放目标中的任何嵌套<code class="du jx jy jz ka b">EditTexts</code>不会获得焦点。</p><figure class="jp jq jr js fd hj"><div class="bz dy l di"><div class="ki kj l"/></div></figure><h2 id="5e00" class="kl km hs bd kn ko kp kq kr ks kt ku kv ja kw kx ky je kz la lb ji lc ld le lf bi translated">了解更多信息</h2><p id="5bf2" class="pw-post-body-paragraph ip iq hs ir b is lg iu iv iw lh iy iz ja li jc jd je lj jg jh ji lk jk jl jm ha bi translated">阅读Android开发人员的<a class="ae jn" href="https://developer.android.com/guide/topics/ui/drag-drop" rel="noopener ugc nofollow" target="_blank">拖放指南</a>，深入<a class="ae jn" href="https://github.com/android/user-interface-samples/tree/main/DragAndDrop" rel="noopener ugc nofollow" target="_blank">示例</a>查看<code class="du jx jy jz ka b">DropHelper</code>的实践，然后在alpha now中试用<a class="ae jn" href="https://issuetracker.google.com/issues/new?component=1139019" rel="noopener ugc nofollow" target="_blank">给我们反馈</a>。</p><div class="hg hh ez fb hi ll"><a href="https://github.com/android/user-interface-samples/tree/main/DragAndDrop" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab dw"><div class="ln ab lo cl cj lp"><h2 class="bd ht fi z dy lq ea eb lr ed ef hr bi translated">用户界面-示例/拖放到主Android/用户界面-示例</h2><div class="ls l"><h3 class="bd b fi z dy lq ea eb lr ed ef dx translated">一个android应用程序，演示了使用Jetpack拖放库的基本拖放功能。允许…</h3></div><div class="lt l"><p class="bd b fp z dy lq ea eb lr ed ef dx translated">github.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz ho ll"/></div></div></a></div><p id="c112" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="ke">感谢</em> <a class="ae jn" rel="noopener" href="/@florina.muntenescu"> <em class="ke">弗洛里纳</em></a><em class="ke"/><a class="ae jn" href="https://github.com/bsagmoe" rel="noopener ugc nofollow" target="_blank"><em class="ke">本</em></a><em class="ke"/><a class="ae jn" rel="noopener" href="/@crafty"><em class="ke">尼克</em> </a> <em class="ke">！</em></p></div></div>    
</body>
</html>