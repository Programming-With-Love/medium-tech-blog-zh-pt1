<html>
<head>
<title>Testing exceptions in JUnit Tests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JUnit测试中的测试异常</h1>
<blockquote>原文：<a href="https://medium.com/globant/testing-exceptions-in-junit-tests-3cc11f5caea3?source=collection_archive---------0-----------------------#2020-01-09">https://medium.com/globant/testing-exceptions-in-junit-tests-3cc11f5caea3?source=collection_archive---------0-----------------------#2020-01-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="d343" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">JUnit 提供了跟踪异常以及检查代码是否抛出预期异常的功能。</p><p id="96ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> Junit4 </strong>提供了一种异常测试的方式，你可以使用</p><ul class=""><li id="dcd1" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">@test批注的可选参数(应为)</li></ul><p id="7217" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在对代码执行异常测试时，您需要确保您在<strong class="ig hi"> @test annotation </strong>的可选参数中提供的异常类是相同的，否则我们的<strong class="ig hi"> JUnit </strong>测试将会失败，因为它与您期望的来自方法的异常不匹配。</p><p id="2580" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">示例:<strong class="ig hi">@ Test(expected = nullpointerexception . class)</strong></p><p id="23d4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过使用“expected”参数，您可以指定我们的测试可能抛出的异常名称。在上面的例子中，您使用了“<strong class="ig hi">NullPointerException”</strong>，如果开发人员使用了不允许的参数，测试将会抛出这个异常。</p><p id="af4b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以空值作为输入测试排序数组的示例:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="b8f7" class="ju jv hh jq b fi jw jx l jy jz">public class SortArrayTest {<br/>    @Test<br/>    public void sortNullArray(){<br/>        int [] numbers = null;<br/>        Arrays.<em class="ka">sort</em>(numbers);<br/>    }<br/>}</span></pre><p id="6a64" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果将运行上述测试用例，它将失败，并出现异常“<strong class="ig hi">Java . lang . nullpointerexception</strong>”。</p><p id="eda3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，如果我们想为测试“<strong class="ig hi"> NullPointerException </strong>”编写一个测试用例，我们可以对上面的代码进行如下修改:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="996b" class="ju jv hh jq b fi jw jx l jy jz">public class SortArrayTest {<br/>    @Test(expected = NullPointerException.class)<br/>    public void sortNullArray(){<br/>        int [] numbers = null;<br/>        Arrays.<em class="ka">sort</em>(numbers);<br/>    }<br/>}</span></pre><p id="1274" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以现在我们的测试用例将会给我们带来成功，我们可以跟踪异常。</p><p id="c882" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">快乐编码:)</p></div></div>    
</body>
</html>