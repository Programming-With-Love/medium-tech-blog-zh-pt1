# 为什么我的动画没有运行？

> 原文：<https://medium.com/androiddevelopers/why-isnt-my-animation-running-34c529e76eaa?source=collection_archive---------2----------------------->

## 特别是当你的活动开始的时候

让我告诉你一个我去年花了大量时间调试的事情。我完全忘记了这件事，直到有一天有人提到他们用 Snackbar 看到的东西，结果是同样的事情。

那么问题是什么呢？如果我展示给你看会更简单:

您会注意到，我只是在这里点击打开了一个活动。有许多 TextInputLayouts，其中第一个在大约 200 毫秒后跳转到位。

那么为什么会出现视觉跳跃呢？TextInputLayout 只是运行一个动画并使其自身无效，经过调试，该动画确实运行良好。

事实证明，在 Android 4.0 的框架中增加了一个性能优化，允许你的视图层次在活动动画开始之前只进行一次绘制。一旦活动动画结束，您的视图层次结构将按照您的预期每隔 16 毫秒绘制一次。

令人欣慰的是，在 Android 7.0 中，这种优化已经从框架中删除了，结果是:

那我为什么要告诉你这些？如果你试图调试为什么你的视图在你的活动开始的时候没有被更新，你需要注意这一点。