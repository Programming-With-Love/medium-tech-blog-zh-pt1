<html>
<head>
<title>Creating a GitHub Organization using GraphQL API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GraphQL API创建GitHub组织</h1>
<blockquote>原文：<a href="https://medium.com/globant/creating-a-github-organization-using-graphql-api-ed407dc45b45?source=collection_archive---------0-----------------------#2022-07-13">https://medium.com/globant/creating-a-github-organization-using-graphql-api-ed407dc45b45?source=collection_archive---------0-----------------------#2022-07-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="6b7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">几周前，我偶然发现了一个利用API端点创建GitHub组织的目标。经过一番努力，终于找到了一个考虑GraphQL API的解决方案，并认为这是一个回报技术社区的好机会。</p><h1 id="4c83" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">简介</strong></h1><p id="af16" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">本文将回顾以下部分:</p><ul class=""><li id="dbdc" class="kf kg hh ig b ih ii il im ip kh it ki ix kj jb kk kl km kn bi translated"><strong class="ig hi"> GraphQL API </strong></li><li id="49a2" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi">为什么使用GraphQL API而不是REST API？</strong></li><li id="c185" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi"> GraphQL查询和变异操作</strong></li><li id="9b57" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi">graph QL端点</strong></li><li id="8781" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi">动手实验</strong></li><li id="d769" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi">结论</strong></li><li id="08a7" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kk kl km kn bi translated"><strong class="ig hi">参考文献</strong></li></ul><p id="d0e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> GraphQL API </strong></p><p id="5f8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GraphQL是一种用于API的查询语言，通过使用我们现有的数据来完成查询，满足了当今前端应用程序的苛刻要求。作为REST的替代方案，GraphQL允许开发人员在一个API调用中构造从多个数据源提取数据的请求。</p><p id="ff3a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">为什么使用GraphQL API而不是REST API？</strong></p><p id="dfae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GitHub没有使用REST API创建组织的规定；但是，它有一个GraphQL-endpoint来执行同样的任务。GitHub GraphQL API提供了比REST API更精确和灵活的查询，因此GraphQL成为了选择。</p><p id="c5cb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> GraphQL查询和变异操作</strong></p><p id="479e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GitHub的GraphQL API允许两种类型的操作</p><ol class=""><li id="e29b" class="kf kg hh ig b ih ii il im ip kh it ki ix kj jb kt kl km kn bi translated"><strong class="ig hi">查询</strong> —类似于REST API中的GET请求。</li><li id="bce7" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kt kl km kn bi translated"><strong class="ig hi">突变</strong> —突变名称决定执行哪一个修改。它的操作类似于REST API中的POST/PATCH/DELETE。</li></ol><p id="05ec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">graph QL端点</strong></p><p id="87e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GitHub GraphQL API有一个单一端点<a class="ae ku" href="https://api.github.com/graphql" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">https://api.github.com/graphql</strong></a></p><h2 id="5c20" class="kv jd hh bd je kw kx ky ji kz la lb jm ip lc ld jq it le lf ju ix lg lh jy li bi translated"><strong class="ak">事不宜迟，我们开始吧！</strong></h2><h1 id="f71c" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">先决条件</h1><p id="d405" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">在开始动手实验之前，我们应该确保以下先决条件列表。</p><ol class=""><li id="0012" class="kf kg hh ig b ih ii il im ip kh it ki ix kj jb kt kl km kn bi translated"><strong class="ig hi"> GitHub企业账户</strong></li><li id="b926" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kt kl km kn bi translated"><strong class="ig hi"> Postman工具</strong>—API客户端</li><li id="d4a4" class="kf kg hh ig b ih ko il kp ip kq it kr ix ks jb kt kl km kn bi translated"><strong class="ig hi">授权机制</strong> — <strong class="ig hi">具有管理员权限的GitHub PAT </strong>【个人访问令牌】</li></ol><h1 id="fef7" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">动手实验</h1><blockquote class="lj lk ll"><p id="abc4" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">第一步</strong>:登录<strong class="ig hi"> GitHub企业账号</strong>，记下你的GitHub企业的<strong class="ig hi"> Slug-Name </strong>。这里我的账号是“<strong class="ig hi"> Glob-EMU </strong>”。其中<strong class="ig hi"> slug </strong>是存储库名称的URL友好版本。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es lq"><img src="../Images/3a606b8febd7366b2156622e7d6b307e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VSsiYYSHyhe9WVA2"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">Capture Slug-name of GitHub Enterprise</figcaption></figure><blockquote class="lj lk ll"><p id="11d2" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">步骤2 </strong>:从下面提供的链接下载GitHub GraphQL 的<strong class="ig hi">公共模式— <a class="ae ku" href="https://docs.github.com/en/graphql/overview/public-schema" rel="noopener ugc nofollow" target="_blank">公共模式— GitHub文档</a></strong></p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/bca10d49a812a31e1a8f0a1c43683182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NDWT0hj6xVRlabwD"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">Download public schema for GitHub GraphQL API</figcaption></figure><blockquote class="lj lk ll"><p id="62ec" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">第三步:</strong>将<strong class="ig hi">公共模式</strong>导入到<strong class="ig hi"> Postman </strong>中，这是一个API客户端工具。</p><p id="f516" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">打开Postman并点击“<strong class="ig hi">导入</strong>选项卡</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/3be3616d1556b7fd4d9ebc2645e6a1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RvW4gu_xEsvUwxw3"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">Import Public schema into Postman</figcaption></figure><blockquote class="lj lk ll"><p id="bd87" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">上传</strong>在<strong class="ig hi">步骤2 </strong>中下载的<strong class="ig hi">公共模式文件</strong>。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/02987c05917d7a901acb55e1270dec90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*65jtW85FH1p2ONwT"/></div></div></figure><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/8bff4d44a45d27c2a4c6c4233d36b670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ADTH0CZw6878Kdq1"/></div></div></figure><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/7f3111d46baaa4501b18d4faeede1c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BJXK-9IItkBIRavQ"/></div></div></figure><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/f90e3bb21d61d67541d0fd5ef79eaf24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hKb9zDg_00xZ-mX5"/></div></div></figure><p id="1eb2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">关闭提示，观察一个名为“<strong class="ig hi">邮递员集合(来自GraphQL) </strong>的集合。请扩展它，您将看到GraphQL查询和变体出现在您的postman-collection中。</p><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/afc6dfeae17a9be723a2b8c0ef2be2b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rYhhILp4ecpRcWBR"/></div></div></figure><blockquote class="lj lk ll"><p id="a499" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">第四步</strong>:使用<strong class="ig hi"> GraphQL查询</strong>操作检索<strong class="ig hi"> GitHub Enterprise-ID </strong>。</p><p id="7527" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">转到我们集合内的<strong class="ig hi">查询</strong>，点击“<strong class="ig hi">企业</strong>”。</p><p id="c2d9" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">在授权<strong class="ig hi">部分</strong>中，将授权机制更新为<strong class="ig hi">“无记名令牌</strong>”，并输入<strong class="ig hi"> GitHub PAT </strong>作为值。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/61b0ffcdaa6a1accdfab673b26d6fffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xl3iB0cCfxWDqnrc"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">Retrieve GitHub Enterprise ID</figcaption></figure><blockquote class="lj lk ll"><p id="155f" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">更新我们在<strong class="ig hi">步骤1中捕获的企业的<strong class="ig hi">Slug-name</strong>,<strong class="ig hi">主体</strong>部分中的</strong>，由<strong class="ig hi">向</strong>发送请求。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/a8bc643a76963f700f679c2f4124559d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V97wAfhL4xW0eLaa"/></div></div></figure><p id="7bfe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">API响应将显示为“<strong class="ig hi"> 200 OK </strong>”，这是成功的HTTP请求的标准响应。从API响应中捕获<strong class="ig hi"> enterprise-ID </strong>，我们稍后将需要它。</p><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/8f0b6c5ac6c7666f312e097a327bb2c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L4l1MdkrygMUzDG2"/></div></div></figure><blockquote class="lj lk ll"><p id="619e" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">第五步</strong>:现在，让我们<strong class="ig hi">使用<strong class="ig hi">变异</strong>创建一个GitHub组织</strong>。</p><p id="018a" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">转到我们集合中的<strong class="ig hi">突变</strong>并点击“<strong class="ig hi">createEnterpriseOrganization”。</strong></p><p id="5a20" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">在授权<strong class="ig hi">部分</strong>中，将授权机制更新为<strong class="ig hi">“无记名令牌</strong>，并输入<strong class="ig hi"> GitHub PAT </strong>作为值。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/ebad342451dc20919470c20e0acf2b88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RoyM2CFeCWFPkfKl"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">Create GitHub Organization</figcaption></figure><blockquote class="lj lk ll"><p id="9fcf" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated">导航到<strong class="ig hi">主体</strong>部分，更新<strong class="ig hi">图表变量</strong>，如下所述</p><p id="b88e" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">“adminLogins”</strong>—我们通过其创建GitHub PAT[个人访问令牌]的管理员帐户。</p><p id="fb91" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">“账单邮件”</strong>:管理员账户的邮件ID</p><p id="66ee" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi"> "enterpriseId </strong>":拥有该组织的企业的Id。</p><p id="7824" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">“log in</strong>”和“<strong class="ig hi"> profileName </strong>”:要创建的组织的名称。</p><p id="1611" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">向</strong>发送请求。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/1d54d4d035868704c27cad9b517c5962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Rp3pa0IjPMHqrSrA"/></div></div></figure><p id="c4d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">API响应将显示为“<strong class="ig hi"> 200 OK </strong>”。名为“<strong class="ig hi">的GitHub组织GlobPocOrganization </strong>应该已经在GitHub企业账户中创建了。</p><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/6ef21575c0bd0f2eb9290c2c1d527dda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LaSsmVmLjNcYVgyq"/></div></div></figure><blockquote class="lj lk ll"><p id="93cb" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi">第六步</strong>:确认在我们的企业账户中创建的GitHub组织，名称为“<strong class="ig hi"> GlobPocOrganization </strong>”。</p></blockquote><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/6a8b2f923ea758bf33774a2dd29e7e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z1pgSRzdTTfRND8T"/></div></div><figcaption class="mc md et er es me mf bd b be z dx">GitHub Organization Created</figcaption></figure><figure class="lr ls lt lu fd lv er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es mg"><img src="../Images/db227478b41fc8e3125a7794b701ceb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MJZ-nSkizZVABTKO"/></div></div></figure><h1 id="7e62" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">结论</h1><p id="e06c" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated">GraphQL API帮助我们系统地解决复杂的API场景，因此在创建GitHub组织中起着至关重要的作用，因此所有者和管理员可以更好地控制成员对组织数据和项目的访问，并具有复杂的安全性。</p><h1 id="91a7" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">参考</h1><p id="0a76" class="pw-post-body-paragraph ie if hh ig b ih ka ij ik il kb in io ip kc ir is it kd iv iw ix ke iz ja jb ha bi translated"><strong class="ig hi"> GitHub组织</strong>——<a class="ae ku" href="https://docs.github.com/en/organizations" rel="noopener ugc nofollow" target="_blank">https://docs.github.com/en/organizations</a></p><p id="516b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">GitHub graph QL API</strong>——<a class="ae ku" href="https://docs.github.com/en/graphql" rel="noopener ugc nofollow" target="_blank">https://docs.github.com/en/graphql</a></p><blockquote class="lj lk ll"><p id="7e6e" class="ie if lm ig b ih ii ij ik il im in io ln iq ir is lo iu iv iw lp iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="hh">“不胫而走！”</em> </strong></p></blockquote></div></div>    
</body>
</html>