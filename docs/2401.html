<html>
<head>
<title>API Gateway Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">API网关第1部分</h1>
<blockquote>原文：<a href="https://medium.easyread.co/api-gateway-part-1-7901ba703f9?source=collection_archive---------2-----------------------#2019-08-31">https://medium.easyread.co/api-gateway-part-1-7901ba703f9?source=collection_archive---------2-----------------------#2019-08-31</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2c15" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解API网关的工作原理</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ab0fd32579ca112805c502850e08258a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nsvvT70HTaZ2HyHU"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@piyushwadhwa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Piyush Wadhwa</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kt"><p id="9490" class="ku kv in bd kw kx ky kz la lb lc ld dk translated">*警告—请喝咖啡以获得更好的体验*</p></blockquote></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><p id="8548" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">API网关系列列表</p><ul class=""><li id="5a9d" class="mg mh in ln b lo lp lr ls lu mi ly mj mc mk ld ml mm mn mo bi translated">API网关第1部分(<em class="mp">你在这里)</em></li><li id="1f5e" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated"><a class="ae ks" href="https://medium.com/easyread/api-gateway-part-2-7264ee5be187" rel="noopener"> API网关第二部分</a></li></ul></div><div class="ab cl le lf hr lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ig ih ii ij ik"><p id="5289" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">想象你正在建立一个网上商店。您的应用功能:</p><ul class=""><li id="f7bf" class="mg mh in ln b lo lp lr ls lu mi ly mj mc mk ld ml mm mn mo bi translated">命令</li><li id="34d9" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">产品详细信息</li><li id="189c" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">产品清单</li></ul><p id="55d0" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">基于上述所有功能，您可以获得以下服务:</p><ul class=""><li id="2426" class="mg mh in ln b lo lp lr ls lu mi ly mj mc mk ld ml mm mn mo bi translated">产品服务</li><li id="9777" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">订单服务</li><li id="7f4e" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">估价服务</li><li id="19ec" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">账户服务</li><li id="ace7" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">顾客评论服务</li><li id="6da4" class="mg mh in ln b lo mq lr mr lu ms ly mt mc mu ld ml mm mn mo bi translated">库存服务</li></ul><p id="86a3" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">因为您的应用程序使用微服务架构，并且数据分布在多个服务上。假设你打开主页，搜索杀虫剂。您的应用程序的UI需要产品数据、客户评论数据、库存数据的列表，可能还需要帐户数据来显示产品列表页面(如下图)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/535a28a55b44f32e14d7d8384f774ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gOjjQUaAETlccioj.png"/></div></div></figure><p id="fb2f" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">因此，显示产品列表的代码需要从<strong class="ln io">产品服务</strong>、<strong class="ln io">账户服务</strong>、<strong class="ln io">客户评论服务</strong>和<strong class="ln io">库存服务</strong>中获取信息。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/463fb2981a7303242dc52d57ba552ed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*xCllZ1upC-zC5l0eFvx2HA.png"/></div></figure><p id="50fe" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">在这个设计中，客户端应用程序扮演着<strong class="ln io"> API composer </strong>的角色。它调用多个服务并组合结果。<br/>那么，有什么问题呢？？？？虽然这个方法看起来很合理，但它有一些严重的问题。</p><h2 id="efe9" class="mx my in bd mz na nb dn nc nd ne dp nf lu ng nh ni ly nj nk nl mc nm nn no np bi translated">由于客户端发出多个请求，用户体验不佳</h2><p id="4a2d" class="pw-post-body-paragraph ll lm in ln b lo nq jo lq lr nr jr lt lu ns lw lx ly nt ma mb mc nu me mf ld ig bi translated">客户端必须发出多个请求来检索数据，并且需要按顺序执行请求。它要求客户端开发人员编写潜在复杂的<strong class="ln io"> API组合代码</strong>。</p><h2 id="38fb" class="mx my in bd mz na nb dn nc nd ne dp nf lu ng nh ni ly nj nk nl mc nm nn no np bi translated"><strong class="ak">缺乏封装</strong></h2><p id="a073" class="pw-post-body-paragraph ll lm in ln b lo nq jo lq lr nr jr lt lu ns lw lx ly nt ma mb mc nu me mf ld ig bi translated">服务的开发者有时会添加新的服务，甚至可能会更改API。但是，如果关于服务的知识是在客户端编写的，那么更改服务的API可能会很困难，并且可能会破坏现有的客户端。</p><h2 id="3dc0" class="mx my in bd mz na nb dn nc nd ne dp nf lu ng nh ni ly nj nk nl mc nm nn no np bi translated">对客户端不友好的协议</h2><p id="5723" class="pw-post-body-paragraph ll lm in ln b lo nq jo lq lr nr jr lt lu ns lw lx ly nt ma mb mc nu me mf ld ig bi translated">一些服务可能使用gRPC，或者AMQP消息协议。这类协议在内部工作良好，但是可能不容易被移动客户端使用。或者，某些协议的机制可能很难适应某些客户端平台。</p><h1 id="bf64" class="nv my in bd mz nw nx ny nc nz oa ob nf jt oc ju ni jw od jx nl jz oe ka no of bi translated">解决办法</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi og"><img src="../Images/69d6ba59da310a7e89d1f576dde169c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzqj15Kmpp1w-WW7xeFGgA.png"/></div></div></figure><p id="8159" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf ld ig bi translated">如何设计和创建API网关？我将在第二部分讨论它</p><h1 id="0dcb" class="nv my in bd mz nw nx ny nc nz oa ob nf jt oc ju ni jw od jx nl jz oe ka no of bi translated">谢谢你</h1><p id="a8e2" class="pw-post-body-paragraph ll lm in ln b lo nq jo lq lr nr jr lt lu ns lw lx ly nt ma mb mc nu me mf ld ig bi translated">我要再次感谢我所有的读者，我希望我会带着更多有趣的话题回来。</p></div></div>    
</body>
</html>