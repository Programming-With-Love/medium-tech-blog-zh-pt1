<html>
<head>
<title>Bagan: Automate experimentations on Gradle projects with Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bagan:使用Kubernetes对Gradle项目进行自动化实验</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/bagan-automate-experimentations-on-gradle-projects-with-kubernetes-a9eec002419c?source=collection_archive---------4-----------------------#2019-09-05">https://medium.com/google-developer-experts/bagan-automate-experimentations-on-gradle-projects-with-kubernetes-a9eec002419c?source=collection_archive---------4-----------------------#2019-09-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/b7049334d187317651244e3c0a4af1e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vEqowFv4ICNnqd5WLhjJ4g.png"/></div></div></figure><div class=""/><p id="f755" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Bagan是一个实验性框架，用于使用Kubernetes自动执行和收集Gradle项目的构建信息:</p><div class="hg hh ez fb hi jn"><a href="https://github.com/cdsap/Bagan" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd ht fi z dy js ea eb jt ed ef hr bi translated">cdsap/Bagan</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">Bagan是一个框架，有助于自动执行，报告和收集不同类型的数据…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">github.com</p></div></div><div class="jw l"><div class="jx l jy jz ka jw kb ho jn"/></div></div></a></div><h1 id="a9a2" class="kc kd hs bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">什么问题解决了？</strong></h1><p id="bb33" class="pw-post-body-paragraph ip iq hs ir b is la iu iv iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">几个月前，我想比较一下Android项目中<a class="ae lf" href="https://android-developers.googleblog.com/2018/11/r8-new-code-shrinker-from-google-is.html" rel="noopener ugc nofollow" target="_blank"> R8 </a>和Proguard的影响。我开始使用<a class="ae lf" href="https://github.com/gradle/gradle-profiler" rel="noopener ugc nofollow" target="_blank"> Gradle Profiler </a>，然后使用<a class="ae lf" href="https://github.com/cdsap/Talaiot" rel="noopener ugc nofollow" target="_blank"> Talaiot </a>来报告数据。我的问题是我的个人笔记本电脑(8gb)上的资源有限，以及我必须等待检查结果的时间。我探索了一些典型的CI选项，协调了不同分支中的变化，但我最终提出了一个更灵活的定制解决方案。</p><p id="4ccb" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">另一个需要解决的问题是从StackOverflow/Twitter上复制粘贴典型的魔法属性来加速我们的构建。我们的配置中的决策应该由度量/数据驱动和支持，并且应该匹配不同的开发环境。</p><p id="10b8" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就是Bagan诞生的原因，它提供:</p><ul class=""><li id="a283" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">依赖于Kubernetes Engine等环境提供的基础设施的可扩展解决方案。</li><li id="4b55" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">实验的快速反馈。</li><li id="a4a2" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">不需要客户端在存储库中进行额外的配置。</li><li id="ac64" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">可扩展到其他云解决方案。</li><li id="cc9c" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">支持私有存储库。</li></ul><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lu"><img src="../Images/1a127e63b480ef8577b52086ab7a91a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HQWXPvBmwiqhKAICfu8l2w.png"/></div></div></figure><h1 id="95d7" class="kc kd hs bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">执行蒲甘</strong></h1><p id="d81b" class="pw-post-body-paragraph ip iq hs ir b is la iu iv iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">一旦下载了存储库，就需要设置<code class="du lz ma mb mc b">bagan_conf.json</code>。在这里，您可以包含不同的属性，比如您想要应用的实验类型、目标存储库或者您想要在Kubernetes环境中使用的资源。</p><p id="b12f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Bagan通过遵循下一格式的<code class="du lz ma mb mc b">./bagan</code>命令执行:</p><p id="cb57" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">./bagan MODE COMMAND</code></p><p id="c105" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Bagan在Kubernetes环境中进行实验。对于每个实验，Bagan将创建一个Helm版本，它将运行应用实验的目标存储库的构建。</p><p id="0610" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了报告构建的信息，Bagan将在项目的Gradle配置中注入<a class="ae lf" href="https://github.com/cdsap/Talaiot" rel="noopener ugc nofollow" target="_blank"> Talaiot </a>并收集数据，使用InfluxDb作为时间序列数据库，使用Grafana作为仪表板可视化工具。Bagan可以部署一个新的集群或者使用一个现有的集群来执行在主conf文件中定义的实验。</p><p id="28c8" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">示例<code class="du lz ma mb mc b">bagan_conf.json</code>:</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="9c4a" class="mh kd hs mc b fi mi mj l mk ml">{<br/>   "bagan": {<br/>      "repository": "<a class="ae lf" href="https://github.com/android/plaid" rel="noopener ugc nofollow" target="_blank">https://github.com/android/plaid</a>",<br/>      "gradleCommand": "./gradlew clean :assembleDebug",<br/>      "clusterName": "bagan",<br/>      "machine": "n2-standard-2",<br/>      "zone": "asia-southeast1-b",<br/>      "private": false,<br/>      "ssh": "",<br/>      "known_hosts": "",<br/>      "iterations": 20,<br/>      "experiments": {<br/>         "properties": [<br/>            {<br/>               "name": "org.gradle.jvmargs",<br/>               "options": ["-Xmx2g","-Xmx4g","-Xmx6g"]<br/>            }<br/>         ]<br/>      }<br/>   }<br/>}</span></pre><p id="6e13" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该配置将在已配置的存储库中为Gradle属性<code class="du lz ma mb mc b">org.gradle.jvmargs</code>创建三个不同的实验，其值为“-Xmx2g”、“-Xmx4g”和“-Xmx6g”。</p><p id="825d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">模式</strong></p><p id="68bf" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Bagan使用模式来确定Kubernetes将用来设置配置和执行实验的环境。</p><p id="1867" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当前支持的模式有:</p><ul class=""><li id="b086" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">gcloud:它使用了Google Cloud的Kubernetes引擎解决方案。它需要安装<code class="du lz ma mb mc b"><a class="ae lf" href="https://cloud.google.com/sdk/" rel="noopener ugc nofollow" target="_blank">gcloud</a></code> <a class="ae lf" href="https://cloud.google.com/sdk/" rel="noopener ugc nofollow" target="_blank"> sdk </a>。<code class="du lz ma mb mc b">gcloud</code>工具将询问运行集群所选择的账户和项目id。</li><li id="4824" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">gcloud_docker:它使用了Kubernetes引擎解决方案，但是<code class="du lz ma mb mc b">gcloud</code>的所有必要配置都封装在一个名为<code class="du lz ma mb mc b">cdsap/bagan-init</code>的docker映像中。如果您不想安装额外的sdk，请使用此选项。</li><li id="bfcf" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">独立:如果您已经用一个现有的集群在本地配置了<code class="du lz ma mb mc b">kubectl</code>客户机，那么使用这个模式，独立于环境。如果你想在本地测试Bagan(并且你有足够的机器资源)，你可以使用<a class="ae lf" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> Minikube </a>。</li></ul><p id="8b9a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">命令</strong></p><p id="1acd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦我们选择了模式，我们需要指定我们想要在Bagan中执行哪个命令。有两组主要的命令:</p><ul class=""><li id="4a63" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">元命令:提供完整的Bagan执行的命令。它可能包含多个单一命令。</li><li id="7d68" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">单个命令:代表要在Bagan中执行的单个动作的命令。</li></ul><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mm"><img src="../Images/9a513f7db9edff02a3a7a3ead32f7e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RUwo99cO-ulhtT6XBkHQZw.png"/></div></div></figure><p id="03fa" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">元/单个命令的示例:</p><ul class=""><li id="2fda" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">./bagan gcloud cluster</code>:用gcloud创建集群，在集群中创建基础设施(Grafana，InfluxDb，services)并执行实验。</li><li id="e569" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">./bagan gcloud_docker experiment</code>:使用<code class="du lz ma mb mc b">bagan_conf.json</code>提供的配置执行gcloud Docker镜像触发的实验</li><li id="84fc" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">./bagan standalone experiment</code>:执行主机配置的<code class="du lz ma mb mc b">kubectl</code>中的实验。</li><li id="6ad9" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">./bagan gcloud_docker remove_experiments</code>:使用Gcloud Docker删除集群中以前的实验</li></ul><p id="f061" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">点击查看更多可用命令的细节。</p><p id="a556" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">实验</strong></p><p id="7175" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个实验是一个代表目标存储库的特定状态的实体。此状态与生成系统或控制版本系统的不同配置相关。</p><p id="d887" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">目前，Bagan支持三种不同类型的实验:</p><ul class=""><li id="9c3c" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">Gradle Properties:为Gradle属性指定不同的值。</li><li id="b88b" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">Gradle包装版本:指定包装的不同版本。</li><li id="a713" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">分支:为实验指定不同的分支。</li></ul><p id="db80" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了包含实验，我们需要使用<code class="du lz ma mb mc b">bangan_conf.json</code>:</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="fbc4" class="mh kd hs mc b fi mi mj l mk ml">"experiments": {<br/>        "properties": [<br/>            {<br/>               "name": "org.gradle.jvmargs",<br/>               "options": ["-Xmx3g","-Xmx4g"]<br/>            }<br/>         ],<br/>         "branch": [ "develop","master"]<br/>      }</span></pre><p id="aa5e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在执行过程中，Kotlin类<code class="du lz ma mb mc b">BaganGenerator.kt</code>将计算配置中包含的实验类型的不同组合。对于上述示例，组合为:</p><ul class=""><li id="2a2f" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">org.gradle.jvmargs="-Xmx3g"</code>并枝发展</li><li id="1fc0" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">org.gradle.jvmargs="-Xmx3g"</code>和分局局长</li><li id="a216" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">org.gradle.jvmargs="-Xmx4g"</code>并枝发展</li><li id="96ed" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">org.gradle.jvmargs="-Xmx4g"</code>和分公司主</li></ul><p id="8f88" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">稍后，在“<strong class="ir ht"> Pod实验执行”</strong>部分，我们将详细介绍实验的内部工作方式。</p><p id="8796" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">仪表板</strong></p><p id="3c8b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦执行完成，您可以在生成的Grafana实例上检查结果。</p><p id="1d5a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于每次执行，Bagan都会生成一个带有配置参数的仪表板:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mn"><img src="../Images/2ea3bcb87a07423c1b5430a23499fbee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WcoK16zqrTyWa2mVhqMurA.png"/></div></div></figure><p id="fe42" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在执行实验之前，创建Grafana和InfluxDb的部署。Grafana的发布包括一个为InfluxDb提供的数据源。稍后，会生成一个由<code class="du lz ma mb mc b">bagan_conf.json</code>提供配置的仪表板。仪表板包含五个面板:</p><ul class=""><li id="81d8" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">实验命令组图表。</li><li id="f66b" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">所配置命令的实验百分比(80%)。</li><li id="f930" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">实验和命令的最小构建时间。</li><li id="5940" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">实验赢家。</li><li id="5b8b" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">关于实验的信息。</li></ul><p id="088f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要访问仪表板，您必须访问:</p><p id="54b3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b"><a class="ae lf" href="http://IP:3000/d/IS3q0sSWz" rel="noopener ugc nofollow" target="_blank">http://IP:3000/d/IS3q0sSWz</a></code></p><p id="8f0e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要检索IP，您可以使用Bagan命令:</p><p id="b69b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">./bagan gcloud grafana_dashboard</code></p><p id="16ea" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">默认情况下，用户和密码是admin/admin。</p><p id="df7b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，您可以在Grafana中创建您的面板。它遵循Talaiot中使用的相同方案，即主要点<code class="du lz ma mb mc b">build</code>和<code class="du lz ma mb mc b">task</code>:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mo"><img src="../Images/0ad16a2b3d4aabf69ff8e292ce49b39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XXsQoPPnUqO-PqGOVnimuA.png"/></div></div></figure><h1 id="18ad" class="kc kd hs bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">蒲甘内部</h1><p id="d0a5" class="pw-post-body-paragraph ip iq hs ir b is la iu iv iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">在本节中，我们将探讨蒲甘的一些内部概念。如果您想更深入地探索，Github存储库包含更详细的信息。</p><p id="9d11" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> Kubernetes基础设施</strong></p><p id="821b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">独立于所选择的环境，库贝内特斯的蒲甘的一般基础设施是:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div class="er es mp"><img src="../Images/7ba68f66dca1a2fcf247ec5574458d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*FurX-B1KZ9qYloJVSjk5hw.png"/></div></figure><p id="15d7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了创建Grafana和InfluxDb的实例，我们使用Kubernetes包管理器<a class="ae lf" href="https://github.com/helm/helm" rel="noopener ugc nofollow" target="_blank"> Helm </a>。Helm也用于在Kubernetes创建实验。</p><p id="051d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在模式<code class="du lz ma mb mc b">gcloud</code>和<code class="du lz ma mb mc b">gcloud_docker</code>的情况下，创建额外的集群角色绑定对象供舵手/舵使用。</p><p id="32ff" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于<code class="du lz ma mb mc b">gcloud</code>和<code class="du lz ma mb mc b">standalone</code>，我们可以使用<code class="du lz ma mb mc b">kubectl</code>作为命令行界面来运行针对Kubernetes集群的命令:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mq"><img src="../Images/a60b0ec50279c8f26d8eb9cdd1279b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OhfdKYc5LKZuXXJT6jZWAg.png"/></div></div></figure><p id="4f80" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">此外，我们可以使用谷歌云控制台，<a class="ae lf" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com，</a>我们有一个用户界面来管理集群:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mr"><img src="../Images/bd31fd93bd883d212747b568ca80ceeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rw6BRg9xucBxxb4M3wPzcA.png"/></div></div></figure><p id="ff88" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">关于舵，我们可以在主机中使用舵命令:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ms"><img src="../Images/e48ba54a7efe348b35ddb6e8b3943bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UklurixJVH6ZrMoz-bKjkg.png"/></div></div></figure><p id="bd4e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> Pod实验执行</strong></p><p id="9f33" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">之前，我们看到<code class="du lz ma mb mc b">BaganGenerator.kt</code>创建了要执行的实验。每个实验都生成一个具有以下结构的舵释放:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div class="er es mt"><img src="../Images/adcdeed8ceaa6784fe29bd9248c77702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*FohnjgcN8NyibilKhyYqJw.png"/></div></figure><p id="cc41" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">values.yaml</code>包含Bagan conf中提供的与实验和配置相关的信息。</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="d5d9" class="mh kd hs mc b fi mi mj l mk ml"><strong class="mc ht">repository</strong>: https://github.com/android/plaid.git<br/><strong class="mc ht">branch</strong>: master<br/><strong class="mc ht">configMaps</strong>: configmapexperiment1<br/><strong class="mc ht">pod</strong>: experiment1<br/><strong class="mc ht">session</strong>: sessionId<br/><strong class="mc ht">name</strong>: experiment1<br/><strong class="mc ht">image</strong>: cdsap/bagan-pod-injector:0.1.6<br/><strong class="mc ht">command</strong>: ./gradlew assemble<br/><strong class="mc ht">iterations</strong>: 10</span></pre><p id="ca83" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">configmapexperimentN.yaml</code>包含为实验计算的排列数据:</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="3dcb" class="mh kd hs mc b fi mi mj l mk ml">apiVersion: v1<br/>kind: ConfigMap<br/>metadata:<br/>  name: {{ .Values.configMaps }}<br/>  labels:<br/>    app: bagan<br/>    type: experiment<br/>    session: {{ .Values.session }}<br/>data:<br/>  id: {{ .Values.name }}<br/>  properties: |<br/>               org.gradle.jvmargs=-Xmx6g<br/>               org.gradle.workers.max=1</span></pre><p id="9ba3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">构建的执行发生在由<code class="du lz ma mb mc b">podexperimentN.yaml</code>创建的pod内部。pod使用的Docker图像是<code class="du lz ma mb mc b">cdsap/bagan-pod</code>。</p><p id="db17" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该pod负责:</p><ul class=""><li id="610d" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">获取特定卷中的目标存储库。</li><li id="7d09" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">在项目中注入Talaiot</li><li id="5d98" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">应用Gradle属性和Gradle包装版本的实验，解析来自配置映射的数据。</li><li id="3fa4" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">执行给定N次迭代的构建</li></ul><p id="0b8e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">执行流程是:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mu"><img src="../Images/63dfc92833502b1c7512ccd986727680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cxyl6znHyReP8T9LlrnxKg.png"/></div></div></figure><p id="1136" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当Pod运行时，它将执行<code class="du lz ma mb mc b">ExperimentController.kt</code>(使用<a class="ae lf" href="https://github.com/holgerbrandl/kscript" rel="noopener ugc nofollow" target="_blank"> kscript </a>)开始在主Gradle配置文件(groovy/kts)中应用Talaiot:</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="f2fe" class="mh kd hs mc b fi mi mj l mk ml">publishers {<br/>    influxDbPublisher {<br/>        dbName = "tracking"<br/>        url = "http://bagan-influxdb.default:8086"<br/>        taskMetricName = "tasks"<br/>        buildMetricName = "build"<br/>    }<br/>}</span></pre><p id="713f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">稍后，<code class="du lz ma mb mc b">ExperimentController.kt</code>将解析配置图的数据，并将应用不同的实验。请注意，在分支实验的情况下，实验将在Pod中应用，而不是在配置图中应用。</p><p id="67b3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在实验的执行过程中，我们可以在Google Cloud控制台中与实验相关的Pod日志中检查构建的输出:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mv"><img src="../Images/cfb333354afb76069635935c107337d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_NL8a6esDyVfVZpFWlF3A.png"/></div></div></figure><p id="991f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以及实验所用资源的细节:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mw"><img src="../Images/28c03015a0f74868561df226fc72181c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TUnFlqpZ1HYlQ9bsj8tEbQ.png"/></div></div></figure><p id="ef45" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">模式要求</strong></p><p id="697f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">gcloud</code></p><ul class=""><li id="3af9" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">https://stedolan.github.io/jq/<a class="ae lf" href="https://stedolan.github.io/jq/" rel="noopener ugc nofollow" target="_blank"/></li><li id="4514" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">g cloud:<a class="ae lf" href="https://cloud.google.com/sdk/" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/sdk/</a></li><li id="4734" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">k script:<a class="ae lf" href="https://github.com/holgerbrandl/kscript" rel="noopener ugc nofollow" target="_blank">https://github.com/holgerbrandl/kscript</a></li></ul><p id="2213" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">gcloud_docker</code></p><ul class=""><li id="093e" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">jq:<a class="ae lf" href="https://stedolan.github.io/jq/" rel="noopener ugc nofollow" target="_blank">https://stedolan.github.io/jq/</a></li><li id="c5d1" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">https://www.docker.com/</li></ul><p id="94c9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lz ma mb mc b">standalone</code></p><ul class=""><li id="65ec" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">https://stedolan.github.io/jq/</li><li id="6818" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated"><code class="du lz ma mb mc b">kubectl</code>用现有集群配置</li></ul><p id="1fce" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">蒲甘的成本</strong></p><p id="7524" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果您使用Google Cloud作为Kubernetes环境，您应该考虑试验成本的影响。Android项目在内存消耗方面非常昂贵，并且在没有足够强大的机器资源的情况下创建多个组合将导致实验失败:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mx"><img src="../Images/284d67c3cd727de1de5d1b1bd11f0a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i3Nqrgaa87kBKcmQqiPEQw.png"/></div></div></figure><p id="b4f0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">增加机器的资源将有助于实验的成功执行，但它带来了更多的资源消耗，也就是金钱。请记住，不同实验的更多排列将产生更多的豆荚。例如，这种配置:</p><pre class="lv lw lx ly fd md mc me mf aw mg bi"><span id="96e4" class="mh kd hs mc b fi mi mj l mk ml">"experiments": {<br/>   "properties": [<br/>      {<br/>         "name": "org.gradle.jvmargs",<br/>         "options": ["-Xmx3g","-Xmx4g"]<br/>      },<br/>      {<br/>         "name": "org.gradle.caching",<br/>         "options": ["true","false"]<br/>      },<br/>   ],<br/>   "branch": [ "develop","master"],<br/>   "gradleWrapperVersion" : ["5.5", 5.4"]<br/>}</span></pre><p id="f5c1" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将产生16个实验:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es my"><img src="../Images/fb1b09bf0b942b6c0e51d83d27692e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nENLoSVQmVckCg22W3XOrw.png"/></div></div></figure><p id="3756" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于在蒲甘使用的机器没有限制，对于中小型项目，我们推荐n2系列(每小时成本):</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es mz"><img src="../Images/f49ae7df6c6a96a8f6b5ad00bcb528bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VCTwODwN8NKJ-PVr3VG0iA.png"/></div></div></figure><p id="3150" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">但是，你想用哪种类型的机器来做实验取决于你自己。您可以在此查看机器类型的更多详细信息:</p><div class="hg hh ez fb hi jn"><a href="https://cloud.google.com/compute/docs/machine-types" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd ht fi z dy js ea eb jt ed ef hr bi translated">机器类型|计算引擎文档|谷歌云</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">无论您的企业是刚刚踏上数字化转型之旅，还是已经走上数字化转型之路，谷歌云的解决方案…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">cloud.google.com</p></div></div></div></a></div><p id="7e8d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下一份报告描述了在20-30次迭代中，使用4-16-24-16次实验排列的<code class="du lz ma mb mc b">n2-standard-8</code>机器执行六次Bagan:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es na"><img src="../Images/738407b35c8e48bb955c23d082d974d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z3qluk3MaUY_NtTl-jAYkQ.png"/></div></div></figure></div><div class="ab cl nb nc go nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ha hb hc hd he"><figure class="lv lw lx ly fd hj er es paragraph-image"><div class="er es ni"><img src="../Images/1b5556d6539e45e8c98ee83175fcb223.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/1*m6DzVzaNoGcgqu-PN45jiQ.png"/></div></figure><p id="b304" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> <em class="nj">如果您仅使用Google Cloud为Bagan创建集群，我们建议在实验和结果评估完成后删除它。</em> </strong></p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es nk"><img src="../Images/006ecfde39833a7dc4e74cc8debaca09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9WQV4T9OaOIIV1TUKNpWiA.png"/></div></div></figure><h1 id="1bba" class="kc kd hs bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">例子</h1><p id="2707" class="pw-post-body-paragraph ip iq hs ir b is la iu iv iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">下面的例子只是简单的用例，展示了如何在你的项目中进行实验。</p><p id="2634" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">用例1 </strong></p><p id="f456" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个包含三个模块的私有存储库的简单例子。</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es nl"><img src="../Images/45565b1215a95ea81fbf42fe5b7c8c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLDIsMcajnTu3XYTf7pLGw.png"/></div></div></figure><p id="3806" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将生成两个Gradle属性类型的实验:</p><ul class=""><li id="9517" class="lg lh hs ir b is it iw ix ja li je lj ji lk jm ll lm ln lo bi translated">-Xmx3g</li><li id="967b" class="lg lh hs ir b is lp iw lq ja lr je ls ji lt jm ll lm ln lo bi translated">-Xmx4g</li></ul><p id="01ba" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结果:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es nm"><img src="../Images/4c3ed7a98f6e37a93f6712a9cbc4df82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dKYwu--1_I6axLKteo1CAA.png"/></div></div></figure><p id="29e6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">用例2 </strong></p><p id="b58b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">尝试谷歌项目<a class="ae lf" href="https://github.com/android/plaid" rel="noopener ugc nofollow" target="_blank">格子</a>，探索kapt属性。</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es nn"><img src="../Images/6b19aea91bf2722c0809bd820f43a8d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SW75-ZWsMHVc2UJxSqVWKg.png"/></div></div></figure><p id="a2a6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将产生16个实验:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es no"><img src="../Images/efa5855bf977973d7201198d49065a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vl98Jgpyna08T0eHssL31Q.png"/></div></div></figure><p id="17e9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结果:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es np"><img src="../Images/c422bc00c5722b59c857a59b94519387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nsPbLEcCe3bghsl0DZJGvw.png"/></div></div></figure><p id="5328" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Plaid项目中，我们没有意识到使用像<code class="du lz ma mb mc b">kapt.incremental.apt</code>和<code class="du lz ma mb mc b">kapt.use.worker.api</code>这样的属性的显著差异。但是，您可以注意到在Gradle构建中使用缓存的好处。</p><p id="ff64" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">用例3 </strong></p><p id="ee84" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Igor Wojda对Android Showcase项目的实验🤖，具有Gradle属性和不同的Gradle包装器版本。</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ns"><img src="../Images/bc4b90a246d5d8fa8dbd9e5c2da1cd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JYNPripnPv89iWMXVyhs7A.png"/></div></div></figure><p id="d99f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结果:</p><figure class="lv lw lx ly fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es nt"><img src="../Images/6f278dad4c1ddf8a510885a03fae619f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Cm22-od8zbI5KJVuO20qg.png"/></div></div></figure><p id="f50c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最好的时机是使用格雷尔<code class="du lz ma mb mc b">5.6.1</code>。JVM args实验中没有显著的差异。</p><h1 id="2ebd" class="kc kd hs bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">后续步骤</h1><p id="eac3" class="pw-post-body-paragraph ip iq hs ir b is la iu iv iw lb iy iz ja lc jc jd je ld jg jh ji le jk jl jm ha bi translated">存储库中有更多的详细信息，比如如何部署定制映像以及Bagan的生命周期是如何工作的。</p><p id="8e5c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们希望很快扩展Bagan，进行更多类型的实验，如不同的Docker映像(java版本控制)，应用abi更改，远程缓存和对多个Gradle命令的支持。</p><p id="c4ac" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请继续关注，如果您愿意，您可以投稿，以下是资源库:</p><div class="hg hh ez fb hi jn"><a href="https://github.com/cdsap/Bagan" rel="noopener  ugc nofollow" target="_blank"><div class="jo ab dw"><div class="jp ab jq cl cj jr"><h2 class="bd ht fi z dy js ea eb jt ed ef hr bi translated">cdsap/Bagan</h2><div class="ju l"><h3 class="bd b fi z dy js ea eb jt ed ef dx translated">Bagan是一个框架，有助于自动执行，报告和收集不同类型的数据…</h3></div><div class="jv l"><p class="bd b fp z dy js ea eb jt ed ef dx translated">github.com</p></div></div><div class="jw l"><div class="jx l jy jz ka jw kb ho jn"/></div></div></a></div><p id="ace6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">非常感谢您抽出时间。</p><p id="492d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">PS:当然，如果有机会，去参观一下<a class="ae lf" href="https://en.wikipedia.org/wiki/Bagan" rel="noopener ugc nofollow" target="_blank">蒲甘</a>，最近被联合国教科文组织列入世界遗产。</p></div></div>    
</body>
</html>