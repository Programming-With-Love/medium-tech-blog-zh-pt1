<html>
<head>
<title>CI/CD Pipeline Setup with GitLab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitLab设置CI/CD管道</h1>
<blockquote>原文：<a href="https://medium.com/globant/ci-cd-pipeline-setup-with-gitlab-46c36bc58eb3?source=collection_archive---------0-----------------------#2022-10-18">https://medium.com/globant/ci-cd-pipeline-setup-with-gitlab-46c36bc58eb3?source=collection_archive---------0-----------------------#2022-10-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/94962f596f54ca9bb69ee418132a1579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L79gtOQZkcuBdkAv"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><strong class="bd it">CI/CD with GitLab</strong></figcaption></figure><h1 id="8f89" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated"><strong class="ak"> <em class="jr"> CI/CD带GitLab: </em> </strong></h1><p id="d39d" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><em class="kq">这篇文章将指导你如何用GitLab设置CI/CD管道。</em></p><p id="2038" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">持续集成和持续交付(CI/CD)是一种自动构建和部署代码的方法，为您提供更高的速度和可靠性。它分两部分完成:持续集成(CI)和持续交付(CD)。持续集成是将代码持续集成到您的存储库的主要分支中，并自动测试它的实践。连续交付就是让您的代码进入可交付状态，这样只需点击一个按钮就可以部署它。或者，在连续部署的情况下，如果所有测试都通过了，就自动部署您的代码。</em></p><p id="29e0" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">在本文中，我们将涉及下述主题。</em>T11】</strong></p><ul class=""><li id="28c0" class="kw kx hh ju b jv kr jz ks kd ky kh kz kl la kp lb lc ld le bi translated"><em class="kq">在GitLab上注册</em></li><li id="f03b" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp lb lc ld le bi translated"><em class="kq">设置GitLab运行程序</em></li><li id="bfc5" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp lb lc ld le bi translated"><em class="kq">设置GitLab CI管道</em></li></ul><h1 id="70a0" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">假设:</h1><ol class=""><li id="8886" class="kw kx hh ju b jv jw jz ka kd lk kh ll kl lm kp ln lc ld le bi translated"><em class="kq">你对基于Linux和Unix的平台有基本的了解。</em></li><li id="b715" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp ln lc ld le bi translated"><em class="kq">你对docker &amp;的图像有基本的了解。</em></li></ol><p id="ed93" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">如果满足以上所有假设，让我们开始GitLab项目及其管道设置。</p><h1 id="e00c" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">在GitLab上注册:</h1><p id="2b4c" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">一旦我们成功注册GitLab门户网站，我们将会看到以下页面。</p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/bfad7997616b12dc98b005d97f094bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W8VTeGcWkbJgd2eV"/></div></div></figure><p id="ffd7" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">git lab的欢迎页面</em></p><p id="90f1" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">现在我们需要创建一个项目，并在项目存储库中创建一个分支。</p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/0a7368ddaca8088cc769f75efb5e2f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RDYxAy6g7esqR7-z"/></div></div></figure><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/d1c22a97c457edee805c70d8d171fbe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l5ePfNXwMzxgx1n_"/></div></div></figure><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/62f0e8711ecda293884a2fdae849d8ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0EVnQU9_1nKO_M8T"/></div></div></figure><p id="8cb7" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">这里项目已经创建成功。</em></p><h1 id="266e" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">设置GitLab运行程序:</h1><p id="08f9" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><em class="kq"> GitLab Runner是一个与GitLab CI/CD配合使用的应用程序，用于在管道中运行作业。</em></p><p id="5fc8" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">各级跑者范围:</em> </strong></p><p id="148c" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">根据您想联系的人，您可以找到跑步者:</em></p><ol class=""><li id="e729" class="kw kx hh ju b jv kr jz ks kd ky kh kz kl la kp ln lc ld le bi translated"><em class="kq">git lab实例中的所有组和项目都可以使用共享的runners。</em></li><li id="b94d" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp ln lc ld le bi translated"><em class="kq">组跑步者可用于组中的所有项目和子组。</em></li><li id="97a4" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp ln lc ld le bi translated"><em class="kq">特定跑者与特定项目关联。通常，特定的转轮一次用于一个项目。</em></li></ol><p id="a15f" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">更多详情，请前往</em></strong><a class="ae lv" href="https://docs.gitlab.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hi"><em class="kq">https://docs.gitlab.com/</em></strong></a></p><p id="7d8c" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">这里我要设置具体的跑步者。</em>T59】</strong></p><p id="33bd" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">在设置特定的runner之前，我假设您有一台Ubuntu Linux机器来在这台机器上设置Runner。</p><p id="dbc7" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第一步:先通过putty登录Ubuntu机器。</em> </strong></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/24339295d4aeddc86fc75e04d548f71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WffsiGK2qKH12vy-"/></div></div></figure><p id="81f9" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第二步:只需为您的系统下载一个二进制文件:</em> </strong></p><p id="f278" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">Linux x86–64 sudo</em></p><p id="9f4d" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"># curl-L—output/usr/bin/git lab-runner " https://git lab-runner-downloads . S3 . Amazon AWS . com/latest/binaries/git lab-runner-Linux-amd64 "</em></p><p id="394e" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第三步:给它执行的权限:</em> </strong></p><p id="7726" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"># sudo chmod+x/usr/bin/git lab-runner</em></p><p id="43f2" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第四步:创建GitLab CI用户:</em> </strong></p><p id="7715" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"># sudo useradd—comment ' git lab Runner '—create-home git lab-Runner—shell/bin/bash</em></p><p id="0f81" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">第五步:安装并作为服务运行:</em> </strong></p><p id="60b1" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"># sudo git lab-runner install—user = git lab-runner—working-directory =/home/git lab-runner</em></p><p id="c116" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> #sudo gitlab-runner开始</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/9178cb80ba8c639b3e8ec19cbb34ac00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1h0J-Vz-kW2NHdWn"/></div></div></figure><p id="043a" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">注意:</em> </strong> <em class="kq">确保你在</em> <strong class="ju hi"> <em class="kq">【路径】</em></strong> <em class="kq">中有</em><strong class="ju hi"><em class="kq">/usr/local/bin</em></strong><em class="kq">，否则你可能会得到一个</em> <strong class="ju hi"> <em class="kq">【命令未找到】</em> </strong> <em class="kq">的错误。或者，您可以将</em><strong class="ju hi"><em class="kq">git lab-runner</em></strong><em class="kq">安装在不同的位置，比如</em><strong class="ju hi"><em class="kq">/usr/bin</em></strong><em class="kq">。</em></p><h2 id="3cb8" class="lw iv hh bd it lx ly lz iz ma mb mc jd kd md me jh kh mf mg jl kl mh mi jp mj bi translated">下一步是将GitLab Runner注册到GitLab:</h2><p id="bcd4" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">启用GitLab项目的运行者:</em> </strong></p><p id="a3e9" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第一步:在顶栏上选择</em> <strong class="ju hi"> <em class="kq">主菜单&gt;组</em> </strong> <em class="kq">，找到你的组。</em></p><p id="2b24" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第二步:在左侧栏选择</em> <strong class="ju hi"> <em class="kq">设置&gt; CI/CD </em> </strong> <em class="kq">。</em></p><p id="db45" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第三步:展开</em> <strong class="ju hi"> <em class="kq">转轮</em> </strong> <em class="kq">。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/547f802190684037361d6e845d2b15c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mvbMzMQtcPafIjgt"/></div></div></figure><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/fb1ec88d072f25d196a56a503dd876f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nF-iZIQjxtP4a6Bi"/></div></div></figure><p id="d97b" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> GitLab跑步者</em></p><p id="6e2a" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">在此图中，我们可以看到没有特定的跑步者注册。</p><p id="c0db" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">在Linux下注册一个runner:</em></strong></p><p id="590a" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">登录Ubuntu机器，运行以下命令:</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/181693c0a3204d314e0195a2229ee13a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_ReE6a6TDqVZTLjj"/></div></div></figure><p id="34c3" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq"> sudo gitlab-runner寄存器</em>T101】</strong></p><p id="3f37" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">运行该命令后，它将询问下述细节，提供这些细节，您的跑步者就准备好了。</em></p><p id="a73e" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> a .输入您的GitLab实例URL(也称为gitlab-ci协调器URL)。</em></p><p id="92d3" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> b .输入您获得的令牌来注册跑步者(这些细节您可以从您的GitLab项目&gt;设置&gt; CI/CD &gt; Runners】中获得)</em></p><p id="a1d2" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">输入跑步者的描述。您可以稍后通过GitLab用户界面更改该值。</p><p id="702e" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> d .输入与跑步者相关的标签，用逗号分隔。您可以稍后通过GitLab用户界面更改该值。</em></p><p id="4132" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">e .为转轮输入任何可选的维护说明。</p><p id="10aa" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> f .提供亚军遗嘱执行人。对于大多数用例，输入docker。</em></p><p id="a2d6" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> g .如果您输入docker作为您的执行人，您将被要求输入默认图像，用于在中没有定义图像的项目。gitlab-ci.yml. </em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/c8f5f67e7e3cd5b5cab3a3647c58a887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JO9OGCLU6s3rFI4r"/></div></div></figure><p id="cf66" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">提供这些详细信息后，我们可以看到我们的特定跑步者已经成功配置。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/b268164f2159a09dc860f786d1002ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NylISacc828ZTggV"/></div></div></figure><p id="40a7" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">现在我们需要将gitlab runner设置为runner机器上的sudo用户，并将docker设置为runner机器上的后端。</em></p><p id="bd7c" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">将gitlab-runner用户添加到sudoers文件中。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/2b33b97e66a9a0386a7d3584982b7e68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bgObIw1q4ecfUxme"/></div></div></figure><p id="7618" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> #apt-get -y更新</em></p><p id="ca12" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> #apt-get -y安装docker </em></p><p id="c927" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq"> #apt-get -y安装docker.io </em></p><h1 id="41e3" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">设置Gitlab CI管道:</h1><p id="0065" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">现在我们来设置管道:</em> </strong></p><p id="a30b" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">为了运行管道，首先我们需要编写。gitlab-ci.yml YML文件。</p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/1bd3fb134f487abf9b39be327b35134a.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/0*kKRxpRDQxUIlFl99"/></div></div></figure><p id="bf35" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><strong class="ju hi"> <em class="kq">本文件说明:</em> </strong></p><p id="03df" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">第1行:我们可以使用' # '在yml文件中输入注释。</p><p id="d714" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第2–4行:此处流程将分两个阶段执行:构建&amp;部署。</em></p><p id="faa5" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第6–7行:我们可以在docker上指定运行代码的节点版本的映像。</em></p><p id="99b6" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">第9–16行:工作是创建一个构建。</em></p><p id="0a41" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated">第18–25行:工作是做测试。</p><p id="2ed0" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">在这里我们可以为作业指定任何我们想要的名称，阶段名称必须与阶段中定义的相同。</em></p><p id="6235" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">在主分支中添加此yml文件后，我们可以检查管道。</em></p><p id="85ff" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">我们提交后。gitlab-ci.yml文件，管道执行开始。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/e677a90b5dba08317a5df8e784e15832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vhYkMo8338g14NtZ"/></div></div></figure><p id="d864" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">提交。gitlab-ci.yml文件。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/a54059886f51645967e9bf30899d1f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ANn0T8YbAnk4qSMc"/></div></div></figure><p id="8b26" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">提交后，我们的管道已成功执行和完成，有关更多详细信息，请单击作业，然后单击特定作业以查看其日志和详细信息。</em></p><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/9fe60ebd30924fd3c7bf93649ae4f61c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NWRNUl5tGQkCka59"/></div></div></figure><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/88f4fc52d6c443021f6c44591f24e8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cz-Qq2dqZQw47Z2B"/></div></div></figure><figure class="lp lq lr ls fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lo"><img src="../Images/ef6ab81fcde3c16976069629582fe935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*72QSXrupsSXv75DD"/></div></div></figure><p id="8070" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">这里，GitLab管道已经执行成功。</em></p><p id="f2a5" class="pw-post-body-paragraph js jt hh ju b jv kr jx jy jz ks kb kc kd kt kf kg kh ku kj kk kl kv kn ko kp ha bi translated"><em class="kq">快乐学习:)</em></p><h1 id="5441" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated"><strong class="ak"> <em class="jr">总结:</em> </strong></h1><p id="bbbf" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><em class="kq">通过本文，我们能够了解到，如何使用特定的gitlab-runner创建GitLab管道并运行管道。</em></p><h1 id="8eff" class="iu iv hh bd it iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">参考资料:</h1><p id="7844" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated"><em class="kq">以下链接是创建本文档的一部分。</em></p><ul class=""><li id="340f" class="kw kx hh ju b jv kr jz ks kd ky kh kz kl la kp lb lc ld le bi translated"><a class="ae lv" href="https://docs.gitlab.com/ee/ci/quick_start/index.html" rel="noopener ugc nofollow" target="_blank"><em class="kq">https://docs.gitlab.com/ee/ci/quick_start/index.html</em></a></li><li id="21d8" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp lb lc ld le bi translated"><a class="ae lv" href="https://docs.gitlab.com/ee/ci/yaml/gitlab_ci_yaml.html" rel="noopener ugc nofollow" target="_blank"><em class="kq">https://docs.gitlab.com/ee/ci/yaml/gitlab_ci_yaml.html</em></a></li><li id="e0e4" class="kw kx hh ju b jv lf jz lg kd lh kh li kl lj kp lb lc ld le bi translated"><a class="ae lv" href="https://docs.gitlab.com/runner/install/" rel="noopener ugc nofollow" target="_blank"><em class="kq">https://docs.gitlab.com/runner/install/</em></a></li></ul></div></div>    
</body>
</html>