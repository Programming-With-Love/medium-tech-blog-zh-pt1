<html>
<head>
<title>Amazon QLDB: Bringing the power of blockchain to your databases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Amazon QLDB:为您的数据库带来区块链的力量</h1>
<blockquote>原文：<a href="https://medium.com/globant/amazon-qldb-bringing-the-power-of-blockchain-to-your-databases-7979c28e857f?source=collection_archive---------0-----------------------#2022-10-07">https://medium.com/globant/amazon-qldb-bringing-the-power-of-blockchain-to-your-databases-7979c28e857f?source=collection_archive---------0-----------------------#2022-10-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a1ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">合著:</strong> <a class="ae jc" rel="noopener" href="/@riteshmenon">里泰什·梅农</a><br/>T5】领英 : <a class="ae jc" href="https://www.linkedin.com/in/mayank-vora/" rel="noopener ugc nofollow" target="_blank">马扬克·沃拉</a>，<a class="ae jc" href="https://www.linkedin.com/in/riteshmmenon/" rel="noopener ugc nofollow" target="_blank">里泰什·梅农</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f227a527c8cb2c795ab94b08fbab335d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbqVw1lYMwLObgleAcwuzw.jpeg"/></div></div></figure><p id="a3df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">分类账</strong>通常用于记录一个组织的经济和财务活动的历史。许多组织创建具有类似分类帐功能的应用程序，因为他们希望维护数据的准确历史记录。例如，他们可能希望跟踪供应链网络中某个项目的移动，或者跟踪银行交易中的借贷历史。在关系数据库中创建的自定义审计表或审计跟踪经常用于实现分类帐应用程序。此外，定制审计表和跟踪需要定制开发，这需要更多的时间和资金投入。此外，在定制开发中，人为错误是常见的。</p><p id="eaa7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">近年来，我们看到<a class="ae jc" href="https://en.wikipedia.org/wiki/Distributed_ledger" rel="noopener ugc nofollow" target="_blank">分布式账本技术(DLT) </a>被广泛采用，如<a class="ae jc" href="https://en.wikipedia.org/wiki/Blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>用于记录保存。这些分布式分类账是分散的，因为没有中央管理员或数据库，并且使用<a class="ae jc" href="https://www.geeksforgeeks.org/consensus-algorithms-in-blockchain/" rel="noopener ugc nofollow" target="_blank">共识算法</a>通过对等网络建立认证。这些记录是不可变的，通过使用<a class="ae jc" href="https://www.onlinehashcrack.com/how-to-hashing-in-blockchain-explained.php" rel="noopener ugc nofollow" target="_blank">哈希算法</a>如SHA-256、SHA-512和其他算法，可以进行密码验证。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/c97f7a3f22e19ec5b6de7da178c910fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTtS-tl6kRBcVmesCfuLDg.png"/></div></div></figure><p id="c3a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上图描述了一个分布式账本，它是一个由n个节点组成的对等网络。网络节点是独立的计算机，用于同步分布式分类帐中的交易。<br/>共识协议确保了添加到分布式网络中的每个新块都是网络中所有节点都同意的唯一版本的真相。一旦建立了信任，对分类帐的任何改变或添加都会立即反映并复制给所有参与者。</p><p id="a276" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分布式分类帐大致有两种类型:</p><ol class=""><li id="2fa4" class="jq jr hh ig b ih ii il im ip js it jt ix ju jb jv jw jx jy bi translated">当需要一个透明的、分布式的、安全的、为更大的社区服务的开放网络时，就需要一个公共分布式分类帐。</li></ol><p id="01ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，加密货币(<a class="ae jc" href="https://bitcoin.org/en/" rel="noopener ugc nofollow" target="_blank">比特币(BTC) </a>和<a class="ae jc" href="https://ethereum.org/" rel="noopener ugc nofollow" target="_blank">以太坊</a> (ETH))基于公共区块链技术，交易是透明的、不可变的和分布式的。这些交易由网络参与者验证，这些参与者拥有所需的硬件，被称为“矿工”任何人都可以作为矿工加入网络，并通过验证交易和向区块链添加新区块来获得奖励。</p><p id="3fa5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">公共分类账变得更加安全，因为它变得更加分散和活跃。随着越来越多的人使用网络，任何类型的攻击都变得更加难以得逞。</p><p id="4e5b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<strong class="ig hi">当组织希望利用分布式分类帐功能，同时限制封闭分布式网络中特定用户的访问权限时，私有分布式分类帐</strong>是一个不错的选择。例如，在专用分类账中维护员工工资、销售、采购、租金、文具、保险等记录。Hyperledger 和<a class="ae jc" href="https://ripple.com/" rel="noopener ugc nofollow" target="_blank"> Ripple </a>是私人区块链的两个流行例子。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jz"><img src="../Images/b186c5f5e621d20ba9c7a2e85e821ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*STaL9fOPfC7PZ_NuWGwvhw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/79884b7bb6f05192d6859038d236dca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DK2j4uUjSGog_3Yr2kQP-g.jpeg"/></div></div></figure><p id="6e77" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">分布式分类帐在某些情况下是有效的，但不是在所有情况下都有效。这种系统有一些缺点，如下所列:</p><ul class=""><li id="3921" class="jq jr hh ig b ih ii il im ip js it jt ix ju jb kb jw jx jy bi translated">网络需要更多时间来达成共识并验证交易。</li><li id="04c8" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">高能耗。</li><li id="f0af" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">增加了应用程序的复杂性。</li></ul><p id="2b46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，在某些情况下，组织(如金融机构)不希望与任何其他方共享分类账，而是更喜欢在集中式系统上跟踪数据。</p><p id="4659" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一些需要思考的问题:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/06e03f12cea56c54479ae856d4340d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yrt8P5-nA4ztvgWaqftJ8A.jpeg"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/97a96d3766ce6d5695a063e8fbec5990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kY7KYRM9iVjGwgX4MR8qWg.jpeg"/></div></div></figure><h1 id="57a3" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">亚马逊QLDB是什么？</strong></h1><p id="f75e" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">Amazon QLDB是一种新的集中式分类帐数据库，它可以更容易地避免开发自己的类似分类帐的应用程序的耗时过程。</p><p id="329c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其突出特点如下:</p><ul class=""><li id="9c4f" class="jq jr hh ig b ih ii il im ip js it jt ix ju jb kb jw jx jy bi translated"><strong class="ig hi">不变性&amp;透明性:</strong>传统数据库(SQL和No-SQL)将数据存储为表或JSON文档模型。这些传统数据库中的数据可以被任何能够访问该数据库的人修改，从而导致数据冲突和操纵。<br/> Amazon QLDB包含一个以不可变方式存储数据的日志。日志是仅追加的，这意味着数据只能添加到其中，不能修改或删除。即使从分类帐中删除数据，您也可以从不可变的日记帐中读取数据，以查看数据的更改历史。</li><li id="c87a" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">可密码验证:</strong>由于传统数据库缺乏自动数据加密，数据文件容易被黑客直接读取或修改。其中一些数据库与加密技术不兼容。<br/>亚马逊QLDB使用加密来创建你的变化的简要历史。加密哈希函数(SHA-256)用于生成这一安全摘要，也称为摘要。您可以使用摘要作为数据更改历史的证据，及时返回并验证数据修改的准确性。</li><li id="ee67" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">高度可扩展:</strong> Amazon QLDB是一个无服务器数据库，它提供无缝、自动的扩展来满足应用程序的需求，无需提供容量或配置读写限制。Amazon QLDB使Amazon CloudWatch指标可用于分类帐。我们可以使用QLDB查看读写io的关键操作指标。</li><li id="50dd" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">审计日志&amp;历史:</strong>传统数据库不跟踪文档历史，只存储文档的当前状态。因此，这些数据库无法提供现成的审计试验。市场上的许多SQL Server审计解决方案缺乏确保防篡改审计的能力。<br/> QLDB无需额外配置即可提供审计跟踪。我们可以通过使用Amazon QLDB查询历史变化的摘要来获得事务历史细节。</li><li id="5a9c" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">part QL支持</strong>:它使用开源的、类似SQL的查询语言<a class="ae jc" href="https://partiql.org/" rel="noopener ugc nofollow" target="_blank">part QL</a>，允许我们使用熟悉的SQL操作符查询、管理和更新数据。<a class="ae jc" href="https://amzn.github.io/ion-docs/" rel="noopener ugc nofollow" target="_blank"> Amazon Ion </a>是QLDB使用的面向文档的数据模型。Amazon Ion是JSON的超集。Ion是一种开源的、基于文档的数据格式，提供了存储和处理结构化、半结构化和嵌套数据的灵活性。</li><li id="e1d5" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">流功能:</strong>亚马逊QLDB的流功能使<a class="ae jc" href="https://aws.amazon.com/kinesis/" rel="noopener ugc nofollow" target="_blank">亚马逊Kinesis </a>数据流能够对存储在QLDB中的数据进行近乎实时的更新。这使我们能够对新事件(如银行分类账应用程序中的账户余额变化)做出快速反应，并轻松与下游服务(如AWS Lambda、Amazon Redshift、Amazon Elasticsearch)集成。</li><li id="6ae8" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">易于使用:</strong> Amazon QLDB使用面向文档的数据模型存储数据，该模型提供了存储结构化和半结构化数据的灵活性。</li></ul><h1 id="2b83" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">QLDB特性的快速浏览</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/ea0eb11e9c4ade1ca1e5765c212364be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4RZi2vAtDq859sXmmLPGQ.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx"><strong class="bd kj">Amazon QLDB Walkthrough</strong></figcaption></figure><p id="19bf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们在QLDB上编译了以下演练视频，以便您快速了解以下概念:</p><ul class=""><li id="927d" class="jq jr hh ig b ih ii il im ip js it jt ix ju jb kb jw jx jy bi translated">QLDB入门</li><li id="a03e" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">创建一个分类帐并执行基本的CRUD操作。</li><li id="35c6" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">如何以编程方式将QLDB与Node JS应用程序连接起来？</li><li id="0e2d" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">QLDB如何以不可变的方式存储数据？</li><li id="ad09" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">怎么才能看到交易历史？</li><li id="ad6d" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated">如何用密码验证这些记录？</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="lk ll et er es lm ln bd b be z dx">Amazon QLDB Demo</figcaption></figure><h1 id="650b" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">哪些组织已经采用了QLDB？</h1><p id="a53e" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">有关已经成功使用QLDB的组织的详细列表，请查看此<a class="ae jc" href="https://aws.amazon.com/qldb/customers/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">链接</strong> </a>。</p><h1 id="cf90" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">QLDB有什么限制吗？</h1><p id="d0ca" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">每种技术都会有局限性，QLDB也是如此。下面列出了QLDB的一些限制:</p><ul class=""><li id="9e49" class="jq jr hh ig b ih ii il im ip js it jt ix ju jb kb jw jx jy bi translated"><strong class="ig hi">是否可以对分类帐进行快照或备份？</strong> —目前，Amazon QLDB不支持备份和恢复。目前具备向S3出口的能力。我们可以使用此功能将QLDB分类帐的内容导出到S3。</li><li id="78a9" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">是否可以将总账恢复到某个特定的时间点？</strong> —截至目前，亚马逊QLDB不支持时间点恢复功能。</li><li id="bae0" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">可以对数据进行排序吗？</strong> —不支持使用ORDER BY子句进行排序。因此，查询结果的排序没有保证。</li><li id="6828" class="jq jr hh ig b ih kc il kd ip ke it kf ix kg jb kb jw jx jy bi translated"><strong class="ig hi">QLDB支持分页吗？</strong>-使用LIMIT子句不支持分页。</li></ul><p id="0fb0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">QLDB仍处于起步阶段，但前景看好。上述限制有望在未来的版本中得到解决。</p><p id="3e1b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我想你心里也会有一个类似的问题:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/5b94d34b26ce228a3f37687462c51c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEhaFCz0jel6Awt3e2jxnQ.jpeg"/></div></div></figure><p id="e2f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让这个简单的工作流程指导您做出决定…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/deaf6eb865e7a4f1c7b3aa1b50841104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CoyIUZOozjCCVLSh4SMYvg.jpeg"/></div></div></figure><h1 id="bd35" class="kh ki hh bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated"><strong class="ak">结论</strong></h1><p id="0f21" class="pw-post-body-paragraph ie if hh ig b ih lf ij ik il lg in io ip lh ir is it li iv iw ix lj iz ja jb ha bi translated">区块链和其他分布式账本技术越来越受欢迎，因为它们以不可变、安全和密码可验证的方式保存记录。因此，传统数据库可能会让位于更强大的基于区块链的数据库，这些数据库以集中的方式存储数据，以实现更快的操作、可伸缩性和可持续性。分类账数据库，如Amazon QLDB或ImmuDB似乎是可行的选择，在未来可能会被广泛采用。</p></div></div>    
</body>
</html>