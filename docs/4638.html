<html>
<head>
<title>Software Versions are Broken</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件版本被破坏</h1>
<blockquote>原文：<a href="https://medium.com/javascript-scene/software-versions-are-broken-3d2dc0da0783?source=collection_archive---------4-----------------------#2015-11-20">https://medium.com/javascript-scene/software-versions-are-broken-3d2dc0da0783?source=collection_archive---------4-----------------------#2015-11-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/79858f558f3a8363d5e686c8c1ab14f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xxi5vVJeLrsbS6BXFuuLQ.jpeg"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">A Broken Frame — Heiner Adams (CC BY 2.0)</figcaption></figure><div class=""/><p id="9bb1" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我承认。像Node社区中的几乎每个人一样，我习惯于滥用npm的保存功能:</p><pre class="jr js jt ju fd jv jw jx jy aw jz bi"><span id="9631" class="ka kb hw jw b fi kc kd l ke kf">npm install --save lodash</span></pre><p id="e959" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">问题是，它使用一个整洁的小插入符号<em class="kg"> `^` </em>来表示你的软件应该自动使用不间断的修改。</p><p id="4b46" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但这可能很危险。我们都知道<a class="kh ki ge" href="https://medium.com/u/c9acea0bae6e?source=post_page-----3d2dc0da0783--------------------------------" rel="noopener" target="_blank">约翰-大卫·道尔顿</a>是一个来自未来的不可阻挡的机器人。<em class="kg">查看自拍:</em></p><figure class="jr js jt ju fd hj"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="4600" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">什么？你不知道吗？他的名字是约翰。<a class="ae kl" href="https://en.wikipedia.org/wiki/John_Connor" rel="noopener ugc nofollow" target="_blank">巧合？我认为不是。</a></p><p id="08f0" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果他在秘密任务中通过在我们所有的代码中植入定时炸弹来阻止天网呢？总有一天，他会对lodash做一个突破性的改变，下一次你<em class="kg"> `npm install` </em>，<strong class="iv hx"> BOOM！</strong></p><p id="9317" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">你的代码会崩溃。因为他不会递增主版本号……<em class="kg">(偷偷摸摸的机器人)</em>。</p><p id="e1e5" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当然，如果你真的想保护自己，从<em class="kg"> `package.json` </em>中删除所有的<em class="kg"> `^` </em>符号，并将<em class="kg"> `save-exact=true` </em>添加到你的【t22 `~/. npmrc ` .中，然后说服你的整个团队也这样做(将这个粘贴到Slack中):</p><pre class="jr js jt ju fd jv jw jx jy aw jz bi"><span id="ecda" class="ka kb hw jw b fi kc kd l ke kf">echo "save-exact=true" &gt;&gt; ~/.npmrc</span></pre><p id="d7b2" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但实际上，只有10个人会去做。我们努力建立的美丽的天网注定要失败。</p><h2 id="2169" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">这是你的错</h2><p id="7d69" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">不过，洛达什并不是我们未来人造人类的最大威胁。你是。每次你庆祝一个新的<strong class="iv hx"> 1.0 </strong>发布或者你惊人的、彻底改造的<strong class="iv hx"> 2.0 </strong>，你都在增加问题。</p><p id="6c36" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">但你不是一个孤独的超级恶棍。我所看到的每一个地方，都有项目将永远抛在脑后，将主要版本视为营销发布，而不是它们的真实面目:这是软件的一个迹象，表明即将发生重大变化。</p><p id="a517" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们未来的机器人霸主在这场迫在眉睫的灾难中幸存的可能性非常小:我们需要<strong class="iv hx">将版本名称与版本号</strong>分开，并对<a class="ae kl" href="http://semver.org/" rel="noopener ugc nofollow" target="_blank"> SemVer </a>付出更多而不是口头上的支持。</p><p id="c838" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">而不是少校。Minor.Patch，think<strong class="iv hx">breaking . feature . fix .</strong></p><p id="d847" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">忘记旧的。它从未存在过。只有<strong class="iv hx"> Breaking.Feature.Fix. </strong></p><h2 id="c7e6" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">从1.0.0开始</h2><p id="0ba5" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">但是如果要这样做，我们需要从1.0.0开始我们的模块。Semver允许您在0.x.x版本上启动模块，并在不增加主版本号的情况下随时中断。但是这可能是有问题的，因为这样你就不容易判断一个改变是否破坏了现有的API。从1.0.0开始，这个问题就解决了。</p><h2 id="d107" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">WTF？</h2><p id="d48b" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">版本号是<strong class="iv hx">唯一的</strong>在那里传达变更的性质:<strong class="iv hx">破坏。特征修复</strong>。</p><p id="91f1" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">交流，“嗨，大家好，我们有一个新版本！下面是新功能！”<strong class="iv hx">使用版本名而不是版本号。</strong></p><h2 id="d607" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">为什么？</h2><p id="0928" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">发布和版本应该是不同的概念，因为需要传达新发布和重要更新的消息(即<em class="kg">营销</em>)，以及需要通知像<strong class="iv hx"> npm </strong>这样的系统关于(突破、新功能或修复/安全补丁)变化的<em class="kg">性质是两个<strong class="iv hx">不同的关注点</strong>，它们在<strong class="iv hx">不同的时间表</strong>上推进。</em></p><p id="1a12" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hx">版本号</strong>和<strong class="iv hx">公开发布版本</strong>的合并已经在软件开发社区中导致了一个大问题。开发人员倾向于打破语义版本编号，例如，抵制推进打破(主要)版本号的需求，因为他们还没有准备好向人们发布他们的下一个主要版本。</p><p id="2241" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">换句话说，我们需要两种不同的方法来跟踪变更:</p><ul class=""><li id="851a" class="lk ll hw iv b iw ix ja jb je lm ji ln jm lo jq lp lq lr ls bi translated">一个用于人员和公告(<strong class="iv hx">姓名</strong>)。</li><li id="5698" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">一个用于软件&amp;解决版本冲突问题(<strong class="iv hx">号</strong>)。</li></ul><h2 id="b016" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">版本名称(又名代码名称)</h2><p id="edcf" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">我的主要版本都有代号，而不是版本号。当前版本由“最新”标签标识。第一个版本永远是“mvp”。然后我们选择一个主题，从A到z按字母表顺序排列。</p><p id="f962" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当谈到发布版本时，我们不说“版本附庸风雅”，我们说“最新版本今天发布，代号为‘附庸风雅’”。之后，我们只是称之为“附庸风雅”或“最新版本”。更容易识别的代号例子包括“Windows Vista”或“OS X Yosemite”。</p><h2 id="7bf6" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">最有价值球员</h2><p id="cc50" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">MVP代表“最小<strong class="iv hx">有价值的</strong>产品”(普通“最小可行产品”的更好版本)。使产品对用户有价值的最少功能。</p><figure class="jr js jt ju fd hj er es paragraph-image"><div class="er es ly"><img src="../Images/3cabd4ce708b3fe3049fa7ee2aeaec44.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/0*L_8ue-aiOlgDhmDJ.png"/></div></figure><h1 id="70a1" class="lz kb hw bd km ma mb mc kq md me mf ku mg mh mi kx mj mk ml la mm mn mo ld mp bi translated">版本号</h1><p id="a36f" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">版本号基本上都是<a class="ae kl" href="http://semver.org/" rel="noopener ugc nofollow" target="_blank">sever</a>，除了我对版本角色使用了语义名称，例如<strong class="iv hx"> Breaking。修复</strong>"而不是"专业。小调。补丁”。</p><h2 id="b2ae" class="ka kb hw bd km kn ko kp kq kr ks kt ku je kv kw kx ji ky kz la jm lb lc ld le bi translated">打破。功能.修复</h2><p id="87ba" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">我们不能决定版本是什么。API的变化决定了。版本号是给电脑用的，不是给人用的。发布名称是给人用的。</p><p id="5f15" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hx">断路</strong></p><p id="77ef" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">任何重大变更，<strong class="iv hx">无论多小</strong>都会增加重大版本号。增加破坏性版本号与发布一个版本完全没有关系。</p><p id="fcd9" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hx">特色</strong></p><p id="62aa" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当添加任何新功能时。这可能小到一个新的公共属性，也可能大到一个新的模块契约被公开。</p><p id="269d" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hx">搞定</strong></p><p id="5a2d" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当一个文档化的特性没有像文档化的那样运行时(并且很少或没有软件依赖于这种被破坏的行为)，或者当一个安全问题被发现并修复而没有改变文档化的行为时。</p><p id="f4c6" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果许多软件依赖于不完整的文档化行为，这是一个突破性的改变。相应增加<strong class="iv hx">断开</strong>。</p><h1 id="17f5" class="lz kb hw bd km ma mb mc kq md me mf ku mg mh mi kx mj mk ml la mm mn mo ld mp bi translated">例子</h1><p id="6215" class="pw-post-body-paragraph it iu hw iv b iw lf iy iz ja lg jc jd je lh jg jh ji li jk jl jm lj jo jp jq ha bi translated">如果是时候写一篇博客来通知社区关于新的特性或重要的变化，找到你想要公布的版本，标记为“最新”，并给它一个<strong class="iv hx">人类可读的名字</strong>(例如，“MVP”、“Aardvark”等……)。</p><p id="e99c" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">那个人类可读的版本名<strong class="iv hx">并不能取代SemVer </strong>。“MVP”可能对应于v1.6.23或v 2 . 2 . 5——关键是，<strong class="iv hx">编号版本与命名版本</strong>无关。</p><p id="6a71" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有编号的版本是为了让<strong class="iv hx"> npm </strong>和<strong class="iv hx">开发者</strong>能够分辨出一个新版本是否是一个<strong class="iv hx">突破性的改变</strong>，一个<strong class="iv hx">增加的特性</strong>，或者一个<strong class="iv hx"> bug /安全补丁</strong>。</p><p id="d790" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在开始为你的下一个公开版本设计酷的代号吧。</p></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><h1 id="4b4c" class="lz kb hw bd km ma mx mc kq md my mf ku mg mz mi kx mj na ml la mm nb mo ld mp bi translated"><a class="ae kl" href="https://ericelliottjs.com/" rel="noopener ugc nofollow" target="_blank">跟随埃里克·埃利奥特学习JavaScript】</a></h1><ul class=""><li id="da2b" class="lk ll hw iv b iw lf ja lg je nc ji nd jm ne jq lp lq lr ls bi translated">在线课程+定期网络广播</li><li id="250e" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">软件测试</li><li id="c5f8" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">JavaScript的两大支柱(原型OO +函数式编程)</li><li id="5e91" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">通用JavaScript</li><li id="9672" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">结节</li><li id="1a8a" class="lk ll hw iv b iw lt ja lu je lv ji lw jm lx jq lp lq lr ls bi translated">反应</li></ul></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><p id="dfa6" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><strong class="iv hx"> <em class="kg">埃里克·艾略特</em> </strong> <em class="kg">著有</em> <a class="ae kl" href="http://pjabook.com" rel="noopener ugc nofollow" target="_blank"> <em class="kg">【编程JavaScript应用】</em> </a> <em class="kg">(奥赖利)，以及</em> <a class="ae kl" href="https://leanpub.com/learn-javascript-react-nodejs-es6/" rel="noopener ugc nofollow" target="_blank"> <em class="kg">【学习JavaScript通用App开发用节点，ES6，&amp;【React】</em></a><em class="kg">。他为Adobe Systems</em><strong class="iv hx"><em class="kg"/></strong><em class="kg"/><strong class="iv hx"><em class="kg">尊巴健身</em></strong><em class="kg"/><strong class="iv hx"><em class="kg">华尔街日报</em></strong><em class="kg"/><strong class="iv hx"><em class="kg">【ESPN</em></strong><em class="kg"/><strong class="iv hx"><em class="kg">BBC</em></strong><em class="kg">等顶级录音师贡献了软件经验</em></p><p id="61a2" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">他大部分时间都在旧金山湾区和世界上最美丽的女人在一起。</p></div></div>    
</body>
</html>