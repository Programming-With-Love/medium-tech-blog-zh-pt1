<html>
<head>
<title>Application Deployment on OpenStack via OneOps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过OneOps在OpenStack上部署应用</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/application-deployment-on-openstack-via-oneops-9c08e561530b?source=collection_archive---------4-----------------------#2016-09-22">https://medium.com/walmartglobaltech/application-deployment-on-openstack-via-oneops-9c08e561530b?source=collection_archive---------4-----------------------#2016-09-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/2573c60f6dd1da0ecacc3894df991914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/0*M9C1s3q_v5uGR7qf."/></div></figure><p id="bbf8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="http://www.oneops.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi"> OneOps </strong> </a>是一个面向<a class="ae jj" href="https://en.wikipedia.org/wiki/DevOps" rel="noopener ugc nofollow" target="_blank"> DevOps </a>的多云和开源编排平台，具有以下主要优势:</p><ul class=""><li id="10f9" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated"><strong class="in hi"> DevOps编排</strong>:集成流行的开源或免费DevOps工具，并在一个漂亮的web UI上编排它们。</li><li id="d42a" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi">模型驱动的应用程序模板</strong>:一旦创建了一个模板，就可以无限制地重用和部署“最佳实践”。</li><li id="0331" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi">云不可知</strong>:支持在主要公共云和私有云上部署</li><li id="7d7c" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi">卓越运营</strong>:<em class="jy"/>自动驾驶<strong class="in hi"><em class="jy"/></strong>应用程序-扩展、修复甚至替换不健康的实例。还与web UI上的监控和警报功能完全集成。</li><li id="a45c" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">推广DevOps文化:将开发人员、质量保证人员和运营人员聚集在一起，加速产品交付，降低运营成本。</li></ul><p id="ccc1" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="http://www.openstack.org" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi"> OpenStack </strong> </a>是一个开源软件云计算平台，主要用于部署类似亚马逊Web Service (AWS)的基础设施即服务(IaaS)解决方案，已经成为业界构建私有云事实上的<em class="jy">标准。</em></p><p id="00af" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">OneOps可以在主要的公共云提供商、私有云(如OpenStack)甚至裸机上部署和管理应用程序。在本文中，我们将看到如何通过OneOps在OpenStack上部署一个简单的数据库应用程序(<a class="ae jj" href="https://www.mysql.com/" rel="noopener ugc nofollow" target="_blank"> MySQL </a>)。</p><p id="043d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">由于本文将用作POC(“概念验证”)或演示目的，因此我将使用100%“免费”、公开的兼容解决方案。</p><ul class=""><li id="dfda" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated"><a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="in hi"> TryStack </strong> </a>作为OpenStack的提供者，因为这是试用OpenStack最简单免费的方式。</li><li id="b8e1" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">OneOps(全合一流浪汉)，唯一的要求就是下载<a class="ae jj" href="https://www.virtualbox.org/wiki/Downloads" rel="noopener ugc nofollow" target="_blank"> VirtualBox </a>和<a class="ae jj" href="https://www.vagrantup.com/downloads.html" rel="noopener ugc nofollow" target="_blank">流浪汉</a>。</li></ul><p id="4b9b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在Trystack.org已经有很多关于建立OpenStack的文章，我发现<a class="ae jj" href="https://edwardsamuel.wordpress.com/2014/10/25/tutorial-creating-openstack-instance-in-trystack/" rel="noopener ugc nofollow" target="_blank">这篇</a>非常简洁明了。</p><p id="c754" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">只有两件事值得注意:</p><ul class=""><li id="b81b" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">务必填写专用网络的DNS(8.8.8.8 ),否则OpenStack VM无法解析所有域名。</li><li id="845c" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">分配一个浮动IP(但此时不需要与计算实例相关联)</li></ul><p id="75da" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><a class="ae jj" href="https://github.com/oneops/setup" rel="noopener ugc nofollow" target="_blank">这里</a>提供了安装OneOps的步骤，如下:</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="364f" class="ki kj hh ke b fi kk kl l km kn">git clone <a class="ae jj" href="https://github.com/oneops/setup" rel="noopener ugc nofollow" target="_blank">https://github.com/oneops/setup</a> <br/>cd setup/vagrant-centos7<br/>vagrant up</span></pre><p id="75c8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jy">流浪起来</em>将在本地虚拟机上创建一个OneOps的最小安装。接下来，我们可能希望SSH进入虚拟机，并在终端中跟踪OneOps部署日志。这样做的目的是:万一在应用程序部署期间出现错误，我们将知道发生了什么。</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="5fa0" class="ki kj hh ke b fi kk kl l km kn">vagrant ssh <br/>sudo -s <br/>cd /opt/oneops/inductor <br/>inductor tail</span></pre><p id="2b05" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">打开本地网络浏览器，进入<a class="ae jj" href="http://localhost:9090" rel="noopener ugc nofollow" target="_blank"> http://localhost:9090，</a>注册一个新用户，创建一个“组织”。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ko"><img src="../Images/bb8761b0ef534f0084d7404285dfe399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2UWCaGhzvoXLV0LS."/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Add a new organization</figcaption></figure><p id="ea8f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">然后创建新的云。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es kx"><img src="../Images/73efa3a10263824268a818708307e546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ourbj8w1x5uV9FBT5wnTiw.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Create a new cloud</figcaption></figure><p id="3837" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">确保从“位置”下拉列表中选择“流浪者”。之后，我们将开始在新的云中添加一些必需的服务。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ky"><img src="../Images/f951c946dca726e603563c49690ddc35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tyIbAyj0O6Tdpll0."/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Add a service to the cloud</figcaption></figure><h2 id="914c" class="ki kj hh bd kz la lb lc ld le lf lg lh iw li lj lk ja ll lm ln je lo lp lq lr bi translated">计算服务</h2><p id="9bf7" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">计算服务提供了计算的基础模块，如CPU、内存、本地存储、网络等。因为我们计划使用OpenStack(由<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">trystack.org</a>提供)作为我们的计算主干，所以在“计算”类别下选择“nova (public/oneops)”。见下图示例。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es lx"><img src="../Images/c556b5b86b225b4cb43874a897015546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*LA_sXQsGAWdjUT9Tmogk4g.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx">Choose “nova” as compute service</figcaption></figure><p id="3960" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">然后配置如下几个参数:</p><p id="b6c7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> API端点</strong>:该值应该来自<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">Trystack.org</a>。登录<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">Trystack.org</a>，进入“计算”——&gt;“访问&amp;安全”——&gt;“API访问”，找到“身份”的值，复制&amp;粘贴然后追加“/令牌”。因此，API端点将看起来像“<a class="ae jj" href="http://8.43.86.2:5000/v2.0/tokens" rel="noopener ugc nofollow" target="_blank">http://8.43.86.2:5000/v2.0/tokens</a>”</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ly"><img src="../Images/e8580169dd762a444b399fa1a7eada91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vejRl0dT2PXQOtsZ.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Get API Endpoint from Trystack.org</figcaption></figure><p id="3e20" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">租户/用户名</strong>:这些值是你的<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">Trystack.org</a>用户名。例如，facebook10156829676395043</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es lz"><img src="../Images/6af14cee3ca3cb628e66c6f089b5c80e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/0*vApykqDZ1jmUc4WW."/></div><figcaption class="kt ku et er es kv kw bd b be z dx">Get Tenant/Username</figcaption></figure><p id="bba7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">密码</strong>:可以从您的【Trystack.org】账户设置<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">中获得。“设置”-&gt;“API密码”- &gt;“请求API密码”。显示密码后，您可能会自动注销，必须重新登录。</a></p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ly"><img src="../Images/bb8a8a1335364a0bcb7bd1fefaf0cbdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uESRLieuG36221DW.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Get API Password from Trystack.org</figcaption></figure><p id="b14f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">整个“身份验证”部分将如下所示:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/351c9fd9da26d75e3e01e621c1e4bf4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/0*rZKoSzOrz2sqO5AS.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx">“Autentication” section</figcaption></figure><p id="faf7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">接下来我们将转到“位置”部分，我们只需要指定以下两项:</p><ul class=""><li id="d609" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">地区:“新星”</li><li id="3070" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">公网类型:选择“浮动”</li></ul><p id="f56d" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">“位置”部分可能类似于:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es mb"><img src="../Images/55283509d9f939a07cb7af36d9bf7163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*4da3hy_Xfn4lacNYdpyOgw.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx">“Placement” Section</figcaption></figure><p id="3847" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在“映射”部分，查找“图像映射”。在本演示中，我们将使用“centos-7.0”，并填写“centos-7.0”的映像ID。图像ID可以在你登录后的Trystack.org上找到:“计算机”-&gt;“图像”。找到“CentOS7”然后点击。</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es ly"><img src="../Images/1e997c36ca46cd04a97943517d1466ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MIhX1s2fem6Pea6f."/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Get CentOS 7 Image ID</figcaption></figure><p id="cf33" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">从Trystack.org<a class="ae jj" href="http://trystack.org/" rel="noopener ugc nofollow" target="_blank">复制ID值并粘贴到OneOps:</a></p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es mc"><img src="../Images/f6d064d5f03be3ac9574a17d792010b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/0*Erbt-vznZUjiCmkL."/></div><figcaption class="kt ku et er es kv kw bd b be z dx">Input the image ID into OneOps</figcaption></figure><p id="86f5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在“操作系统”部分，</p><ul class=""><li id="c4b2" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">操作系统类型:选择“CentOS 7.0”。<strong class="in hi">注</strong>撰写本文时，OneOps可能只支持Ubuntu 14.04和CentOS 7.0。</li><li id="1974" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">初始用户名:“centos”。如果使用Ubuntu 14.04，这个值应该是“Ubuntu”。</li></ul><p id="731e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">总体而言，它将如下所示:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es md"><img src="../Images/9b2f093733a6dc64f91eb4b3e16f0e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/0*utIEEn1T9DSO1YrI."/></div></figure><p id="f619" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">到目前为止，我们已经完成了<strong class="in hi">计算服务</strong>。保存配置，让我们添加DNS和GDNS服务。</p><h2 id="6510" class="ki kj hh bd kz la lb lc ld le lf lg lh iw li lj lk ja ll lm ln je lo lp lq lr bi translated">DNS服务</h2><p id="467d" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">DNS服务对于通过OneOps部署的大多数应用程序非常有用，因为(1)将基于DNS服务创建一个FQDN，它将在OneOps管理的所有应用程序中唯一标识一个应用程序，(2) FQDN可以有效地充当应用程序的一致“入口点”(DNS负载平衡)，无论在FQDN后面添加、删除或替换了多少实例。用户只需要连接到FQDN，请求将被路由到工作实例。FQDN的一个很好的例子是“www.google.com”。</p><p id="bfad" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">要向OneOps添加DNS服务，我们需要首先找到(1)域名和(2)DNS提供商。</p><p id="f4cc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">域名</strong>:有很多网站提供免费域名。你可以选择你喜欢的，但是在这里我将选择<a class="ae jj" href="http://www.freenom.com" rel="noopener ugc nofollow" target="_blank">http://www.freenom.com</a>并且以下步骤基于它:</p><p id="a8e5" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">创建新域(如oneops-demo.ml)后，单击“管理域”-&gt;“管理工具”-&gt;“名称服务器”-&gt;“使用自定义名称服务器(在下面输入)”。为此域输入两个名称服务器。在这里，我们将使用Rackspace名称服务器如下，我会解释为什么。</p><ul class=""><li id="423a" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated">DNS1。STABLETRANSIT.COM</li><li id="50b7" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated">DNS2。STABLETRANSIT.COM</li></ul><p id="5e15" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">保存上面的新名称服务器。举个例子，</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div class="er es me"><img src="../Images/1d87e901e004425acb7fc4a50611f7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*7QVvvXIE05a8tf0vPbOSfQ.png"/></div><figcaption class="kt ku et er es kv kw bd b be z dx">Use custom name servers</figcaption></figure><p id="f535" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们已经注册了一个新的免费域名，并为其建立了域名服务器。接下来，我们将找到一个DNS提供商。</p><p id="e763" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> DNS提供商</strong> : Rackspace为每个账户(【https://www.rackspace.com/en-us/cloud/dns】T2)提供免费的DNS，所以我们只需要注册一个Rackspace账户，如果我们没有的话。</p><p id="14d0" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">登录Rackspace帐户后，选择“网络”-&gt;“云DNS”-&gt;“创建域”。域名将是刚刚创建的域名(例如oneops-demo.ml)。两个名称服务器将自动添加:(1)dns1.stabletransit.com(2)dns2.stabletransit.com，域名后，在Rackspace中创建。</p><p id="2d08" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">请参见以下示例:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es mf"><img src="../Images/1082f7cd37d071b2e260d20979607ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tCS_cvMks1rVbY1e2z7cQ.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">Add a DNS provider in Rackspace</figcaption></figure><p id="014f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在让我们回到OneOps:创建一个由“rackspace-dns”支持的DNS服务，然后指定以下参数:</p><ul class=""><li id="e022" class="jk jl hh in b io ip is it iw jm ja jn je jo ji jp jq jr js bi translated"><strong class="in hi">用户名</strong>:这是Rackspace登录的用户名</li><li id="9391" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi"> API Key </strong>:来自Rackspace的“账户设置”页面</li><li id="82b4" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi"> Zone </strong>:目前，这可以是任何字符串(例如oneops-demo.ml)。对于生产用例，它将被仔细配置。</li><li id="4f90" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji jp jq jr js bi translated"><strong class="in hi">云DNS ID </strong>:填充一些字符串，但这对于现在来说并不重要。</li></ul><h2 id="ea6d" class="ki kj hh bd kz la lb lc ld le lf lg lh iw li lj lk ja ll lm ln je lo lp lq lr bi translated">GDNS服务</h2><p id="6e52" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">添加具有上述相同配置的GDNS服务(再次为“rackspace-dns”)。请注意，在生产中使用时，GDNS的配置可能与DNS不同。</p><h2 id="0c62" class="ki kj hh bd kz la lb lc ld le lf lg lh iw li lj lk ja ll lm ln je lo lp lq lr bi translated">镜像服务</h2><p id="7896" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">OneOps上的一些开源应用需要从某个公共镜像下载二进制(例如<a class="ae jj" href="https://www.apache.org/dist/" rel="noopener ugc nofollow" target="_blank">https://www.apache.org/dist/</a>)。镜像服务是将各种“下载”链接组织到一个中心位置。现在，我们可以添加一个默认的镜像服务，无需任何定制。</p><h1 id="c24b" class="mg kj hh bd kz mh mi mj ld mk ml mm lh mn mo mp lk mq mr ms ln mt mu mv lq mw bi translated">通过OneOps在OpenStack上部署应用</h1><p id="fd78" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">这里我们选择MySQL作为要部署的应用程序。创建MySQL设计后，在“设计”阶段需要进行几项配置更新:</p><ol class=""><li id="19b6" class="jk jl hh in b io ip is it iw jm ja jn je jo ji mx jq jr js bi translated">计算:应该启用“需要公共IP”</li><li id="9abb" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mx jq jr js bi translated">数据库:输入您首选的MySQL登录密码</li><li id="f40c" class="jk jl hh in b io jt is ju iw jv ja jw je jx ji mx jq jr js bi translated">用户:单击“+”按钮并添加一个新的用户实例:(1)本地工作站的登录名“Username”，(2)复制并粘贴SSH公共密钥(例如。ssh/id_dsa.pub)到“授权密钥”。因此，在部署完成后，您可以从本地机器直接SSH到OpenStack VM。</li></ol><p id="9a62" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">提交设计并创建“单一”环境，然后进行部署。部署计划可能如下所示:</p><figure class="jz ka kb kc fd ii er es paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="er es my"><img src="../Images/b25dc40bc7446f2942950d6922e8cdab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0oWbPNMnfI-LcQbMimouA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx">MySQL deployment plan</figcaption></figure><p id="51a9" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">部署完成后，打开一个本地终端，SSH到open stack VM“SSH your _ local _ log in @ float _ IP”。登录mysql客户端“mysql -u myuser”，然后开始输入一些mysql命令(比如显示数据库；).</p><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="8da9" class="ki kj hh ke b fi kk kl l km kn">[root@mysql-87316–1–90827 test-user]# mysql -u myuser <br/>Welcome to the MySQL monitor. Commands end with ; or \g. <br/>Your MySQL connection id is 10 <br/>Server version: 5.5.49 MySQL Community Server (GPL)</span><span id="92ec" class="ki kj hh ke b fi mz kl l km kn">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span><span id="68a1" class="ki kj hh ke b fi mz kl l km kn">Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners.</span><span id="debf" class="ki kj hh ke b fi mz kl l km kn">Type ‘help;’ or ‘\h’ for help. Type ‘\c’ to clear the current input statement.</span><span id="68f3" class="ki kj hh ke b fi mz kl l km kn">mysql&gt; show databases; <br/>+ — — — — — — — — — — + <br/>| Database | <br/>+ — — — — — — — — — — + <br/>| information_schema | <br/>| test | <br/>+ — — — — — — — — — — + <br/>2 rows in set (0.01 sec)</span><span id="9459" class="ki kj hh ke b fi mz kl l km kn">mysql&gt;</span></pre><p id="3036" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">现在我们已经通过OneOps在OpenStack上部署了一个MySQL实例。</p><h1 id="c2f6" class="mg kj hh bd kz mh mi mj ld mk ml mm lh mn mo mp lk mq mr ms ln mt mu mv lq mw bi translated">接下来呢？</h1><p id="47ad" class="pw-post-body-paragraph il im hh in b io ls iq ir is lt iu iv iw lu iy iz ja lv jc jd je lw jg jh ji ha bi translated">MySQL部署可以通过更多生产驱动的实践来完成，例如集群、高可用性、监控。同时，我希望介绍其他有趣的应用程序模板，以帮助观众认识到OneOps的巨大价值。敬请关注！</p></div></div>    
</body>
</html>