<html>
<head>
<title>Making Oracle Database Kubernetes-native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使Oracle数据库成为本地数据库</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/making-oracle-database-kubernetes-native-401233c02780?source=collection_archive---------0-----------------------#2021-10-25">https://medium.com/oracledevs/making-oracle-database-kubernetes-native-401233c02780?source=collection_archive---------0-----------------------#2021-10-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/82d29d59eb772040ff3ac34144d73828.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*HXGmy05SbbdYIqEpN7zTfQ.png"/></div><figcaption class="il im et er es in io bd b be z dx">Oracle Database &amp; Operator Framework — GitHub</figcaption></figure><p id="e4a1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Kubernetes已经成为自动化持续集成和持续交付(CI/CD)管道的最流行和最普遍的开源框架。其核心功能与Helm Charts(即模板YAML文件和其他功能的包管理器)相结合，管理简单和无状态应用程序的生命周期(即定义、安装、部署和删除)。另一方面，运营商通过定制资源定义(即复杂和有状态的应用程序，如数据库)和控制器来扩展Kubernetes的核心功能，控制器封装了管理这些定制资源的生命周期所涉及的知识或业务逻辑。</p><p id="5d89" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Oracle发布了用于Kubernetes 的<a class="ae jn" href="https://github.com/oracle/oracle-database-operator" rel="noopener ugc nofollow" target="_blank"> Oracle数据库操作器(又名<em class="jo"> OraOperator </em>),该操作器通过自定义资源定义和控制器扩展了Kubernetes API，从而实现了Oracle数据库操作的自动化。</a></p><h1 id="08a4" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">OraOperator为开发人员、DBA、DevOps和GitOps团队提供了什么？</h1><p id="2e37" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">通过让Kubernetes以类似于其本机对象的方式操作Oracle数据库，OraOperator帮助开发人员、DBA、DevOps和GitOps团队减少了部署和管理Oracle数据库的时间和复杂性。它消除了大多数数据库操作对操作员或管理员的依赖。</p><p id="1c20" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个第一版支持部署在Kubernetes集群内外的Oracle数据库，更具体地说:OCI的自治数据库(共享基础设施)，它们不在Kubernetes上运行；OCI Kubernetes引擎(OKE)和Oracle Linux Cloud Native Environment(ol CNE)中的容器化单实例数据库；最后，容器化的Oracle在OKE和OLCNE对数据库进行分片。</p><p id="c3bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下是每个控制器支持的生命周期操作的简要描述。</p><h2 id="49f6" class="ks jq hh bd jr kt ku kv jv kw kx ky jz ja kz la kd je lb lc kh ji ld le kl lf bi translated">用OraOperator管理自治数据库</h2><p id="c6e3" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated"><a class="ae jn" href="https://docs.oracle.com/en-us/iaas/Content/Database/Concepts/adboverview.htm" rel="noopener ugc nofollow" target="_blank"> Oracle自治数据库</a> (ADB)目前部署在Oracle云基础设施(OCI)中，而不是Kubernetes集群中。<br/>在此版本中，自治数据库控制器支持共享OCI基础设施上的所有当前工作负载(相对于专用基础设施)。工作负载包括自主事务处理(ATP)、自主数据仓库(ADW)、自主JSON数据库(AJD)和Oracle APEX应用程序开发(APEX服务)。<br/>ADB控制器允许预配新实例或将操作员绑定到现有实例，然后可以执行以下操作:启动、停止、终止、删除、重命名、扩展/缩减(CPU、存储)、启用/禁用自动扩展、下载与数据库实例关联的wallet(区域wallet是一个替代选择)，以及管理数据库管理员用户的密码。</p><h2 id="d779" class="ks jq hh bd jr kt ku kv jv kw kx ky jz ja kz la kd je lb lc kh ji ld le kl lf bi translated">用OraOperator管理容器化的单实例数据库</h2><p id="7c76" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated"><a class="ae jn" href="https://docs.oracle.com/en/database/oracle/oracle-database/" rel="noopener ugc nofollow" target="_blank"> Oracle数据库单实例</a> (SIDB)是标准版(se)或企业版(EE)数据库的实例。这些可以通过Kubernetes集群(OKE和OLCNE，从这个版本开始)进行容器化和部署，并由运营商进行管理。<br/>SIDB控制器提供以下生命周期操作:预配新的数据库实例、克隆现有实例、就地或异地修补更高版本的更新，或者回滚到更低版本的更新。</p><h2 id="b9f1" class="ks jq hh bd jr kt ku kv jv kw kx ky jz ja kz la kd je lb lc kh ji ld le kl lf bi translated">用OraOperator管理容器化的Oracle数据库分片</h2><p id="ec87" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated"><a class="ae jn" href="https://docs.oracle.com/en/database/oracle/oracle-database/21/shard/index.html" rel="noopener ugc nofollow" target="_blank"> Oracle数据库分片</a> (SDB)由目录数据库、全局数据服务和分片(即数据库)组成。所有这些(也称为分片数据库拓扑)都可以作为一个Statefulset在Kubernetes集群中进行容器化和部署(从这个版本开始为OKE和OLCNS ),并由运营商进行管理。<br/>SDB控制器提供以下生命周期操作:提供分片数据库拓扑、分片扩展/缩减、分片数据库拓扑清理。</p><h1 id="19cf" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">安全考虑</h1><p id="4ce4" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">Kubernetes的秘密是存储凭证或密码的常用手段。操作员以编程方式读取机密，这限制了敏感数据的暴露。但是，Oracle强烈建议您从Oracle Cloud Infrastructure Vault或第三方Vault设置和获取敏感数据。</p><p id="5439" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下YAML文件片段指定Oracle Cloud Infrastructure Vault作为管理员密码的存储库。<code class="du lg lh li lj b"><br/>adminPassword:<br/> ociSecretOCID: ocid1.vaultsecret.oc1...</code></p><h1 id="4f4e" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">社区贡献</h1><p id="29a5" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">Oracle数据库社区的成员了解了该产品后都非常兴奋。我们渴望采纳建议和贡献。<br/>见<a class="ae jn" href="https://github.com/oracle/oracle-database-operator/blob/main/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank">对此库的贡献</a></p><h1 id="532d" class="jp jq hh bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">期待…</h1><p id="1ef2" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">在即将发布的版本中，OraOperator将扩展现有控制器的功能，增加对更多Kubernetes集群内外部署的支持，支持更多Kubernetes集群或等效平台，以及其他服务。</p><p id="8ab8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> @kmensah </strong>和<strong class="ir hi"> #OraOperator </strong>用于通知、提问和讨论。</p><p id="5003" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">感谢阅读。</p></div></div>    
</body>
</html>