<html>
<head>
<title>TensorFlow Dev Summit key takeaways for Android Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TensorFlow开发峰会Android开发人员的主要收获</h1>
<blockquote>原文：<a href="https://medium.com/androiddevelopers/tensorflow-dev-summit-key-takeaways-for-android-developers-20533a8d2656?source=collection_archive---------4-----------------------#2019-03-20">https://medium.com/androiddevelopers/tensorflow-dev-summit-key-takeaways-for-android-developers-20533a8d2656?source=collection_archive---------4-----------------------#2019-03-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/82419f300c966f155405d06622122fc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AjQ12UNhTWMA8yH-G774LA.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">TensorFlow Dev Summit</figcaption></figure><p id="4129" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">两周前，在TensorFlow Dev峰会上，宣布了许多令人兴奋的Android新开发(<a class="ae jr" href="https://www.youtube.com/playlist?list=PLQY2H8rRoyvzoUYI26kHmKSJBedn3SQuB" rel="noopener ugc nofollow" target="_blank">会话记录</a>)。其中包括GPU代理加速(比CPU快2-7倍)、扩展文档和展示如何在Android上使用TensorFlow Lite模型的新代码实验室。这篇文章重点介绍了其中的一些公告，并总结了我与开发人员的一些有趣的对话。</p><h1 id="1030" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">GPU加速将设备上的ML推向大众</h1><p id="cef1" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">机器学习头条通常关注最新、最强大的设备上的最新突破。对于移动开发者来说，真正重要的是能够在各种手机上提供良好的用户体验。这就是为什么我交谈过的Android开发人员对新的实验性<a class="ae jr" href="https://www.tensorflow.org/lite/performance/gpu" rel="noopener ugc nofollow" target="_blank">tensor flow Lite GPU delegate</a>能够在装有OpenGL ES 3.1的设备上加速推理(运行ML模型)感到非常兴奋，OpenGL ES 3.1是作为Android API Level 21 (Lollipop)的一部分引入的。</p><p id="d69c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">要使用它，开发人员需要更新他们应用程序的build.gradle文件:</p><figure class="kv kw kx ky fd ii"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="6819" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">导入TensorFlow模型解释器时，使用以下内容:</p><figure class="kv kw kx ky fd ii"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="a8db" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这项功能是试验性的，TensorFlow团队很乐意<a class="ae jr" href="https://github.com/tensorflow/tensorflow/issues" rel="noopener ugc nofollow" target="_blank">听取开发者社区</a>关于如何改进的意见。此外，该团队正致力于开源。更多细节可以从GPU delegate发布博客文章中找到。</p><h1 id="e9a3" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">扩展文档和新的Android示例</h1><p id="0298" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">作为TensorFlow 2.0 alpha版本的一部分，TensorFlow团队扩展了他们的文档。我个人最喜欢的是新的<a class="ae jr" href="https://www.tensorflow.org/lite/examples" rel="noopener ugc nofollow" target="_blank"> TensorFlow Lite示例部分</a>。在这里你会发现一系列Android(和iOS)集成不同类型模型的例子，包括<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/README.md" rel="noopener ugc nofollow" target="_blank">物体检测</a>和<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/speech_commands/android/README.md" rel="noopener ugc nofollow" target="_blank">语音识别</a>。在这些样本出现之前，图像转换(在摄像机图像上绘制分析结果)等任务可能很难实现。现在更容易了。例如，<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/README.md" rel="noopener ugc nofollow" target="_blank">对象检测样本</a>带有<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/tracking/MultiBoxTracker.java" rel="noopener ugc nofollow" target="_blank">跟踪器代码</a>和<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/env/ImageUtils.java" rel="noopener ugc nofollow" target="_blank">图像实用程序</a>用于常见的变换。</p><figure class="kv kw kx ky fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lb"><img src="../Images/9bb58c3b23a420200e35f36c619288ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TpgxDUPkt9f4iyL_"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">TensorFlow Lite samples</figcaption></figure><h1 id="7958" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">TensorFlow Lite、ML套件和NNAPI</h1><p id="fc17" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">谷歌提供了大量的设备上机器学习开发者产品。对于大多数开发人员来说，两个典型的起点是:</p><ul class=""><li id="2dd5" class="lc ld hh iv b iw ix ja jb je le ji lf jm lg jq lh li lj lk bi translated"><a class="ae jr" href="https://developers.google.com/ml-kit/" rel="noopener ugc nofollow" target="_blank"> ML套件基础API</a>如果Google的某个设备上模型，如文本识别、人脸检测等(<a class="ae jr" href="https://firebase.google.com/docs/ml-kit/#what_features_are_available_on_device_or_in_the_cloud" rel="noopener ugc nofollow" target="_blank">支持模型列表</a>)符合您的需求，或者</li><li id="6db1" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lh li lj lk bi translated"><a class="ae jr" href="https://www.tensorflow.org" rel="noopener ugc nofollow" target="_blank"> TensorFlow </a>使用另一个预训练模型或构建并训练您自己的模型</li></ul><p id="774c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果你想更深入地研究如何使用TensorFlow(和其他ML工具)，这里有一个更详细的开发选项概述(按复杂程度排列):</p><ul class=""><li id="b03c" class="lc ld hh iv b iw ix ja jb je le ji lf jm lg jq lh li lj lk bi translated">使用谷歌预训练模型(如人脸检测)——<a class="ae jr" href="https://developers.google.com/ml-kit/" rel="noopener ugc nofollow" target="_blank">ML套件基础API</a></li><li id="0569" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lh li lj lk bi translated">使用其他预训练的模型——开发人员可以使用预训练的TensorFlow Lite模型，例如<a class="ae jr" href="https://www.tensorflow.org/lite/models/pose_estimation/overview" rel="noopener ugc nofollow" target="_blank">姿势估计</a>(身体和四肢检测)和<a class="ae jr" href="https://www.tensorflow.org/lite/models/segmentation/overview" rel="noopener ugc nofollow" target="_blank">图像分割</a>(人物与背景)</li><li id="03ae" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lh li lj lk bi translated">制作您自己的定制模型:</li></ul><ol class=""><li id="3772" class="lc ld hh iv b iw ix ja jb je le ji lf jm lg jq lq li lj lk bi translated">训练自定义模型— <a class="ae jr" href="https://www.tensorflow.org" rel="noopener ugc nofollow" target="_blank"> TensorFlow </a></li><li id="4960" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lq li lj lk bi translated">在Android / iOS / IoT设备上转换和运行完成的模型— <a class="ae jr" href="https://www.tensorflow.org/lite/convert" rel="noopener ugc nofollow" target="_blank"> TensorFlow Lite </a></li><li id="822c" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lq li lj lk bi translated">将转换后的TensorFlow Lite模型提供给最终用户— <a class="ae jr" href="https://firebase.google.com/docs/ml-kit/use-custom-models" rel="noopener ugc nofollow" target="_blank"> ML套件定制模型提供</a></li></ol><ul class=""><li id="6d7e" class="lc ld hh iv b iw ix ja jb je le ji lf jm lg jq lh li lj lk bi translated">编写自己的机器学习框架— <a class="ae jr" href="https://developer.android.com/ndk/guides/neuralnetworks" rel="noopener ugc nofollow" target="_blank"> Android神经网络API (NNAPI) </a></li></ul><p id="375d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">所有这些产品协同工作，为开发者提供端到端的体验。例如，ML Kit基础API在幕后使用TensorFlow Lite模型向您的应用程序交付Google训练的模型。当这些TensorFlow Lite模型在移动设备上运行时，它们的性能通过NNAPI得到增强。</p><p id="6e62" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">开发人员很少需要与NNAPI交互。唯一的例外是，如果你想创建自己的机器学习框架。</p><h1 id="586a" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">设备上的新用例</h1><p id="08d0" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">设备上TensorFlow功能的扩展以两种方式为移动开发者提供了新的机遇:</p><h2 id="8acf" class="lr jt hh bd ju ls lt lu jy lv lw lx kc je ly lz kg ji ma mb kk jm mc md ko me bi translated">1.在设备上运行更强大的模型</h2><figure class="kv kw kx ky fd ii er es paragraph-image"><div class="er es mf"><img src="../Images/9eaddebb8d1928be08e22091e345a1ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*6T9ozjFWWJyfzaG2bngY1Q.gif"/></div></figure><p id="5ead" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在TensorFlow Dev峰会上，我们展示了一个<a class="ae jr" href="https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/README.md" rel="noopener ugc nofollow" target="_blank">对象检测示例</a>，其中模型不仅检测到了对象，还返回了对象在图像中的位置。</p><p id="1317" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">许多与会者对移动设备(Android和iOS)变得如此强大以至于可以在设备上使用这些功能感到惊讶。在设备上运行模型有很多好处，比如离线访问和隐私。在本地运行模型的另一个好处是减少了延迟，使得实时体验成为可能。</p><h2 id="3c92" class="lr jt hh bd ju ls lt lu jy lv lw lx kc je ly lz kg ji ma mb kk jm mc md ko me bi translated">2.作为通用ML设备的移动设备</h2><p id="efda" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">多年来，人们一直希望物联网设备，如工业机器或智能家居设备，能够将<a class="ae jr" href="https://www.tensorflow.org/lite/guide/microcontroller" rel="noopener ugc nofollow" target="_blank"> ML带到互联网</a>的边缘。随着<a class="ae jr" href="https://coral.withgoogle.com/" rel="noopener ugc nofollow" target="_blank"> Edge TPUs </a>在Dev峰会上的推出，这一趋势得到了推动。对我来说更有趣的是，这些物联网设备可能只有一个用途——例如，分拣鳄梨大小，或者设置舒适的室温。这些是业界已经思考了很长时间的有价值的用例。</p><p id="284f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">新的是，随着Android等移动平台的出现，我们突然有了一个通用的ML设备。ML可以帮助用户在一分钟内记录身体活动，然后在另一分钟内扫描驾驶执照。像这样的机会似乎没有被充分发掘。有了mobile+ML，就会有新的设计模式和新的Android应用。</p><h1 id="b12e" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">最好的学习方法是尝试</h1><p id="8959" class="pw-post-body-paragraph it iu hh iv b iw kq iy iz ja kr jc jd je ks jg jh ji kt jk jl jm ku jo jp jq ha bi translated">我遇到的许多与会者更习惯于从超级计算机的角度考虑ML，而不是移动设备。他们很高兴看到一个提供设备上机器学习的新平台，并承诺新的发现即将到来。</p><p id="577a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我鼓励Android开发人员查看Android示例，感受一下什么是可能的:</p><ul class=""><li id="533f" class="lc ld hh iv b iw ix ja jb je le ji lf jm lg jq lh li lj lk bi translated"><a class="ae jr" href="https://github.com/firebase/quickstart-android/tree/master/mlkit" rel="noopener ugc nofollow" target="_blank"> ML试剂盒快速入门样本</a> —在一个样本中尝试所有ML试剂盒API</li><li id="cc01" class="lc ld hh iv b iw ll ja lm je ln ji lo jm lp jq lh li lj lk bi translated"><a class="ae jr" href="https://github.com/tensorflow/examples/tree/master/lite/examples/object_detection/android" rel="noopener ugc nofollow" target="_blank">新TensorFlow Lite物体检测样本</a></li></ul><p id="585c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">设备上的机器学习比以往任何时候都更容易上手。下次你遇到问题时，设备上的ML可能就是解决方案。</p></div></div>    
</body>
</html>