<html>
<head>
<title>Firebase Authentication — Flutter💙💛</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Firebase身份验证— Flutter💙💛</h1>
<blockquote>原文：<a href="https://medium.com/google-developer-experts/firebase-authentication-flutter-80e8f00338ac?source=collection_archive---------1-----------------------#2022-03-12">https://medium.com/google-developer-experts/firebase-authentication-flutter-80e8f00338ac?source=collection_archive---------1-----------------------#2022-03-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="40c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">身份验证是几乎所有应用程序现在都需要的基本功能之一。但是，我们怎样才能实现它呢？让我们来看看这篇文章吧！</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/56610db170432a0fc7d814e59a3c729b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Wtbml65uh6raZh2dsCsvA.png"/></div></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><p id="ebc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">向你的应用添加认证可以通过你的后端完成。现在，如果您有一个定制的后端，这就变得很容易了，因为您只需要传递凭证，后端就会完成逻辑部分。但是，如果您没有定制的后端呢？<strong class="ig hi">您可以使用Firebase轻松添加身份验证！</strong></p><p id="caed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是总结该过程的步骤:</p><ul class=""><li id="50ca" class="jv jw hh ig b ih ii il im ip jx it jy ix jz jb ka kb kc kd bi translated">在Firebase中添加一个新项目和应用程序。</li><li id="a26a" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">从控制台启用您想要的任何身份验证。在本文中，我们将讨论简单的电子邮件密码认证。</li><li id="be39" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">为注册和登录创建一个简单的用户界面。</li><li id="085d" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">创建后端代码，将凭证传递给Firebase。</li><li id="f2cd" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">从用户界面调用函数。</li><li id="1805" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated">根据凭据是否正确来验证响应。</li></ul><p id="fb02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，让我们开始吧！！！</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="kj kk l"/></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="2dbd" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">步骤1:在Firebase中添加一个新项目和应用程序。</h2><p id="3b10" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">转到<a class="ae ll" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>并创建一个新项目。我们不会讨论向Firebase添加新项目的步骤，但是为了方便起见，这里有一个参考。</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="ddc8" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">步骤2:启用身份验证。</h2><p id="dc43" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">首先，在您的控制台上，转到您创建的项目。现在，从右侧面板转到<code class="du lm ln lo lp b">Authentication</code>选项卡，您将能够看到一个<code class="du lm ln lo lp b">Get Started</code>按钮。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lq"><img src="../Images/7d9af1692fd5775eb8f42565da9bb937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MruFGHlIGhSVvGzrKZG01Q.png"/></div></div></figure><p id="2b8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，单击按钮，然后您将看到一个身份验证提供者列表，我们可以在我们的应用程序中使用它。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lr"><img src="../Images/ad5bf388a27b6611c7d0d74f271963c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vu7fHfj-xdnTkLG-pBhH_Q.png"/></div></div></figure><p id="e426" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，点击<code class="du lm ln lo lp b">Email/Password</code>并启用它。启用后，除了电子邮件/密码提供者，您还会看到<code class="du lm ln lo lp b">Enabled</code>。</p><p id="3324" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您已经准备好进行下一步了！！</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="c2bc" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">步骤3:为注册和登录创建一个简单的UI</h2><p id="eeec" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">您可以简单地创建2个屏幕，一个用于登录，另一个用于注册，其中将有2个字段-电子邮件，密码；和一个提交按钮。</p><p id="e753" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里有一个同样的例子:</p><p id="c68d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> login.dart: </strong></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ls kk l"/></div></figure><p id="1211" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> create_account.dart: </strong></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ls kk l"/></div></figure><p id="0155" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，这两个屏幕只是简单的两个文本字段和几个按钮。我们还没有添加任何逻辑。现在，让我们添加逻辑吧！</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="3c2d" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">步骤4:创建后端代码，将凭证传递给Firebase</h2><p id="c414" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">首先，你需要在你的<code class="du lm ln lo lp b">pubspec.yaml</code>文件中添加<code class="du lm ln lo lp b">firebase_core</code>和<code class="du lm ln lo lp b">firebase_auth</code>包。现在，您需要在<code class="du lm ln lo lp b">main.dart</code>中的主函数中初始化firebase应用程序。</p><pre class="jd je jf jg fd lt lp lu lv aw lw bi"><span id="6912" class="kl km hh lp b fi lx ly l lz ma">void main() async {<br/>  WidgetsFlutterBinding.ensureInitialized();<br/>  await Firebase.initializeApp();<br/>  runApp(const MyApp());<br/>}</span></pre><p id="1004" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，让我们创建一个文件来保存所有与身份验证相关的函数和firebase调用。我们可以将其命名为<code class="du lm ln lo lp b">auth_service.dart</code>。现在添加登录和注册功能。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ls kk l"/></div></figure><p id="a330" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，在登录方法中，我们从用户那里获取电子邮件和密码，并将它们发送到我们添加的<code class="du lm ln lo lp b">firebase_auth</code>包中的<code class="du lm ln lo lp b">signInWithEmailAndPassword</code>函数。同样，对于注册，我们有<code class="du lm ln lo lp b">createUserWithEmailAndPassword</code>，它将创建一个提供电子邮件和密码的用户。此外，我们在代码中处理了firebase的一些常见错误。现在，让我们从我们的UI调用这些函数！</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="563a" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">步骤5:从用户界面调用函数</h2><p id="532b" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">现在是时候从UI调用我们的函数了！</p><p id="fe82" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> create_account.dart </strong></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ls kk l"/></div></figure><p id="b714" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，如果我们只检查<code class="du lm ln lo lp b">ElevatedButton</code>的<code class="du lm ln lo lp b">onPressed</code>:</p><pre class="jd je jf jg fd lt lp lu lv aw lw bi"><span id="d088" class="kl km hh lp b fi lx ly l lz ma">onPressed: () async {<br/>                final message = await AuthService().registration(<br/>                  email: _emailController.text,<br/>                  password: _passwordController.text,<br/>                );<br/>                if (message!.contains('Success')) {<br/>                  Navigator.of(context).pushReplacement(<br/>                      MaterialPageRoute(builder: (context) =&gt; const Home()));<br/>                }<br/>                ScaffoldMessenger.of(context).showSnackBar(<br/>                  SnackBar(<br/>                    content: Text(message),<br/>                  ),<br/>                );<br/>              },</span></pre><p id="75f7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里，我们调用了我们创建的<code class="du lm ln lo lp b">registration</code>方法。现在，根据我们展示的小吃店的信息。如果帐户创建成功，我们将导航到主页。在这里，主页只是一个简单的类，没有任何特定的UI或逻辑！</p><p id="629f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">输出:</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mb"><img src="../Images/aad09045d5c6bf2b83c8918005afa72f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*E91qFIVkBaOt1nI5C69J1Q.gif"/></div></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><p id="b87f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> login.dart </strong></p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ls kk l"/></div></figure><p id="404e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">输出:</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mb"><img src="../Images/47bc538a2a622b50841d88a89b18e015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*W_AHrPHwGfWua9MzHR40EQ.gif"/></div></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="7245" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">你可以试试来自<a class="ae ll" href="https://github.com/AbhishekDoshi26/firebase_test" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>的例子！</h2></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h2 id="0de8" class="kl km hh bd kn ko kp kq kr ks kt ku kv ip kw kx ky it kz la lb ix lc ld le lf bi translated">希望你喜欢这篇文章！</h2><p id="7cfd" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">如果你喜欢，你可以<a class="ae ll" href="https://www.buymeacoffee.com/abhishekdoshi26" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">请我喝杯咖啡</strong> </a> <strong class="ig hi">！</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mc"><img src="../Images/9490e51ccf6436e6291800930c314ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2AN8W7xSCjB6aJxA.png"/></div></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h1 id="3d41" class="md km hh bd kn me mf mg kr mh mi mj kv mk ml mm ky mn mo mp lb mq mr ms le mt bi translated">不要忘记通过以下方式与我联系:</h1><ul class=""><li id="9754" class="jv jw hh ig b ih lg il lh ip mu it mv ix mw jb ka kb kc kd bi translated"><a class="ae ll" href="https://www.instagram.com/abhishekdoshi26/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Instagram </strong> </a></li><li id="a339" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><a class="ae ll" href="https://twitter.com/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">推特</strong> </a></li><li id="edef" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><a class="ae ll" href="https://www.linkedin.com/in/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">领英</strong> </a></li><li id="a951" class="jv jw hh ig b ih ke il kf ip kg it kh ix ki jb ka kb kc kd bi translated"><a class="ae ll" href="https://github.com/AbhishekDoshi26" rel="noopener ugc nofollow" target="_blank">T36】GitHubT38】</a></li></ul></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><blockquote class="mx"><p id="f981" class="my mz hh bd na nb nc nd ne nf ng jb dx translated">不要停止，直到你呼吸！💙<br/> -阿布舍克·多希</p></blockquote></div></div>    
</body>
</html>