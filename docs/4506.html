<html>
<head>
<title>Automatisert påskeegg-trekning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Automatisert påskeegg-trekning</h1>
<blockquote>原文：<a href="https://medium.com/compendium/automatisert-p%C3%A5skeegg-trekning-3e38d9dd4931?source=collection_archive---------5-----------------------#2019-04-12">https://medium.com/compendium/automatisert-p%C3%A5skeegg-trekning-3e38d9dd4931?source=collection_archive---------5-----------------------#2019-04-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="317f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Påske for meg inneholder blant annet en forberedelse som går ut på å finne ut hvem som skal kjøpe påskeegg til hvem. Vanligvis foregår denne forberedelsen på følgende måte: “barna” i familien bekrefter at de ønsker å være med i ordningen, vi setter budsjett, så gjør vi en trekning med papirlapper for å finne ut hvem som kjøper påskeegg til hvem. Det var denne trekningen jeg i 2017 tenkte jeg kunne forbedre ved å skrive et program som gjorde trekningen for oss.</p><h2 id="c227" class="jc jd hh bd je jf jg jh ji jj jk jl jm ip jn jo jp it jq jr js ix jt ju jv jw bi translated">Første påskeegg-trekning</h2><p id="042c" class="pw-post-body-paragraph ie if hh ig b ih jx ij ik il jy in io ip jz ir is it ka iv iw ix kb iz ja jb ha bi translated">Under flyturen fra Oslo til Tromsø påsken 2017 kodet jeg et program som skulle gjøre trekningen for oss. Måten programmet fant ut hvem som skulle kjøpe til hvem var at jeg hadde en liste som inneholdt alle “barna”, <em class="kc"> barnaList </em> . Jeg tok første elementet i <em class="kc"> barnaList </em> , deretter tok jeg et tilfeldig tall <em class="kc"> tall1 </em> mellom 0 og størrelsen til <em class="kc"> barnaList </em> , og valgte det <em class="kc"> tall1 </em> ’te elementet i <em class="kc"> barnaList. </em> Dersom det var samme “barn” som fra <em class="kc"> barnaList </em> valgte programmet et nytt tilfeldig tall.</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es kd"><img src="../Images/6341b6c4dd0a4213dc57727a2556852c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*BhgMKMv0gHzwCR4gjfdbNA.png"/></div><figcaption class="kl km et er es kn ko bd b be z dx">Metode for å gjøre trekningen i 2017</figcaption></figure><p id="3049" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Resultatet fra trekningen ble skrevet ut som ren tekst i utviklerverktøyet jeg brukte.</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es kp"><img src="../Images/b82d2068e024cff358f092b18fd7a486.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*r5HATsbFZEmSacbc0K-4qw.png"/></div><figcaption class="kl km et er es kn ko bd b be z dx">Resultatet fra trekningen 2017</figcaption></figure><h2 id="54a2" class="jc jd hh bd je jf jg jh ji jj jk jl jm ip jn jo jp it jq jr js ix jt ju jv jw bi translated">Forsøk nr. 2: Grafikken kommer på plass</h2><p id="f12a" class="pw-post-body-paragraph ie if hh ig b ih jx ij ik il jy in io ip jz ir is it ka iv iw ix kb iz ja jb ha bi translated">Ny påske sto for tur og denne gangen skulle jeg oppgradere programmet til å i tillegg vise litt kul grafikk. Det ble programmering på tog og fly uten internett, så jeg holdt meg til “the basics”. Selve trekningen endret jeg ikke så mye på, jeg hadde fullt fokus på visningen av resultatet. Dette året endte jeg på et bilde av en påskehare, med seks egg rundt seg, med navnet til “barna” i seg, og piler mellom eggene.</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="kq kr l"/></div><figcaption class="kl km et er es kn ko bd b be z dx">Video av trekningen gjort i 2018</figcaption></figure><h2 id="0860" class="jc jd hh bd je jf jg jh ji jj jk jl jm ip jn jo jp it jq jr js ix jt ju jv jw bi translated">Alle gode ting er tre</h2><p id="6bce" class="pw-post-body-paragraph ie if hh ig b ih jx ij ik il jy in io ip jz ir is it ka iv iw ix kb iz ja jb ha bi translated">I år ble det bestemt at trekningen skulle skje i god tid før påsken, så man hadde godt tid på seg til å kjøpe inn påskeegget. Det ble i så god tid at jeg ikke rakk å gjøre noen oppgradering av programmet denne gangen.</p><p id="5c15" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Resultatet ble ikke særlig vellykket. For det første var vi en person mindre, så programmet krasjet med en <em class="kc"> IndexOutOfBoundsException </em> . Hvorfor?</p><p id="ea3f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Da må vi spole tilbake til starten. Jeg programmerte første versjonen på flyet til Tromsø i 2017. Flyturen tar litt under 2 timer, så dette var kode klasket sammen uten å tenke på at det skulle leve lenger enn den påsken. Året etter, da jeg la på grafikk, var også fokuset på å få inn noe kode som kunne vise resultatet av trekningen på en passe kul måte. Valgene jeg tok på det grafiske ble svg-tagger med ID’er som hver inneholdt en ellipse, som skulle være egget, en text, som skulle være et navn, og en polyline, som skulle være pilen mellom to egg. Dvs. det kunne vel ikke bli gjort mer hardkodet?</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ks"><img src="../Images/1d91df59fa025435ad4f4227a21b0780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Aikq7uPZ7wtESRRuB-Asg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx">HTML-utdrag fra koden</figcaption></figure><p id="8941" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">For å fylle inn et av text-elementene hadde jeg en kodesnutt som sa <em class="kc"> line = line.replace( </em> <strong class="ig hi"> <em class="kc"> “nameplaceholder6” </em> </strong> <em class="kc"> , drawnPairs.get(5).getKey().getName()); </em> Når <em class="kc"> drawnPairs </em> har 5 elementer, og man begynner å telle med 0, så vil <em class="kc"> get(5) </em> skape trøbbel. Vel, vel, dette går raskt å fikse! Koden ble utkommentert. Nå kompilerte det og jeg satte igang grafikken.</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="kq kr l"/></div><figcaption class="kl km et er es kn ko bd b be z dx">Video av trekningen gjort i 2019</figcaption></figure><p id="63e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Det burde ikke vært en overraskelse for meg at et av eggene ikke fikk et navn, men jeg ble overraskende overrasket!</p><p id="1327" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Dette var heldigvis ikke et program for en betalende kunde, for det hadde nok skapt litt trøbbel. Når det er sagt, ble det ikke holdt igjen på kritikken fra de andre “barna” når de så denne grafikken. Det var full enighet i at programmet trengte en oppgradering, eller kanskje en erstatter. Derfor er planen denne påsken å samle sammen krav og ønsker, for deretter å begynne tidlig med neste års program.</p></div></div>    
</body>
</html>