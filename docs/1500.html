<html>
<head>
<title>Three Ways to Think About Streaming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">思考流媒体的三种方式</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/three-ways-to-think-about-streaming-6cc39b99a56e?source=collection_archive---------6-----------------------#2018-01-09">https://medium.com/capital-one-tech/three-ways-to-think-about-streaming-6cc39b99a56e?source=collection_archive---------6-----------------------#2018-01-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c2a706c4761161f4c6b4d9fb8932437c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XSm-2d87RQxQE8OngRAeHQ.png"/></div></div></figure><p id="38de" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">多亏了YouTube、网飞、WatchESPN和许多其他网站，流媒体在我们的个人生活中是一个相对直观的概念。然而，当我们试图将这种理解应用于数据时，事情往往会很快变得模糊不清。作为Capital One的高级数据分析师，我接触过典型的静态数据，批量加载并包含在数据仓库中。然而，就在我感到舒适的时候，事情发生了变化。我被要求构建一个应用程序，享受一个完全不同的野兽:流数据。在这个过程中，我不得不重新构建我对数据的许多假设，以解释流所带来的不断移动，我在这里传递一些出于需要而采用的关于流的不同思考方式。这三个概念在不同的方面都是有用的。</p><h2 id="667c" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated"><strong class="ak">作为连续流</strong></h2><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c638831d52ef8d3c3fcb5f4948ce45ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4rAaEpxAaCSctTb-65adRg.png"/></div></div></figure><p id="2858" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这可能是考虑流的最直观的方式，但同时也是最难处理的。它带来的比较是直观的——“流”这个名字已经暗示了湍急的水的不断运动，我们所有人都消耗甚至产生了足够多的活流，以了解正在发生的事情。用像素代替行，就可以了。</p><p id="5da6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，从编码的角度来看，这是一种很难进入的思维模式。由此产生的关键见解是，必须在流数据进入时将其捕获。想象一下，试图追着一条鱼顺流而下，与在鱼经过你的船时撒网捕鱼相比。问题是，你如何建立一个数据网？</p><p id="a414" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一个答案是DStream，这就引出了我们的第二个方法。</p><h2 id="cc4e" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated"><strong class="ak">一系列小桌子</strong></h2><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/68ebcdb2eed3440a5faa41c2251bb58d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ezXustLDz_mRa6OQ4XoXzg.png"/></div></div></figure><p id="6e0b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">奇怪的是，我只是想象了一堆小婴儿桌爬来爬去，然后听到有人说，<em class="km">“哇。”</em></p><p id="4591" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">总之。这种思维模式与前一种相反——对开始编码非常有用，但是用脑子思考有点奇怪。回到我们的水的比喻，想象一下你的水龙头偶尔吐出一块石头，你想通过抓住其中一块石头向你的房东证明这一点。</p><p id="c2c3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">你打开水龙头，在下面放一个玻璃杯来接住任何潜在的石头。杯子需要大约30秒来装满，当它到达边缘时，你很快将另一个杯子滑到它下面。当第二个杯子装满时，你检查第一个杯子有没有石头，然后把它倒掉。当第二个杯子装满时，你打开第一个杯子，重复这个过程。</p><p id="85f3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是您可以开始考虑处理流数据的一种方式。您可以像对待静态表一样对待它，但是要知道像这样的表会不断出现。</p><p id="ddd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">顺便提一下，这是Apache Spark允许您编码的一种方式——您编写一个脚本，在X秒的数据上运行，然后您连接到流，让它一遍又一遍地运行。当你听到短语<strong class="ir hi"> <em class="km">“数据流方法与结构化流方法”</em> </strong>时，这种思维过程与数据流更加一致。</p><h2 id="1d0e" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated"><strong class="ak">作为一个不断延伸的静态对象</strong></h2><figure class="ki kj kk kl fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/28f6ae989e5f497167662a58880b4d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LtX7gVmmOs6zEqDdFsbMw.png"/></div></div></figure><p id="d505" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">水的类比有助于捕捉流数据的短暂特性——流水在那里一秒钟，然后就消失了——但流的大胆个性还有更静态的一面。为了抓住这一点，我们将再次转换隐喻。现在想象一条围巾。</p><p id="5af0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为什么是围巾？首先，我将在秋季发布这篇文章，所以它非常适合季节性。除此之外，人们很容易联想到一条围巾随着编织而变得越来越长的画面。随着长度添加到末端，围巾的其余部分不会改变。</p><p id="36b7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Kafka主题是这样工作的:数据不断地进来，但是一旦数据进入主题，它就保持相对静止。这种见解的含义开始在新消费者的工作方式中显现出来。</p><p id="22e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">结构化流是一种特别优雅的方式。一个结构化的流媒体应用程序跟踪<em class="km">时间</em>，而不是不断地接收数据。如果应用程序每30秒刷新一次，它会向主题询问最近30秒的数据，然后将这些数据发送出去进行处理。三十秒后，它会再次查询题目。</p><h2 id="e4cc" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated"><strong class="ak">结论</strong></h2><p id="0aa7" class="pw-post-body-paragraph ip iq hh ir b is kn iu iv iw ko iy iz ja kp jc jd je kq jg jh ji kr jk jl jm ha bi translated">当建筑师决定建筑物窗户的位置时，他们认为太阳是绕着地球转的。当然，这并不完全正确，但它为他们的目的创建了一个有用的参考框架。流是一个非常强大的概念，这三种思维模式都没有抓住正在发生的事情的全部。然而，它们是在制定方法时有用的三个参考框架。</p><p id="eaeb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">换句话说，如果鱼儿一直在追赶你，考虑织一条围巾。或许应该有人去看看那些婴儿桌。</p><h2 id="2e43" class="jn jo hh bd jp jq jr js jt ju jv jw jx ja jy jz ka je kb kc kd ji ke kf kg kh bi translated">有关系的</h2><ul class=""><li id="4868" class="ks kt hh ir b is kn iw ko ja ku je kv ji kw jm kx ky kz la bi translated"><a class="ae lb" rel="noopener" href="/capital-one-tech/cicd-pipelines-and-data-platforms-758b074b38b1"> CICD和数据</a></li><li id="d86e" class="ks kt hh ir b is lc iw ld ja le je lf ji lg jm kx ky kz la bi translated"><a class="ae lb" rel="noopener" href="/capital-one-tech/a-maximalist-approach-to-data-6e0f21529689">数据的最大列表方法</a></li></ul></div><div class="ab cl lh li go lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="ha hb hc hd he"><p id="03c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="km">披露声明:这些观点仅代表作者个人观点。除非本帖中另有说明，否则Capital One不属于所提及的任何公司，也不被其认可。使用或展示的所有商标和其他知识产权均为其各自所有者所有。本文为2018首都一。</em></p></div></div>    
</body>
</html>