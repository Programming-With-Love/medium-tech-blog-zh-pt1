<html>
<head>
<title>Berkenalan dengan fitur Migration di Laravel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Berkenalan dengan fitur Migration di Laravel</h1>
<blockquote>原文：<a href="https://medium.easyread.co/berkenalan-dengan-fitur-migration-di-laravel-e36189dffb5c?source=collection_archive---------0-----------------------#2018-01-27">https://medium.easyread.co/berkenalan-dengan-fitur-migration-di-laravel-e36189dffb5c?source=collection_archive---------0-----------------------#2018-01-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/2b37c745465e261d510f48f8866cac50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_-vJQqeCmpw-kghDFX8yJw.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Image by Hackernoon’s Medium page</figcaption></figure><div class=""/><p id="6347" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Mulai tahun ini saya punya misi untuk lebih sering menulis. Nah agar misi tersebut istiqomah, saya mau mulai dari hal yang ringan-ringan dulu. Kali ini saya mau membahas tentang salah satu fitur di Laravel, yaitu Migration. Fitur Migration sendiri memang bukan merupakan fitur spesifik dari Laravel, karena fitur ini juga tersedia di beberapa framework PHP atau bahasa pemrograman lainnya. Namun pembahasan saya kali ini akan lebih spesifik membahas Migration di Laravel.</p><h1 id="9df4" class="kx ky jc bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Apa itu Migration ?</h1><p id="ae4b" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Menyadur dokumentasi Laravel, Migration bekerja seperti version control untuk database yang membuat anggota tim lebih mudah dalam memodifikasi skema database yang digunakan oleh aplikasi kita.</p><h1 id="e768" class="kx ky jc bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Kenapa perlu menggunakan Migration ?</h1><p id="bb96" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Bagi developer yang sudah nyaman menggunakan phpMyAdmin atau aplikasi manajemen database (HeidiSQL, DBeaver) ketika ingin membuat tabel / memodifikasi tabel di database mungkin merasa belum perlu menggunakan Migration karena kebutuhan mereka sudah tercukupi oleh tools-tools tersebut. Oleh karena itu saya ingin menjelaskan beberapa alasan yang mungkin bisa jadi motivasi untuk menggunakan Migration.</p><h2 id="12b3" class="ma ky jc bd kz mb mc dn ld md me dp lh kk mf mg ll ko mh mi lp ks mj mk lt ml bi translated">1. Migration membuat kerja tim menjadi lebih efisien.</h2><p id="3e0b" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Zaman sekarang developer sering bekerja secara tim untuk menyelesaikan sebuah project. Klien yang requestnya sangat dinamis memungkinkan kita melakukan modifikasi (perubahan field, penambahan field) tabel pada database ketika project sedang dikerjakan. Daripada anggota tim saling mengirimkan SQL file hasil perubahan tabel atau memberi tahu tim mereka bahwa perubahan di Tabel A baru saja dilakukan, maka lebih efisien ketika mereka menggunakan fitur Migration di Laravel. Dengan Migration, anggota tim lain hanya perlu melakukan perintah php artisan migrate untuk mengupdate database mereka agar sesuai dengan perubahan yang baru saja dilakukan oleh anggota tim lainnya. Dengan demikian waktu mereka bisa digunakan untuk hal lain yang lebih berfaedah.</p><figure class="mn mo mp mq gt ip gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/e3fa8c033e2ec6e9ea9028842ab4c0f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*eSIl1ixwK0SL3-x6wD9y6g.jpeg"/></div></figure><h2 id="0273" class="ma ky jc bd kz mb mc dn ld md me dp lh kk mf mg ll ko mh mi lp ks mj mk lt ml bi translated">2. Migration seperti version control untuk database kita.</h2><p id="e5f5" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Kalau kita membuat program baik secara individu maupun dalam tim, kita sering memanfaatkan VCS (Version Control System) seperti Git untuk mengetahui perubahan-perubahan apa saja yang dilakukan di code kita. Mirip seperti itu, Migration memungkinkan kita untuk mengetahui perubahan dan penambahan apa saja yang telah dilakukan di database project kita dengan mudah. Dengan begitu anggota tim lain bisa lebih aware apabila ada code mereka yang perlu diadjust terkait dengan perubahan tabel tersebut.</p><figure class="mn mo mp mq gt ip gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/4c1ed5a3e307ec3ede7281964c293ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*jVkXppePpNDU6l1pARXMOw.jpeg"/></div></figure><h2 id="71da" class="ma ky jc bd kz mb mc dn ld md me dp lh kk mf mg ll ko mh mi lp ks mj mk lt ml bi translated">3. Memudahkan ketika pindah environment coding.</h2><p id="0ee1" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Semisal seorang developer mengerjakan project A di Laptop perjuangan dia semasa kuliah. Setelah bekerja, strata sosialnya meningkat drastis dan dia berinisiatif membeli laptop Macbook Pro. Apabila dia menggunakan Migration, dia tidak perlu membackup semua database-database di Laptop lama nya dan mengimport semuanya di Macbook Pro barunya secara manual. Dengan bantuan Git dan fitur Migration di Laravel dia hanya perlu menyimpan code nya di cloud repository seperti GitHub dan clone repository tersebut di Macbook Pro barunya. Setelah itu dia hanya tinggal menjalankan perintah php artisan migrate untuk mengimport skema database project A tersebut di Macbook Pro barunya.</p><h1 id="14fd" class="kx ky jc bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Bagaimana cara menggunakan Migration di Laravel ?</h1><ol class=""><li id="aa7f" class="ms mt jc kb b kc lv kg lw kk mu ko mv ks mw kw mx my mz na bi translated"><strong class="kb jd"> Set file .env </strong></li></ol><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="2b83" class="ma ky jc nc b gy ng nh l ni nj">DB_CONNECTION=mysql<br/>DB_HOST=127.0.0.1<br/>DB_PORT=3306<br/>DB_DATABASE=db_experiment<br/>DB_USERNAME=root<br/>DB_PASSWORD=</span></pre><p id="ac76" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Sebelum melakukan migration, pastikan kita sudah memiliki database untuk aplikasi kita. Apabila belum punya database, silahkan buat terlebih dahulu. Setelah itu sesuaikan file .env dengan nama dan pengaturan database kita.</p><p id="ac9b" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 2. Buat file migration </strong> <br/> Ketikkan perintah untuk membuat file migration di dalam root directory project kita.</p><p id="541a" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Untuk membuat tabel :</p><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="b9f5" class="ma ky jc nc b gy ng nh l ni nj">$ php artisan make:migration create_users_table --create=users</span></pre><p id="1e0b" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Untuk memodifikasi tabel :</p><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="1d39" class="ma ky jc nc b gy ng nh l ni nj">$ php artisan make:migration add_gender_to_users_table  --table=users</span></pre><p id="7d7c" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Setelah menjalankan perintah untuk membuat file migration, maka file migration akan di generate pada directory <strong class="kb jd"> <em class="nk"> database/migrations. </em> </strong></p><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="b597" class="ma ky jc nc b gy ng nh l ni nj">- your_project_name<br/>--- app<br/>--- bootstrap<br/>--- config<br/>--- database<br/>------- factories<br/>------- migrations<br/>----------- <strong class="nc jd">(lokasi file migrationmu)<br/>------- </strong>seeds<br/>--- public<br/>--- ....</span></pre><p id="7142" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 3. Set field tabel baru atau perubahan-perubahan tabel. </strong></p><p id="54bc" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Setelah file migration di generate, definisikan kolom-kolom tabel yang ingin dibuat atau modifikasi tabel yang ingin dilakukan pada migration file yang dibuat.</p><p id="fb8c" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">A. Contoh file migration untuk membuat tabel.</p><figure class="mn mo mp mq gt ip"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="eb14" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Sedikit penjelasan untuk code diatas, pada function up() kita definisikan bahwa kita akan membuat tabel <em class="nk"> users </em> dengan beberapa field, yaitu : id, name, email, password, rememberToken dan timestamp ala Laravel (created_at &amp; updated_at). Pada bagian function down() kita definisikan action apa yang akan dilakukan ketika rollback untuk migration ini dilakukan, yaitu menghapus tabel users.</p><p id="7723" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">B. Contoh file migration untuk memodifikasi tabel.</p><figure class="mn mo mp mq gt ip"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1ce3" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Sedikit penjelasan untuk code diatas, pada function up() kita definisikan bahwa kita akan menambahkan 3 field pada tabel <em class="nk"> tickets </em> , yaitu : processed_at, completed_at, dan scheduled_by . Pada bagian function down() kita definisikan action apa yang akan dilakukan ketika rollback untuk migration ini dilakukan, yaitu menghapus 3 field tersebut.</p><p id="ebcf" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 4. Menjalankan Migration </strong></p><p id="9234" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Setelah mendefinisikan perubahan pada file migration, selanjutnya jalankan perintah untuk melakukan migration.</p><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="0594" class="ma ky jc nc b gy ng nh l ni nj">$ php artisan migrate</span></pre><p id="247a" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Apabila migration berhasil dilakukan, seharusnya notifikasi sukses akan muncul</p><figure class="mn mo mp mq gt ip gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/d6f44efe259aa70c5b572a94783e42e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*XWP6fZGSpBshNzYiWdb-Aw.jpeg"/></div></figure><p id="5d5a" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><strong class="kb jd"> 5. Membatalkan Migration </strong></p><p id="f2b9" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Atas dasar jiwa yang labil atau request klien yang berubah ubah, mungkin saja kita ingin membatalkan migration yang baru saja kita lakukan. Tenang, kita bisa kok melakukan rollback. Untuk menjalankan perintah rollback, kita harus membuat kode pada function down seperti sudah dijelaskan pada <strong class="kb jd"> penjelasan nomor 3 </strong> .</p><p id="5bf7" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">Untuk melakukan rollback jalan kan perintah berikut :</p><pre class="mn mo mp mq gt nb nc nd ne aw nf bi"><span id="c945" class="ma ky jc nc b gy ng nh l ni nj">$ php artisan migrate:reset</span></pre><h1 id="5637" class="kx ky jc bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Recap</h1><p id="b9b7" class="pw-post-body-paragraph jz ka jc kb b kc lv ke kf kg lw ki kj kk lx km kn ko ly kq kr ks lz ku kv kw ig bi translated">Demikian itu tadi alasan kenapa kita perlu menggunakan Migration versi saya dan sekilas bagaimana cara menggunakan Migration di Laravel. Untuk penjelasan detail mengenai Migration di Laravel bisa dibaca di <a class="ae no" href="https://laravel.com/docs/5.5/migrations" rel="noopener ugc nofollow" target="_blank"> Dokumentasi official Laravel </a> . Oh ya, Lebih mantab lagi jika Migration dipadukan dengan <a class="ae no" href="https://laravel.com/docs/5.5/seeding" rel="noopener ugc nofollow" target="_blank"> DB Seedernya Laravel </a> , terkait DB Seeder dibaca sendiri dulu ya. Buat yang ingin menambahkan alasan menggunakan Migration atau mengkoreksi tulisan saya, langsung sampaikan di kolom komentar saja ya gan.</p></div><div class="ab cl np nq hr nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ig ih ii ij ik"><p id="00a2" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nk"> Artikel ini di tulis oleh </em> <a class="nw nx ep" href="https://medium.com/u/a53b7359e568?source=post_page-----e36189dffb5c--------------------------------" rel="noopener" target="_blank"> <em class="nk"> Derta Isyajora </em> </a> <em class="nk"> beliau sering menulis tentang Software Engineering dan Programming. Follow profilnya untuk mendapatkan update-an terbaru artikel-artikel beliau. </em></p><p id="6fd9" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nk"> Jika anda merasa artikel ini menarik dan bermanfaat, bagikan ke lingkaran pertemanan anda, agar mereka dapat membaca artikel ini. <br/> Atau jika anda tertarik untuk membagikan cerita anda pada publikasi ini, anda boleh mengirimkan cerita anda ataupun mengikuti langkah-langkah yang ada </em> <a class="ae no" href="https://medium.com/easyread/about-easyread-74b20960e180" rel="noopener"> <strong class="kb jd"> <em class="nk"> disini </em> </strong> </a> <em class="nk"> . </em></p></div></div>    
</body>
</html>