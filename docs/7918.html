<html>
<head>
<title>3 AppSec Lessons from Cloudy with a Chance of Meatballs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3 AppSec从多云天气中吸取的教训</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/3-appsec-lessons-from-cloud-with-a-chance-of-meatballs-ad59aa69f99e?source=collection_archive---------2-----------------------#2020-10-14">https://medium.com/walmartglobaltech/3-appsec-lessons-from-cloud-with-a-chance-of-meatballs-ad59aa69f99e?source=collection_archive---------2-----------------------#2020-10-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/9a22ee1d75d0df4376f9952e82f05efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Df9-OW-FkRrT1LkrJaBCqA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image Credit: <a class="ae it" href="https://www.deviantart.com/wildragon/art/Flint-Lockwood-621049252" rel="noopener ugc nofollow" target="_blank">wilddragon@deviatart.com (CC BY-NC-ND 3.0)</a></figcaption></figure><p id="7c71" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">也许你已经看过2009年的<em class="js">多云有肉丸的机会</em>。也许你认为这是一部关于科学和一个年轻的书呆子试图在世界上找到自己位置的电影。实际上，这部电影的真正目的是帮助您和其他开发人员学习一些非常重要的应用程序安全课程。</p></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><p id="578c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最近，我蹒跚学步的孩子迷上了3D动画电影《T2:多云有肉丸的机会》。在从头到尾看了这部电影将近50遍之后，我现在不仅理解了所有的笑话，知道了所有的复活节彩蛋，还能一字不差地引用最精彩的部分，而且我还看到了真实的寓言。</p><p id="7d2c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于那些不熟悉的人(<strong class="iw hi">现在停下来，至少看三遍这部电影，你会感谢我)，这里是基本的剧情简介:故事聚焦于大西洋中部的一个小岛小镇燕子瀑布的人们，特别是主角，一个名叫弗林特·洛克伍德的讨厌的弃儿和发明家。该镇以捕捞沙丁鱼为基础的经济正在走下坡路，“就在世界上每个人都意识到沙丁鱼是可怕的之后。”弗林特想通过创造一项发明来拯救这个小镇，这项发明将创造美味的食物，这样镇上的人就不会一直吃没人想要的沙丁鱼了。然而，弗林特以前的所有发明都以灾难告终，弗林特的父亲反对任何进一步的发明。弗林特半心半意地说服他的父亲，这一次将是不同的——但是，当然，在一个光明的开端之后，事情失去了控制，弗林特的发明导致了大规模的灾难。混合一个爱情故事，寻求父亲的认可，一个不称职的镇长，和一个猴子思维翻译家，你就有了这个故事。没有太多剧透:皆大欢喜:弗林特得到了女孩和他父亲的爱，市长得到了他的<em class="js">正义甜点</em>。</strong></p><p id="4792" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">好吧，那又怎样？一个孩子的电影，有一个相当可预测的，但令人愉快的故事情节，父母可以忍受一个永无止境的循环。但我向你保证，还有更多。作为一名AppSec教育工作者，我不禁注意到我们可以从这部电影中学到很多东西。所有这些<em class="js">食品天气</em>的核心是技术，没有经过很好的测试，并且受制于来自“商业”的新需求，当然需要尽快推向市场。</p><p id="7886" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">听起来熟悉吗？</p><h1 id="54dd" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">第一课:注意危险系数</h1><p id="3cb4" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">好的，所以你已经跳上了敏捷列车，而且你是测试驱动设计(TDD)的追随者。更好的是，您完全可以<em class="js">左移</em>，您甚至可以将林挺和安全代码扫描集成到您的CI/CD管道中。所有这些监控和检查都很好，但是有三个重要的注意事项:</p><p id="5e8e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">(1)您需要实际检查这些报告，并</p><p id="9a1c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">(2)你需要了解如何处理这些扫描仪的结果</p><p id="aa27" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">(3)你实际上需要在地球被巨型煎饼和玉米棒子毁灭之前采取行动。</p><p id="6f8a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">与过去不同的是，有了这项发明，弗林特有了准备:他的水到食物的发明(the <a class="ae it" href="https://cloudywithachanceofmeatballs.fandom.com/wiki/Flint_Lockwood_Diatonic_Super_Mutating_Dynamic_Food_Replicator_(FLDSMDFR" rel="noopener ugc nofollow" target="_blank"> FLDSMDFR </a>)是一件复杂的设备，它根据弗林特以狂热的速度键入的代码将水分子变异成食物。变异听起来很恐怖吧？是的……这就是为什么弗林特造了一个危险测量仪。太棒了。除了这个小小的交流:</p><blockquote class="ld le lf"><p id="d1c1" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated"><em class="hh">山姆:所以你确定这是安全的？</em></p><p id="c0fd" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated"><em class="hh">弗林特:别担心。我有一个危险度计，可以让我们知道食物是否会过度变异。</em></p><p id="ece1" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated">山姆:如果食物过度变异会发生什么？</p><p id="bd62" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated">弗林特:我不知道。但那永远不会发生。</p></blockquote><p id="13f8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">正如你所想象的，当弗林特受到市民和市长的压力，要把他的发明越来越推向极限的时候，危险系数稳步地从绿色增长到黄色，然后深入到红色。最初，弗林特担心危险水平的快速上升，但随着时间的推移，他变得不那么担心和害怕，以至于低估和忽视了所有的警告。当然，当事情即将走向全面灾难时，我们已经深陷赤字，回头已为时过晚。</p><p id="06ec" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">弗林特知道建筑测试和监测对他的发明的重要性，然而，他只是勉强做了最起码的。当然，他有一些单元测试和报告，但他并不真正理解风险是什么，以及当危险等级上升时他应该做什么。走过场，以满足一些审计人员或出租车是伟大的，但你需要记住，你的应用程序并没有完成时，你推动生产。您需要关注事情，并采取适当和及时的行动来修复漏洞和其他问题，否则您最终会面临一大堆麻烦。你需要解决的一个烂摊子，同时击退变异鸡和真人大小的小熊软糖小鬼，#科学问题。</p><h1 id="cd38" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">第二课:推动的压力</h1><p id="b1e8" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">纵观整部电影，你可以看到弗林特有他的疑虑。测试成功后，弗林特不太确定他的发明是否可以投入生产。在第一次尝到全电的滋味后的几分钟内，FLDSMDFR开始发展自己的思想(想想<a class="ae it" href="https://en.wikipedia.org/wiki/Glados" rel="noopener ugc nofollow" target="_blank"> GLaDOS </a>，但是用食物代替了激光)。然而，弗林特想拯救小镇，让所有人都开心，尤其是他的父亲，并打动他的爱情兴趣山姆。虽然他承认自己的担忧，但他取悦他人的欲望占据了上风。他越来越努力地推动这项工作。他的父亲一直持怀疑态度，不断劝阻弗林特继续下去。然而，与此同时，市长认为弗林特是他走向国际名望和伟大的门票(他想成为<em class="js">的大市长</em>),他操纵弗林特的情绪让弗林特的机器继续运转。</p><p id="d4aa" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在某一点上，弗林特试图与市长讲道理——这是弗林特在引发食物末日之前放慢速度或关掉机器的最后机会。他警告市长关于变异的危险，但是<a class="ae it" href="https://www.youtube.com/watch?v=N8xRyeCQ5gk" rel="noopener ugc nofollow" target="_blank">市长反驳道:</a></p><blockquote class="ld le lf"><p id="8de9" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated">市长:我听到的是:“科学，科学，科学，更大。”越大越好。每个人都会喜欢这些新的份量。我知道我有。</p></blockquote><p id="f44b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">市长不在乎风险，他目光短浅，只在乎自己伟大的机会。当弗林特回答说他爸爸认为他应该关掉它时，市长继续说道:</p><blockquote class="ld le lf"><p id="9d0f" class="iu iv js iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr ha bi translated">像我们这样的天才永远不会被他们的父亲理解，弗林特……当你可以从数百万个熟人那里得到认可时，谁还需要一个家庭成员的认可呢？</p></blockquote><p id="0ae7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在现实世界中，我们很少是孤独的天才发明家。我们正在努力解决一些业务问题或满足一些客户需求。总是有推动快速移动和打破东西。有时候，业务不听或者我们沟通失败(<code class="du lj lk ll lm b">Science, Science, Science == ?!?!</code>，但是<code class="du lj lk ll lm b">Bigger == Praise+1</code>)。</p><p id="7251" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">大声说出来或去揭发出来，需要很大的力量，而且常常要冒很大的个人风险。这需要一些勇气，但我们都在平衡“令人毛骨悚然的”或“聪明的”方面发挥了作用与此同时，对于许多开发人员来说，最难的技能之一是学会如何以商业而非技术为中心的方式进行交流。一个好的开始方式是跟着钱走，不仅仅是今天或下个季度，而是长期的，因为它的影响可能会突然出现并放大。</p><p id="d418" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">弗林特与这股势头的内在斗争导致了一些真正负面的后果。弗林特未能抑制住兴奋，也未能找到一种方式来传达清晰而现实的危险。当他感到自己渺小时，他就退缩了。</p><p id="5d8d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">测试版是一个真正的最低可行的产品。1.0版本很早就发布了，很明显没有对FLDSMDFR进行负载测试。</p><h1 id="cbc7" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">第三课:培训的重要性</h1><p id="1b94" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">在所有果冻地狱欧逃脱后，弗林特需要依靠他近乎勒德派的父亲来帮助拯救世界，通过给他发电子邮件的“杀死代码”来关闭他的机器，去运行一个与世界天气有关的垃圾。然而，他的父亲，经营一家鱼饵和渔具店，和弗林特不是一个级别的技术呆子。</p><p id="e0a2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这些年来，弗林特几次试图向父亲展示他的实验室和发明。然而，他的父亲总是拒绝这个机会。虽然在短期内这导致了弗林特与他父亲的疏远，但当谈到这部戏剧的这个关键点时，他的父亲努力执行一个简单的拖放操作来给弗林特发送电子邮件。</p><p id="c81b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里有一些经验教训:</p><p id="361c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">开发人员</strong>:通过StackOverflow 和谷歌<a class="ae it" href="https://github.com/gautamkrishnar/tcso" rel="noopener ugc nofollow" target="_blank">编写代码很容易，但是阅读文档并接受安全主题的适当培训也很重要。否则，当需要采取快速行动时，你会在压力下和恐慌中试图解决问题。</a></p><p id="2361" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">商务人士:虽然让所有的商务人士都成为技术人员是不现实的，但他们不能把自己与技术隔离开来。业务人员应该了解他们的系统如何工作的基础知识，以及应用程序或系统的技术和业务流程方面的风险。</p><p id="8a3f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这也是我们第二次需要谈沟通的地方。你需要正确地记录事情。这不仅在危机情况下有所帮助，而且有助于新团队成员的加入，并确保期望和系统实际表现之间的明确性。</p><h1 id="259f" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">其他一些外卖</h1><p id="ec01" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">到目前为止，我们已经为您介绍了三个主要的安全概念，但是在整部电影中还展示了许多其他的安全概念(<em class="js">或缺乏</em>)。</p><p id="853f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们来谈谈整部电影中其他一些重大的安全101失误:</p><ol class=""><li id="4c34" class="ln lo hh iw b ix iy jb jc jf lp jj lq jn lr jr ls lt lu lv bi translated">弗林特建立了这个庞大复杂的计算机系统，但他并不关心认证。这使得市长可以溜进弗林特的实验室，通过点一份“拉斯维加斯风格的自助餐”让系统超载，从而开启了完美的食物风暴(旁注:市长似乎不懂科学，但现在他是一名专业的程序员？).如果弗林特通过适当的身份验证和授权锁定了他的系统，他本可以阻止这种恶意篡改，从而将危险系数推到悬崖边缘。</li><li id="394c" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><strong class="iw hi">冗余…冗余</strong>。弗林特依靠卫星上行链路与在空中飞行的FLDSMDFR通话。在试图用拉斯维加斯风格的自助餐订单取消市长的系统超载时，弗林特与市长发生了肢体冲突，最终导致他的上行链路中继被炸毁，使其无法与FLDSMDFR远程通信。因此，弗林特需要冒着危险手动上传“杀死代码”的风险，发明一种飞行汽车，并渗透到FLDSMDFR的防御系统中，FLDSMDFR已经变异成一种有知觉的生物，并有一支变异食物防御者的军队来保护它。剧透:弗林特的备用计划遇到了麻烦，因为他不小心使用了保存有“杀死代码”的USB驱动器，在飞往FLDSMDFR的途中，驱动器被吸出了破碎的窗户。你必须有一个可行的备份计划，并且需要根据给定资产的价值采取适当的保护措施。</li></ol></div><div class="ab cl jt ju go jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="ha hb hc hd he"><h1 id="8b89" class="ka kb hh bd kc kd mb kf kg kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx bi translated"><em class="mg">总结一下</em>:做好准备，实事求是，诚实。</h1><p id="ab38" class="pw-post-body-paragraph iu iv hh iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr ha bi translated">你需要掌控你的代码，确保你为你的公司和你的客户/用户做了正确的事情。你可以怀着伟大的意图推出一些东西，但在一天结束时，记住你的<a class="ae it" href="https://military.wikia.org/wiki/7_Ps_(military_adage" rel="noopener ugc nofollow" target="_blank"> 7 Ps </a>。</p><p id="745d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当英雄固然很好，但一开始就把事情搞得一团糟就不那么好了。把意大利面放在盘子里，不要放在天上。</p><p id="3d41" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">下次见，<strong class="iw hi"> <em class="js">祝胃口</em> </strong>。</p><figure class="mi mj mk ml fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mh"><img src="../Images/774923dde7f89ff63495fdae7e59bb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lx3zky-J7FTsOIrAYeLu1g.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by <a class="ae it" href="https://pixabay.com/users/wallner-974517/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5267300" rel="noopener ugc nofollow" target="_blank">Margit Wallner</a></figcaption></figure></div></div>    
</body>
</html>