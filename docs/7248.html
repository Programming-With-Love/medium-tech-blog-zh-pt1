<html>
<head>
<title>Transitioning from v1 Items to Catalog APIs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从v1项目过渡到目录API</h1>
<blockquote>原文：<a href="https://medium.com/square-corner-blog/transitioning-from-v1-items-to-catalog-apis-57d4badb012?source=collection_archive---------7-----------------------#2017-09-13">https://medium.com/square-corner-blog/transitioning-from-v1-items-to-catalog-apis-57d4badb012?source=collection_archive---------7-----------------------#2017-09-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="cf39" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">项目管理可能是任何应用程序的重要部分。如果您要从<code class="du iw ix iy iz b">v1 items</code>API迁移到新的目录端点，您需要了解以下内容。</h2></div><blockquote class="ja jb jc"><p id="08ad" class="jd je jf jg b jh ji ii jj jk jl il jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">注意，我们已经行动了！如果您想继续了解Square的最新技术内容，请访问我们的新家<a class="ae ka" href="https://developer.squareup.com/blog" rel="noopener ugc nofollow" target="_blank">https://developer.squareup.com/blog</a></p></blockquote><p id="bf6c" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">今年早些时候，<a class="ae ka" rel="noopener" href="/square-corner-blog/introducing-the-new-square-catalog-api-3e2ebf254967"> Square发布了新的目录端点</a>来帮助以一种更加简化和可扩展的方式管理您的项目。您可能熟悉v1端点<code class="du iw ix iy iz b">create</code>、<code class="du iw ix iy iz b">retrieve</code>、<code class="du iw ix iy iz b">update</code>和<code class="du iw ix iy iz b">delete</code> (CRUD)对项目及其相关变化、修改量列表、修改量选项、折扣、费用等的操作。目录端点将所有这些不同的实体精简到一个单一的<code class="du iw ix iy iz b">CatalogObject</code>类型中，新的端点用于一次对多个项目进行批处理操作。因此，跨多个位置管理项目变得更加容易。在这篇文章的剩余部分，我将回顾一些操作的不同之处。</p><h1 id="9f71" class="ke kf hh bd kg kh ki kj kk kl km kn ko in kp io kq iq kr ir ks it kt iu ku kv bi translated">创建项目和变体</h1><p id="9982" class="pw-post-body-paragraph jd je hh jg b jh kw ii jj jk kx il jm kb ky jp jq kc kz jt ju kd la jx jy jz ha bi translated">以前，您只能使用端点来创建新物件、变体、修改量等。通常，您必须使用它们来创建一个新项目，通过复杂的请求链来确保所有内容都正确关联。为您帐户中的所有项目增加这样的工作流程可以快速地将“导入您的项目”转变为在您连续创建新项目、变化、折扣和修改量时等待大量请求完成。</p><p id="3532" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">有了目录端点，该工作流被简化为一个端点，<code class="du iw ix iy iz b">POST /v2/catalog/object,</code>或upsert目录对象。虽然这乍一看似乎很复杂，但是catalog对象非常强大，通过向同一个请求添加多个对象类型，可以简化其他调用的数量。现在，您可以并行创建您的项目及其变体、选项和修改器，同时利用<code class="du iw ix iy iz b">batch</code>端点选项进行大规模操作。</p><p id="6ce8" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">让我们看看创建一个新项目和几个变体所需的代码。</p><h2 id="8549" class="lb kf hh bd kg lc ld le kk lf lg lh ko kb li lj kq kc lk ll ks kd lm ln ku lo bi translated">使用v1项端点创建项和变体</h2><figure class="lp lq lr ls fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="5945" class="lb kf hh bd kg lc ld le kk lf lg lh ko kb li lj kq kc lk ll ks kd lm ln ku lo bi translated">使用v2目录端点创建项目和变体</h2><figure class="lp lq lr ls fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="4c0f" class="ke kf hh bd kg kh ki kj kk kl km kn ko in kp io kq iq kr ir ks it kt iu ku kv bi translated">正在检索项目</h1><p id="84f8" class="pw-post-body-paragraph jd je hh jg b jh kw ii jj jk kx il jm kb ky jp jq kc kz jt ju kd la jx jy jz ha bi translated">这是目录端点可以发挥重要作用的另一个领域，尤其是在管理多个位置的项目时。</p><h2 id="5b41" class="lb kf hh bd kg lc ld le kk lf lg lh ko kb li lj kq kc lk ll ks kd lm ln ku lo bi translated">检索带有v1项端点的项和变体</h2><figure class="lp lq lr ls fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h2 id="f593" class="lb kf hh bd kg lc ld le kk lf lg lh ko kb li lj kq kc lk ll ks kd lm ln ku lo bi translated">检索带有v1项端点的项和变体</h2><figure class="lp lq lr ls fd lt"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="ce70" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">乍一看，这两个片段看起来很相似，但是这些微小的差异会对管理真实世界的示例的容易程度产生很大的影响。首先，您不需要一个位置来检索您的项目，因为项目不再需要局限于单独的位置。此外，您可以选择使用<code class="du iw ix iy iz b">$include_related_objects</code>参数请求所有相关的对象，其中包括所有相关的类别、税和适用于该项目的修改量列表。对v1项的端点进行相同的操作将需要您为想要检索的每个不同的属性调用特定的端点。</p><p id="34c2" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">这仅仅是在v1 items端点上使用新的<a class="ae ka" href="https://docs.connect.squareup.com/api/connect/v2#navsection-catalog" rel="noopener ugc nofollow" target="_blank">目录API</a>的好处的一个尝试，所以如果你还没有进行转换，试试看它会如何简化你的一些代码。</p><p id="0038" class="pw-post-body-paragraph jd je hh jg b jh ji ii jj jk jl il jm kb jo jp jq kc js jt ju kd jw jx jy jz ha bi translated">Square现在也在为我们的开发者平台招聘更多的人！去Square.com/careers看看，看看是否有你感兴趣的机会。来和我们一起工作吧:)。</p></div></div>    
</body>
</html>