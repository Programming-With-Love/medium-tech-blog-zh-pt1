<html>
<head>
<title>Dynamical angular forms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动态角度形式</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/dynamical-angular-forms-b36769859cb?source=collection_archive---------0-----------------------#2019-06-29">https://medium.com/quick-code/dynamical-angular-forms-b36769859cb?source=collection_archive---------0-----------------------#2019-06-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><h2 id="64b3" class="hf hg hh bd b fp hi hj hk hl hm hn dx ho translated" aria-label="kicker paragraph">角度指南</h2><div class=""/><div class=""><h2 id="0c18" class="pw-subtitle-paragraph in hq hh bd b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je dx translated">动态创建表单</h2></div><p id="af5f" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">角形控制和角形群给了我们许多机会。主要的一个是动态地改变问题和验证。</p><p id="3ed1" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">有时取决于用户必须回答几个附加问题的答案。</p><p id="6453" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">我们有一个简单的表格。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/30b52d734185a6aba69e6b8de5e33773.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SpB8IPKASavFwLaiRBB2w.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Form</figcaption></figure><p id="c92a" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">根据用户的性别，我们需要限制最大年龄，这意味着我们需要动态更改验证。</p><p id="5125" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">首先，我们需要知道“性别”控制的价值何时会改变。这就是为什么我们订阅“valueChanges”事件，在方法内部，我们首先清除所有现有的验证器，然后根据性别添加新的验证器，我们需要手动运行新的验证。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kr"><img src="../Images/5180ec91d6cc78f42b0051a0baf2c71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7eWI9Q5Cxv1BDzhBjeiNQ.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Validators</figcaption></figure><p id="534a" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">另外，让我们为每个性别创建一个额外的问题。男性会问“你的职业是什么？”对女性来说，这将是“你有宠物吗？”。</p><p id="d2c2" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">我们需要在html代码中添加这两个问题，并编写两个ngIf来检查用户的性别。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ks"><img src="../Images/ea7cc30e5e57939835242141203ee562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMNI8YXPilfhlDWe47lJkQ.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">New questions</figcaption></figure><p id="2408" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">接下来，我们需要在FormGroup中添加新的FormControl，并需要验证器。根据用户的“性别”,我们需要删除不必要的FormControl并添加新的。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kt"><img src="../Images/59341eaf8930175e1f760d7dded020ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nss3O4FYIDeXxn8rNJyowg.png"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx">Dynamically change FormGroup</figcaption></figure><p id="2571" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">现在我们有了带有动态验证的动态表单。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es ku"><img src="../Images/86da5b5e6c9778ee43de4b21f56d8c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*k38CY5f1oc-d5fpxgMtYLA.png"/></div></figure><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es kv"><img src="../Images/6c943b6a90721786102fa8c09b975adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*bbrv04pCgxVywBuYW318vA.png"/></div></figure><p id="ea30" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated">如果你需要仔细查看项目<a class="ae kw" href="https://github.com/8Tesla8/tree-view-angular" rel="noopener ugc nofollow" target="_blank">，这里有</a><a class="ae kw" href="https://github.com/8Tesla8/angular-forms" rel="noopener ugc nofollow" target="_blank"/><a class="ae kw" href="https://github.com/8Tesla8/tree-view-angular" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div><div class="ab cl kx ky go kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ha hb hc hd he"><p id="b268" class="pw-post-body-paragraph jf jg hh jh b ji jj ir jk jl jm iu jn jo jp jq jr js jt ju jv jw jx jy jz ka ha bi translated"><em class="le">原载于2019年6月29日</em><a class="ae kw" href="https://tomorrowmeannever.wordpress.com/2019/06/29/dynamical-angular-forms/" rel="noopener ugc nofollow" target="_blank"><em class="le">http://tomorrowmeannever.wordpress.com</em></a><em class="le">。</em></p></div></div>    
</body>
</html>