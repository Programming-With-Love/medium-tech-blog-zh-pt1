<html>
<head>
<title>DevOps Series: Automate Oracle 19c Grid Infrastructure Installations Using Ansible [GITHUB] — Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DevOps系列:使用Ansible [GITHUB]自动化Oracle 19c网格基础设施安装—第一部分</h1>
<blockquote>原文：<a href="https://medium.com/oracledevs/devops-series-automate-oracle-19c-grid-infrastructure-installations-with-ansible-github-bc491bdd34ce?source=collection_archive---------0-----------------------#2019-09-28">https://medium.com/oracledevs/devops-series-automate-oracle-19c-grid-infrastructure-installations-with-ansible-github-bc491bdd34ce?source=collection_archive---------0-----------------------#2019-09-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="9c9e" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">作者:<a class="iw ix ge" href="https://medium.com/u/ba3f0a72ff81?source=post_page-----bc491bdd34ce--------------------------------" rel="noopener" target="_blank">纳西姆·巴沙</a>(甲骨文王牌总监，OCM)<a class="iw ix ge" href="https://medium.com/u/3757393c69bd?source=post_page-----bc491bdd34ce--------------------------------" rel="noopener" target="_blank">莫诺瓦·穆库尔</a> (OCM)</h2></div><p id="3f27" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">【https://github.com/asiandevs/GI_19cSoftInstall】GITHUB链接:<a class="ae ju" href="https://github.com/asiandevs/GI_19cSoftInstall" rel="noopener ugc nofollow" target="_blank"/></p><pre class="jv jw jx jy fd jz ka kb kc aw kd bi"><span id="588d" class="ke kf hh ka b fi kg kh l ki kj"><a class="ae ju" href="https://github.com/asiandevs/oracle21c/tree/main/roles" rel="noopener ugc nofollow" target="_blank"><strong class="ka hi">21c : Github Repository</strong></a><strong class="ka hi"> + </strong><a class="ae ju" href="https://youtu.be/UrbONJm9SEk" rel="noopener ugc nofollow" target="_blank"><strong class="ka hi">21c Grid Infrastructure Install video</strong></a></span></pre><div class="kk kl ez fb km kn"><a href="https://github.com/asiandevs/oracle21c/tree/main/roles/racgi21c_install" rel="noopener  ugc nofollow" target="_blank"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hi fi z dy ks ea eb kt ed ef hg bi translated">Oracle 21c/roles/racgi 21c _ install at main Asian devs/Oracle 21c</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">本行动手册适用于Oracle网格基础架构安装、Oracle RAC安装和创建RAC数据库…</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">github.com</p></div></div><div class="kw l"><div class="kx l ky kz la kw lb lc kn"/></div></div></a></div><figure class="jv jw jx jy fd ld"><div class="bz dy l di"><div class="le lf l"/></div></figure><h1 id="c745" class="lg kf hh bd lh li lj lk ll lm ln lo lp in lq io lr iq ls ir lt it lu iu lv lw bi translated"><strong class="ak">简介</strong></h1><p id="ee54" class="pw-post-body-paragraph iy iz hh ja b jb lx ii jd je ly il jg jh lz jj jk jl ma jn jo jp mb jr js jt ha bi translated">网格基础设施(GI)是Oracle实时应用集群(RAC)的基础。这是一个包含集群件和ASM二进制文件的软件。在安装Oracle RDBMS软件之前，必须安装GI。它由一些额外的进程组成，这些进程允许参与的群集节点进行通信，并向客户端提供统一的映像。Oracle RAC基于集群技术工作。群集是一组两个或更多相似的连接服务器，对最终用户和应用程序来说，它们就像一个实体，提供高可用性和可伸缩性。在准备网格基础设施安装时，需要满足几个要求。</p><p id="3c73" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">在本文中，我们将使用Ansible在Oracle Linux 7.5上为两个节点自动部署Oracle 19c网格基础设施。对于本文，在运行ansible-playbook之前，已经完成了<a class="ae ju" href="https://docs.oracle.com/en/database/oracle/oracle-database/19/cwlin/oracle-grid-infrastructure-installation-checklist.html#GUID-71A93E07-7E50-449C-B425-02F04A2EA8E6" rel="noopener ugc nofollow" target="_blank"> Oracle Grid Infrastructure安装清单</a>中的以下先决任务。</p><p id="af9c" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 1。用于RAC设置的服务器已准备就绪</em></p><p id="fa8b" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">网格基础设施安装过程的第一步是用操作系统和硬件的配置设置至少两台服务器。对于本文，已经设置了两个独立的服务器，节点名分别为ora-x1和ora-x2。</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es md"><img src="../Images/c31ffb3d7f6240bb99213486e36c9c0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dn-ENgHGeaJk8kpJXE_Sdw.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: 2-node Rac CLuster</figcaption></figure><p id="7875" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">本文假设您已经为RAC安装设置了两台独立的服务器。如果您需要设置Oracle Linux以安装Oracle软件，请使用以下Github存储库:<a class="ae ju" href="https://github.com/asiandevs/oraclelinuxsetup" rel="noopener ugc nofollow" target="_blank">Asian devs/Oracle Linux setup</a>—此存储库有助于设置Oracle Linux服务器以安装Oracle数据库软件。</p><p id="1e5a" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">操作系统版本是Oracle Linux 7.5</p><blockquote class="mn mo mp"><p id="b554" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">[root @ ora-x1 ~]# cat/etc/OS-release<br/>NAME = " Oracle Linux Server "<br/>VERSION = " 7.5 "<br/>ID = " ol "<br/>VERSION _ ID = " 7.5 "<br/>PRETTY _ NAME = " Oracle Linux Server 7.5 "</p></blockquote><p id="b4e1" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 2。确保网络设置完成</em></p><p id="83c6" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">每个节点必须至少有两个网卡。<em class="mc">公共网络接口</em>是标准的网络连接，它将服务器链接到网络中的所有其他计算机，以支持TCP/IP。<em class="mc">专用网络接口</em>通常是不可路由的专用网络连接，仅由集群内的服务器共享，以支持UDP(用户数据报协议)。</p><p id="5cc8" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">需要设置/etc/hosts文件，其中包含本地主机和Internet网络中其他主机(VIP和SCAN)的Internet协议(IP)主机名和地址。对于本文，两个节点的/etc/hosts文件条目如下所示。</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es mt"><img src="../Images/1e54dd66b1d3ffb49cc92b5e66274528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRcaCA7AyxEO0t3HWqotsQ.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: hosts file entry</figcaption></figure><p id="ea30" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">虚拟IP和扫描IP未分配给任何物理设备，也没有子网或网关可以分配给它们。它有助于负载平衡，并在一个节点停机时使应用程序对其他节点可用。</p><p id="7d69" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">扫描IP应该可以从群集的所有节点访问，而不是特定于某个节点。它允许客户端连接到数据库，而不管服务位置在哪里。在我们的测试实验室中，因为没有配置DNS服务器，所以对扫描侦听器使用单个IP地址。</p><p id="1a4d" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">3.确保磁盘可用于ASM磁盘组</p><p id="2311" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">磁盘本质上应该是共享的，<em class="mc">它们将用于创建ASM磁盘组，这允许多个数据库实例在不同的服务器上运行。它确保如果任何服务器节点出现故障，所有剩余的节点将继续访问所有资源。</em></p><blockquote class="mn mo mp"><p id="ea21" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">[root @ ora-x1 app]# Oracle ASM list disks<br/>ASM _ disk 01<br/>ASM _ disk 02<br/>ASM _ disk 03<br/>ASM _ disk 04<br/>ASM _ disk 05<br/>ASM _ disk 06<br/>ASM _ disk 07<br/>ASM _ disk 08</p></blockquote><p id="d8f3" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 4。Oracle GI软件安装的系统要求已经就绪</em> <br/>我们的行动手册有一项任务是设置所需的Linux内核参数和必要的软件包，主要是编译器、链接器和兼容性库。<br/> <br/> Oracle建议每个节点使用8 GB物理内存<br/>有关更多信息，请查看Oracle 19c网格基础设施安装指南</p><p id="1390" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><a class="ae ju" href="https://docs.oracle.com/en/database/oracle/oracle-database/19/cwlin/oracle-grid-infrastructure-installation-checklist.html#GUID-71A93E07-7E50-449C-B425-02F04A2EA8E6" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/en/database/Oracle/Oracle-database/19/cwlin/Oracle-grid-infra structure-installation-check list . html # GUID-71 a93 e 07-7e 50-449 c-B425-02 f 04 a2 ea 8 e 6</a></p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es mu"><img src="../Images/254a84e08d97e5e5e778bcb8e2d266b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RTWkXlFnrJyZOPlFeBEWfw.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">OS Memory and storage capacity</figcaption></figure><p id="608f" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 5。所需的操作系统组和用户已经到位</em></p><ul class=""><li id="8a7f" class="mv mw hh ja b jb jc je jf jh mx jl my jp mz jt na nb nc nd bi translated">在每个节点上创建一个Oracle软件清单组(oinstall ),以及安装Oracle GI所需的其他操作系统组。</li></ul><figure class="jv jw jx jy fd ld er es paragraph-image"><div class="er es ne"><img src="../Images/e83d7a38319ad8b6591f1a3e3a5f3fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*cIy4OZej8lWk55SZoqjm6g.png"/></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: OS Group</figcaption></figure><p id="d785" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">在每个节点上创建oracle软件所有者，对于GI是网格用户，对于RAC是Oracle用户。每个节点上的用户ID必须一致，并且库存组必须是主要组。</p><p id="8b90" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 6。SSH用户等效性</em></p><p id="c2e0" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">SSH用户认证是在所有集群节点上为网格用户建立的。</p><p id="7a2d" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><em class="mc"> 7。下载甲骨文软件</em></p><p id="6cab" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">从下面的链接下载oracle软件，并转移到软件目录—<br/>T5 https://www . Oracle . com/database/technologies/Oracle 19 c-Linux-downloads . html</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es nf"><img src="../Images/f8883ba990bb11ca6fde4d19642b2119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pgCLiBz9qUTvIIXYUBWayg.png"/></div></div></figure><p id="1498" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">安装oracle GI的主要行动手册是“oracleGInRAC19cR3.yml ”,其中我们称之为角色— racgi19c_install</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div class="er es ng"><img src="../Images/40e60294659ed50cb884f976a0adaba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*E8KYELj_OQilSzWWYpjRew.png"/></div></figure><p id="5ec3" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">该角色的树形结构如下</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es nh"><img src="../Images/c9545b6677011d8cd1e12bb0dd8d38d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5DSeYYKx2lMGlslstH8TFg.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: Tree structure of the role</figcaption></figure><p id="267e" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">我们将要执行的剧本的变量如下-</p><blockquote class="mn mo mp"><p id="c345" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">[root @ oel 75 ansi ble]# cat roles/racgi 19 c _ install/vars/main . yml<br/>Oracle _ user:" Oracle "<br/>software _ dir:"/u01/stage "<br/>Oracle _ install _ group:" oinstall "<br/>root _ dir:"/u02 "<br/>stage _ dir:"/u02/stage "<br/>grid _ home:/u02/app/19 . 3 . 0/grid<br/>grid _ base:/ <br/>DBA _ grp:DBA<br/>oper _ grp:DBA<br/>osasm _ grp:DBA<br/># # # # # C段—SCAN # # # # # # # # #<br/>SCAN _ name:racdb 01—SCAN<br/>SCAN _ port:1521<br/># # # # D段—CLUSTER&amp;GNS # # # # # # # # # <br/>ClusterConfigu _ Type:STANDALONE<br/>cluster name:racdb 01<br/>vscan name:" { { vclusterName } }-scan "<br/>vscan Port:1521<br/>node 1 _ FQ _ hostname:ora-x1 . local domain<br/>node 1 _ FQ _ VIP name:ora-x1-VIP . local domain<br/>node 2 _ FQ _ hostname:ora-x2 . local domain<br/>node 2 _ FQ _ VIP name:ora-x2 }}1、{{ asmdiskpre }}2、{{ asmdiskpre }}3、{{ asmdiskpre }}4、{{ asmdiskpre }}5、{ { asmdiskpre } } 6 '<br/>DG _ au:1<br/>asmdiskDiscoveryString:"/dev/Oracle ASM/disks "<br/>disk _ discstr:"/dev/Oracle ASM/disks/* "</p></blockquote><p id="e40e" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">主剧本定义了以下任务—</p><blockquote class="mn mo mp"><p id="a0a9" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">[root @ oel 75 ansi ble]# cat roles/racgi 19 c _ Install/tasks/main . yml<br/>—-<br/># = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =<br/>#仅安装Oracle Grid infra structure(GI)19 . 3 . 0软件:<br/> #假设:<br/> # —配置两台独立的机器(示例— Ora-X1和Ora-x2)<br/>#—所有必需的操作系统组和用户均已就位<br/> # —必要的网络设置 (2)解压后的Oracle GI软件<br/> # (3)创建静默安装的响应文件<br/> # (4)仅在静默模式下安装Oracle GI 19.3.0软件<br/> # (5)运行必要的root脚本<br/># = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =<br/>-名称:显示Oracle GI软件预安装消息<br/>调试:【T17</p><p id="f848" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-名称:安装Oracle GI软件的准备任务<br/>block:<br/>—import _ tasks:create _ dirs . yml<br/>—import _ tasks:install _ NTP . yml<br/>—import _ tasks:racgi 19 c _ pre install . yml<br/>become:yes<br/>become _ user:root<br/>tags:<br/>—GI soft _ pre tasks</p><p id="e47a" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-名称:使用Ansible <br/>安装Oracle GI软件block:<br/>—import _ tasks:racgi 19 c _ soft Install . yml<br/>—import _ tasks:racgi 19 c _ oins root . yml<br/>—import _ tasks:racgi 19 c _ root . yml<br/>成为:是<br/>成为_用户:root</p><p id="fa33" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">- name: Post Oracle GI安装任务<br/>block:<br/>—import _ tasks:racgi 19 c _ config tools . yml<br/>—import _ tasks:racgi 19 c _ Post install . yml<br/>成为:是<br/>成为_用户:root</p><p id="1586" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">- name:删除stage目录<br/>remote _ user:" { { root _ user } } "<br/>文件:<br/>路径:" {{ item }}" <br/>状态:缺席<br/>with _ items:<br/>—" { { stage _ dir } } "</p><p id="1bdb" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-name:display post Install message<br/>debug:<br/>msg:<br/>—' This Steps completed below task for Single Instance at { { ansi ble _ date _ time . iso 8601 } }:'<br/>—'-Install Oracle Grid infra structure 19c on two node RAC cluster ora-x1 and ora-x2 '<br/>—'-END OF ALL:git repository GI _ 19c soft Install将共享'</p></blockquote><p id="ab33" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">主要有三个部分。</p><p id="774a" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi ni translated">第一节:</p><p id="6e27" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">本节包括为安装Oracle GI做准备的所有安装前任务</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es nr"><img src="../Images/508c340e5bbc55f5db29203f0e5bbf91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wgRUgti-yjoPIKMHMr6PUQ.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: main tasks — first section</figcaption></figure><ul class=""><li id="4254" class="mv mw hh ja b jb jc je jf jh mx jl my jp mz jt na nb nc nd bi translated">为Oracle网格基础架构创建所需的目录</li><li id="14aa" class="mv mw hh ja b jb ns je nt jh nu jl nv jp nw jt na nb nc nd bi translated">操作系统配置的网络时间协议(NTP)</li><li id="de9d" class="mv mw hh ja b jb ns je nt jh nu jl nv jp nw jt na nb nc nd bi translated">配置19c网格软件响应文件</li><li id="c348" class="mv mw hh ja b jb ns je nt jh nu jl nv jp nw jt na nb nc nd bi translated">将Oracle 19c GI软件从控制服务器解包到受管服务器。</li><li id="5896" class="mv mw hh ja b jb ns je nt jh nu jl nv jp nw jt na nb nc nd bi translated">安装集群验证实用程序rpm，并运行CRS安装的集群验证检查</li></ul><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es nx"><img src="../Images/21128b51e20fc506b23f65ab8f5d918d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KmlaFkmmubyyai5fMvD4Lg.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: Playbook output for the first section</figcaption></figure><p id="6d4a" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi ni translated">第二节:</p><p id="123b" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">本节的任务是通过使用静默响应文件从Grid Control主目录运行gridSetup.sh并执行根脚本来安装网格基础设施。</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div class="er es ny"><img src="../Images/6484125dc4da0613ade35844a7a4c296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*A2qJZlegjhU_DAxPxflkUw.png"/></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: Tasks block second section</figcaption></figure><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es nz"><img src="../Images/7d08351c984314f6210e7e7678ae8f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOBGHCg0O-9BsAXfZRm7hQ.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: output of GI software install</figcaption></figure><p id="e937" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">然后，我们需要执行第一个脚本orainstRoot.sh，它首先设置清单设置，然后执行第二个脚本Root.sh，它设置Oracle Grid Infrastructure主目录中文件的权限，配置集群，并启动Oracle Clusterware资源。</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es oa"><img src="../Images/d0fbb3aa505cc7b4d298117e6c1f9ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkJ641z3rZxeNEUX1fALwQ.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: output of orainstroot.sh for both nodes</figcaption></figure><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es ob"><img src="../Images/b647728f04c1b36e6b3f162e9c41faa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3QziAg57iRjgIFelHKDbhA.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: root.sh output — first node</figcaption></figure><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es oc"><img src="../Images/ab3ad42ab2f19518ff0451b13d2cad91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wUujefnFbWk5pS7lnZNaSw.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: root.sh second node</figcaption></figure><p id="de01" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi ni translated">第三部分:</p><p id="4154" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">本节包含使用静默响应文件的executeConfigTools的gridSetup.sh任务。</p><figure class="jv jw jx jy fd ld er es paragraph-image"><div class="ab fe cl od"><img src="../Images/14db87511fe8a934bda835a8b5db325d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Dfurf56_edXioHNc62eh1w.png"/></div></figure><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es oe"><img src="../Images/76a22dfebfde8b58b00ff9c9233b1f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z--v8g8uMSK68CSccADmUA.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: initial log part of GI config setup</figcaption></figure><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es of"><img src="../Images/4312cb4bbc50c4945b8ba6466af7ac4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2IjcAmNLXOSJjoe-IpHy7g.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: Last part of GI config section</figcaption></figure><p id="6dc2" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><strong class="ja hi">岗位任务</strong></p><p id="e395" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">这个阶段还用于验证网格基础设施安装<br/>——检查集群的状态<br/>——确认所有集群和本地资源都已启动并运行。<br/> -检查ASM集群模式<br/> -更新网格用户bash配置文件</p><blockquote class="mn mo mp"><p id="7862" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">[root @ oel 75 tasks]# VI racgi 19 c _ post install . yml</p><p id="d357" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-debug:var = CRS CTL _ RES stat . stdout _ lines<br/>when:inventory _ hostname in groups[' ora-x1 ']</p><p id="015a" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">- name:检查集群状态<br/>when:inventory _ hostname in groups[' ora-x1 ']<br/>remote _ user:" { { root _ user } } "<br/>become:yes<br/>become _ user:" { { grid _ user } } "<br/>shell:" { { grid _ home } }/bin/CRS CTL Check cluster-all "<br/>register:cluster _ stat</p><p id="b1a8" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-debug:var = cluster _ stat . stdout _ lines<br/>when:inventory _ hostname in groups[' ora-x1 ']</p><p id="ae1f" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-name:Check ASM cluster mode<br/>when:inventory _ hostname in groups[' ora-x1 ']<br/>remote _ user:" { { root _ user } } "<br/>become:yes<br/>become _ user:" { { GRID _ user } } "<br/>action:shell export GRID _ HOME = { { GRID _ HOME } }；{ { grid _ home } }/bin/ASM cmd showclustermode<br/>寄存器:asmcluster_mode</p><p id="35e7" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-debug:var = ASM cluster _ mode . stdout _ lines<br/>when:inventory _ hostname in groups[' ora-x1 ']</p><p id="5ca0" class="iy iz mc ja b jb jc ii jd je jf il jg mq ji jj jk mr jm jn jo ms jq jr js jt ha bi translated">-name:bash _ profile for user grid<br/>become:yes<br/>become _ user:" { { grid _ user } } "<br/>block infile:<br/>path:/home/grid/。bash _ profile<br/>insert after:' # # # # # # for grid # # # # '<br/>state:present<br/>block:|<br/>export PATH = $ PATH:$ HOME/bin<br/>export PATH =/usr/bin:$ PATH<br/>export LD _ LIBRARY _ PATH =/usr/lib:/lib<br/>export LANG = AMERICAN _ AMERICA。UTF8 <br/>导出NLS _日期_格式='DD-MM-YYYY:HH24:MI:SS' <br/>导出ORACLE _ BASE = " { { grid _ BASE } } "<br/>导出ORACLE _ HOME = " { { grid _ HOME } } "<br/>导出路径=$ORACLE_HOME/bin:$PATH</p></blockquote><figure class="jv jw jx jy fd ld er es paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="er es og"><img src="../Images/c2b986840b4d258ff22864f208b59d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*781ciGUbmvpbW0lDMYACyQ.png"/></div></div><figcaption class="mj mk et er es ml mm bd b be z dx">Figure: Post part of GI installation</figcaption></figure><h1 id="fdd8" class="lg kf hh bd lh li lj lk ll lm ln lo lp in lq io lr iq ls ir lt it lu iu lv lw bi translated"><strong class="ak">总结</strong></h1><p id="0841" class="pw-post-body-paragraph iy iz hh ja b jb lx ii jd je ly il jg jh lz jj jk jl ma jn jo jp mb jr js jt ha bi translated">我们已经使用Ansible成功完成了Oracle Grid Infrastructure 19cR3的安装。与每次运行许多步骤相比，Ansible通过一次执行使重复任务变得更加容易。这个剧本的源代码对于我们的测试设置来说是非常具体的。我们已经上传并在<a class="ae ju" href="https://github.com/asiandevs/GI_19cSoftInstall" rel="noopener ugc nofollow" target="_blank"> Github </a>中可用，现在是你玩它的时候了。请确保相应地修改变量，并在应用QA或PROD系统之前测试开发环境。</p><p id="13b8" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated">享受自动化:)</p><h1 id="f6c5" class="lg kf hh bd lh li lj lk ll lm ln lo lp in lq io lr iq ls ir lt it lu iu lv lw bi translated">作者简历</h1><p id="7c7f" class="pw-post-body-paragraph iy iz hh ja b jb lx ii jd je ly il jg jh lz jj jk jl ma jn jo jp mb jr js jt ha bi translated">Monowar Mukul目前担任首席Oracle数据库专家。我是Oracle认证大师(Oracle 12c认证大师管理、Oracle 12c认证大师MAA和Oracle 11g认证大师管理)。他在Oracle MAA空间担任了17年的Oracle数据库管理员顾问，负责数据库云服务器和非数据库云服务器系统、Oracle云空间和SOA中间件。他曾在澳大利亚的多个商业领域工作，包括高等教育、能源、政府、采矿和运输。作为一名首席Oracle数据库专家，他展示了高度发展的批判性思维和分析技能。你可以在https://www.linkedin.com/in/monowarmukul/的<a class="ae ju" href="https://www.linkedin.com/in/monowarmukul/" rel="noopener ugc nofollow" target="_blank">找到关于他和他的工作成就的更多细节</a></p><p id="3b79" class="pw-post-body-paragraph iy iz hh ja b jb jc ii jd je jf il jg jh ji jj jk jl jm jn jo jp jq jr js jt ha bi translated"><strong class="ja hi"> Nassyam Basha </strong>是一名数据库管理员。他有大约十年的Oracle数据库管理员工作经验，目前是eprosed KSA公司的数据库专家。他拥有马德拉斯大学的计算机应用硕士学位。他是Oracle 11g认证大师和Oracle ACE总监。他以超级英雄的身份积极参与甲骨文相关论坛，如OTN，甲骨文支持被授予“大师”称号，并担任OTN版主，与OTN一起撰写了大量关于Toad World的文章。他维护着一个与甲骨文技术相关的博客，<a class="ae ju" href="http://www.oracle-ckpt.com/" rel="noopener ugc nofollow" target="_blank">www.oracle-ckpt.com</a>，可以通过<a class="ae ju" href="https://www.linkedin.com/in/nassyambasha/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/nassyambasha/</a>找到他</p></div></div>    
</body>
</html>