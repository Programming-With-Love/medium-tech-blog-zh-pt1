<html>
<head>
<title>Vnet IntegratedPostgreSQL Integration with Power BI App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vnet集成PostgreSQL与Power BI应用程序集成</h1>
<blockquote>原文：<a href="https://medium.com/version-1/vnet-integratedpostgresql-integration-with-power-bi-app-12950039e687?source=collection_archive---------2-----------------------#2022-05-26">https://medium.com/version-1/vnet-integratedpostgresql-integration-with-power-bi-app-12950039e687?source=collection_archive---------2-----------------------#2022-05-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/e42129038aae1fde955b7824187f5468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wRk_kOSWJoWCIpyp"/></div></div></figure><div class=""/><p id="a23b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">案例场景</strong></p><p id="4b4d" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是一个案例场景，我们有一个运行在Azure上的数据库(PostgreSQL ),它启用了VNET集成，我们需要从Power BI访问同一个数据库。</p><p id="d2df" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">我们将流程总结为四个不同的部分，概述如下:</strong></p><p id="bdf9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.<a class="ae jn" rel="noopener" href="/version-1/vnet-integratedpostgresql-integration-with-power-bi-app-12950039e687">第1部分—创建虚拟网络和PostgreSQL </a> <br/> 2。<a class="ae jn" rel="noopener" href="/version-1/creating-and-configuring-virtual-network-gateway-point-to-site-using-azure-certification-7a5b61839e54">第2部分—创建和配置虚拟网络网关(点对点)</a> <br/> 3。<a class="ae jn" rel="noopener" href="/version-1/installing-odbc-driver-for-remote-connection-to-postgresql-db-9b8d496e50e4">第3部分—安装远程连接PostgreSQL数据库的ODBC驱动程序</a> <br/> 4。<a class="ae jn" rel="noopener" href="/version-1/configuring-of-data-gateway-in-power-bi-f7f95882f19">第4部分—在Power BI中配置数据网关</a></p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h1 id="7e8d" class="jv jw hs bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">创建虚拟网络和PostgreSQL灵活服务器</strong></h1><p id="46b7" class="pw-post-body-paragraph ip iq hs ir b is kt iu iv iw ku iy iz ja kv jc jd je kw jg jh ji kx jk jl jm ha bi translated">azure Database for PostgreSQL Flexible Server支持两种互斥的网络连接方法。</p><ul class=""><li id="03c4" class="ky kz hs ir b is it iw ix ja la je lb ji lc jm ld le lf lg bi translated">公共访问(允许的IP地址)</li><li id="f1b2" class="ky kz hs ir b is lh iw li ja lj je lk ji ll jm ld le lf lg bi translated">私人访问(VNET集成)</li></ul><p id="1e60" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这篇博客中，我们将关注使用Azure门户创建一个具有<strong class="ir ht">私有访问(VNet集成)</strong>的PostgreSQL灵活服务器。通过私有访问(VNet集成)，我们可以将灵活的服务器部署到我们自己的<a class="ae jn" href="https://docs.microsoft.com/en-gb/azure/virtual-network/virtual-networks-overview" rel="noopener ugc nofollow" target="_blank"> <strong class="ir ht"> Azure虚拟网络</strong> </a>。Azure虚拟网络提供私有和安全的网络通信。使用私有访问，到PostgreSQL服务器的连接被限制在我们的虚拟网络中。</p><p id="96ef" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">注意:</strong>我们可以在创建服务器时将灵活的服务器部署到虚拟网络和子网中。部署灵活服务器后，我们不能将其移动到另一个虚拟网络、子网或<em class="lm">公共访问(允许的IP地址)</em>。</p><ul class=""><li id="0be8" class="ky kz hs ir b is it iw ix ja la je lb ji lc jm ld le lf lg bi translated"><strong class="ir ht">创建虚拟网络</strong></li></ul><p id="6967" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.登录Azure门户网站(<a class="ae jn" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank">https://portal.azure.com/)</a>。</p><p id="beb0" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.在门户左上角选择<strong class="ir ht">创建资源</strong>。</p><p id="9ff3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.在搜索框中，输入<strong class="ir ht">虚拟网络</strong>。在搜索结果中选择<strong class="ir ht">虚拟网络</strong>。</p><p id="b432" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">4.在<strong class="ir ht">虚拟网络</strong>页面上，选择<strong class="ir ht">创建</strong>。</p><p id="66db" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">5.在<strong class="ir ht">创建虚拟网络</strong>中，在<strong class="ir ht">基本信息</strong>选项卡中输入或选择所需信息:</p><figure class="lo lp lq lr fd hj er es paragraph-image"><div class="er es ln"><img src="../Images/76a5ce5bdf7026fdd32efbc76673479a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*_oYNyOxpOqOdwfD_uHDBDw.png"/></div></figure><p id="90c7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">6.选择<strong class="ir ht"> IP地址</strong>选项卡或选择页面底部的<strong class="ir ht">下一步:IP地址</strong>按钮。</p><p id="6197" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">7.在<strong class="ir ht"> IPv4地址空间</strong>中，选择已有的地址空间，将其更改为<strong class="ir ht"> 10.1.0.0/16 </strong>。</p><p id="ff08" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">8.选择<strong class="ir ht"> +添加子网</strong>，然后输入合适的<strong class="ir ht">子网</strong>名称(例如:<strong class="ir ht"> MySubnet) </strong>作为<strong class="ir ht">子网名称</strong>和<strong class="ir ht"> 10.1.0.0/24 </strong>作为<strong class="ir ht">子网地址范围</strong>。</p><p id="f328" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">9.选择<strong class="ir ht">保存</strong>。</p><p id="cb89" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">10.选择<strong class="ir ht">安全</strong>选项卡或选择页面底部的<strong class="ir ht">下一步:安全</strong>按钮。</p><p id="95a6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> *BastionHost </strong>:禁用</p><p id="498f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> *DDoS防护标准</strong>:禁用</p><p id="0e4b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">*防火墙</strong>:禁用</p><figure class="lo lp lq lr fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ls"><img src="../Images/b3f8d0a4cf71ac10069926cc28b7eda7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5VpQ1wICa3-nbHKRrux19A.png"/></div></div></figure><p id="9825" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">11.选择<strong class="ir ht">标签</strong>选项卡或选择页面底部的<strong class="ir ht">下一步:标签</strong>按钮。</p><p id="6171" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">12.选择<strong class="ir ht">评审+创建</strong>选项卡或选择<strong class="ir ht">评审+创建</strong>按钮。</p><p id="d039" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">13.选择<strong class="ir ht">创建</strong>。</p><ul class=""><li id="7892" class="ky kz hs ir b is it iw ix ja la je lb ji lc jm ld le lf lg bi translated"><strong class="ir ht">在现有虚拟网络中为PostgreSQL灵活服务器创建Azure数据库</strong></li></ul><p id="86b6" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">先决条件:</strong></p><p id="311f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">*虚拟网络和子网应该与我们的灵活服务器位于相同的区域和订阅中。</p><p id="d7a5" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">* <a class="ae jn" href="https://docs.microsoft.com/en-gb/azure/virtual-network/manage-subnet-delegation#delegate-a-subnet-to-an-azure-service" rel="noopener ugc nofollow" target="_blank">将一个子网</a>委托给<strong class="ir ht">Microsoft.DBforPostgreSQL/FlexibleServers</strong>。这种委托意味着只有PostgreSQL灵活服务器的Azure数据库可以使用该子网。委派子网中不能有其他Azure资源类型。</p><p id="7ee3" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">*添加微软。存储到委派给灵活服务器的子网的服务端点。</p><ol class=""><li id="028b" class="ky kz hs ir b is it iw ix ja la je lb ji lc jm lt le lf lg bi translated">在azure门户的左上角选择<strong class="ir ht">创建资源</strong> (+)。</li><li id="0e9e" class="ky kz hs ir b is lh iw li ja lj je lk ji ll jm lt le lf lg bi translated">为PostgreSQL选择<strong class="ir ht">数据库</strong> &gt; <strong class="ir ht"> Azure数据库</strong>。我们也可以在搜索框中输入<strong class="ir ht"> PostgreSQL </strong>来查找服务。</li><li id="6bec" class="ky kz hs ir b is lh iw li ja lj je lk ji ll jm lt le lf lg bi translated">选择<strong class="ir ht">灵活服务器</strong>作为部署选项。</li><li id="fa6c" class="ky kz hs ir b is lh iw li ja lj je lk ji ll jm lt le lf lg bi translated">填写<strong class="ir ht">基础知识</strong>表格。</li></ol><figure class="lo lp lq lr fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lu"><img src="../Images/435ffe466f41f6a53f931aef388dedba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z-XxyRlnhulybBazMHjiYg.png"/></div></div></figure><p id="a5ab" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">5.转到<strong class="ir ht">网络</strong>选项卡来配置到我们服务器的连接选项。</p><p id="e7d5" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">6 <strong class="ir ht">。</strong>在<strong class="ir ht">连接方式</strong>中，选择<strong class="ir ht">私有接入(VNET集成)</strong>。转到<strong class="ir ht">虚拟网络</strong>并点击<strong class="ir ht">管理选定的虚拟网络。</strong></p><p id="985b" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">7.选择<strong class="ir ht"> +添加子网</strong>，然后输入<strong class="ir ht"> psql-subnet </strong>作为<strong class="ir ht">子网名称</strong>，输入<strong class="ir ht"> 10.1.1.0/24 </strong>作为<strong class="ir ht">子网地址范围</strong>。点击<strong class="ir ht">保存。</strong></p><p id="51b2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">8.在<strong class="ir ht">私有DNS集成</strong>下，默认情况下，将使用服务器名称创建一个新的私有DNS区域。或者，我们可以从下拉列表中选择<em class="lm">订阅</em>和<em class="lm">私有DNS区域</em>。</p><p id="27c8" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">9.选择<strong class="ir ht">查看+创建</strong>来查看我们灵活的服务器配置。</p><p id="6e4a" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">10.选择<strong class="ir ht">创建</strong>来配置服务器。设置可能需要几分钟时间。</p><figure class="lo lp lq lr fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lu"><img src="../Images/c2c12363d97c6f044aae28e13dd5dc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxhtpUZxuiuf3nvzTx9oVg.png"/></div></div></figure><p id="b964" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你对此感兴趣或有任何反馈，请在评论区告诉我。</p><figure class="lo lp lq lr fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lv"><img src="../Images/ff784875915d1e3612f69e9ccf1b8d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EppHHpEiIbVFJ8oHL8X00w.jpeg"/></div></div></figure><p id="960c" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">关于作者:<br/> </strong> <em class="lm"> Raghavendra BN是一名DevOps工程师，目前在Version 1的Foundation的团队工作。关注版本1和Raghavendra BN，了解更多关于Microsoft Azure和Azure DevOps的博客。</em></p></div></div>    
</body>
</html>