<html>
<head>
<title>Ansible For AWS — Manage Your Cloud Infrastructure Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">适用于AWS —轻松管理您的云基础架构</h1>
<blockquote>原文：<a href="https://medium.com/edureka/ansible-for-aws-provision-ec2-instance-9308b49daed9?source=collection_archive---------0-----------------------#2019-04-08">https://medium.com/edureka/ansible-for-aws-provision-ec2-instance-9308b49daed9?source=collection_archive---------0-----------------------#2019-04-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/25887f4c341fafa801c6dba0dfb1db67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*Q4I7kEb_xCyVKIN6o5zmjw.png"/></div><figcaption class="il im et er es in io bd b be z dx">Ansible for AWS — Edureka</figcaption></figure><p id="0c2d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">公司已经投入了大量的时间和金钱来开发和安装软件以改善他们的运营。云计算的引入为他们的业务提供了在互联网上访问软件的服务，这被证明是更加高效和安全的。集成一个像Ansible这样的IT自动化工具就像是中了大奖，ansi ble可以像AWS一样轻松地配置和管理您的云基础设施。这就是我们将在这篇Ansible for AWS文章中讨论的内容。</p><h2 id="1aad" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated"><strong class="ak">议程:</strong></h2><ul class=""><li id="b125" class="kj kk hh ir b is kl iw km ja kn je ko ji kp jm kq kr ks kt bi translated">为什么公司迁移到云？</li><li id="7bee" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">易变特征</li><li id="f195" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">为什么对AWS使用Ansible</li><li id="9494" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">演示:使用Ansible自动提供EC2实例</li></ul><h1 id="6ca5" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">为什么公司迁移到云？</h1><p id="708e" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">如前所述，计算可以让公司像通过互联网访问软件一样访问服务器。说清楚一点，云计算就像接入中央电网，而不是自己发电。云已经成为新的常态，最终节省了大量时间和金钱。让我们来看看公司迁移到云的几个优势。</p><h2 id="9799" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">1.灵活性:</h2><p id="2e76" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">业务增长从来不是一成不变的。基于云的服务适合不断增长和波动的业务需求。基于需求扩展和缩减部署的特性使其非常灵活。</p><h2 id="fa25" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">2.灾难恢复:</h2><p id="f633" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">每个企业都应该投资灾难恢复。每家《财富》公司最终都会在灾难恢复上投入大量资金。初创公司和低预算公司缺乏资金和所需的技能，并且无法具备适当的功能性灾难恢复特性。云为客户提供灾难恢复解决方案，以制定稳健且经济高效的计划。</p><h2 id="1707" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">3.自动软件更新:</h2><p id="42e4" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">正如你已经知道的，云是由互联网提供的服务，因此所有的服务器都不在你的范围内，或者说不是你头疼的问题。供应商会对它们进行维护，包括在需要时进行更新，以及定期进行安全检查。这再次节省了大量的时间和金钱。</p><h2 id="02a1" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">4.降低成本:</h2><p id="aa36" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">从头开始建立一个数据中心可能会非常昂贵。运行和维护增加了费用。您需要合适的技术、合适的硬件、拥有合适知识和经验的合适员工，这在我看来是一项艰巨的任务。同样，不太乐观的是，有一百万种方式会出错。迁移到云给了你这个加分。</p><h2 id="2070" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">5.可扩展性:</h2><p id="c67b" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">规划意外增长的传统方法是购买和保留额外的服务器、存储和许可证。在你真正使用它们之前，可能需要几年时间。云平台允许您在需要时扩展这些资源。这种动态扩展非常适合不可预测的增长。</p><h2 id="7d0c" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">6.数据安全性:</h2><p id="3411" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">大多数情况下，将数据保存在云上比存储在笔记本电脑或硬盘等物理设备上更好。这些物理设备很有可能被盗或损坏。云允许您远程删除数据或将其转移到另一台服务器，确保数据保持完整和安全。</p><h2 id="fa5f" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">7.增强协作:</h2><p id="af8d" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">利用云平台，团队可以随时随地访问、编辑和共享文档。他们能够一起工作，因此提高了效率。这也提供了实时和透明的更新。</p><h1 id="6099" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">易变特征</h1><p id="e7e0" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">Ansible有一些独特的功能，当这些功能与亚马逊网络服务合作时，会留下印记。让我们来看看这些令人难以置信的功能:</p><ol class=""><li id="e7c4" class="kj kk hh ir b is it iw ix ja lt je lu ji lv jm lw kr ks kt bi translated">Ansible基于无代理架构，不同于Chef和Puppet</li><li id="5916" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">Ansible通过SSH访问其主机，这使得服务器和主机之间的通信变得轻而易举</li><li id="1272" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">不需要定制的安全基础设施</li><li id="458b" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">配置行动手册和模块非常简单，因为它遵循YAML格式</li><li id="7c6d" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">为客户提供了广泛的模块</li><li id="a47c" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">允许完整的配置管理、编排和部署功能</li><li id="fac2" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm lw kr ks kt bi translated">一个安全的金库保护秘密</li></ol><h1 id="4865" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">为什么要对AWS使用Ansible？</h1><p id="c095" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">既然我们已经了解了使用像<a class="ae jn" href="https://www.edureka.co/blog/what-is-aws?utm_source=medium&amp;utm_medium=content-link&amp;utm_campaign=ansible-for-aws-provision-ec2-instance" rel="noopener ugc nofollow" target="_blank"> AWS </a>这样的云平台的好处和Ansible的独特功能，那么让我们来看看整合这两个传奇所创造的魔力。</p><h2 id="b149" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">1.云即一组服务</h2><p id="dedf" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">云不仅仅是其他人的数据中心上的一组服务器，还远远不止这些。一旦在其上部署了服务，您就会意识到这一点。有许多服务可以让您快速部署和扩展应用程序。Ansible automation帮助您像管理一组服务一样管理AWS环境，而不是像管理一组服务器一样使用它们。</p><h2 id="f7a1" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">2.支持AWS的可转换模块</h2><p id="8b98" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">Ansible用于定义、部署和管理各种各样的服务。大多数复杂的AWS环境都可以使用行动手册非常轻松地进行调配。最好的特性是，您创建一个服务器-主机连接，然后只在一个系统上运行剧本，并为多个其他系统提供一个根据需要进行扩展和缩减的选项。</p><p id="6155" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Ansible拥有数百个支持AWS的模块，其中包括:</p><ul class=""><li id="b863" class="kj kk hh ir b is it iw ix ja lt je lu ji lv jm kq kr ks kt bi translated">自动缩放组</li><li id="fc49" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">云的形成</li><li id="96f0" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">云迹</li><li id="847e" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">云观察</li><li id="94d1" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">DynamoDB</li><li id="9456" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">弹性缓存</li><li id="cce0" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">弹性云计算(EC2)</li><li id="8946" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">身份访问管理器(IAM)</li><li id="9f8e" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">希腊字母的第11个</li><li id="5cc2" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">关系数据库服务</li><li id="b526" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">53号公路</li><li id="c671" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">安全组</li><li id="09c4" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">简单存储服务(S3)</li><li id="4e5f" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">虚拟专用云(VPC)</li><li id="11d0" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">还有更多</li></ul><h2 id="376b" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">3.动态库存</h2><p id="d73f" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">在开发环境中，主机随着不同的业务需求不断运转和关闭。在这种情况下，使用静态库存可能是不够的。这种情况需要使用动态库存。这使您可以根据清单脚本提供的组来映射主机，这与普通清单不同，普通清单迫使您手动映射主机，这非常繁琐。</p><h2 id="c8d3" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">4.安全自动化</h2><p id="daef" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">假设你有一个5人的团队，每个人下面都有两个不完全熟练的下属。您不会想让他们完全访问整个部署过程。这时，您就会意识到限制授权的必要性。</p><p id="5954" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Ansible Tower 提供了这一功能来限制授权。所以基本上，你选择了谁能做什么，这样更容易调和。此外，Ansible Tower加密凭证和其他敏感数据，您只允许下属访问相关资源，同时限制他们访问不相关的资源。</p><h1 id="ebd9" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">演示:使用Ansible自动提供EC2实例</h1><p id="e971" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">在这个演示部分，我将通过展示如何自动化EC2实例的启动和供应来演示Ansible如何支持AWS。让我们开始吧。</p><h2 id="e501" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated"><strong class="ak">第一步</strong>:</h2><p id="9909" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">在您的服务器节点上安装Ansible，并在您的服务器和AWS上的客户机节点之间建立一个SSH连接。在本例中，我创建了两个EC2实例，一个安装了Ansible的服务器，另一个是客户端。</p><h2 id="9abb" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated"><strong class="ak">第二步:</strong></h2><p id="f58b" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">现在确保您已经安装了所有的需求。根据文档，这些要求如下:</p><p id="13ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用以下命令安装python:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="af21" class="jo jp hh mc b fi mg mh l mi mj">$ sudo apt install python</span></pre><p id="3e4b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">使用以下命令安装boto:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="9016" class="jo jp hh mc b fi mg mh l mi mj">$ sudo apt install python-pip<br/>$ pip install boto</span></pre><p id="218e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Boto是使用Amazon Web服务的python接口。您必须使用以下命令导入它:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="5494" class="jo jp hh mc b fi mg mh l mi mj">$ python<br/>$ import boto<br/>$ exit()</span></pre><figure class="lx ly lz ma fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/a56602caa4dd5e28d75b3790e197795c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*8KwqHkiCkwtyL0lM4PR-Cw.png"/></div></figure><h2 id="85f0" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated"><strong class="ak">第三步:</strong></h2><p id="0c93" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">您必须配置您的AWS。使用以下命令进行相同的操作:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="2a4a" class="jo jp hh mc b fi mg mh l mi mj">$ aws configure</span></pre><p id="b0dc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">并添加您的AWS访问密钥id、密钥和默认区域(这是可选的)。</p><p id="fc48" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">编写一个行动手册来启动和配置EC2实例。</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="fe4f" class="jo jp hh mc b fi mg mh l mi mj">$ sudo vi /etc/ansible/launch.yml</span></pre><p id="1ff3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">提及以下几行:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="7865" class="jo jp hh mc b fi mg mh l mi mj">---<br/> <br/>- name: Create an ec2 instance<br/>  hosts: web<br/>  gather_facts: false<br/> <br/>  vars:<br/>      region: us-east-1<br/>      instance_type: t2.micro<br/>      ami: ami-05ea7729e394412c8<br/>      keypair: priyajdm<br/> <br/>  tasks:<br/> <br/>    - name: Create an ec2 instance<br/>      ec2:<br/>         aws_access_key: '********************'<br/>         aws_secret_key: '****************************************'<br/>         key_name: "{{ keypair }}"<br/>         group: launch-wizard-26<br/>         instance_type: "{{ instance_type }}"<br/>         image: "{{ ami }}"<br/>         wait: true<br/>         region: "{{ region }}"<br/>         count: 1<br/>         vpc_subnet_id: subnet-02f498e16fd56c277<br/>         assign_public_ip: yes<br/>    register: ec2</span></pre><p id="ea2c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在实际执行代码之前，了解代码的用途是一个很好的做法。为了更好地理解，让我来解释一下这个剧本。</p><p id="97b3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">名称:</strong>随便什么都可以。一个好的做法是保留一个给出它所执行任务的基本描述的名称。</p><p id="0bc3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">主机:</strong>提到需要执行剧本的主机列表的名称。在我的情况下，它是<em class="ml">网络</em>。</p><p id="8f93" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> gather_facts: </strong>该参数告诉Ansible收集所有相关的事实、变量和其他数据，以供将来参考。在我们的例子中，我们将它设置为false，因为我们不需要收集事实(IP addr。主机名等)。</p><p id="3e6e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">变量:</strong>本节定义并初始化我们将在本行动手册中使用的所有变量。这里有四个变量:</p><ul class=""><li id="7a6b" class="kj kk hh ir b is it iw ix ja lt je lu ji lv jm kq kr ks kt bi translated"><strong class="ir hi"> region </strong>定义了EC2实例需要出现的区域</li><li id="15f9" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> instance_type </strong>定义了我们要调用的实例的类型。在我们的例子中，我们使用t2.micro</li><li id="bfeb" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> ami </strong>定义了我们试图调用的实例的ami</li></ul><figure class="lx ly lz ma fd ii er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/a67beba5819743e7b3ed226da41ffbd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwQIIblnGSewLdkrFh0p4Q.png"/></div></div></figure><p id="992e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> ec2: </strong>这是Ansible提供的一个模块，用于启动或终止ec2实例。</p><p id="d255" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个模块有一些参数，我们将使用这些参数来指定我们试图启动的EC2实例的其他功能。</p><ul class=""><li id="3394" class="kj kk hh ir b is it iw ix ja lt je lu ji lv jm kq kr ks kt bi translated">我们首先使用参数<strong class="ir hi"> aws_access_key </strong>和<strong class="ir hi"> aws-secret_key </strong>提到AWS访问密钥id和秘密密钥。</li><li id="2052" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> key_name: </strong>传递定义这里使用的密钥对的变量</li><li id="1bcd" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">提及安全组的名称。这定义了我们试图提出的EC2实例的安全规则</li><li id="a518" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> instance_type: </strong>传递定义我们在这里使用的实例类型的变量</li><li id="1de0" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> image: </strong>传递定义我们试图启动的图像的AMI的变量</li><li id="8899" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">它的布尔值为真或假。如果为true，它会等待实例达到所需的状态，然后返回</li><li id="9c7e" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> region: </strong>传递定义需要创建EC2实例的区域的变量。</li><li id="3434" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated">此参数指定需要创建的实例数量。在这种情况下，我只提到了一个，但这取决于您的需求。</li><li id="00ac" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> vpc_subnet_id: </strong>传递您希望在其中创建实例的子网id</li><li id="4919" class="kj kk hh ir b is ku iw kv ja kw je kx ji ky jm kq kr ks kt bi translated"><strong class="ir hi"> assign_public_ip: </strong>该参数有一个布尔值。如果是真的，就像我们的例子一样，那么在VPC内部调配时，将为实例分配一个公共IP。</li></ul><h2 id="ce0e" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated"><strong class="ak">第五步:</strong></h2><p id="e500" class="pw-post-body-paragraph ip iq hh ir b is kl iu iv iw km iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">现在，您已经理解了行动手册中的每一行，让我们继续执行它。使用以下命令:</p><pre class="lx ly lz ma fd mb mc md me aw mf bi"><span id="dbb8" class="jo jp hh mc b fi mg mh l mi mj">$ ansible-playbook /etc/ansible/launch.yml</span></pre><figure class="lx ly lz ma fd ii er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mr"><img src="../Images/ba0375721efac56b08c49c6c67399013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*87peUA7YrDQc2JRcx0KM7Q.png"/></div></div></figure><p id="579d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦您执行了行动手册，您将看到一个实例被创建。</p><figure class="lx ly lz ma fd ii er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es ms"><img src="../Images/06dd9313f45839b2e491d9931d1485a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fSYSQG_5hCdUVTrgXKK6A.png"/></div></div></figure><p id="56bd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">还有TADA！您已经成功地自动化了EC2实例的供应。同样，您也可以编写剧本来停止EC2实例。</p><p id="3bed" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这就把我们带到了Ansible For AWS文章的结尾。如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="27e8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中的其他文章，它们将解释DevOps的各个方面。</p><blockquote class="mt mu mv"><p id="0f8c" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 1。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-tutorial-89363dac9d3f"> <em class="hh"> DevOps教程</em> </a></p><p id="12a1" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 2。</em> <a class="ae jn" rel="noopener" href="/edureka/git-tutorial-da652b566ece"> <em class="hh"> Git教程</em> </a></p><p id="afba" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 3。</em> <a class="ae jn" rel="noopener" href="/edureka/jenkins-tutorial-68110a2b4bb3"> <em class="hh">詹金斯教程</em> </a></p><p id="d36b" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 4。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-tutorial-9a6a6140d917"> <em class="hh">码头工人教程</em> </a></p><p id="f1cd" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 5。</em> <a class="ae jn" rel="noopener" href="/edureka/ansible-tutorial-9a6794a49b23"> <em class="hh"> Ansible教程</em> </a></p><p id="bdbb" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 6。</em> <a class="ae jn" rel="noopener" href="/edureka/puppet-tutorial-848861e45cc2"> <em class="hh">木偶教程</em> </a></p><p id="8d48" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 7。</em> <a class="ae jn" rel="noopener" href="/edureka/chef-tutorial-8205607f4564"> <em class="hh">厨师教程</em> </a></p><p id="b6bb" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 8。</em> <a class="ae jn" rel="noopener" href="/edureka/nagios-tutorial-e63e2a744cc8"> <em class="hh"> Nagios教程</em> </a></p><p id="fb1f" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 9。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-tools-56e7d68994af"> <em class="hh">如何编排DevOps工具？</em>T55】</a></p><p id="60db" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 10。</em> <a class="ae jn" rel="noopener" href="/edureka/continuous-delivery-5ca2358aedd8"> <em class="hh">连续交货</em> </a></p><p id="b6c6" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 11。</em> <a class="ae jn" rel="noopener" href="/edureka/continuous-integration-615325cfeeac"> <em class="hh">持续集成</em> </a></p><p id="db01" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 12。</em> <a class="ae jn" rel="noopener" href="/edureka/continuous-deployment-b03df3e3c44c"> <em class="hh">连续部署</em> </a></p><p id="8961" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 13。</em> <a class="ae jn" rel="noopener" href="/edureka/continuous-delivery-vs-continuous-deployment-5375642865a"> <em class="hh">持续交付vs持续部署</em> </a></p><p id="5fd0" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 14。</em> <a class="ae jn" rel="noopener" href="/edureka/ci-cd-pipeline-5508227b19ca"> <em class="hh"> CI CD管道</em> </a></p><p id="3bbf" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 15。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-compose-containerizing-mean-stack-application-e4516a3c8c89"> <em class="hh"> Docker作曲</em> </a></p><p id="10aa" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 16。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-swarm-cluster-of-docker-engines-for-high-availability-40d9662a8df1"> <em class="hh">码头工人群</em> </a></p><p id="58a6" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 17。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-networking-1a7d65e89013"> <em class="hh">码头工人联网</em> </a></p><p id="cc40" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">18。<a class="ae jn" rel="noopener" href="/edureka/ansible-vault-secure-secrets-f5c322779c77"><em class="hh"/></a></p><p id="f688" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 19。</em> <a class="ae jn" rel="noopener" href="/edureka/ansible-roles-78d48578aca1"> <em class="hh">可能的角色</em> </a></p><p id="055f" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">20。 <a class="ae jn" rel="noopener" href="/edureka/jenkins-pipeline-tutorial-continuous-delivery-75a86936bc92"> <em class="hh">詹金斯</em> </a></p><p id="79d0" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">21。 <a class="ae jn" rel="noopener" href="/edureka/git-commands-with-example-7c5a555d14c"> <em class="hh">顶级Git命令</em> </a></p><p id="3b83" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 22。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-commands-29f7551498a8"> <em class="hh">顶级Docker命令</em> </a></p><p id="49ea" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 23。</em>T38<em class="hh">Git vs GitHub</em>T41】</p><p id="44bd" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 24。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-interview-questions-e91a4e6ecbf3"> <em class="hh"> DevOps面试问题</em> </a></p><p id="400e" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 25。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-engineer-role-481567822e06"> <em class="hh">谁是DevOps工程师？</em>T53】</a></p><p id="f809" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 26。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-lifecycle-8412a213a654"> <em class="hh"> DevOps生命周期</em> </a></p><p id="46f4" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 27。</em><a class="ae jn" rel="noopener" href="/edureka/git-reflog-dc05158c1217"><em class="hh">Git ref log</em></a></p><p id="8d7c" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 28。</em><a class="ae jn" rel="noopener" href="/edureka/ansible-provisioning-setting-up-lamp-stack-d8549b38dc59"><em class="hh"/></a></p><p id="b9b8" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 29。</em> <a class="ae jn" rel="noopener" href="/edureka/devops-skills-f6a7614ac1c7"> <em class="hh">组织正在寻找的顶尖DevOps技能</em> </a></p><p id="f43e" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 30。</em> <a class="ae jn" rel="noopener" href="/edureka/waterfall-vs-agile-991b14509fe8"> <em class="hh">瀑布vs敏捷</em> </a></p><p id="d80d" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 31。</em> <a class="ae jn" rel="noopener" href="/edureka/maven-tutorial-2e87a4669faf"> <em class="hh"> Maven用于构建Java应用</em> </a></p><p id="4d5d" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 32。</em> <a class="ae jn" rel="noopener" href="/edureka/jenkins-cheat-sheet-e0f7e25558a3"> <em class="hh">詹金斯小抄</em> </a></p><p id="4e71" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 33。</em> <a class="ae jn" rel="noopener" href="/edureka/ansible-cheat-sheet-guide-5fe615ad65c0"> <em class="hh"> Ansible备忘单</em> </a></p><p id="9b46" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 34。</em> <a class="ae jn" rel="noopener" href="/edureka/ansible-interview-questions-adf8750be54"> <em class="hh"> Ansible面试问答</em> </a></p><p id="2985" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 35。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-interview-questions-da0010bedb75"> <em class="hh"> 50码头工人面试问题</em> </a></p><p id="01c0" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">36。 <a class="ae jn" rel="noopener" href="/edureka/what-is-agile-methodology-fe8ad9f0da2f"> <em class="hh">敏捷方法论</em> </a></p><p id="507a" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">37。 <a class="ae jn" rel="noopener" href="/edureka/jenkins-interview-questions-7bb54bc8c679"> <em class="hh">詹金斯面试问题</em> </a></p><p id="dd1d" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 38。</em> <a class="ae jn" rel="noopener" href="/edureka/git-interview-questions-32fb0f618565"> <em class="hh"> Git面试问题</em> </a></p><p id="1e60" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 39。</em> <a class="ae jn" rel="noopener" href="/edureka/docker-architecture-be79628e076e"> <em class="hh">码头工人建筑</em> </a></p><p id="f077" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">40。<a class="ae jn" rel="noopener" href="/edureka/linux-commands-in-devops-73b5a2bcd007"><em class="hh">devo PS中使用的Linux命令</em> </a></p><p id="05ba" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 41。</em> <a class="ae jn" rel="noopener" href="/edureka/jenkins-vs-bamboo-782c6b775cd5"> <em class="hh">詹金斯vs竹子</em> </a></p><p id="db75" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated">42。 <a class="ae jn" rel="noopener" href="/edureka/nagios-interview-questions-f3719926cc67"> <em class="hh"> Nagios面试问题</em> </a></p><p id="7c07" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 43。</em> <a class="ae jn" rel="noopener" href="/edureka/jenkins-x-d87c0271af57"> <em class="hh"> DevOps实时场景</em> </a></p><p id="c90d" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 44。</em> <a class="ae jn" rel="noopener" href="/edureka/jenkins-vs-bamboo-782c6b775cd5"> <em class="hh">詹金斯和詹金斯X </em> </a>的区别</p><p id="6ee2" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 45。</em><a class="ae jn" rel="noopener" href="/edureka/docker-for-windows-ed971362c1ec"><em class="hh">Windows Docker</em></a></p><p id="0dc8" class="ip iq ml ir b is it iu iv iw ix iy iz mw jb jc jd mx jf jg jh my jj jk jl jm ha bi translated"><em class="hh"> 46。</em><a class="ae jn" href="http://git%20vs%20github/" rel="noopener ugc nofollow" target="_blank"><em class="hh">Git vs Github</em></a></p></blockquote></div><div class="ab cl mz na go nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ha hb hc hd he"><p id="7e57" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="ml">原载于2019年4月8日</em><a class="ae jn" href="https://www.edureka.co/blog/ansible-for-aws-provision-ec2-instance" rel="noopener ugc nofollow" target="_blank"><em class="ml">https://www.edureka.co</em></a><em class="ml">。</em></p></div></div>    
</body>
</html>