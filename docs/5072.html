<html>
<head>
<title>How to work with String function calls</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用字符串函数调用</h1>
<blockquote>原文：<a href="https://medium.com/mendix/mendix-live-how-to-work-with-strings-56283f566795?source=collection_archive---------3-----------------------#2020-11-05">https://medium.com/mendix/mendix-live-how-to-work-with-strings-56283f566795?source=collection_archive---------3-----------------------#2020-11-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/c154dcce0d9229eddc11f65dc816c795.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C4ZoLSq7X4IjG6g7MRnLEw.png"/></div></div></figure><div class=""/><h1 id="6e6b" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">Strings，无论你是开发第一个应用程序的新手，还是身经百战的专业开发人员，每个人都会在某个时候遇到麻烦。</h1><p id="0ad8" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">即使在Mendix中开发了7年之后，当涉及到可怕的子串时，我仍然必须检查文档，通常是在盲目相信自己的能力导致我的逻辑出现越界错误之后。</p><p id="c4c6" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">对于任何只想知道事实的人来说，这里有一个到<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#1-introduction" rel="noopener ugc nofollow" target="_blank">文档页面</a>的直接链接。然而，这篇文章更多的是关于我这些年来所学到的东西，通常是在反复试验之后。</p><figure class="ld le lf lg fq hw"><div class="bz el l di"><div class="lh li l"/></div></figure><h1 id="4420" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">基础知识</h1><p id="023f" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#15-string-concatenation" rel="noopener ugc nofollow" target="_blank">字符串串联</a> (+)</p><p id="4ed9" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">要组合成字符串，只需在表达式中的2之间添加一个加号(+)。别忘了你也可以用它来组合一个字符串和一个数字</p><p id="c2cb" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">4 +'公里' = '4公里'</p><p id="4591" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#2-tolowercase" rel="noopener ugc nofollow" target="_blank"> toLowerCase </a>()和<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#3-touppercase" rel="noopener ugc nofollow" target="_blank"> toUpperCase </a>()</p><p id="e994" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">这些都很简单，如果你有一个包含小写的字符串，你可以使用toUpperCase()来大写字符串中的所有内容，反之亦然。</p><p id="ad5f" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#4-length" rel="noopener ugc nofollow" target="_blank">长度</a>()</p><p id="1407" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">length函数如其所言，给出了字符串的长度。但是这个函数真正强大的地方是在与substring()等其他函数结合使用时</p><h1 id="3f91" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">下一关</h1><p id="1f10" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#5-substring" rel="noopener ugc nofollow" target="_blank"> <strong class="bd lj">子串</strong> </a> <strong class="bd lj"> () </strong></p><p id="cdbe" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">字符串操作的问题是，在你学习的早期阶段经常会被教授。许多人认为，一旦他们理解了要点，就可以继续前进，永远不要回来复习。</p><p id="9efb" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">随着时间的推移，我们忘记了，或者我们学习了不同的新技术，这可能会导致可避免的错误。</p><p id="6cbc" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">许多缺陷积压工作中很大一部分是子字符串，它们要么超出界限，要么意外执行，产生不寻常的结果。</p><p id="497d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我几乎可以说，这篇文章的全部观点是告诉你总是要对一个子串函数进行三重检查，如果可能的话，每次使用不同的输入。除非你100%确定它永远不会失败，否则你当然应该在微流操作上做一些错误处理。</p><p id="da15" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">子串的基本功能是为函数提供输入字符串、子串在该字符串中的起始位置，以及子串的可选所需长度(如果没有提供，它将一直到字符串的末尾。</p><p id="ee13" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">$Foo = '小心错误'</p><p id="98a5" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">子串($Foo，0，6)</p><p id="e496" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">= '小心'</p><p id="c46b" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我反复看到的一个错误是假设第二个数字参数是结束位置，而不是字符串的长度。这看起来是一个很小的区别，但是如果你的字符串是10个字符，你写了这样的东西:</p><p id="10a1" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">substring($Foo，9，10)</p><p id="b27e" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">代替</p><p id="d90d" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">substring($Foo，9，1)</p><p id="d3fa" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">您将得到一个错误。</p><figure class="ld le lf lg fq hw fe ff paragraph-image"><div class="fe ff lk"><img src="../Images/1756ad97a188960c95de2fae96922bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*gOE0p0QYUIvowFJi.jpg"/></div></figure><h1 id="d5f3" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">与子字符串一起工作良好的东西</h1><p id="e911" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#6-find" rel="noopener ugc nofollow" target="_blank">查找</a>()和<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#7-findlast" rel="noopener ugc nofollow" target="_blank">查找最后一个</a>()</p><p id="ca8a" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">如果你知道你的字符串中有哪些元素，你可以用它们来锁定你需要的字符串部分。使用上面的例子</p><p id="3ebd" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">substring($Foo，find($Foo，' the ')，findlast($Foo，' r '))</p><p id="75f2" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">会给你输出:“错误”。</p><p id="4947" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#11-trim" rel="noopener ugc nofollow" target="_blank"> trim </a>()是一个很棒的功能，有助于使数据在处理时更加一致。有时我们没有考虑空白空间，这可能会影响输出。trim正如它所说的那样，修剪字符串中的空白。确保总是从第一个字符开始(是0而不是1！)</p><h1 id="d215" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">验证数据</h1><figure class="ld le lf lg fq hw fe ff paragraph-image"><div class="fe ff lk"><img src="../Images/298f56f376169ee39389078a00584de6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*bN1qX5gjWIaw1IPB.jpg"/></div></figure><p id="794e" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">验证数据的一个好方法是使用带有正则表达式的<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#12-ismatch" rel="noopener ugc nofollow" target="_blank"> isMatch </a>()或<a class="ae lc" href="https://g.co/kgs/rwTcZk" rel="noopener ugc nofollow" target="_blank"> regex </a>。</p><p id="1b8c" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">一个常见的例子是确保字符串只包含字母数字字符</p><p id="c557" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">ismatch($foo,'^[a-za-z0–9]+$')</p><p id="a4da" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">=真</p><p id="fbfd" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">因为isMatch()返回一个布尔值结果，所以它非常适合用于流中的独占分割，或者设置用于向应用程序用户触发验证消息的布尔值。</p><h1 id="3856" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">搜索数据</h1><p id="7419" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">Mendix在为您自动生成搜索字段方面做得非常好，但是偶尔也需要一些定制的搜索功能。</p><p id="7100" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在这种情况下，xpath检索中简单的<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#9-startswith" rel="noopener ugc nofollow" target="_blank"> startsWith </a>()或<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#8-contains" rel="noopener ugc nofollow" target="_blank"> contains </a>()可能是您的最佳选择，无论是在微流中还是作为用户界面中的约束。</p><h1 id="3ec5" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">其他一切</h1><p id="e48c" class="pw-post-body-paragraph ka kb if bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">还有几个其他的函数我没有接触过，比如<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#13-replaceall" rel="noopener ugc nofollow" target="_blank"> replaceAll </a>()或者<a class="ae lc" href="https://docs.mendix.com/refguide/string-function-calls#urlEncode" rel="noopener ugc nofollow" target="_blank"> urlEncode </a>()，但是在我的经验中，这些函数一般用得比较少。</p><p id="1660" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">这就是这篇Mendix How-to的全部内容，请稍后查看下一版！</p><p id="1057" class="pw-post-body-paragraph ka kb if bd b kc kx ke kf kg ky ki kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><em class="ll">想提交你对未来作品的想法或要求吗？联系我</em> <a class="ae lc" href="/ep/profile/1gg9uA1iUgdDmqkTo2qowQL4SaAjX9zsQB2MwWT9HmlrDYiKilBr" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> @Ryan M </em> </a> <em class="ll">或者在</em> <a class="ae lc" href="https://join.slack.com/t/mendixcommunity/shared_invite/zt-hwhwkcxu-~59ywyjqHlUHXmrw5heqpQ" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> Mendix社区闲散频道</em> </a>找我</p></div></div>    
</body>
</html>