<html>
<head>
<title>How to Build an iOS Video Chat App With Screen Sharing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何建立一个屏幕共享的iOS视频聊天应用程序</h1>
<blockquote>原文：<a href="https://medium.com/quick-code/ios-video-chat-and-screen-sharing-15e5bd27619e?source=collection_archive---------0-----------------------#2021-12-09">https://medium.com/quick-code/ios-video-chat-and-screen-sharing-15e5bd27619e?source=collection_archive---------0-----------------------#2021-12-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/5f408cea8ad4a927b4a9e76f63ebfe4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*19rpd0t6hpNgwuhv.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">© Sendbird 2021</figcaption></figure><div class=""/><p id="47a8" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">由迦娜·麦克劳克林<br/>解决方案工程师| <a class="ae jr" href="https://www.sendbird.com/" rel="noopener ugc nofollow" target="_blank"> Sendbird </a></p><p id="ad8a" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="js">如果你正在寻找关于Swift、Kotlin、React等的教程，请查看我们的</em> <a class="ae jr" href="https://sendbird.com/developer/tutorials" rel="noopener ugc nofollow" target="_blank"> <em class="js">开发者门户</em> </a> <strong class="iv hx"> <em class="js">。</em>T15】</strong></p><p id="8940" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="js">对于本教程，一个iOS Sendbird调用示例应用程序的</em> <a class="ae jr" href="https://github.com/sendbird/sendbird-calls-ios" rel="noopener ugc nofollow" target="_blank"> <em class="js">代码</em> </a> <em class="js">可能会对你有所帮助。也可以查看一个iOS分屏app的样本</em> <a class="ae jr" href="https://github.com/sendbird/examples-calls-ios/tree/main/ScreenShare" rel="noopener ugc nofollow" target="_blank"> <em class="js">代码</em> </a> <em class="js">。不要忘记咨询我们的</em> <a class="ae jr" href="https://sendbird.com/docs/calls/v1/ios/quickstart/make-first-call" rel="noopener ugc nofollow" target="_blank"> <em class="js">文档</em> </a> <em class="js">以获得更多指导，并查看我们的</em> <a class="ae jr" href="https://sendbird.com/features/voice-and-video" rel="noopener ugc nofollow" target="_blank"> <em class="js">调用</em> </a> <em class="js">页面以了解更多信息。</em></p><p id="e3cd" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="js">本教程中的截图来自XCode和Sendbird仪表盘。</em></p><h1 id="de61" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">介绍</h1><p id="8b04" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">本教程将帮助您实现Sendbird调用的屏幕共享。我们将使用XCode中的故事板在Swift中构建一个iOS应用程序。</p><p id="5829" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">请注意以下先决条件:</p><ol class=""><li id="4ad5" class="kw kx hw iv b iw ix ja jb je ky ji kz jm la jq lb lc ld le bi translated">您已经在<a class="ae jr" href="https://dashboard.sendbird.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="iv hx"> Sendbird仪表板</strong> </a>上创建了一个Sendbird应用程序和两个用户</li><li id="7c75" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">您已经准备好您的应用程序ID和用户ID，可以使用了</li></ol><p id="6b7e" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">关于如何设置这些的更多细节，请查看这个Sendbird调用<a class="ae jr" href="https://youtu.be/R4jtLS9paS0" rel="noopener ugc nofollow" target="_blank"> <strong class="iv hx">视频教程</strong> </a>。</p><p id="ab39" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们开始吧！</p><h1 id="3665" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第一步。创建新的Xcode应用程序，配置和导入Sendbird调用</h1><p id="5974" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">1.在Xcode中创建新应用程序:</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/1c62584f33df7bc7f04082d30a808789.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uF4rLY_QYhG5hET-.png"/></div></div></figure><p id="11d9" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将你的应用命名为ScreenShare，将界面设置为<strong class="iv hx">故事板</strong>，选择<strong class="iv hx"> Swift </strong>作为语言:</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/01e0c9bbc9380c96bb3386c917b8c22d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7-UFkCxOBdO6yELa.png"/></div></div></figure><p id="b10e" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Xcode会自动用我们将在本教程中编辑的<code class="du lp lq lr ls b">AppDelegate.swift</code>、<code class="du lp lq lr ls b">ViewController.swift</code>、<strong class="iv hx">、</strong>和<code class="du lp lq lr ls b">Main.storyboard</code>文件创建您的应用程序。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/953a6a1ec499e022f8937734ce6647be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bY52Mkx2MUmNyUee.png"/></div></div></figure><p id="3dba" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">2.在GitHub上<code class="du lp lq lr ls b">Readme.md</code> <a class="ae jr" href="https://github.com/sendbird/sendbird-calls-ios" rel="noopener ugc nofollow" target="_blank"> <strong class="iv hx">文件</strong> </a>中，按照<strong class="iv hx">入门</strong>和<strong class="iv hx">为Sendbird上的SDK </strong>部分配置应用程序调用iOS SDK。这将引导您完成该应用程序启用麦克风和摄像头所需的所有SDK安装和<code class="du lp lq lr ls b">Info.plist </code>文件配置。对于本教程，您可以跳过添加任何后台模式操作。</p><p id="f558" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在安装和SDK配置之后，确保关闭任何当前的Xcode会话，并从现在开始为这个项目使用<code class="du lp lq lr ls b">ScreenShare.xcworkspace</code>文件。这将使以后构建和运行应用程序成为可能。</p><p id="968e" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">3.是时候更新代码了。在<code class="du lp lq lr ls b">AppDelegate.swift</code>文件中，导入Sendbird调用并更新<code class="du lp lq lr ls b">didFinishLaunchingWithOptions</code>方法。为此，请添加您的Sendbird应用程序ID，并为您的应用程序配置Sendbird调用。</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/58486cd3e4dc42c74480219a3645309d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8pz6bMp01vV2V4ej.png"/></div></div></figure><p id="0fc3" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Xcode可能会显示一个警告<code class="du lp lq lr ls b">Argument type ‘AppDelegate’ does not conform to expected type ‘SendBirdCallDelegate’</code>，后面跟着一个修复选项。选择Fix自动将SendBirdCallDelegate协议添加到实现<code class="du lp lq lr ls b">didStartRinging(_ call: DirectCall)</code>函数的AppDelegate中。注释掉占位符文本“code ”,因为我们稍后将实现该函数。</p><h1 id="f627" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第二步。鉴定</h1><p id="1811" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">在<code class="du lp lq lr ls b">Main.storyboard</code>中，添加一个用于输入用户id的文本字段和一个登录按钮。</p><p id="2c90" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">1.当您选择<code class="du lp lq lr ls b">Main.storyboard</code>文件时，您应该默认看到<code class="du lp lq lr ls b">View Controller Scene</code>。选择右上角的<strong class="iv hx"> + </strong>图标，搜索<code class="du lp lq lr ls b">Text Field</code>。将其拖动到视图的上半部分。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/7611a86dee39ef710ee6e1090d9f0d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4eP0_JRYAxit9Sr9.png"/></div></div></figure><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/afbbb83e183294cae267b0cd5d04e1b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*424Zip5rJByO1tjn.png"/></div></div></figure><p id="4ea5" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">打开检查器进行编辑。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/c9d14f7f28d887572f19fb6d77a6bf13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9Y2xwxZXYj-oWVDp.png"/></div></div></figure><p id="8019" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">显示属性检查器并编辑<code class="du lp lq lr ls b">Placeholder</code>为<code class="du lp lq lr ls b">User ID</code>。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/236a97eadeb64b06d6e6376b3a317bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vatGYtpHDQATCheB.png"/></div></div></figure><p id="d1f3" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">再次选择右上角的<strong class="iv hx"> + </strong>图标，搜索<code class="du lp lq lr ls b">Button</code>。将按钮拖到文本字段旁边的视图上。双击该按钮编辑文本以显示“登录”。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/df75c4769ace9e5c527f7de5e6ad1fa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d9yWGsh9xRbUYbDc.png"/></div></div></figure><p id="815c" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">2.接下来，我们将编辑<code class="du lp lq lr ls b">ViewController.swift</code>类，以便当用户ID被输入到文本字段并点击登录按钮时，用户通过Sendbird调用得到验证。</p><p id="4816" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">查看<code class="du lp lq lr ls b">Main.storyboard</code>文件时，在右边打开一个编辑器(点击带有竖线|和加号+的方形图标)。第二个<code class="du lp lq lr ls b">Main.storyboard</code>将打开。在顶部，选择<code class="du lp lq lr ls b">Main.storyboard</code>选项，并选择<code class="du lp lq lr ls b">ViewController.swift</code>来改变文件。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/32bdedbea95b03e6e0c654da944aab7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o98XacMdx8hfzWwW.png"/></div></div></figure><p id="3261" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们将为连接到视图的文本字段和按钮添加变量。<br/> <code class="du lp lq lr ls b"> @IBOutlet weak var userIdTextField: UITextField!<br/> @IBOutlet weak var authenticateButton: UIButton!</code></p><p id="8798" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在左边的<code class="du lp lq lr ls b">Main.storyboard</code>中，按住control键并单击文本字段，将鼠标拖动到<code class="du lp lq lr ls b">ViewController.swift</code>类上，以插入<code class="du lp lq lr ls b">IBOutlet</code>变量。将文本字段命名为<code class="du lp lq lr ls b">userIdTextField </code>，并单击Connect。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/cfe18a2c328903826fe2051c36173949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YQxXybrX3jpbo6Qa.png"/></div></div></figure><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/9d29d7b3e15029143e29aee25e3dd21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9vh70Nranc2Lnaci.png"/></div></div></figure><p id="531e" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对签到按钮重复上述步骤，命名为<code class="du lp lq lr ls b">authenticateButton</code>。您现在应该在代码中看到两个<code class="du lp lq lr ls b">IBOutlet</code>变量。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/3c482c9466b5660114b36772ee8957ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3MB5FpFeJfV1BOZf.png"/></div></div></figure><p id="6ff2" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在<code class="du lp lq lr ls b">ViewController.swift</code>中，为Sendbird调用添加一个导入，覆盖<code class="du lp lq lr ls b">viewDidLoad()</code>方法，并在用户登录按钮被选中时为该按钮调用一个新的<code class="du lp lq lr ls b">authenticate()</code>方法。您也可以选择添加一个<code class="du lp lq lr ls b">deauthenticate()</code> <strong class="iv hx"> </strong>方法供用户注销。</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="4a85" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">3.现在，您应该能够以Sendbird呼叫用户的身份运行应用程序并连接(单击顶部的播放按钮运行)。您应该会看到以下屏幕:</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/d069f5549b0b429f62562c41658a7e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XA01iWMtprNTGydQ.png"/></div></div></figure><p id="03a8" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">输入您的用户ID，然后选择“登录”按钮，通过Sendbird Calls对您的应用进行身份验证。</p><h1 id="eba6" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第三步。到</h1><p id="ee06" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">在屏幕共享之前，您需要有一个连接的呼叫。为此，我们需要输入被调用方的用户ID，拨打被调用方，并创建一个新的<code class="du lp lq lr ls b">CallingViewController.swift</code>类来显示调用UI。我们还需要设置视频视图和处理呼叫动作。</p><p id="4f18" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">1.在<code class="du lp lq lr ls b">Main.storyboard</code>中，添加一个新的文本字段来指定被叫方的用户ID，并在用户ID文本字段下添加一个拨号按钮。使用我们之前创建的登录按钮。</p><p id="44fa" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">2.查看<code class="du lp lq lr ls b">Main.storyboard</code>文件时，打开右边的编辑器，导航到<code class="du lp lq lr ls b">ViewController.swift</code>。像本教程前面一样，按住control键并单击被调用方文本字段，然后将其拖到<code class="du lp lq lr ls b">ViewController.swift</code>以创建<code class="du lp lq lr ls b">IBOutlet</code>变量。将文本字段命名为<code class="du lp lq lr ls b">calleeIdTextField</code>。</p><p id="6afe" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">按住Control键并单击拨号按钮，然后将其拖至<code class="du lp lq lr ls b">ViewController.swift</code>。这一次，将连接类型更改为<code class="du lp lq lr ls b">Action</code>(而不是之前的Outlet)并将其命名为<code class="du lp lq lr ls b">didTapDialButton</code>以创建一个新函数。</p><p id="5c95" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">您应该会在代码中看到新的文本字段和函数:</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/c2720b9178ed3029cba4b16b2a5711a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*crDzNyV7mCTZ4Kmy.png"/></div></div></figure><p id="ef18" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">3.接下来，让我们创建新的<code class="du lp lq lr ls b">CallingViewController</code> <strong class="iv hx"> </strong> UI。在<code class="du lp lq lr ls b">Main.storyboard</code>中，点击右上角的<strong class="iv hx"> + </strong>图标，搜索<code class="du lp lq lr ls b">View Controller</code>。在场景中选择新的视图控制器，在右边的检查器中选择“显示身份检查器”图标。给类命名<code class="du lp lq lr ls b">CallingViewController</code>。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/dd54a8894e8b856fb8bc572c9db2e280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M5PBH-mplAD09qGB.png"/></div></div></figure><p id="2fab" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">按住Ctrl键并单击左栏中的<code class="du lp lq lr ls b">View Controller</code>，将鼠标拖动到<code class="du lp lq lr ls b">Calling View Controller</code>上。在Manuel Segue下，选择“呈现模式”选项。</p><p id="3541" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">点击新片段，然后点击右边检查器中的“显示属性检查器”图标。将标识符设置为<code class="du lp lq lr ls b">dial</code>。那种<strong class="iv hx"> </strong>应该说<code class="du lp lq lr ls b">Present Modally</code>。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/01ce5a6d802fe37c9e12571a80b4e119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aOSeeyz2DE5NB8Ma.png"/></div></div></figure><p id="4f02" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">4.创建<code class="du lp lq lr ls b">CallingViewController.swift</code>类并扩展<code class="du lp lq lr ls b">UIViewController</code>类。您可以右键单击左侧的项目文件夹，然后选择“新建文件…”来创建这个新的Swift文件。导入<strong class="iv hx"> </strong> Sendbird调用，并添加一个<code class="du lp lq lr ls b">recentCallId</code>空字符串变量，以便稍后跟踪调用。现在添加一个类型为<code class="du lp lq lr ls b">DirectCall</code>的<code class="du lp lq lr ls b">call</code>变量，并覆盖<code class="du lp lq lr ls b">viewDidLoad()</code> <strong class="iv hx"> </strong>方法。</p><p id="822c" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">5.接下来，给<code class="du lp lq lr ls b">CallingViewController</code>添加一个扩展。这实现了<code class="du lp lq lr ls b">DirectCallDelegate</code>、<code class="du lp lq lr ls b">didConnect(_ call: DirectCall)</code>和<code class="du lp lq lr ls b">didEnd(_ call: DirectCall)</code>方法。在<code class="du lp lq lr ls b">didConnect</code> <strong class="iv hx"> </strong>方法中，添加设置<code class="du lp lq lr ls b">recentCallId = call.callId</code>。在<code class="du lp lq lr ls b">didEnd</code>方法中，添加一个对<code class="du lp lq lr ls b">self.dismiss(animated: true) { }</code>的调用。</p><p id="c737" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">使用此代码作为<code class="du lp lq lr ls b">CallingViewController.swift</code>的参考:</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="4dc6" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">6.打开<code class="du lp lq lr ls b">ViewController.swift</code>。我们将添加<code class="du lp lq lr ls b">prepare(for segue: UIStoryboardSegue, sender: Any?)</code>方法。我们还将更新<code class="du lp lq lr ls b">didTapDialButton(_ sender: Any)</code>方法，这样当在<code class="du lp lq lr ls b">View Controller</code><strong class="iv hx"/>中点击拨号按钮时，用户界面将转换到<code class="du lp lq lr ls b">Calling View Controller</code>。我们还将添加代码来拨打电话，并将呼叫对象从<code class="du lp lq lr ls b">View Controller</code>传递到<code class="du lp lq lr ls b">Calling View Controller</code>。</p><p id="29e6" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">您的代码现在应该如下所示:</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="74d4" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">7.现在，您可以再次运行该应用程序。这一次，以不同的用户身份登录。在被叫方ID文本字段中输入第一个用户的用户ID，然后选择拨号按钮。这将打开新的<code class="du lp lq lr ls b">Calling View Controller</code>并给该用户打电话。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/91b65320229a848d0a89fc23dc8d5136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v-uIPiV-tkEE2GLE.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">ViewController</figcaption></figure><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/6d34f312c93b8b4489c54299e2b77721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9EQLJUfPaKwWWjuL.png"/></div></div><figcaption class="hq hr et er es hs ht bd b be z dx">CallingViewController</figcaption></figure><p id="cbc3" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">8.最后，让我们更新我们的<code class="du lp lq lr ls b">Calling View Controller</code> UI，以支持视频和结束通话。在<code class="du lp lq lr ls b">Main.storyboard</code>中，点击+图标搜索<code class="du lp lq lr ls b">uiview</code>找到<code class="du lp lq lr ls b">View</code>对象。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/334c6bfce123c54d59d8215d042f4986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-R3rQt_2HR3pgm5F.png"/></div></div></figure><p id="6126" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将<strong class="iv hx"> </strong> <code class="du lp lq lr ls b">View</code>拖放到右上角的<code class="du lp lq lr ls b">Calling View Controller</code> <strong class="iv hx"> </strong>上。将视图重命名为<code class="du lp lq lr ls b">Local Video View</code>。</p><p id="ce15" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在右边的属性检查器中，您可以调整<code class="du lp lq lr ls b">Background</code> <strong class="iv hx"> </strong>颜色，以便在编辑时更容易地查看视图。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/f4686f47e11878575209fbe82f9e879d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yypzP3-b6dnT6LJE.png"/></div></div></figure><p id="849c" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在尺寸检查器中调整视图的位置和大小:<strong class="iv hx"> X=253，Y=16，宽度=145，高度=217.5 </strong>。您的视图现在应该如下所示:</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/d31b6c1ee190d9f199a4ac9e71a9ba86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mltf5cz3YwLvQSMQ.png"/></div></div></figure><p id="a8a7" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">选择Xcode底部的“添加新约束”图标。设置约束<strong class="iv hx"> Top=16 </strong>和<strong class="iv hx"> Trailing=16 </strong>。选择<code class="du lp lq lr ls b">Aspect Ratio</code>。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/945e1e0e138e252023b2c8d16dfd157d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2yaj_thpbrTlRotG.png"/></div></div></figure><p id="b4ea" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这些新的约束应该出现在右边的大小检查器中。调整<strong class="iv hx">纵横比乘数=720:1080 </strong></p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/9d5c8e300411c4a27013f65b09712418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0ZYhEdPEkNumjF2l.png"/></div></div></figure><p id="7d01" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">最后，在<code class="du lp lq lr ls b">Local Video View</code>中按住control键并点击鼠标，将线条拖到<code class="du lp lq lr ls b">Calling View Controller Safe Area</code>上。选择“等宽”约束。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/628aefe30bef64853aef097e976fd07e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cWn8Ue21675-gA-D.png"/></div></div></figure><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/30ffe68d9ffe5afc19928b678f98e374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w53bjteLMilYa_Rb.png"/></div></div></figure><p id="0d0f" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">再次点击<strong class="iv hx"> + </strong>，在<code class="du lp lq lr ls b">Calling View Controller</code>底部增加一个<code class="du lp lq lr ls b">Button</code>，并将其重命名为“结束通话”。</p><p id="8790" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">9.添加代码，以便Sendbird Calls了解本地和远程视频视图。从<code class="du lp lq lr ls b">Main.storyboard</code>开始，再次向右添加编辑器并打开<code class="du lp lq lr ls b">CallingViewController.swift</code>。</p><p id="0e7f" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">按住Control键并单击<code class="du lp lq lr ls b">Local Video View</code>，将该行拖动到<code class="du lp lq lr ls b">CallingViewController</code>类中。制造出名为<code class="du lp lq lr ls b">localVideoView</code>的<code class="du lp lq lr ls b">IBOutlet</code>。按住Control键并点击<code class="du lp lq lr ls b">End Call Button</code>，创建名为<code class="du lp lq lr ls b">didTapEndCallButton</code>的<code class="du lp lq lr ls b">IBAction</code>。在新方法中添加<code class="du lp lq lr ls b">call.end()</code>。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/e89fae10ce82ae7fe17044db986570ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QOdLxLyQY04R6Qja.png"/></div></div></figure><p id="7192" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">最后，将代码添加到<code class="du lp lq lr ls b">viewDidLoad()</code>方法中，以创建和更新本地<code class="du lp lq lr ls b">SendBirdVideoView</code>和远程<code class="du lp lq lr ls b">SendBirdVideoView</code>。将这些视图嵌入到我们的UI视图中。设置<code class="du lp lq lr ls b">call.delegate = self</code> <strong class="iv hx"> </strong>和<code class="du lp lq lr ls b">call.startVideo()</code>。参见下面的源代码:</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><h1 id="cca3" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第四步。使用Sendbird仪表板测试呼叫</h1><p id="4cfe" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">要测试通话，请在查看Sendbird应用程序时使用Sendbird仪表盘。从你的通话工作室，你有机会打开你的电话亭，并呼吁主持人用户。phonebooth用户的用户ID通常是一个数字。以我为例，我的phonebooth用户ID是679697。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/078321a2da743fd9757d948d12238f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3Pg0cbw7y4z_fgAx.png"/></div></div></figure><p id="a995" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">导航到send bird Dashboard with Calls Studio并打开Phonebooth。</p><p id="1ee0" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，通过在被呼叫者ID字段中输入电话亭用户ID，从应用程序呼叫您的仪表板用户。你收到来电仪表板上的电话了吗？如果是，您就成功拨打了一个电话！从仪表板上，您可以接受或拒绝呼叫。</p><h1 id="215d" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第五步。接收来自认证用户的呼叫</h1><p id="cdfd" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">如果您想使用客户端应用程序而不是Sendbird仪表板来测试这一点，那么您需要实现接收呼叫的功能。</p><p id="2521" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为了快速将此功能添加到您的应用程序中，并在被呼叫者在<code class="du lp lq lr ls b">View Controller</code> <strong class="iv hx"> </strong>屏幕上打开应用程序时接收呼叫，我们将把<code class="du lp lq lr ls b">didStartRinging(_ call: DirectCall)</code>方法添加到<code class="du lp lq lr ls b">AppDelegate</code>类或新的AppDelegate扩展中。<code class="du lp lq lr ls b">AppDelegate</code>将为此方法实现<code class="du lp lq lr ls b">SendBirdCallDelegate</code>协议。该方法将检索呼叫信息，设置呼叫者ID，并在警报中共享呼叫者。被呼叫者可以选择接受或拒绝呼叫。作为助手功能，我们将添加一个新的<code class="du lp lq lr ls b">UIViewController.swift</code> <strong class="iv hx"> </strong>类扩展来确定和呈现一个顶视图控制器。</p><p id="5a5b" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">请在此处查看代码:</p><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="82ec" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><em class="js">注意:大多数通话可能发生在用户没有打开应用程序的时候。要在应用程序关闭的情况下实现解决方案，请查看结论中提到的教程。</em></p><h1 id="337f" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第六步。开始和停止屏幕共享</h1><p id="f98f" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">一旦您有正在进行的通话，您就可以开始共享您的屏幕。为此，让我们实现一个显示<code class="du lp lq lr ls b">Start share</code>按钮的新函数。</p><p id="82bc" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">可选:我们可以显示名为<code class="du lp lq lr ls b">Sendbird on the Web</code>的第二个按钮，通过将它连接到<code class="du lp lq lr ls b">WebViewController</code>来在屏幕共享时显示网站。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/ba5137547151a1b4053d629a32dcb039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xkdpFDjcUFOwrO9g.png"/></div></div></figure><p id="dd65" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">让我们实现按钮功能。</p><ol class=""><li id="ff24" class="kw kx hw iv b iw ix ja jb je ky ji kz jm la jq lb lc ld le bi translated">像之前创建<code class="du lp lq lr ls b">End Call</code>按钮一样，打开<code class="du lp lq lr ls b">Main.storyboard</code>，选择右上角的<strong class="iv hx"> + </strong>，在<code class="du lp lq lr ls b">Calling View Controller</code>中创建一个按钮。将其重命名为“开始共享”。</li><li id="9d4c" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">可选:创建另一个<code class="du lp lq lr ls b">Button</code>并将其重命名为<code class="du lp lq lr ls b">Sendbird on the Web</code>。创建一个名为<code class="du lp lq lr ls b">WebViewController</code>的新<code class="du lp lq lr ls b">View Controller</code>。创建一个新的<code class="du lp lq lr ls b">WebViewController.swift</code>类，并添加以下代码:</li></ol><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><ol class=""><li id="99fd" class="kw kx hw iv b iw ix ja jb je ky ji kz jm la jq lb lc ld le bi translated">在<code class="du lp lq lr ls b">Main.storyboard</code>中，选择<code class="du lp lq lr ls b">Web View Controller </code>，在右边的检查器中显示身份检查器。将类别设置为<code class="du lp lq lr ls b">WebViewController</code>并选择“从目标继承模块”复选框。</li><li id="14fe" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">按住Control键并点击<code class="du lp lq lr ls b">Sendbird on the Web</code>按钮，将线拖动到新的<code class="du lp lq lr ls b">Web View Controller</code>上。创建一个设置为“显示详细信息”的操作序列。点击此按钮时，将出现一个新的网络浏览器窗口，并共享Sendbird online的一些图像。</li><li id="c7e7" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">当在<code class="du lp lq lr ls b">Main.storyboard</code>中时，在右边添加一个编辑器来打开<code class="du lp lq lr ls b">CallingViewController.swift</code>文件。按住Control键并点击<code class="du lp lq lr ls b">Start Share</code> <strong class="iv hx"> </strong>按钮，新建一个<code class="du lp lq lr ls b">IBAction</code>名为<code class="du lp lq lr ls b">didTapScreenShareButton</code>。我们将很快填写这个新方法。<br/>可选:按住Control键并点击你的<code class="du lp lq lr ls b">Sendbird on the Web</code>按钮，创建一个名为<code class="du lp lq lr ls b">didTapWebButton</code>的<code class="du lp lq lr ls b">IBAction</code>。</li><li id="ca50" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">再次按住Control键并单击<code class="du lp lq lr ls b">Start Share</code> <strong class="iv hx"> </strong>按钮，创建一个名为<code class="du lp lq lr ls b">screenShareButton</code>的新IBOutlet。在代码中添加<code class="du lp lq lr ls b">import ReplayKit</code> <strong class="iv hx"> </strong>和<code class="du lp lq lr ls b">let rpScreenRecorder = RPScreenRecorder.shared()</code>。这是屏幕共享所必需的。</li><li id="609e" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">在新的<code class="du lp lq lr ls b">didTapScreenShareButton(_ sender: Any)</code>方法中，我们将调用<code class="du lp lq lr ls b">self.call.startScreenShare</code> <strong class="iv hx"> </strong>来开始屏幕共享。</li><li id="4934" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">用同样的方法<code class="du lp lq lr ls b">didTapScreenShareButton(_ sender: Any)</code>，我们也将调用<code class="du lp lq lr ls b">self.rpScreenRecorder.stopCapture</code>，它调用<code class="du lp lq lr ls b">self.call.stopScreenShare</code>来结束我们的屏幕共享。<br/>参见下面的代码:</li></ol><figure class="ll lm ln lo fd hj"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="32a3" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，运行应用程序。拨打电话给其他用户。当该用户接受时，点击<code class="du lp lq lr ls b">Start Share</code>按钮进行屏幕共享。该应用程序将提示您允许屏幕捕捉。选择“录制屏幕”按钮开始。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/ec361a522743dea2189d167b0c8b9f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ReT825hkXzQgh2wm.png"/></div></div></figure><p id="f435" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">成功共享屏幕后，您将能够共享当前屏幕上的内容。在本教程中，被呼叫者看到我的屏幕上有我的脸和按钮。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/d009e3f52a817012929ba1bc806faaa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HkovQNDBInkB6WyZ.png"/></div></div></figure><p id="4b34" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果你实现了可选的<code class="du lp lq lr ls b">Sendbird on the Web</code> <strong class="iv hx"> </strong>按钮，你可以在通话中在你的屏幕上显示一个网页。点击那个按钮打开页面。向下滑动以关闭页面。选择<code class="du lp lq lr ls b">Stop Share</code>按钮退出。</p><figure class="ll lm ln lo fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es lk"><img src="../Images/7958d79ab8c3ed2fd7d46a130a29106d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nvDBC7-gAXsNxqPP.png"/></div></div></figure><p id="4fba" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">上图描绘了被呼叫者在网页屏幕共享的Sendbird仪表板上的视图。</p><h1 id="1bfe" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="baca" class="pw-post-body-paragraph it iu hw iv b iw kr iy iz ja ks jc jd je kt jg jh ji ku jk jl jm kv jo jp jq ha bi translated">恭喜你，你成功了！今天，您有:</p><ul class=""><li id="034d" class="kw kx hw iv b iw ix ja jb je ky ji kz jm la jq lv lc ld le bi translated">创建了一个新的Xcode应用程序，配置并导入了Sendbird调用</li><li id="262e" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lv lc ld le bi translated">收到一个经过验证的用户的呼叫</li><li id="586f" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lv lc ld le bi translated">与被呼叫者共享了您的屏幕</li></ul><p id="21b8" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，如果你想在应用程序关闭时收到电话，你需要实现iOS CallKit。我们建议对Sendbird呼叫使用VoIP通知。教程<a class="ae jr" href="https://sendbird.com/developer/tutorials/make-local-calls-with-callkit-and-sendbird-calls" rel="noopener ugc nofollow" target="_blank"> <strong class="iv hx">如何用iOS CallKit和Sendbird Calls </strong> </a>制作视频通话app将帮助你实现这一点。有关如何接听电话的更多信息，您可以查看Sendbird d <a class="ae jr" href="https://sendbird.com/docs/calls/v1/ios/guides/direct-call#2-receive-a-call" rel="noopener ugc nofollow" target="_blank"> <strong class="iv hx"> ocs </strong> </a>。</p><p id="0c03" class="pw-post-body-paragraph it iu hw iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">感谢您阅读本教程和快乐的屏幕分享！✌</p><h1 id="b137" class="jt ju hw bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">资源和有用的链接</h1><ol class=""><li id="aff6" class="kw kx hw iv b iw kr ja ks je lw ji lx jm ly jq lb lc ld le bi translated"><a class="ae jr" href="https://dashboard.sendbird.com/" rel="noopener ugc nofollow" target="_blank"> Sendbird仪表盘</a></li><li id="945f" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated"><a class="ae jr" href="https://github.com/sendbird/sendbird-calls-ios" rel="noopener ugc nofollow" target="_blank">iOS中Sendbird调用的GitHub repo </a></li><li id="667b" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated"><a class="ae jr" href="https://github.com/sendbird/examples-calls-ios/tree/main/ScreenShare" rel="noopener ugc nofollow" target="_blank">用于iOS中屏幕共享的GitHub repo </a></li><li id="35f7" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">仙鸟通话<a class="ae jr" href="https://youtu.be/R4jtLS9paS0" rel="noopener ugc nofollow" target="_blank">视频教程</a></li><li id="bdf9" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated">Sendbird <a class="ae jr" href="https://sendbird.com/docs/calls/v1/ios/quickstart/make-first-call" rel="noopener ugc nofollow" target="_blank">文档</a></li><li id="dd68" class="kw kx hw iv b iw lf ja lg je lh ji li jm lj jq lb lc ld le bi translated"><a class="ae jr" href="https://sendbird.com/developer/tutorials/make-local-calls-with-callkit-and-sendbird-calls" rel="noopener ugc nofollow" target="_blank">教程</a>关于如何用iOS CallKit和<a class="ae jr" href="https://sendbird.com/features/voice-and-video" rel="noopener ugc nofollow" target="_blank"> Sendbird Calls </a>制作视频通话app</li></ol></div></div>    
</body>
</html>