<html>
<head>
<title>Holistically Solving Vehicle Routing and Container Loading Problems for Middle Mile Grocery Delivery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">整体解决中英里杂货配送的车辆路径和集装箱装载问题</h1>
<blockquote>原文：<a href="https://medium.com/walmartglobaltech/holistically-solving-vehicle-routing-and-container-loading-problems-for-middle-mile-grocery-935b9957d850?source=collection_archive---------3-----------------------#2022-09-19">https://medium.com/walmartglobaltech/holistically-solving-vehicle-routing-and-container-loading-problems-for-middle-mile-grocery-935b9957d850?source=collection_archive---------3-----------------------#2022-09-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="b6df" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者:黄静、付敏刚和刘明辉</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/a6f9bdf5fd5266c63be85c64c51be598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fMQyRu8x4sxeHQ6K1-8Q8A.jpeg"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Photo credit: <a class="ae js" href="https://pixabay.com/photos/topdown-drone-import-export-4405895/" rel="noopener ugc nofollow" target="_blank">marcinjozwiak</a></figcaption></figure><h1 id="8e6c" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">问题</strong></h1><p id="35a9" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">在沃尔玛，我们的中间一英里包括从配送中心(DC)向商店运送商品的所有渠道。它负责每天从40多个配送中心向5，000多家商店运送100，000多个杂货托盘。我们一直在分析运输这些商品的最有效和最经济的方式。由于补货频率高，而补货量低，为每个商店建立一个专用的货车托盘很有挑战性。我们需要将运送到多家商店的托盘整合到一辆卡车上，同时考虑快速运输商品和减少空载里程的最佳路线。</p><p id="2920" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，与其他交付渠道(例如，最后一英里交付)相比，我们必须考虑中间一英里交付如何适应大量的法规和限制。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kw"><img src="../Images/b24c59eaec371ff5c0e298d7ff0ecb84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M1VjY-Aw6C-aMigdr1P9uA.png"/></div></div></figure><p id="8984" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">车辆路线和拖车装载问题得到了广泛的研究，但是我们发现普通的解决方案存在不足，因为:</p><ul class=""><li id="5d21" class="kx ky hh ig b ih ii il im ip kz it la ix lb jb lc ld le lf bi translated">布线和装载必须同时解决<strong class="ig hi">、</strong>，而顺序解决是漫长且难以实现的</li><li id="c3f2" class="kx ky hh ig b ih lg il lh ip li it lj ix lk jb lc ld le lf bi translated">卡车路线(中/长途)需要考虑交通部(DOT)制定的司机工作时间规定</li><li id="6ae4" class="kx ky hh ig b ih lg il lh ip li it lj ix lk jb lc ld le lf bi translated">易腐物品在最多有三个车厢的冷藏拖车内的放置必须优化并符合许多规则</li></ul><p id="5370" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">简而言之，我们有更大的机会来优化从分拨中心向商店运送物品以及用托盘装载拖车的方式，从而提高效率。利用我们对零售技术的了解，我们决定自己解决这些问题。</p><h1 id="792e" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">我们需要什么</strong></h1><p id="6334" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">一旦DC杂货店收到要送到商店的订单，它的仓库管理系统就会将订单转换成虚拟货盘。每个虚拟货盘都包括建造一个40x48英寸的木质框架的计划，该框架可以装载多箱货物。中英里递送优化系统将这些虚拟货盘作为输入，并产生一组具有最有效装载计划(即货盘应如何在每辆拖车中排列)的时间表和一组将这些货盘运送到指定商店的最佳路线。</p><p id="4674" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">由于服务时间的规定，我们确定输出路线不仅应该包含送货顺序，还应该包含详细的司机活动，如何时休息和中途停留。当生成拖车装载计划以及路线时，它通常包含行、列、每个货盘的方向、隔板的位置、每个车厢的温度设置以及空货盘。</p><p id="0750" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从路由的角度来看，商店订单应该在商店交付窗口内交付。为了获得理想的路线安排方案，需要在路线上增加回程，以提高路线的效率。从装载角度来看，优化器应该在满足所有约束的同时优化拖车利用率。</p><p id="a867" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">中英里配送优化的主要目标是找到最佳路线和负载，实现最高效的运营，并更好地满足商店需求。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ll"><img src="../Images/023192ce6dcec99e1b9dbca55c64cb6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cu1-Tawzuc2G16aD4ZSlxA.jpeg"/></div></div></figure><h1 id="65f9" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">我们的解决方案</strong></h1><p id="a2f7" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">我们建立了一个基于禁忌搜索的框架，利用邻域搜索和启发式算法一次性解决了布线和装载问题。我们的解决方案分析问题特征，以在各种启发式和混合整数规划模型中找到最佳算法来解决不同的用例。然后，它使用选定的算法构建可行的初始路由。然后，禁忌搜索算法扫描一个非常大的解空间，以找到可能的最佳解。</p><p id="ee57" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">路线解决方案不仅包含每条交货路线上发生的详细活动，而且还指定哪些托盘属于每条交货路线以及移动这些托盘所需的拖车。一旦确定了最佳路线，我们将提供装载设计改进，以优化每辆拖车中托盘的排列，从而实现最佳重量平衡。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ll"><img src="../Images/f69558e61d059cfe3673f8da72de0f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3NWUVL1cAsIG4utJqxf0PQ.jpeg"/></div></div></figure><p id="bcf4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们开发了许多创新的试探法来减少有问题的维度和运行时间，从而提高了解决方案的质量。在我们“秘方”的帮助下，我们的解决方案优于行业领先公司提供的其他解决方案。它为干货交付节省了1%的成本，为易腐货物交付节省了3–4%的成本。除了解决方案质量方面的改进，系统运行时间为15分钟，显著低于第三方产品提供的运行时间。</p><h1 id="e707" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">它到底是如何工作的？</strong></h1><p id="4f4a" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">我们的解决方案亮点之一是快速检测路线和装载解决方案的可行性。这对优化和计算时间至关重要。在我们提出的框架中，路径改进(通常是求解车辆路径问题)是禁忌搜索应用的最关键步骤。由于许多小时服务规则和各种装载规则，中间英里解决方案的可行性检查比寻找传统的车辆路线问题更复杂。这就是为什么我们开发了创新的路由和装载试探法来减少可行性检查的计算时间。</p><p id="63c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，让我们考虑一个装载可行性检查。不同于传统的3D装箱设计问题，我们从不同的角度解决了这个问题。我们首先将堆叠构造分离出来作为预处理，以帮助我们将3D装载问题转化为2D问题。在构建堆栈后，我们使用一种算法来确定拖车上的地板点，而不是对堆栈进行排序来逐个确定它们的位置和方向。地板点可以被视为具有固定位置和方向的堆栈的虚拟“占位符”。因为这一步，我们不必考虑在哪里放置每个单独的堆栈；我们需要知道的是容器中可以放多少叠。接下来，我们的算法利用一组现有的装载模式(如宽度、长度、旋转和混合)来缩小可能的地板点配置。这意味着，当地板点被放置在拖车内，托盘被合并成垛时，我们可以将这些特定的垛分配给每个地板点。</p><p id="8120" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们介绍的另一个关键思想是通过主动订单分割来提高优化。这与被动订单拆分形成对比，在被动订单拆分中，当一个集装箱装不下一家商店的订单时，我们必须将其拆分。这种想法背后的动机是，我们可以通过主动拆分一家商店的订单来更好地整合来自其他商店的订单，即使它不必拆分以适合一个集装箱。我们设计了多种算法来确定活动拆分，例如基于存储位置的启发式算法和用于订单到路线模板分配的混合整数规划。这种想法可以增加停靠站的总数，但它通过提高拖车利用率和减少路线数量和行驶里程来降低成本。此外，路由改进算法可以有效地识别和避免冗余的活动分裂，将它们合并成一条路由。</p><p id="7672" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的解决方案的其他亮点包括基于不必要的卸载订购装载模式的能力，在遵守DOT规则的同时最大限度地减少等待时间，在服务时间内推广设计以轻松适应不断变化的运输规则，等等。</p><p id="04cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">除了从算法角度不断增强之外，高效的实现也是关键。通过代码优化，尤其是禁忌搜索部分，我们不仅能够在解决方案空间中搜索更多内容以实现更好的优化，还能通过显著减少系统运行时间来加快开发过程。</p><h1 id="bde5" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">下一步是什么</strong></h1><p id="ebe2" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">沃尔玛目前正在为我们的DC杂货网络推出解决方案。它刚刚于2022年7月在40多个杂货配送中心上线。此外，我们正在探索利用这一框架的其他机会，并继续改善我们的中里程交付。</p><p id="6c8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该解决方案已被证明是足够灵活和可扩展的，以适应其他网络中潜在使用的额外业务规则，如逆向物流和GM网络。我们已经成功利用这一框架解决了通过船只向阿拉斯加和夏威夷的商店运送冷冻和干货的问题。当前算法也有许多改进，如并行化和集成各种算法。这个新框架允许我们尝试各种算法，并不断提高其有效性。</p><p id="eea0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，完全拥有我们自己的中里程交付解决方案框架使我们能够进一步将路线和装载考虑整合到上游补给系统中。如果我们在下订单时考虑运输和装载成本，那么运输系统在执行商店订单时可能会更有效率。例如，来自特定位置的商店订单与来自附近商店的订单相结合时，更有可能装满一卡车货物。沃尔玛目前正在研究路线和装载优化，该优化与补货计划深度集成，以使用自适应学习算法生成最佳商店订单并最小化运输成本。</p><p id="5136" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">不断推进我们的中里程交付系统将有助于为我们的员工和客户提供无缝体验。成为沃尔玛的一员是一个激动人心的时刻！</p><p id="2707" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">确认</strong></p><p id="905b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该解决方案框架已作为Load Planner(沃尔玛外向交付和拖车规划系统)的核心优化程序实施，并推广到沃尔玛杂货网络。我们要感谢以下团队，他们为实现这一目标发挥了重要作用:由Travis Johnson、Shwetal Mokashi、Joe Hendricks、Ankush Bhargava和Xiao领导的产品团队；由Parvez Musani、Sai Kumar和Ranjith Moola领导的工程团队；以及我们的数据科学团队成员孙(Ou Sun)、阿迪蒂亚·斯里尼瓦桑(Aditya Srinivasan)、、、费雷敦·阿德贝什(Fereydoun Adbesh)、聂和丹尼尔·祖尼加·瓦兹奎。</p></div></div>    
</body>
</html>