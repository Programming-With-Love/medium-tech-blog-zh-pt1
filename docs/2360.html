<html>
<head>
<title>Membuat Development Environment Aplikasi Golang dengan Docker Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Membuat Development Environment Aplikasi Golang dengan Docker Compose</h1>
<blockquote>åŽŸæ–‡ï¼š<a href="https://medium.easyread.co/membuat-development-environtment-aplikasi-golang-dengan-docker-compose-4e96542c19ea?source=collection_archive---------2-----------------------#2018-12-24">https://medium.easyread.co/membuat-development-environtment-aplikasi-golang-dengan-docker-compose-4e96542c19ea?source=collection_archive---------2-----------------------#2018-12-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="84e4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Part 6 dari Project <a class="ae kc" href="https://medium.com/easyread/christmas-tale-of-sofware-engineer-project-kube-xmas-9167ebca70d2" rel="noopener"> Kube-Xmas Series </a></h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/7d6dba01403374b0bf0120a27beef3e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fwBMzbwwFktI0tb8"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="079a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Haloo lagi, hehe. Di part ini saya akan sedikit membahas topik bagaimana mengatur environtment development dengan docker-compose.</p><p id="8958" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Misalnya, kita lagi bekerja dalam tim. Ada banyak backend-engineer yang akan bersama-sama mengembangkan satu aplikasi. Langsung ke kasus nyata, project Kube-Xmas, saya memiliki aplikasi tweet API. Aplikasi ini pastinya memiliki external-dependencies, untuk kasus saya, external dependenciesnya adalah Redis.</p><p id="f603" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Nah, normalnya, ketika mendevelop aplikasi seperti ini, setiap anggota tim backend pasti memiliki environtment berbeda-beda. Ada yang menggunakan Linux, MacOS, Windows dsb.</p><p id="21b4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Belum lagi kalau butuh external-dep seperti redis, biasanya para engineer pasti akan meng-install aplikasi yang dibutuhkan di PC(laptop)nya masing-masing. Kalau butuh MySQL, maka setiap engineer biasanya meng-install MySQL di laptop mereka, jika butuh Mongo, sama mereka juga akan menginstall Mongo, dsb.</p><p id="cc22" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">So, bagaimana, kalau semua hal itu kita ciptakan satu environtment yang sama untuk setiap development tanpa harus ribet ketika harus develop aplikasi yang akan dikerjakan.</p><p id="809a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Thanks to Docker-Compose, kita dapat dengan mudah melakukannya, meski tujuan awal dari Dokcer-Compose bukanlah hal ini hehe, tetapi kalau bisa dimanfaatin kenapa tidak hehe ðŸ˜ˆ</p><p id="ba93" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Jadi yang dibutuhkan adalah membuat dokcer-compose.yaml, yang nantinya akan digenerate oleh docker-compose. Untuk sampai ketahapan ini, ada baiknya anda telah men-dockerize aplikasi yang akan kita jalankan didalam docker-compose. Caranya bisa dilihat dipart sebelumnya :D</p><p id="6522" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Berikut saya sudah buat docker-compose untuk aplikasi tweetor di Project Kube-Xmas Series saya.</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="0529" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe lr ls lt lu b">version</code> : Menyatakan <em class="lv"> versi docker compose </em> yang saya pakai. Untuk menggunakan dokcer-compose harap menggunakan versi tercamtum disini, karena versi 3 keatas sudah menjadi docker-swarm yang cara kerjanya sedikit berbeda dengan docker-compose. <br/> <code class="fe lr ls lt lu b">services</code> : Daftar <em class="lv"> service </em> yang saya jalankan di <em class="lv"> docker compose </em> . <br/> <code class="fe lr ls lt lu b">image</code> : <em class="lv"> Image </em> yang akan kita run di <em class="lv"> docker-compose </em> <br/> <code class="fe lr ls lt lu b">ports</code> : Menyatakan port yang <em class="lv"> diexpose </em> oleh <em class="lv"> service </em> tersebut didalam satu jaringan <em class="lv"> docker compose </em> <br/> <code class="fe lr ls lt lu b">depends_on</code> : Menyatakan suatu <em class="lv"> service </em> bergantung pada <em class="lv"> service </em> lain. Sehingga <em class="lv"> service </em> tersebut akan dijalankan setelah <em class="lv"> service </em> yang bergantung kepadanya sudah aktif. <br/> <code class="fe lr ls lt lu b">volumes</code> : Menyatakan file yang kita <em class="lv"> inject </em> atau sisipkan kedalam <em class="lv"> container </em> yang akan dijalankan didalam service <em class="lv"> docker compose </em> . Bisa <em class="lv"> config </em> file, atau apapun.</p><p id="1475" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Selanjutnya dengan <em class="lv"> command </em> simple:</p><pre class="ke kf kg kh gt lw lu lx ly aw lz bi"><span id="f2c6" class="ma mb in lu b gy mc md l me mf">$ docker-compose up -d</span></pre><p id="2aa9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Maka <em class="lv"> service </em> kita sudah aktif di lokal. Hal ini sangat membantu untuk kebutuhan <em class="lv"> development </em> . Anda tidak perlu setup aneh-aneh di lokal anda. Biarkan <em class="lv"> docker-compose </em> meng- <em class="lv"> install </em> kebutuhan apa saja yang diperlukan oleh aplikasi anda.</p><p id="142a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Tidak penting OSnya apa, selama <em class="lv"> docker </em> bisa berjalan, <em class="lv"> experience </em> -nya tetap sama. <em class="lv"> Environment development </em> -nya tetap sama. Aplikasi berjalan layaknya di Kubernetes (diatas container), jadi experiencenya tetap sama. Jika ada error, maka sudah pasti error ketika deploy ke kubernetes.</p><h2 id="09a0" class="ma mb in bd mg mh mi dn mj mk ml dp mm lc mn mo mp lg mq mr ms lk mt mu mv mw bi translated">Stop Service</h2><p id="b2b4" class="pw-post-body-paragraph kt ku in kv b kw mx jo ky kz my jr lb lc mz le lf lg na li lj lk nb lm ln lo ig bi translated">Untuk <em class="lv"> stop service </em> , kita dapat melakukannya dengan <em class="lv"> command </em> :</p><pre class="ke kf kg kh gt lw lu lx ly aw lz bi"><span id="b490" class="ma mb in lu b gy mc md l me mf">$ docker-compose down</span></pre><p id="f207" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Maka semua service kita akan selesai. Kita juga dapat melihat logs dengan <em class="lv"> command </em></p><pre class="ke kf kg kh gt lw lu lx ly aw lz bi"><span id="7177" class="ma mb in lu b gy mc md l me mf">$ docker-compose logs -f</span></pre><p id="7a90" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Namun <em class="lv"> logs </em> yang terdapat didalamnya adalah logs semua aplikasi yang berjalan dalam satu network docker compose.</p><h2 id="2432" class="ma mb in bd mg mh mi dn mj mk ml dp mm lc mn mo mp lg mq mr ms lk mt mu mv mw bi translated">Demo</h2><p id="e299" class="pw-post-body-paragraph kt ku in kv b kw mx jo ky kz my jr lb lc mz le lf lg na li lj lk nb lm ln lo ig bi translated">Mempermudah penggunaanya, dapat dilihat dalam demo ini. :D</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nc lq l"/></div></figure><p id="543c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Yaayy!!! Another Post finished :D</p><p id="6986" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Sampai disini, seharusnya jika anda menjalankan ini, ketika bekerja dalam tim, experience nya tetap sama. Untuk menjalankan aplikasinya kita tinggal menjalankan command <code class="fe lr ls lt lu b">docker-compose up</code> di laptop masing-masing.</p><p id="c06d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Nah, selanjutnya adalah, saya akan membuat Makefile yang berguna untuk otomoasi semua proses ini. Begitu banyak command dan arguments yang dibutuhkan, tentunya bisa membuat kita lupa. Nah biar tidak mudah lupa, serta membantu dalam otomasi (untuk kebutuhan CI/CD) saya pun membuat Makefile yang mempermudah semua command tersebut.</p><h2 id="8c68" class="ma mb in bd mg mh mi dn mj mk ml dp mm lc mn mo mp lg mq mr ms lk mt mu mv mw bi translated">Next</h2><ul class=""><li id="3d3e" class="nd ne in kv b kw mx kz my lc nf lg ng lk nh lo ni nj nk nl bi translated"><a class="ae kc" href="https://medium.com/easyread/membuat-makefile-untuk-aplikasi-golang-5c2d19122b13" rel="noopener"> <strong class="kv io"> Membuat Makefile untuk aplikasi Golang </strong> </a></li></ul><h2 id="6143" class="ma mb in bd mg mh mi dn mj mk ml dp mm lc mn mo mp lg mq mr ms lk mt mu mv mw bi translated">Prev</h2><ul class=""><li id="551f" class="nd ne in kv b kw mx kz my lc nf lg ng lk nh lo ni nj nk nl bi translated"><a class="ae kc" href="https://medium.com/easyread/men-dockerize-aplikasi-golang-9c32959c657e" rel="noopener"> <strong class="kv io"> Men-dockerize Aplikasi Golang </strong> </a></li></ul></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nt lq l"/></div></figure></div></div>    
</body>
</html>