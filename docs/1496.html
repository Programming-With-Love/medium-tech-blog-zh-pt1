<html>
<head>
<title>How We Got Alexa to Join Our Band at TechCrunch Disrupt</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们如何让Alexa加入我们在TechCrunch Disrupt的乐队</h1>
<blockquote>原文：<a href="https://medium.com/capital-one-tech/how-we-got-alexa-to-join-our-band-at-techcrunch-disrupt-133865f8369b?source=collection_archive---------3-----------------------#2017-12-14">https://medium.com/capital-one-tech/how-we-got-alexa-to-join-our-band-at-techcrunch-disrupt-133865f8369b?source=collection_archive---------3-----------------------#2017-12-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><figure class="hg hh ez fb hi hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es hf"><img src="../Images/c1fedbc041a80c58e3a775def723d953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ox0G9ScrA0OF95X_gJqK1A.jpeg"/></div></div></figure><div class=""/><p id="d2a2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">软件工程师Ardon BaileyNagkumar Arkalgud，软件工程师；<br/> Timothy Street，第一资本公司软件工程师助理</p><p id="15cd" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">首都一号博客的音乐制作？绝对的。我们在Capital One有许多软件工程师，他们也热衷于使用他们的技术技能来制作优秀的音乐。</p><p id="fdbb" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">今年早些时候，我们(Tim Street、Nagkumar Arkalgud和Ardon Bailey)参加了旧金山的TechCrunch Disrupt Hackathon，希望设计出一种可以让唱片艺术家创作音乐的东西——只使用他们的声音。结果是Odis，一个与亚马逊Alexa接口并将自然语言指令转换为MIDI(音乐乐器数字接口)命令的平台。借助Odis，音乐制作人可以在录音室录音软件中实时录制、回放和编辑曲目(歌曲)。</p><p id="b01e" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Odis在黑客马拉松上大受欢迎，不仅<a class="ae jo" href="https://techcrunch.com/2017/09/17/odis-brings-alexa-voice-commands-to-music-production/" rel="noopener ugc nofollow" target="_blank">登上了TechCrunch.com</a>，而且<a class="ae jo" href="https://devpost.com/software/odis" rel="noopener ugc nofollow" target="_blank">还获得了亚马逊Alexa奖</a>。</p><h2 id="1010" class="jp jq hs bd jr js jt ju jv jw jx jy jz ja ka kb kc je kd ke kf ji kg kh ki kj bi translated">一定有更好的方法</h2><p id="27ed" class="pw-post-body-paragraph ip iq hs ir b is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ko jk jl jm ha bi translated">在Ardon Bailey成为Capital One的软件工程师之前，他是一名DJ/Tablist，经常参加DJ比赛，并在音乐会和派对上表演。在创作某些曲目时，他发现手里拿着乐器录音很不方便。例如，在弹奏吉他时，录制声音的步骤如下:</p><ol class=""><li id="ec3b" class="kp kq hs ir b is it iw ix ja kr je ks ji kt jm ku kv kw kx bi translated">握着吉他，准备演奏</li><li id="57ea" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">通过在录制软件中物理触发录制来开始录制</li><li id="7965" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">尽快重新定位以弹奏吉他</li><li id="e103" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">演奏，直到您对声音满意为止</li><li id="b7a6" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">尽快按下停止录制</li></ol><p id="2eb2" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">计算机和仪器之间的来回例行程序可能相当乏味，尤其是在长时间的会话中。如果这还不够的话，仪器经常会在物理上造成障碍。除非周围有人伸出援手，否则这些步骤都是你自己完成的。</p><p id="a014" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">输入Odis的想法。当我们为我们的黑客马拉松项目集思广益时，我们知道我们想要创造一些让赛道创建过程尽可能简单的东西。我们的首要任务是:让艺术家更方便地在他们选择的环境中创作内容。为了满足这一限制，我们需要一些易于集成到现有录音系统中的东西。因此，我们的解决方案是创建一个免提、声控录音助手。</p><p id="a756" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht">使用Odis，在吉他上录音变得简单:</strong></p><ol class=""><li id="812b" class="kp kq hs ir b is it iw ix ja kr je ks ji kt jm ku kv kw kx bi translated">握着吉他，准备演奏</li><li id="a19f" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">说:“Alexa，让Odis开始录音”</li><li id="0853" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">演奏，直到您对声音满意为止</li><li id="ce63" class="kp kq hs ir b is ky iw kz ja la je lb ji lc jm ku kv kw kx bi translated">说:“Alexa，请Odis停止记录”</li></ol><p id="c484" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因为录音完全由声音控制，艺术家可以专注于重要的事情:音乐。录音室录音软件的控制权实际上是从艺术家手中拿走的，交给了Alexa，他做了所有繁重的工作。</p><p id="1f48" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">旁注:Odis还实现了录音室录音软件中常见的其他功能，如声音回放、添加和删除MIDI效果等。理论上，MIDI库中支持的任何东西都是公平游戏。</p><h2 id="6b3c" class="jp jq hs bd jr js jt ju jv jw jx jy jz ja ka kb kc je kd ke kf ji kg kh ki kj bi translated"><strong class="ak">架构</strong></h2><p id="0b32" class="pw-post-body-paragraph ip iq hs ir b is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ko jk jl jm ha bi translated">Odis背后的架构很简单，可以在许多不同的Daw(数字音频工作站)上实现。由于Odis的Alexa语音命令可以解析为MIDI指令，因此很容易与大多数Daw集成。</p><figure class="le lf lg lh fd hj er es paragraph-image"><div role="button" tabindex="0" class="hk hl di hm bf hn"><div class="er es ld"><img src="../Images/8ff386d9d77528da3c65fa8ef39e5612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7lLXM-NLuG3yhwd3pIzA1Q.jpeg"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx">Sketch of the Odis Architecture</figcaption></figure><p id="005f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir ht"> Odis有三个主要组成部分:</strong></p><p id="a20f" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.Alexa Skill (Python) <br/>我们决定使用触发Lambda的Alexa Skills Kit作为我们与Odis的接口。Lambda是用Python编写的，负责解释自然语言指令、格式化HTTP请求有效负载，然后使用Pusher将它们发送到客户端应用程序(运行在用户的计算机上)。</p><p id="f254" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.Pusher <br/> Pusher是Odis背后架构的核心部分。在高层次上，它基本上将RESTful web请求翻译成WebSocket上的消息。因为Pusher处理与通过WebSocket打开和关闭连接相关的所有逻辑，所以我们所要做的就是在Alexa Skills Kit Lambda中添加对Pusher的调用，并在MIDI客户端中添加功能，以便它可以侦听通过互联网传入的请求。因为Pusher是免费的，并为我们做了大部分工作，这是一个很容易的决定，使它成为我们之间的Alexa和客户的沟通工具。</p><p id="acd7" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.MIDI客户端(node . js)<br/>MIDI客户端与用户电脑上的录音室录音软件一起运行。客户端包装MIDI库，并通过WebSocket监听来自Alexa Skills Kit Lambda的传入请求。当收到请求时，根据内容，特定的MIDI指令被发送到客户端正在使用的任何录音软件。</p><h2 id="b791" class="jp jq hs bd jr js jt ju jv jw jx jy jz ja ka kb kc je kd ke kf ji kg kh ki kj bi translated"><strong class="ak">克服挑战</strong></h2><p id="b5ac" class="pw-post-body-paragraph ip iq hs ir b is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ko jk jl jm ha bi translated">我们在创建ODI时遇到了许多障碍。</p><p id="77be" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">1.为AWS Lambda <br/>创建部署包虽然Amazon为Lambda创建部署包的文档看起来简单明了，但对我们来说还不够全面。我们遇到了麻烦，包括一些第三方库和必要的配置，以我们想要的方式运行Odis。令人欣慰的是，该团队能够联系到一位已经在Lambda产品中创建部署包的同事。我们打电话给他，他很乐意帮助我们粉碎这个路障。谢谢崔！</p><p id="13b9" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.用于AWS Lambda <br/>的Python 2.x中的SSL问题当我们创建部署包并试图通过Pusher发送推送通知时(即从Lambda发送RESTful HTTPS请求)，请求无法完成。经过故障排除，我们发现Lambda使用自己的安全模块，而不是部署包中上传的那些模块。我们通过将2.x Python代码库转换为3.6版本解决了这个问题，3.6版本遵循不同的部署包依赖标准。改变之后，一切都“神奇地”工作了！</p><p id="e309" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.在我们看来，Odis中最酷的功能之一是能够给之前录制的音乐添加预定义的效果。我们想让它在命令“Alexa，请Odis添加效果”上工作。不管我们怎么测试，这个短语的触发器都不会起作用。事实证明，Alexa在其语言检测算法中混淆了“影响”和“效果”的发音，我们不得不将短语“最后一分钟”改为“Alexa，请Odis添加酷”。</p><h2 id="f24e" class="jp jq hs bd jr js jt ju jv jw jx jy jz ja ka kb kc je kd ke kf ji kg kh ki kj bi translated"><strong class="ak">Odis的未来</strong></h2><p id="e7ea" class="pw-post-body-paragraph ip iq hs ir b is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ko jk jl jm ha bi translated">展望未来，我们希望开发其他DAW(数字音频工作站),并可能开发一个桌面应用程序，为不同的DAW运行一个脚本来配置MIDI控件的映射。</p></div><div class="ab cl lm ln go lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ha hb hc hd he"><p id="a1ea" class="pw-post-body-paragraph ip iq hs ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">以上观点为作者个人观点。除非本帖中另有说明，否则Capital One不属于所提及的任何公司，也不被其认可。使用或展示的所有商标和其他知识产权都是其各自所有者的所有权。本文为2017首都一。</em></p></div></div>    
</body>
</html>