# 使用 React 的 D3v4 力模拟

> 原文：<https://medium.com/walmartglobaltech/d3v4-forcesimulation-with-react-8b1d84364721?source=collection_archive---------3----------------------->

![](img/2d6fcd7dc018d822e19b0171468222c3.png)

出于某种原因，我在 React 项目中需要一个[节点图](https://github.com/d3/d3-force/blob/master/README.md#forceSimulation)。事实上，这是一个很酷的理由，但那是另一篇博文。我做了我们所有人都做的事情，那就是 *npm 安装 d3* ，你瞧，我得到了 d3 的版本 4。这是好的，也是坏的。D3 的 V4 基本上是对 V3 API 的全面修改，这很棒，因为你可以导入你需要的东西，它将数学内容从 DOM 内容中分离出来，但是我**很懒**，而且没有针对 D3 V4 和 React 的代码示例，这很糟糕，非常非常糟糕，所以这篇博客修复了这一点。

所以，给你，我的光荣懒惰工程师的同道中人。下面是您应该复制并粘贴的代码，让您开始使用 *forceSimulation* (这只是节点图的一个花哨的词)，但它使用 React 来呈现节点。

A D3 forceSilmuation example in React

我会给你一些这方面的详细介绍，但老实说，我真的不知道为什么有些会有用。例如，我不知道为什么 *forceStrength* 应该是那个值。我只知道它是有效的，如果弄乱它，要么什么都不会产生，这很令人满意(感谢奥巴马)，要么产生一些疯狂的分散，这也不酷。我不是物理学家，但这就像宇宙常数，只要找到一个有效的值而其他值都是荒谬的，或者毁灭所有生命，或者随便什么。

老实说，如果你现在还在读，那么祝福你，先生/女士，我不会，大多数人也不会。大多数人谷歌搜索 D3 forceSimulation React 找到这个页面，复制代码并开始黑客攻击。这也没什么，我一直都是这么做的。但我会用一段乘坐喷气动力小马车的视频来奖励你的阅读能力。我甚至不能。

作为对您决心的进一步奖励，我给您另一个代码示例:

Now with links and what not

这个有连接节点的链接！哦不！我不是节点图的狂热爱好者，我认为它们被夸大了，很像 21 飞行员，我一开始喜欢他们，但是现在。无论如何，当你连接节点时，节点图确实更有意义，所以你看。

# 结论

这一段将结束这篇文章。它在这里是因为我写了很多文章，编辑们总是需要结论，所以这已经成为一种习惯，现在…它在这里。你真正想要的是代码，所以向上滚动并抓取它。说实话，挺好的。