<html>
<head>
<title>Streaming Twitter Data Using Apache Flume</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Apache Flume流式传输Twitter数据</h1>
<blockquote>原文：<a href="https://medium.com/edureka/apache-flume-tutorial-6f7150210c76?source=collection_archive---------5-----------------------#2017-11-14">https://medium.com/edureka/apache-flume-tutorial-6f7150210c76?source=collection_archive---------5-----------------------#2017-11-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/b15016b2d7955f385e4c5bf4b1cda63d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*MQvL956DsXYTH3piJmyYUA.png"/></div><figcaption class="il im et er es in io bd b be z dx">Apache Flume Tutorial- Edureka</figcaption></figure><p id="3494" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这篇Apache Flume教程文章中，我们将了解Flume如何帮助从各种来源传输数据。但在此之前，让我们理解数据摄取的重要性。为了处理和分析数据，然后从中获得商业价值，数据摄取是最初的也是重要的一步。在一个组织中，可以从多个来源收集数据。</p><p id="b98c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">再来说说Flume如此受欢迎的另一个重要原因。我希望你可能熟悉<strong class="ir hi"> <em class="jn"> Apache Hadoop </em> </strong>，由于它可以存储各种数据，所以在行业中被大量使用。Flume可以轻松地与Hadoop集成，并在HDFS上转储非结构化和半结构化数据，这是对Hadoop强大功能的补充。这就是为什么Apache Flume是Hadoop生态系统的重要组成部分。</p><p id="f1e1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我们将讨论以下主题:</p><ul class=""><li id="fd34" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">阿帕奇水槽介绍</li><li id="4eac" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">阿帕奇水槽的优势</li><li id="ec91" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">水槽建筑</li><li id="d5fe" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">使用Flume流式传输Twitter数据</li></ul><p id="ec72" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将从讨论什么是阿帕奇水槽开始这个水槽教程。接下来，我们将了解使用Flume的优势。</p><h1 id="6c65" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">阿帕奇水槽介绍</h1><figure class="lb lc ld le fd ii er es paragraph-image"><div class="er es la"><img src="../Images/0bf217d0e01656025bd00dadee91875c.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*w7gbdROxPn72OrISLX6wZg.png"/></div></figure><p id="3085" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Apache Flume是HDFS的一个数据摄取工具。它收集、聚合和传输大量流数据，如日志文件、来自网络流量、社交媒体、电子邮件等各种来源的事件。去HDFS。Flume是一个高度可靠的分布式系统。</p><p id="1142" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Flume设计背后的主要思想是从各种网络服务器捕获流数据到HDFS。它有一个简单灵活的基于数据流的体系结构。它是容错的，并为容错和故障恢复提供可靠性机制。</p><p id="51cc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在了解了什么是Flume之后，现在让我们进入这个Flume教程博客，了解Apache Flume的好处。接下来，我们将看看Flume的架构，并尝试从根本上理解它是如何工作的。</p><h1 id="a33d" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">阿帕奇水槽的优势</h1><p id="e8ec" class="pw-post-body-paragraph ip iq hh ir b is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji lj jk jl jm ha bi translated">Apache Flume有几个优点，这使它成为比其他更好的选择。优点是:</p><ul class=""><li id="d1f7" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm jt ju jv jw bi translated">Flume是一个可扩展的、可靠的、容错的和可定制的，用于不同的源和汇。</li><li id="964e" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">Apache Flume可以将数据存储在集中式存储中(即数据由单一存储提供)，如HBase &amp; HDFS。</li><li id="814d" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">Flume是水平可伸缩的。</li><li id="95f4" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">如果读取速率超过写入速率，Flume会在读取和写入操作之间提供稳定的数据流。</li><li id="6e30" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">Flume提供可靠的消息传递。Flume中的事务是基于通道的，其中为每条消息维护两个事务(一个发送者和一个接收者)。</li><li id="c9fe" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">使用Flume，我们可以将来自多个服务器的数据导入Hadoop。</li><li id="0dea" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">它为我们提供了一个可靠的分布式解决方案，帮助我们收集、聚合和移动大量数据集，如脸书、Twitter和电子商务网站。</li><li id="2f63" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">它帮助我们从网络流量、社交媒体、电子邮件、日志文件等各种来源获取在线流数据。在HDFS。</li><li id="3b66" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm jt ju jv jw bi translated">它支持大量的源和目的地类型。</li></ul><p id="3aba" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该架构为Apache Flume提供了这些好处。现在，我们知道了Apache Flume的优点，让我们继续了解Apache Flume架构。</p><h1 id="c787" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">水槽建筑</h1><p id="87be" class="pw-post-body-paragraph ip iq hh ir b is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji lj jk jl jm ha bi translated">现在，让我们从下图中了解Flume的架构:</p><figure class="lb lc ld le fd ii er es paragraph-image"><div class="er es lk"><img src="../Images/bb693d290d1987510b86f8c599e4473d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*2LmcSlhfuTpcTOwkkLCW-w.png"/></div></figure><p id="f685" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有一个Flume代理将来自不同数据源的流数据接收到HDFS。从图中可以很容易理解web服务器表示数据源。Twitter是流媒体数据的著名来源之一。</p><p id="518f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">水槽代理有3个组件:源、接收器和通道。</p><ol class=""><li id="2cf6" class="jo jp hh ir b is it iw ix ja jq je jr ji js jm ll ju jv jw bi translated"><strong class="ir hi"> Source </strong>:接受来自输入流线的数据，并将数据存储在通道中。</li><li id="01b3" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm ll ju jv jw bi translated"><strong class="ir hi">频道</strong>:一般来说，读的速度比写的速度快。因此，我们需要一些缓冲来匹配读&amp;写速度差异。基本上，缓冲区充当中间存储，临时存储正在传输的数据，从而防止数据丢失。类似地，通道充当数据源和HDFS中的持久数据之间的本地存储或临时存储。</li><li id="ce74" class="jo jp hh ir b is jx iw jy ja jz je ka ji kb jm ll ju jv jw bi translated"><strong class="ir hi"> Sink </strong>:然后，我们的最后一个组件，也就是Sink，从通道收集数据，并将数据永久提交或写入HDFS。</li></ol><p id="ddf8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们知道了Apache Flume是如何工作的，让我们来看一个实际的例子，我们将在这里接收Twitter数据并将其存储在HDFS中。</p><h1 id="4cdf" class="kc kd hh bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">流媒体Twitter数据</h1><p id="8594" class="pw-post-body-paragraph ip iq hh ir b is lf iu iv iw lg iy iz ja lh jc jd je li jg jh ji lj jk jl jm ha bi translated">在这个练习中，我们将使用Flume从Twitter传输数据，然后将数据存储在HDFS，如下图所示。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/cd9851e0fe7b0638ab62e3c35a13d08f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NMMtUoHDW7f2vOLilnHN0A.png"/></div></div></figure><p id="20e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第一步是创建一个Twitter应用程序。为此，你首先要访问这个网址:<strong class="ir hi"><em class="jn">https://apps.twitter.com/</em></strong>并登录你的Twitter账户。转到创建应用程序选项卡，如下图所示。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/dd5a3dbcb358298cb123a6b36fce2671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*ETy1mEawRXDl_XdURwyr4g.png"/></div></figure><p id="7f35" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然后，创建一个应用程序，如下图所示。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/e1db8c52c017e61661aaafa3804ccbf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f_6OD3JePkw6EKXLezkTqg.png"/></div></div></figure><p id="4868" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">创建这个应用程序后，您将找到密钥和访问令牌。复制密钥和访问令牌。我们将在Flume配置文件中传递这些令牌来连接这个应用程序。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/16c021b183cdc926094c52b12e532e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QsimHhOr4HGHTjC6hhqi_A.png"/></div></div></figure><figure class="lb lc ld le fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/ea1774b77c82fbe04a3017ead19f5f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*ig8KMjQPtM3Fb4y-bPp8gg.png"/></div></figure><p id="bfef" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在在flume的根目录下创建一个flume.conf文件，如下图所示。正如我们所讨论的，在Flume的架构中，我们将配置我们的源、汇和通道。我们的来源是Twitter，我们从那里传输数据，我们的汇点是HDFS，我们在那里写数据。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lt"><img src="../Images/111f45849346bf1b80a200839eba276b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vVAHMlQTEhA7bgivE77HVQ.png"/></div></div></figure><p id="0d26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在源配置中，我们将twitter源类型作为<em class="jn">org . Apache . flume . source . Twitter . twittersource .</em>传递，然后，我们将传递从Twitter收到的所有四个令牌。最后，在source配置中，我们传递将要获取tweets的关键字。</p><p id="4732" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在接收器配置中，我们将配置HDFS属性。我们将设置HDFS路径，写入格式，文件类型，批量大小等。最后，我们将设置一个内存通道，如下图所示。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lu"><img src="../Images/ea7c6bd56acdc2c89e584a79f89127f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kO8JwL7YgoGXGmAnJ9bJNQ.png"/></div></div></figure><p id="1e2e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">现在我们都准备好执行了。让我们继续执行这个命令:</p><p id="1894" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><code class="du lv lw lx ly b">$FLUME_HOME/bin/flume-ng agent --conf ./conf/ -f $FLUME_HOME/flume.conf</code></p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lm"><img src="../Images/e4e893d688af045287f67b6feef9d719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*REBJUdczBo-2E8DGkuaB-g.png"/></div></div></figure><p id="19f4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">执行此命令一段时间后，您可以使用CTRL+C退出终端。然后，您可以继续在Hadoop目录中检查提到的路径，无论文件是否已创建。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es lz"><img src="../Images/ba71d4b76fb72a1ffff0940d413739aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1pQGhLs1sDVrCOS31OB-aA.png"/></div></div></figure><p id="35e1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下载文件并打开它。你将得到如下图所示的东西。</p><figure class="lb lc ld le fd ii er es paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="er es ma"><img src="../Images/a715f84dc625788de1ad3ca949c2415d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZyFFnrDns2hxggJBJv2Hrg.png"/></div></div></figure><p id="ada1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我希望这篇文章能给你带来信息和附加值。</p><p id="ca26" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你想查看更多关于人工智能、Python、道德黑客等市场最热门技术的文章，你可以参考Edureka的官方网站。</p><p id="4b1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请留意本系列中解释大数据其他各方面的其他文章。</p><blockquote class="mb mc md"><p id="36fe" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">1.<a class="ae mh" rel="noopener" href="/edureka/hadoop-tutorial-24c48fbf62f6"> Hadoop教程</a></p><p id="3549" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">2.<a class="ae mh" rel="noopener" href="/edureka/hive-tutorial-b980dfaae765">蜂巢教程</a></p><p id="2bec" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">3.<a class="ae mh" rel="noopener" href="/edureka/pig-tutorial-2baab2f0a5b0">养猪教程</a></p><p id="27a3" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">4.<a class="ae mh" rel="noopener" href="/edureka/mapreduce-tutorial-3d9535ddbe7c">地图缩小教程</a></p><p id="3f9b" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">5.<a class="ae mh" rel="noopener" href="/edureka/hbase-tutorial-bdc36ab32dc0"> HBase教程</a></p><p id="284d" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">6.<a class="ae mh" rel="noopener" href="/edureka/hdfs-tutorial-f8c4af1c8fde"> HDFS教程</a></p><p id="cf4b" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">7.<a class="ae mh" rel="noopener" href="/edureka/hadoop-3-35e7fec607a"> Hadoop 3 </a></p><p id="246d" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">8.<a class="ae mh" rel="noopener" href="/edureka/apache-sqoop-tutorial-431ed0af69ee"> Sqoop教程</a></p><p id="6ea8" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">9.<a class="ae mh" rel="noopener" href="/edureka/big-data-tutorial-b664da0bb0c8">大数据教程</a></p><p id="a5a8" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">10.<a class="ae mh" rel="noopener" href="/edureka/apache-oozie-tutorial-d8f7bbbe1591"> Oozie教程</a></p><p id="48d5" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">11.<a class="ae mh" rel="noopener" href="/edureka/hadoop-ecosystem-2a5fb6740177"> Hadoop生态系统</a></p><p id="616e" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">12.<a class="ae mh" rel="noopener" href="/edureka/hive-commands-b70045a5693a">HQL顶级配置单元命令及示例</a></p><p id="b2dc" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">13.<a class="ae mh" rel="noopener" href="/edureka/create-hadoop-cluster-with-amazon-emr-f4ce8de30fd"> Hadoop集群搭配亚马逊EMR？</a></p><p id="c149" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">14.<a class="ae mh" rel="noopener" href="/edureka/big-data-engineer-resume-7bc165fc8d9d">大数据工程师简历</a></p><p id="d8c8" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">15.<a class="ae mh" rel="noopener" href="/edureka/hadoop-developer-cc3afc54962c"> Hadoop开发人员-工作趋势和薪水</a></p><p id="f6b6" class="ip iq jn ir b is it iu iv iw ix iy iz me jb jc jd mf jf jg jh mg jj jk jl jm ha bi translated">16.<a class="ae mh" rel="noopener" href="/edureka/hadoop-interview-questions-55b8e547dd5c"> Hadoop面试问题</a></p></blockquote></div><div class="ab cl mi mj go mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ha hb hc hd he"><p id="9774" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="jn">原载于2017年11月14日</em><a class="ae mh" href="https://www.edureka.co/blog/apache-flume-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="jn">www.edureka.co</em></a><em class="jn">。</em></p></div></div>    
</body>
</html>